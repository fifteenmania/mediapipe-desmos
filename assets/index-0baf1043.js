(async()=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const I of document.querySelectorAll('link[rel="modulepreload"]'))h(I);new MutationObserver(I=>{for(const E of I)if(E.type==="childList")for(const _ of E.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&h(_)}).observe(document,{childList:!0,subtree:!0});function e(I){const E={};return I.integrity&&(E.integrity=I.integrity),I.referrerPolicy&&(E.referrerPolicy=I.referrerPolicy),I.crossOrigin==="use-credentials"?E.credentials="include":I.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function h(I){if(I.ep)return;I.ep=!0;const E=e(I);fetch(I.href,E)}})();function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var desmosExports={},desmos={get exports(){return desmosExports},set exports(t){desmosExports=t}};(function(t){(function(){var e={GraphingCalculator:!0,FourFunctionCalculator:!0,ScientificCalculator:!0},h="59c0109323576627d7f9f42dd14d80bdd5d68587";(function(I){var E=document.createElement("style");E.innerHTML=`@font-face {
  font-family: Abraham;
  src: url(data:application/font-woff;base64,d09GRk9UVE8AABesAAoAAAABsHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAGCAAAESoAAZxTwK+1TU9TLzIAAAFMAAAASAAAAGBqcY7HY21hcAAAArwAAAM/AAAM5C7FvppoZWFkAAAA9AAAAC8AAAA2C10Dp2hoZWEAAAEkAAAAHwAAACQGhwJ4aG10eAAAFzQAAAAkAAACiN3nXcBtYXhwAAABRAAAAAYAAAAGAKJQAG1ldGEAABdYAAAAUQAAAFXVMTtBbmFtZQAAAZQAAAEmAAACx11IF6xwb3N0AAAF/AAAAAwAAAAgAAMAAHgBY2BkYADh+nP6yvH8Nl8ZmJlfMADBlQ8P9BH0f3OmFGYjIJeZgQkkCgBSDwurAHgBY2BkYGBW+2/HwMD0myHl/xymX0ARVLAIAIH7BgMAAABQAACiAAB4AWNgZvrC+IWBlYGBqYtpNwMDQw+EZrzPYMjIxIAKmMEkC4QTAQQMDgy8GvbMav/tgJJGDCeBwoxghXLMcgwKQMgAAHxDCyh4AUzOuwkCYRBF4TP7frO7ghgZiBhbwGbagJFlWIAlmduFPckPN7jZx8wwHOAcXwIACJCDHbmcUbPJOUcecmE3JSc+csWBp1zbz8bcmjtzbx7Mo3kyz9awWOea5mlTtEBGyMGFvZwxcZNzNl5yYTcld35yxZW3XNvPxtyaO3NvHsyjeTLP1rBY55rm/6rGGFVDGAjCc5RcQFGws7Kxs7Gwj7pqMCaw6v3/wTwehJCE3Rm+z8B0s9rDXkWIoXiDW+Iq6DBDYXHwXigQEBH4v3wdFk4rZJT99VYxQrAz8ixrXVZV0/4xiUzE/26NEhVPgzaXJEUuyMmT6O1iMMnQx/Dc4jcz2FOUS64xsa+44T6WyWz9t3uYCjw2pgMsTk6amqn9A7mESTQAAHgBDMVlMwQBAADQt9gxY8Y3P0Bb3b2a1d3d3Vzccfx23peHIsUCVPxfRhgrCSOCJKBUgnKVqlSrUatOvQaRRk2atWjVpl2HTl269ejVp9+AQUOGxUaMGjNuwqQp02YkZs2Zt2DRkmUrVq1Zt2HTlm07du3Zd+DQkWMnTp05d+HSlWs3bt259+DRk2cvXr159+FTSlpGVk7el28FP379sU/fOE4GUBDHne1dh83BOdt/55yD78LJEBXX4BbUnIH+Y4opOIAlhOQZ/YrXjvS+EiJMhCgx4iRIkuKOe9JkyJLjgUeeeOaFV95454NP8hQoUqJMhSo16jRo0qJNhy7Qo8+AISPGTJgyY86CJSvWbNiyY8+BIyfOXIJAK15lx9uOwe/g13/dHz+//Nvq26+RWzISSn739U3+TtbCUrOI1C0qDYtJ0+LSsoS0LSkdS0nX7gS7l56lpW8ZGVhWhpaTkT3I2B5lYk8ytWeZ2YvM7VUW9iZLe5eVfcjaPmVjedlaQXZWlL2V5GBlOVpFTlaVs9XkYnX5wwI93TAAAAAQXa22bdt2O3tzyX28BV5AXAfFdQheh8V1RFxHxXVMXMfFdUJcJ8V1SlynxXUGXmfFdU5c58V1QVwXxXVJXJfFdUVcV8V1TVzXxXVDXDfhdQtet+F1B1534XUPXvfh9QBeD+H1CF6P4fUEXk/h9Qxez+H1Al4v4fUKXq/h9QZeb+H1Dl7v4fUBXh/h9Qlen+H1BV5f4fUNXt/h9QNeP+H1C16/4fUHXn/h9U9/EujaCAEAAGAg7u4CfcZmVC6X4hd4r3/qmoG6ZqiuGcVrxvGaSbxmGq+ZxWvm8ZpFvGYZr1mpa9bqmo26Zquu2alr9uqag7rmqK45qWvO6pqLuuaqrrmpa+7qmoe65qmuealr3uqaj7rm+y8pro4aAAAoCF4luLu7lIZD3F1I0mnezH3srHjLK+I9r4qPvCY+87r4yhviO2+Kn7wlfvO2+Ms7opB3RTHviVLeF+V8ICr5UFTzkajlY1HPJ6KRT0Uzn4lWPhftfCE6+VJ085Xo5WvRzzdikG/FMN+JUb4X4/wgJvlRTPOT+M/PYpZfxDy/isUS0BD9swB4AWNgZsALAAB9AAR4AVTRe3RU1RUG8O/bNzElREIAiSEPE9NoxIbm/aCyXAHkUUgoxKYBFpI7M2cyQ2bundyZSYAlVqstVowghVItlAq0gFiEghYFhTZVIxUVSSuIysMSpUBBYyFpinbIYa2u/nN/e+117t777EPEESTTql2O6TODlm1FLb/b9qhZqikaMB2QzO9NR2+G9GYYvZlxy/rn9b3ctzw+E4iX5Nj3hntSlmWCa+uGYZOAyEU5xmESpmEmZsMNP0JYhEfQjjVYj43Ygu3YjZfwCg6gA514C+/iCI7iI5xCNy6iB734mgkcxEQOZhJv5BAmcyhTOIzDOYI3cSRTeTPTOIrpzGAms3gLs5nDW5nLMazgBNaygfN4H+ezkSZddNNDRS+b6KOfC9jMAIO0aDPEFjoMM8IoW9nGB/kw27mGm7mdL3AfO3iQh3mUJ9jNC/yS/SIySIZKqmRJnnxLSmSsVMsUmSH1Mk880iyOLJIHZak8IatlrWyUZ2Wn7JH98rocki45LqflrFySK/KVEW8kGcONUUaOkW982yg3xhkTjWnGLGO20Wg01Ssn7Let7KIxhYWl35lkW5GwCniza8xm5cSSsfT1JyuwbKvg/x/NHTvt2IEJs8Ih063UQnfADLZE7YjyuAJWNOi6VrrJ8tiB2NmQctzKipjBWBA2Lc/AubDfagqokOkoK6C8kYHA8Tf5ImY4ohx/uDkUiIbddjBo+haFfMoKxZK2Jxwww77FyrFtS0Xa7IjPUcprRx2vvzVWcWFYtSpLXati+S3ltgO2FVZB/0AQUOGwaomagSZHmbEWLVEVjsSub0aqx0+YeM+kyVOmfnfa9JraGd+bOavu3u/X/6Bh9pzY9d3NKnJtQFcsGuh+PXd9Vrff7/Y77mgwanmUExvYUU2O2apMl9ujvE0+/4LmQNCyQy1OOBJtbVu4aPG1/5Wu6AzE/6sU8Qc8KrZrl6PM5th+BnYb23txZWGhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURrvAEWFmiJNsaZEU6op05RrKjSVmiqNqXFp3BqPRml0v+JCTZGmWFOiKdWUaco1FZpKTZXG1Lg0bo1HozS6X0mhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURovAD7GZXyc7XyCy7mCT3Ilf8ZVXM2fcw1/waf4NH/JtVzHX3E9f81nuIEbuYm/4W+5mVu4lc9yG5/j77idz3MHd/L33MXdfIEv8g/cw5f4MvdyH1/hq9zPA/wj/8QO/pmv8XW+wU6+yYP8C9/iIb7Nd/guD/M9HmEX/8q/8X0e5TF+wOP8kB/xY57gSZ7iaX7Cv/MMu/kpP+NZ/oPneJ4X+E9e5CV+zi/Ywy/5L17mFfayj/9mP//Dq/yKXwuEImJInMTLDZIg35BBkiiDJUlulCGSLEMlRYbJcBkhN8lISZWbJU1GSbpkSKZkyS2SLTlyq+TKNyVPbpPbJV/ukNHYYAAE4oAEIBGyAvEjkbAWiaORtAPJ5UjZhxHjMbITabVI70LWHGSfRK4XeeeR34o741CwEoXZKN6OsrtQcRBjG3DXadwdQvVlTLwfkwVTH8X0IahdhZmjUHcI9XVoOIa58zHvDBqb4focqg2+AizYhWAV7P2IbETbHVj0PO4vwwN78VA1Hn4DP6nBo0ewbDbaT2CFwspzWN2CNVfw9BKsM7D+p9iQjE2rsXkKtr6N5+7F9g+wsxG7uvFiAHu+wN4teHUMDuxGx1h0ZuHgJhwajXd24L1ydO3D++NxrBMf1uLjLpyag09OotuLz87jnIMLvbj0AHri0JOAngZcHozep9Cfi6tbiRLKm4yfwYRjTJzPpLNMDjPlKkcsY2oa09YzI49Z25hTxdz9vK2G+Ud4p8mCT1kYZHEPy5aw0uDYdo5L593PcPztnLiTkys49TVOn8baw5w5l3VnWG+zoY9zl/K+FDaupzuPahd9P2bzYFo5DG1juIrRDi6s4eLjXOLnDy/yR1E+0s+lD/GxBD7ezuWpfHIdV+X2ZQ35b3vXH1tXXcXvq5TcdRtFs8rohkPHCjRzndK0lrAR1iZbg6nGpzJmSUqmf1DTwQDdEn4IMoP6VWZeTP8QdGo3S5bGOKKsiUVTQjqXVTeYzKX9Z2Rdt1nMuh9dJm3f8d7PTb/t3mt4vcJp77t8EnLv+L737rnnns/9nPM95/s9vVLr//ffF4xI1fbyEmMKpeCba18x/r/Me09iYPzF7gYTfLTy9Zdk7J2uz5QYcb5Q8z2RtyoWiPPZI5dEDvQ8a9zghGEcDAZc/9TxDXzRG67/HH5s3OCEYe/w6mH/osk9rqSPLxo0uiKcE09tlsStQ6W+mOuP1YlcqPmROAt7tomcu73LuMEJwzgYDLj+qbgVX/SGk7/Hj40bnDDsHTq+4l90uNkVWfb9X+pqAiVwULbJz9pXG9WHNWMUJk59dRAo1LUdUKgrIvHwxiOxsN0kCvPdJlHkQjJItN+n+KNQOlP1ma939YTW5ddB6/KFBsPTa31wQuu3L0Drty8aDGe93jjoinHWt+yHNvF4r9QZImpoxPunCxFrO33A62oCTiQKYzBLUYCI3iyFXGhnKfluO6AwQlxIVucsJQKakNWJQmoSgVidsxN6ZHJhFPwY58jkQnIhNSEXEoVEIblQ6JGZLyQKo4FCD2AbVkjBpqLHJiUlGyckFZ8JKtfNkNSXKen2Af+LZf5wk//jVkgavtH4Qtr8z36Niy71lCnd3y9jZysK8875cwGFUV/CAyQ6rz3UCySGlWSRuM0iMUvSJBJlXWslkBj/BWX6y7Ai4ERU0dh46LCmpAk0DrbsDY9G2jBfNCE3crEtNIkLGruW1wVoDPBlL9mULWkqvoL7srDbli1p6n1J4uUlWywaLfgsGi08JX3fQGoCjdAFYTF0yY6WJ3WZcj8HIT07Wr7qfpy22iFTEs4q4SwOmMCGqmIgQVkTZ0d7BeSo2gQzmIElN2eisc+isRmSik8bX/YD06KxY/eEpOHFARpbIansaus/szw1QzSeT2aisQ+aT3c/VvPQ99NWXR4TNHbsmm90H5bVRFMM40YusmDcyOxOCDGMG6uBr+liAouvEDFBuLhx/OiazUCjfrQVF0+dqjeqAZ1RjxkjwIv00ty8GvV6NOtnXKdIFBKFXJtDBuH+FU5mqQl3lHLvEdcpfhTjQmpCLuR6e3LhzlAofP6YbnIRttMVETIFRk1k6chPRUYT48pgT298U8auPLhhAor7MqH4JQzEv3ki17pGXxOiMB81YRBJ28W5hSdRSBRGP7YgCmk7prjJhSy0EIVEIefIJv3kHOKUPpurIn/3z0Fx/tGyNzL5RXIn/0QQAKZaQvg/aQInfBHD2c8KB4MB685Yb4mQTdKjtz0lY4O/uZyD49S4kBUKaqIwmzlxZ4+Hws4q/3au++TrIpd+vkKc+d/uEzl/9m7j+qe1xh8uw2cG467BuP/Ffnzm/7jbuLiGwe/xmcG4K3LLS13iOB97V9l+/ZvrPPudXqWrDYhTV0Ti8UeHPU3OXZv/c7PuE+0y/sYL3ynxFLznQW943q03iVw+ftJ/SH/Z5QYnjOCA/zVucMIIfmLwczc4YSQ44KL+RXrf6/FEXP/OFv+N+3MDDgYDbnASuVD3CoZFzn0qZdzghGEcDAbc4IQvYhg/9kUkNg0n9bU4oKoFTC7OHYU1+a6J5TjuqmMlj3lDopCVPM46+D6RC2k7opAoZCWPHpkemTWRGKCQHpl/sJ5+jKsv2NCBlTmikLnemHhkemR6ZNZO2GKJrE4UEoWcnbDpIVuWsdEX22Ox9SZRyNiC7ebYpI2akAupCf9QPVtvEoVsvUlN2HqTCwZYdNadyhCFLPcRhWx6SBQShSz3EYW0HVPc5EIWWohCopBzZLbepM9m601yJzHJ1pust7D1JisU1IStN9l6k6032XqTrTfZVoSVPDb6IgpZyeOsg+8TuZC2IwqJQlby6JFpO7ZYIhfSI7PRFxt9cY5MFDK2IAqZ66VHJhdy7RmbHpJBiEKikBU8xoVsvcnWm3OIQjY9ZOtNopCxBVtvskkb281dqZ1xxznHaauTsVu6G3L0A2MLu/zThC3sxHntoV4p2FT0mLLm61orZexsRSF3WLNO9H7p89qa7Tkh8vKSLZKe135XSTgB4W5enDU124GTvEeis75l/4z9NsuJIZB4av3RqWSF28cdQ6WwGkNBA2UzNN75B/VX/JEvw3a6mgDsqiKgRBw0sVvvxVnQ3aDmnbn9ntvvR3LwnI0T/a/MRpw4uLV1hnFiZ5W+Fewea3XXeXrVjLWhNtZLczH4XGrCWFGcrp4felKAXnvHTdmKTEVvoLYF9bZsRaaqjUelKwKuE3JmJoaaOHuOjAbZnHCQCQdHSSTaK2w2x9Ka5TlLfJHgQ7aC58IfYA9IzIFYSd93fs8EEvG48BTxuIKHi1GDkexMDkbwKDGag3J0RaSTTbshR5kLOnY1KmtiyVNXjNNWddxoPix1JBKJsdAEEpSRaDM5RZV3q8YkZjbCnqfP9kr646XLcr1T40fXbMY7pWs/Z8cfa/UJy8SGE5HJSXx+2f36mRzAhNNzlXJODGLF6NSfiUbuPmc+kRDR58Too5B/xIr5KKKQKNRndcaH0Qc8d6GTEwkRciL7nDEIiDYnEiKMExsPHdZUxq5PbNlLwDMIICcSIhG1SQRQyAwONVHYSRX5/UcPf+vkrNjuFzfFQBOuSeT6qdwipPHgbXFZf0OvzCY8+cGH+qv4uLKZfCiJgSVbc62MtcpM5qdDK/PM8ntEagrvjNay1RigEe9VDOIMZm7onfNpzmxRyFavjBHnes6czJwz91lf1hz4stPwZQ9M78t2W1+2OHgxWoHEsgxfVl2uHln97Rjsp6sJfJmqCEAkFppYPmQT77lqfsp25BMzlZux7mbKTKXPzlSy8G5nKqHwjplKCutuIka7MZhCdOyaHxXaJSfGgEnYUl4BhfxzACE8M2MM/Wy2bq6KM5Vk00gsnH/QC2x5XWaMCHA3ZWN++iYMByEpG/NTJaEHMmLEuAE+AjFiqn4qTKoBk2mNZ2ESzngGWqiKiBEnxmAaQU5cXYguxsrzZsxTw/XA/UBOV00TvCq6Iuyrkvc2SVzzr+fQxTgHz9kMDnrf6Gdw0PuGifMPVxN54ovFcak1x7++wkRf9G1id09hDU7YmTpY1IafTdlRafaOUqzBiUbCSDpT9XOdiWPdmTnFR36bgcJko13Of8a4AaGAYKZHYZldVtIKFA7fiOX8bdmZOE0R2DGQmp29D1tUNcnqk6jNiYgVPzjgmUSPbZ/ExMmnT0hiZWlVich4+10il4p3ilxu8ERerrxf5OLIYu+D7hpX5N/bfyAy+uZCkf+0/FicT3Q8Ls41i3aLU/L83z0RBRvfEGf+8AZx5u171jscOiLOgqIz3gdrf+X6X3rC+3rFUu+Hqe96l0j+RGR0qNG/bKU/s/nrW5K+Ydk6JpU+9PXAN+yTxKdPHZ40cKc18GoYGB9YAw/dYQ18rzVw76SBt1oDt1sDH7AGXnXRGvhP1sBFfrx5tFmcawvv1dSWlUPGmlHi1YKv9zw3t68deHXs3UdHcqcCvrZIxvpfPRZ/mkBWaWXr7JIitbVVTMS+6lXMGeZJB1JwA5pVM9/OtUO60YTJEUmwUBrxenrEkMhtWwid2yvUa+rM2HMiF6GaeuLUhhXgxbB5MLCovWRTdh7s6r+nW7q/H7z4kZmoASGxSGIaaME8KZEY/ypYdm9cfTSSF99HDFNx8c9xEiLcoxPFnWK24xQ1iYYmRCE1iQCrE4WMLebeJkQhUUguJIMwtuDe7QhVh9j7kXxITRgbEoWMDf8HznRiLwAAeAFj6mJgYFzPkALCTL8Ypg0o/j0y7QeH/W+Y/SMTAwDIkfvpeAFjYGBgZIAAGRA7rTgnDcq2rFZKrSgJSy0qzszPU7JSMtQz1DNQ0lEqTk7MycxLd0tMLskvUrIyNNAzMjAxsDA0MzYyMzU2MDOsBQCPLBJ2AAAA) format('woff');
}@font-face {
  font-family: Symbola;
  src: url(data:application/font-woff;base64,d09GRgABAAAAAChwABEAAAAAQywAAoUeAAAAAAAAAAAAAAAAAAAAAAAAAABHREVGAAAncAAAACcAAAAoAOQA5kdQT1MAACeYAAAAEAAAABAAGQAMR1NVQgAAJ6gAAADFAAABKKK+thVPUy8yAAAhrAAAAE8AAABWjIaoAWNtYXAAACH8AAABFwAAAdz2W760Y3Z0IAAAJQgAAABaAAAAWhEGDTtmcGdtAAAjFAAAAbEAAAJl2bQvp2dhc3AAACdkAAAADAAAAAwAAwAHZ2x5ZgAAAYAAAB5ZAAA15ITPRN9oZWFkAAAgmAAAADYAAAA2+zj5+2hoZWEAACGMAAAAIAAAACQPEwHJaG10eAAAINAAAAC7AAABLm4VHxRsb2NhAAAf/AAAAJoAAACaHqoSHm1heHAAAB/cAAAAIAAAACACRAsCbmFtZQAAJWQAAADmAAABoCEMPvNwb3N0AAAmTAAAARYAAAGdYezlm3ByZXAAACTIAAAAQAAAAEBey7t5eJytWwl8VNW5P+dusyQzuXe2TGayzJKZyWS74U4mk4FAAoEAAQKERSBgQBAVwSgooiKyKVShCuJCtRV5lrr33mHQFltNrXvbV9e4VGy12p/i89WndYFkLu87905CQJbQ9wK599xl5p7vf/7f/3zfd24Qg9rVb5j17F2IRgZUiMoQwn7BTwt+ATu4YCDiDAoJV0yK14YS+a58l3YyHK+ti0kuZn3v60x1e99q6pP71lZJl4+fV/2IutGW2Hf5req+WGlpjPyq33B7j8isepSiD117c+4HOFzn2XVgVJfJO2lh30v6PTGEKPQpPPlZ9iAyIS8SUYrBqCJtYpGdqcByoSgbemSLlKY4ckLO728pRbgC1QwrdWndgl7FAxG6Nl6bgP7lu5wOJ83hjU1NVVXwW8BMLQ5UVgaKpzLvNs1tgv/7RPoBli3zFBZ6yli2b14VdAF1qHupUexh5ESlCMsu8uS0jUMepiJlM5gr9iMbMlXIVknJ1x6NHQBSmBJ4G3mm02FAAo9d1Ch7TvCj7u6Pgjl2t/omrnSraVvRQfwAjsK/Bw4W2Yxu9d3MgcwB9V03eepyeOrUwU/N6Ukj/ak5iDw1xwBPzRt4Kk8ZwGIwlDwOxoOYa6Om6g/Eleqbbq0DVIv6tjpfexyOUJOoSTjiNkJH1PnwzJXUIbqd86II6kApN40q5EAs7WDRcEA4LMl5okzH0jb9GElYLhNlc49i90pS2sChEKBfHJEkJYorFINZsO3ncj2+0vwkUhw2wZaCg2QyCV2FsQlEQnZHYCS2sxyMUqIKw1BJ+SxdKxVhOlQnuRwGlq73+MO5qlp8RZF6zBIKeHGJ+qE3ELJgXHRFMaZyw36P+iH9fW4iYnpC/d2wYSwe/oQpksjdvNlSV2Z6EjfCKfWFJ01ldZbNYN3Dx95ktzO/QvloMkpxwCbZLMpUTLGyn8lOKWU1A6pNVpsJ6OUWZWMPAZfhPpMdUooxkmsMjHPKyJCmMddUoRT0j7dfgDGPC36AP+YXAHqn4JfY7aHMoWg080EkQgWiUSoYolqOH5WGQpn3yThvVa/Ca9C7QKJGlKIIx7ksx+2iLPSkjRwqhzEXSA+QYDGRLQMPd8DDFY4CXJFR0HANESgBOqdDJ0JdvBa3+Jckh1/esjvgsO7y+0efN/rKxXd/4zLm/fT3xQQRqojdTnWBh+UjmRYVA/sZ+cUAjJIzYJxmFTGn95JIhLmLmBGNwqdvh+6vgJ6bUPwE7zzRU82av+jO2e+jOSf5KK7KemTWDQkuSN1DJdn/QhY0Ffhv1ZiGuM9SZo38ZiC/kocr5DrPwZFP/zOMnBVmRjZXW2VTt0KxR2S6G+2naJO5Gn5wClqwl5s8WLPJgHWEMDgolaRUt8EfofCnsGV/zxmOMJ4oZ+D6PKBBM469QXezy1EuKkazUKqQWMayKAxW5oJ/EGcIEytLRNnUk3ZyyA2u4eQVC9aMhSPFB95gcRL+57AwTkixFYJrYCNlAtcg3sATx42E+USdzy7URsI+A+d0wCjmu3yJOnrFjLbV//po9YLJV+GPvaGR6i9HhrB/BJ47MsBs/nnmpj1fvfYAtX3Pd30vYeadK55+ZuXb0b1l/7zm/TfXAIYphOhF0PtidAFKFZO+IxY1kh5KqRzovmLK4X3dYtqondWsYHvSAoe8YB8rEKKzJhPxdc0KgRVscg5YYETQEJKySZC5pJxjk3kwJJEvAeUELhiXEprWCmBB/nAcc4aBQ4anJ+92mVb8x9EN5iKONuYtNTSPHD9aXd40vomqsAWZxrqmG62cv3cxzDWGJo6D3i+D3j8EvQ+hO8ES0vsSVtM/okyEX9DntNWO3BbYZdkWFmVnD/Q3zevzAs8rHAyFh0MuOCqVZA+fDnJoHBwERSUCRvFkaOjcEhgamRP2M6Z8N4yLHLTJIbC0hFhKJ2W7kGKCpeQeqy3FOT2aw8U0CsVrw8EAZ9C0XqNVnY8B1ecM2C/VJWL0Mje+7b0dNy26228wXzOquutTfB5GUyqvUWfiPVvLPLVJm9+Lf/v1e7e8vPp8akV105U/ff+DJ1Zf1rhaXeR/SL2T+MJcYOFBQGIE+gtK1RLrQxrvwGcJA8mIWkSCiA1aHjFdpF+tFtMRFjkILg2izPWkczjtjhxervD1COkajlyUa8R0hd7K4RUXoIV07ALknoSGXCqQIGQIFILXjQTQcmqAwsa8SBWBqkIgCAVsTSaqwFNkC8Vqk5romyxwE+LynOQmjyC7knKRTQYIqwXFl4B9xKYEamAfEuQ64gkOxhchkYSkCUOkGMeAUXwkXIEDoGaJUViD2iBpSJOYAzwm38VzhmJMH1T/pe5fu63pouZxktlcnVp4/aiaWONNy/01ft/aqy9c/OxMil474vwR1y3HBZdvfPD6HX/ASx79pH3BXfGxzRc24SntV3Zgz9wrqjhMGZ+9bemNGy+pbhhRs3n6+PHtat9L0aI/k4ikARj5NrsZ+VAQ/QilvGSGzBXTgj4EnCTnizKKpYP6cQnMkKWiHOgBd0sXc6gQzmEpVRwgUBaTmMEopQLFGrD5cOSWlJCuaPHt73+jK5obFK2gm1WCpiOMHOimUu6CAFE0pSB4XM+CRCtiUtbR4i4C20jsj+M6zQ1hSsL026+a7PtYZsYI9e/1M0ThMocp8xa1no9x1KvqvSqN5z5XbAuB3zXhsFDyXBP9eoHA+fom06a+7wgDlwEDiS/G0QsoFSZ2V8RkTky7dFMFMZ2jMU0uEtOUro9FFLGsyA+WxcR0OUvEEMt1ohzUApm74RYUJFqORCIx/H4HslrBr3UqmsS0VW8hXvEAKRkO5YOaJoB9QRO4bI5gJ+6IBNmfVDxWwZamMOcq0pgnuASbwhTA5RxBNhHapWhEfFYpj4E/xwnZ6nw2HmmRayw7ZR4nXDBgxWRC14IoKRvGkTuwawWeeEj97rf3fHBh5ciRlTa+6LGLd0wdFhpx9dwrZxiLHCZh33e353KO0ts+mD2Pppapn6u3ql98dE/X8MrKEeyFN22dha+beVPLwii1NcA1jGLz+bL7vcCsfg8vQcPQXpTKIz5eqHsxoFytoxzqx1Z2iGk3SxwTyxKZGdNRXeCQJEd5otUELnKC4WWBuLFLP3SJRN2hpcQAR1dUsB3AVq4wVE1c1CekKEceARXgtbs92mQVqgYnphkzgjsUt0PT/Sx6FJm1hFoIczUAdShjxEM58NSI1gBm6qhi50x80eGvnvqqa8aePV3/2B2fmbiI5ZLrpre+jg+HGzduHJcMe64Yu21MKfXof6qH1S3qp989ie1/wpcsHLNqeeXw+uiCWeKNfV9cvKdtww0Xbf/Phc3ztrYSZrYCci+zG1EBWodSBQQ3iz5LWAoIuSwwf6XscBqDMMo2bXYj6i/wih1gcuhHDl4xw5FBx8are2Gt4b2DxAtlCzhhLoQVZi2sgGAil7gghBe5luqTwgoDJzgCcR7b/TAlBO0xSJBifvplu/rJ+YH8ZzD6VLVcVV5UO66Wyi35APeyNT6vetWmD+9Se1auxOvxbXii95f4cYclANlXPyecwIpyTKGUhVhXMKD80eysXaHN2mEOlZEwnZe9ZMBB6scSRRfTXr0V1rU9j0PNcOQj9yDtI0qlbu6hja/kE3OtsoEHqVEKc47I9u79QqHdXrHfpm2LyRYu7w8aAnBYSrYpOOm72XdzkAMfTJKowJZMwRVyEEyiJpNBKCwutdkDwer+H3yqkwRFxeUFRhJcy6KaIxcAQ/ezKCdPD5VggiiFvDMMwVKdDzgHwp/vomvDAY6EGnX22mocIbGTrw7mg171EfUIrkos7vg7jv4js2ByaOntj/1l/7Liv79aOe0n6X+9gI79CS94+G8v7P38Dt+0xdj9wsPbnt1QH4teQU24fNeVz0xx7VyTuXnykktW3PTuxsd2okFeGkQx9GOU8pHxKNPHgxFJokS8lBfTZs03IUlND8vGh7WiXNyTrtK90EjAt+jtKl4pBfw9EhkNQr44OGaVEfTLbAO9KoU5NM04fGU1Gh5mHlzTaLERKSsbRqbXomKPjk02itTkTBcrbR6AkIzzUTwiSkZnnbIIZ2PLg+9veXBN2/zOaL3fW8oZmrZPGb+mwtuu3nkY0weWzvrvZwKjbr55fEWoCbPjEtQv1bVvbYqNWLkkMavQjSeLU3+/5vXXcD7ejHPiu9Q/vNLxi83TfjH7/imbN1x07Bh6CJzzWnoqHyEVhEwQ4rEyUDYKPQz5zo/oVZA1eNDFKJVL4jpei94Ip43ZOM4rytYemZVIom3XhK2/ZePTZi0lgswiZbaROcYMs6dSCLiZrUSsjLxTA4vPzaJImKNnGpKL1pKkgVgNhGlTI0k95jZFPJ3J4bGVt5Q4rJtorqqRpCJ9H+dDzvTG7u9dOfxdSMshv4Uc8k5kR116tiYzMQxyDDmO4tT9yDvzBb/uRyZeNncrguGIzHcf/PhR/TQrMyAnbLdiMxxRBN4oC93oAGsiI5v1jieYwYf98hIiZQWS2GtZC3DfhF3s9qiR6+3yepkdnDHq7n2aGeMuidJUmcXttlBldNSTk1Ezag6C8XgYz2C300kYDzNCx+p4A9mjV062iSU20bpN6Ac2yTT0nepWTGCT+bhNVhI5msxGOGeFLOGIbAObKJM557hNJBfLOdmm45mYKVuyIDZ5e7uINcyY3qfdYB+zw0u1uC2Zd4g5FPzkeKJ05h0L9PxydS81gj0M2Zmo5a9myORNosKQFNYiynSPYiYZI61ljCTg4iTFejxp90v6lhoxVr0Gbxk7Vv0DjsMmapgw/UgHfH8XfP9w7fv9SMaiwsL3GyE1zn4/p2Wk/d+Yzf79AdhSw9Vrxo7FcfUPsN2i7o1GuZ9PJ/xZou6lSY9jaA2SKTEt6eoBQWSe3gLNKDiuGdaedETXiQivGGEsbFK6kkNBEp1LqUqtJlBJDPNImnBEwAGUXJ5M3LkSNI0VMJvnCXIkKRfaFHtQ9wWiE6AUQi1sa4lCCCS8BlaRrAX+QeYGO1d/Cgf/6BHRx7smOiy3rfaXCl9ZHBNXyFHbT2aU57JO8Z57RCebWz7jJzb11/ltsdHll+LkVetNVJjDJYdw8tLy0bEpUcY0q2J8oFP9fG7FwqqqheVz1c87A+MrZpkYgsoD6h70LeT6pA6hVQwYHVnyq9cK7I5sPOb8Ngo/6suAaF8kAp+9FxBdBYjWEkQBR17HEbCN6a2wNlNqiMZF2dUDcXma0zEUpZSLIxi6rIBhRJI5nkz+/VJcB4gimJEUOkYQpcAnFS4fEI0Jsjcph21KiZhVl37QsqKSGEBVB5rgDVgTEdZQJZCu0pHsevwUSEblFTraVItAYFRfJDC25duzOGLn3HKCY8Vc7MziGJ1CoFdfJNATTEN4LZ2h/ohcaBrxDdkcI3nKSLCa1cjWoJUBMElZcnu0WAhpsZDiBqvtIJ0yRSJpGmw25MJ0kwfJv4LsWXsDpTCRaEEyiCoT02JkOnPrq+q7s7dWcHZb8Y4/48jse0ImVyF1e9eDn20qmpBc8dDhXw1DDLpRfYLbzn6NLEDdCWgSrkapSVjLKNKl+hRqlVIhOJOKkwm2TjuXqosTqa+rh3AOkfyjYGDCLZLSE6pK6y0VclMsPSEbFE0WZakn3cChYvis1EA+K9XBIFdJcgOvtGLiQOlyDvkYUkRNlbeSO8oJDVxSqrWcHLWWwlFIUqZkk7J3Dl08WNdp0Dmq+2Bs63s5+ukQL4chVZvkglSttZs6QCQv3JoVQP1o0qBYp4E4qKEe6NQqpArHNJPAu9wmI1IuLQD42aRcKsiGpFI1AY7KknJckBuSJ5ev7MeTP0iTDfH8gdyPVCFj+ISijObPA4kiFjD7F673tRx3GceIsE3dy5rXGri2yFulbcMn53LqQvxhXkHw3qO4eYWVnbb2d4tyw2zOAwZjc5X6elUz8zd1D7vFYjpyvVBmMXGbhCNfrLGZ7E0s24QdZmFNPbXdKWZ2UQ9SbpOTeq5k1Nyqvv+2mZ1wQ+Zu/L5aCuN4o/oktxy44EVRNBmHUMp4vLaTMmlVV1MODHkhGfJyMd3CIj9cadEGqKUVBmi4mI6zqACG0Sv2l7fskhwjMVZjlgxTtAg5TycDmzeoriXn8UoDjG+5RCodkGDKCV6pAWcYrZXa5UmSPJpPt+pZQquotJ3MBW3QlRLgQnE32l9cEgprwz3Q0oY6Ty+cyQ2C4nTBMCds+6vio1pI0lUj7K8ujDWS7Gp0K9w1GYa/pRwaVUl5uCBXw7DblJrR4IBa0S0PCGA/05ieQA58vEBlcA1Up1yDq1M/PvXQZgbzQp3vxJV7Lu7cOuKCePj8A9j4wkjffPVNXLTI4xhRTW364fjSYwfTwujyOHHZz7bPveFqanqw5rwVd+9e1z6lbJqasV+p9oIiNA9ShAVoId6JUgt/oAgLS8m4LSwDNhBxOEEAlIYyrZBZoxOnoYaIekMchrhZ40yjNnrpWXplonUWudw6jVT6F4ny9J50mz72bbxcT3gT45CT0coW9XqrjVeagBRV+m0TyD1zOEK61IQ5pFcTxpm0UL7zB7rSOVhXOjXadmZ15YJz05WFRFc6+3Wl8wRdWThIV+qnQ44QHz6Z6EmbINck5Qm2JrPYMKa5xdA6c1YHoVpnFXCpEPRGOIXeNDfo9GsR5A4QJ5s855xVx8H5Iv2VFYOWh8RrSRWPlPB0LmrTpLYiR8p3Q5aivvY/H0Odly0qr1/QumNORVCeHjwwe9t1TbP3L5rxznlLV8xcchN165BkiV645qf1o5fNGxZuZ2dNGD73/Zh5bcfOZuP4adPPrx82LNk5daPfu6VvnCZUoFQPIydEyVdDjGJHRSiBZLdWZ9XzFrJqIlvFtD2bvhSLsrdH5iVSd9EqrpJSctJ6ChpY/bANtI6vsWR+M7ZZFJvHVpPfamhriy6UsXnBmDELmvvWwwaaZJ6PoKeYDmYXTN5dSEaiwkFPGBFYBDGqQdSCRiBZQdfz4wYF8KzCGI6QLOTgPy54fp6eliC4guEKxx5RWMYIF1EKU6wWvSNM0QzLnZSR4Dh2mjDT0ftHprbvAvpnT+GeYfj189TL1GVaBAI9m9vfM4ieKb1n7Gl6RsHzaXg+LoKeocE9Y6oVijZqF1kWLnLQM0Rzp++ZCcfhP2bm9v6Rvq9vEVNLbVerZ+Od+M4OtRx69hB1CHLTx/SVKyMFMw6tVS8Ht7U4lNVKlXCU3Q2simnVLkgn8bWjZo2C//S48lGjyuEXvr1W7WTs9D2QM9yLUgaS3zp03aFJGzgzB9oGB5ECgwXUjIeHym5IuQKinKctLZNKsUmCVFfOzZYKCvUSf67esvFk1Zekxx79hIcn/OqP4IIQweXbwIkNWt2dTsolejTHF4E0sD6/vlyoGaGt6DsMQZhQYoIjJul7sr4fiTH2zp/PuvCdGSNDu0K337dhz66KUBuVeGrm1RvmfFgw5tCmx25m2MwlX7yymarL0JFxj8wmoy4d+5xpAOsDaBtK8USoDbGUn+DqYtEo6B3KlSDsDGoFEY+eyUP3C3Mq0oX6EaRAeksRwCarprOylSfYkzW1MQQcAgunaTMpnyhWAax1aOVeZ1KhTHBkBHtdJGIvLNZiVr+TJ2pDSiRCkOaI/tjseokyRqbFmJ9pUL9Z7rw/5P54Gn+HeemYZ5IjE5i/4UI6TCf2qjufD+eNef6GHfjqTNO2UTnFOIEfj5YymI/cAFZ3UkX0/dpKKjru4vT9oYw5EqG+zS6Z6vcZfnCf4f7QEbiPG7iPxEW7uTuzcdE4hM5hyncYaJKNkHyJt9clBtchhzLX4xz+zYlua3v7s3iPet9Mj6uhvp4yOPbim846z/fd6HGoRzv2nv/E7NmYwhb8ivUaLAkGhxbz7+auB3uK0XCI+c9DKDS4XkUmCTDQTmSQ117UCA3ZYHsdZFf9Ra2YxF3/0EUb549shThjjLgltpltXr39wEu3tDX/6qhwSvNZYbD59rKCyt9LxZ6q+fNvVo/smBssb59S7mvI9RVPwfblz+CcJ0MX/uIsOBz9zZi/NlzcPuyy4ZfUtENEeqP6lrE3O5ZxNB11nNN4kuVhn746fMZgPs4HA4KTj0lDGWV6WOOIDnVbB2zxlb1PnfoTrU/Dz9lHfUaXOuPSfXu68GOX7uu77Yd3442P4anq7Y+pSpbXV2exmHcuONjPNaQYCgz/dfZg4qzB7bGhhBFg+dSs5QE0Ay0Cy88emp9zFEWfgNjUMwXt9GtnNf2dwUhRY88Yw2eWDQUFdt0g4PpVblmWDQvOhQ00WSL2DazdVWB9kUlXguMrd6PwwMqds24ohJix5ZE/qt8+NjtUWxsyF1zdclF90FP+ZGvY5Csw515/2+IGqqC46+GGUdPOyoveC55Wf3PvpTMrA4HK4ZNm130XnzkxHMaP+5kyr81jLb4s7/MRWVYs01gxGy0ZGiv+DdPtQycGtXOoELx8DvxQ/3R2NJjVJ7GjOYtNDJBZCfPlv2H4uSciJyDF1g8VDNV+dil59IR5Vjg7IlT5ULwK/88JuDGoiuDG0TDXtqOFaDEgd5Zs7f/MKEjfqG9Ok7FRzUPF8I3B+PQl1D109FSJW+ahc+RS5td6DscMmn0SEFXNPIviSC5efzGrTl/h1swlmNAnmW/XV7vJYjcJY04jNPt+fOCpHU/Nbrz2ulmpa9vbJ5ZvrNvJjf3rYKPrCys7Ojq8lS+LnlMJjPrOM2qm++G1uPnb0VXT2tpamwyh4nb1y0uZ5YPDD9O4pbHpOzu2jFw8q4ZYPXXA6qmgsss1TzqtZf8OGUJnQoOtPaXdfX8bKi2YRYMhGnMcIuw9DRz0prMz5LPTI8YO4omIRqLxELOdmSlZyBLaeoouNSfOxfaBNWrscEkEzQh3apqwu6e9ovb+6a3g6PHyJ+mUJA42fvZ1962bFNi9U52w/eDOlbGtj56SJQVT3/vJlpU/XWIXxz73o6sWr59TwBwePDP9ddyCiatqXOdNUS+bftmC28eVTJwNNjdnbbZD3tqO5qOlEKOf1a5z19dTAMFFzmBypumswkq7ToZl/pkRyGwbiq5mvj8lTlMHcBqPZqFOdMmpcfp/8KMhQNX7+r/nRQuHgBg+Nyc6Ja0ArzjBi8OA14AvnRKvM+St7Dnjkik8bRa7fTAO686OA1t6mqy27WzGU8h37A0mlz2ISiGGQZg3UP4ASeSAEvmxuuwrUuTIob0ET15mpLXQz4qdDs2ZmNz196kfP3l04/2fLP+Zj+Indz75aqPBEK5LTInbp+Evdm1+7ZYNBy8IRG66Ib20nS5XX/xafUvF1977uy2Xbp794tYH9+K6SYnhY2vfe/M3qnHLs080frVg04PP/gxhdKH6AZfHPo6GwSDplYgRWIoLfsEBe+egM8SftTKF0wEtp3ady/OqAa93+oSMa8J0b7ZNWuyV2daxYDCY4CxHvk4ESYvt0fdHyxPw7CA8ewM8u5j8bQkm44/9vgSJbv3ZlwHgefYg0IMemXmEquGMmQeoB3HhPZ+3SruOThRY6srMNs7OPnFHbNr397JL+741Wq3mjFOa8rra6uA42kBfbEyqS9+eLJI3H/S33HlOe+MBo9vVFu4NrgXlkxqMxqyITq9G8sKkiXCMe4Pqm2ASLax68QauyPS10cnhLnqpyRPliszM9xNtufSGC4pMhl9x1r53Dbl2RGFebaG+hG8l9WFS28kuVx9vUV9qK9crte2loZDhiVDo+1Z9D70S1Rb6Nfg8KRM58rD+FwXZnSHbPf1PC7I7bcn1tfxX4Nuei0Zv8drL3C9Ho7gB2h5HGTPG5v2f3vGhEDNH3ZLxh0LUun2+iFD0JfPrUKj3IbyG+msolNm0r0R/176F7oVnh/UoW4sGSGnMQFO0tqYdrpX69d2WAO+so6unrL+7WZw4u6w4z1YwKb95zq1t63a31Ey8oLqstrDW3dDGtczcNWmcKbx67n71M3Vr5v2fr7htxh1wJrJ6KfXlR3jbo5f8iDx7FV7MPk9HEekISXhErD9az31iUgmGx5KXfyEcf75718q1r153xd4ZRSbWXfjMHauu//Parlk/9ufluouow3f/c84Dc26vnRdr1FpLppWuJW++rEIXs88zAT6CxiJ0jOUNZI+OEGao5C9C7uTDqAAh/Y2YvidPOO89fp70FXzlRXYm4kHD+qt3A3/u8WLo6PeRCDUvGqXmh8ggM4cA6aDeA+1zwMAJqP8viqrZwyhPZ0rEdPyVHqq6PN+hbsTrHPnlRnU7XmVUXwqL9FX0VWJYsPft69tn7//roEb9G+yD358xYe7OciNepW43wvfgdepGh7oXPkjPo+fZhbDYd0vfLeL/Ao92huUAAAAAAQAAAEwIwADRAHEADAACAAEAAgAWAAABAAHJAAMABAAAAEQARABEAEQAiADDAP0BbAG3AfUCFAJDAoYC5QNEA8kEjQUKBboGVwbEB40IIwgvCI4I6wj4CVUJhQmuCjkKVwrjCzAMNg05DosO1w8kD3EPoBAfEJoQrhDCESoRqBIuEqsTNRO2FEQU4BVtFegWgRb7F48YJxilGPMZMRloGXAZmxm7GfkaNxpoGnUagRqNGqkasRrSGvIAAAABAAAAAoUeC2yUzV8PPPUCnwgAAAAAAMheFaoAAAAAyF4VqvwA/kYMygZGAAAACAAAAAAAAAAAeJxjucQQxAAETDC8iuEFEEcDcQ7zEYYiNnOGVUDxDig9mcmSgYFFmCEYiDcBcRYQRwKxDRLbC0pHMikzrASqXwXSC8NAcwuAOJ/5OkMK4yyGJUB6DosSgyrbLoZWKHYGqWNpZlAHYlWQGSwJDCYseQxGLAwM8RxADFPLGQTX449EOwOxLpq4M5RtymLPoMBWwpDKtoRBGeymVQyTWRgYBYBm6zP/ZmAAihVDMczNYD7TLIZohhwAfaU9ewB4nGNgZGBgc/vnxsDAy/eH4ZsmzykGoAgK8AYAck4E6nicY2BkbmWcwMDCwMBawSrCwMBwAkIzdTEEMX7hYWZlYmRiZAeBBgaGxUB5BwYocCtKTQXyFNRfsrn9c2NgYHNj3AUU5p3EzMAAAP7iDLEAeJyN0E9Kw0AUBvDPpG6KUPpnUUqV+LBJNdgDiBZFlOoVSjeSbgRPUOjWg3gJF13E9BJdmEF0056gm5bx67zg2sAv3xt4M/MSACUAPp1A60+u9tzaR9mtS3hnniFgVcYx+hhihCnW3tyf+WnQEE8qUpOWhBLLQMZRFq2s5Z4AXdc7YW/meuuut8rejutN2Lu01v7Y3H7Y1L7Z3jbZvGyev5rmwvTMuQlN2zTzbf69eF08ucn++xzsXn8bGm4ecH793i71aZ+GhTaNCoc0oSkd0brQAbyM5qxDHjVTOGWmiv8KQZ12d8aAeAqXzIrCFbNKNZ1DWgrXTN4hPBs3zFjhljlQuGMmNGZ9D0SZwgNzSSvWj7/ICEuFAHicXVG7blNBEN0lDwNJiB9BcrQpZhlC471xC1KiXF2EI9uN5SjSLnLBjeMCf4ALpNRE+zVjp6GkoKVBkQskPoFPQGJmHRCi2dmZnXPOnFlSjlSjT7sDT71ZIIWnTdps+ZOQatcB7kg3jpoZaQffabuV0QPXH/o3GGxGa+59EygfeEt5yGjdCdSi/eB/mK/BcJ//ZX4Gg5Y2Wp46s5AeQmC+DbczepvRpps/0zesDjejkSHFNBU3f55K+d/SQ1evwat2Ro8cXIvIF6YBWjvsItD6ix6pgY+TWIJcXhprg4kpG64yEXy8mq5qqpYZtxx8S3a2HbSp0hp5gDPslFPwcHW5opC+HVFmaYhwFjslRoiY5FDIKedO9icFyieSMOZJUjpZNq01sIy8BgZ1eZqL+9lsatt1CMt7cQTfPzeWdPCRDXUxIsRuxFIAK4iEjKryDXWeuyYG5FL/z0CUgOX03b9OBNpwbCJ+lLX1rjBWCAb+2Hzmlz13q3KdF4Xuf6qqsUqnNF94OYceL3l6LAwHjQVvPh/6hQL1elwsNGgOBGPanxz80XrqiKu8Fz6y37gisOAAAAC4Af+FsAGNAEuwCFBYsQEBjlmxRgYrWCGwEFlLsBRSWCGwgFkdsAYrXFgAsAUgRbADK0QBsAYgRbADK0RZsBQr/mIAAAObBTwFvwBSAEoAUAAtADAAOQC8AKoAnQCRACgAowA8ADIAPwClADQANwCIAHsAiwCUAHQAjgBOAGsAWABMALAAoACDAEYAeACWALcAwQBEAHEAKgCsAAB4nF2PTU4CQRBGH4JGN65dkTkBMSQsjCsTo3v/9oDDOMkI2mIInsATcBIP4cJD+bqnjWgmU/2q6qs/YJ8ZXTq9A6Dxb7nDoV7LO/Jb5q78nrlHn03mXY74yLy3VfvJnC9utTVTFtxTUnAhzVnyIs/k4HtmZKqqTJmCa72g/5R0p0YuzUVtlXqcy696i5wdcux3Yt2aRybGG8Zcqa3URQ6s9CZpYpzxV1n8097pBXvXSR37Dxhpb3gw9rN5u+vKihip0vaxbmy89NrC/mvt0qrty+N9z86q1QYzTb7vtzpeOvgGmLtAIAAAeJxtz0lOw0AQBdD/k0BiYmeeGQI3SBo5wwaBEKw4A2CRBrcUnMh2wkVAjFvEHjbcig2wRBjT7Cip9X51qVpqJBDX1z4q+K8OokMkkEQKWZiwkEMeBRRRQjnaqaKGOhpoooVlrGAVa2hjHRvYwjYOcYRjOPjAOz7xygSTTOEa93jGCxe4yDQzNLjELE1azDHPAosssYwb3OEWb3hkhVU8sIYnXOKKdTbYZCs981RH7ArtpuF4k1COpXJ+bkTX7mi7WpGZeDJ0lT8ywotJHAI9srU9bV870A61O0b0hFRnbuiaoetLnYPsqZr/ZTOQc+npJt4Twtb20oE6V2PHt6bSn0pvpE5mURdP+79fEf29gXb4DalzW4kAAAAAAAIABAAC//8AA3icY2BkYGDgYYAAJgYWIKnOwMigyeAMJF0Z3IGkJ4M3AyMAFFIBywAAAQAAAAoADAAOAAAAAAAAeJwtjjFuwkAQRd/GVhQQMbZZEBVFQBRIEEggASKlpKSktyygACFkpeECHIUD5BQ5QO4Ds8sUqzf68//sxwBlekwJ8lOxx26L9Q67z34OWELZcr3iXGZTZDlPbvIv9FsjiuGfR1KOnLnwyx8lybboMuCDbxYsWfEq/goRz6IFMtV480wZesaug7AuKccGfU9L27PKi2fCg/wW8a7pkaYDaRLTZKZXxrrvaMo1nqh2vzBX56f2cY4v1Yx3VOViIn57A23XFhoAAAA=) format('woff');
}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover {
  width: auto;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-bottom {
  position: absolute;
  top: 43px;
  left: -3px;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-bottom .dcg-arrow {
  left: 23px;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-right {
  position: absolute;
  top: -40px;
  left: 40px;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-right .dcg-arrow {
  top: 60px;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-popover-interior {
  padding: 4px 0;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item {
  cursor: pointer;
  font-size: 80%;
  text-align: left;
  white-space: nowrap;
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
  padding: 8px;
  line-height: 0;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i {
  margin: 0 8px 0 4px;
  font-size: 205%;
  vertical-align: middle;
  width: 30px;
  display: inline-block;
  text-align: right;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-expression {
  font-size: 210%;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-table {
  font-size: 200%;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-folder {
  font-size: 190%;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-action-newexpression {
  padding: 10px 12px 4px 8px;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-hovered {
  opacity: 0.8;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-depressed {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-disabled {
  opacity: 0.25;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";
  filter: alpha(opacity=25);
}.dcg-calculator-api-container .dcg-basic-list-container {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -o-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  overflow: auto;
  border-top: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list {
  width: 100%;
}

.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode {
  font-size: 150%;
}

.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode .dcg-braille-input input,
.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode .dcg-braille-evaluation input {
  font-size: 135%;
}

.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  border-right: 1px solid rgba(0,0,0,0.2);
  border-left: 1px solid rgba(0,0,0,0.2);
  position: relative;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder .dcg-answer-hint {
  -webkit-transition: opacity 1s;
  -moz-transition: opacity 1s;
  -o-transition: opacity 1s;
  -ms-transition: opacity 1s;
  transition: opacity 1s;
  padding: 10px;
  width: 200px;
  opacity: 0.7;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";
  filter: alpha(opacity=70);
  position: absolute;
  bottom: 0;
  right: 0;
  text-align: right;
  padding-right: 30px;
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAADXCAQAAAC6oBfOAAAHuElEQVR42u2daYwVRRDHWwERjFEwuBpDvDDRGBNjNDF+0E/LsRxyS0BBVA4XAmogitHgArLct/zlRhBcELlkAbkkcskpEM6FRPAEFMUTwegzwO4Ku1X95tqd6X9e9cc33dO/Nz093VXVVcZkJCMZiVHwCHLwOK7mgqqPQvyFVHHpzQSWKlOGsaANK4eWwlAOtC0CWgoj3QerKoJdKPnuwxWpcP1cR5uuoqXwittoTS1oKXRyG66dFa6J23AdLWj7cRsv3FLXp5NnLXBwHS7XAuf8h+A1C1wr1+HyVbSvkeU63AQVbqH7S6+FKtybrqNlYT/vG9dERTvo/qDsrsKN4Nx9Xyrt3Yf7TIXLdh2tsYo21v3n9iLtTGkM3lPQdriPVhMnFLg+7sN1UQdlfd5BOcl9tIbqc2vtPlwvBW2VcV+wToHr6D5ac9qPgDGYpMDluo/WQEHbx/Dc+ilwPRjgjotohxjQXlKeW3cGuD0i2nYGtM6UxqpiuB0iWiEDmrYTaMwAV0SqVDAGeaTKIGOQraDlMTy34SLaXga0+rRbHGMwUUSbw4DWklYVpC65BjCg9RHRdhkGwVkR7kkGtFki2nAGtLa0iiBjcJDUiqNaTkczoDVjniW/EOEaMaANFNHeZkCTFa/rOYbkVt615CjetaS8B5jNMSSPCWhHOdDeF59bUwY0WTPJcJoK1US0jzmG5OcC2k8caODdlObxbkplffISjiG5k9QQbAymkho4jMEgXgOH7KI2mWNIniB1TzMGhQLaKQ402XbTgAGtvYg2kAEti9SJ9yLcDwLaCg60Tby77ZnikKzCgCafM23IgCYfLxrEgFaL8rh6MdxJ3l3bNl6T1GIB7UcOtHfFt+1G3umfYoncmHeJfLuINorjbftXQJvJgfa9gLaSA03ySNjGgbZSQDvGgTZbQPuTA0222VzHgCb7kt/NgJbH60WSzetFcqeINpgBrbaINoYBrYqINoVj+v9dQJvLgXZKQFvMgSYd3FvNgSYZ7DdxoG0gPdxsDNYKaAc40CTD73EOtKW8usgCAe00B5pkZfuVA02KWX6eA02OusWQk0NxRKvOgCa7xlzLgCZba2owoE3m1WkRD0hitGm875qMdg0DmhjbLrMaqaAuZSMvCud1fJCoNSSaYHlxJ/7A6yHbmiug/RYf2JUdmRiqtYUJ2q8J0ft7RaxA+C4eMCn+xJ4Q7a1OzOkajIs2sL0YTz4mtPEi2qLA7Unh+nbGg/aUElupZcD2pBgka+OaRvZFGRMLXwptrYkLLS/KmFiiv09clho1vF4gjzicS5R9DQNEtG8CtFRDbGlqfGhaeL2uvlu6OXG2bMyIJqKxMrjj9IhE62giGitTUrx+rFgvdurTSN7aeL2P8XQUmRYwWGzj/gj72QZj0cZvpQ1it2ZFoM+KKCkdcvFziSMiXvZTsWf4iMbKQa9I1AflvPb6+6n8bdgDP+JGNJLwHGI2vw7eq+eHXXJhjVD7cARgU8R+zffegJbgyrPTn5hvL6RrBa5Svrr+du9KVKwjnuufjDoUDq4XdWT+Y1GqGTI6evx/Q8+xZVrMsiSV9LuAU/6jrZ7q3iLWnRAY7C58Ys0KnRNeDeRRW6LErwjow4qHlHh4wdM2iWcHPR2MVKKO5AQCewIHrGAdgjTaTWks7TFkxRX+ngB9aISjVrCg0Z5wKFjaTWWSrhZgnWjDKgrhXK9Eoj4TSHPs2z8LL1jB9uCxcJ/J80Fy+Ipunj5P+FqzdqewEQ+EXdjIK/ivAqxBl0cwXkrKMtQNv2Zr5l9bgpphP9h4ywo2HzdFszeSoz6us9SoJ9YY6fmOQ61gs/xPR9qNWvhNlopWYWJpYaQVbHq0KoWN/nKdY3TwCGiW3OoVESJCTSzdQrl+dtAdtuKNV5GqPmXXPcXHNjStBhrVlL+kpAyrXEOHuOTCEeHKzWnuUBvzrGAVp8HEae+RX/CPcOU8a+t1scwK9mpFaiflCbnI8ybW8p7gPkWtW1K6VaziNUe5bd9yVw70N/XjUSVgfmBTin+4Am/aEozxM/WjgZKcoqS0rQyFuWbr7lzmuo+Ea84pbTa1YgXcvAaBKxRvXyZoA3Z59T9BOyvWgUo86qw+tyt2uvjFm9IBXa1g2/Fw5VpxdqUz4yp21XLeXmp66mKTF+41lStqh0qHjmJXK/P9U1PlFvsp4FZT+YIzYmfyS38fl37Voui7SkoBapk4RNlynCz9fUm6+REjrGAzUdXEI6pvSa5l/bg77YYnfueLi517R8/eq0T0LyitO8kKNsHEK2oK9+dVTcooq3YySaGosErzUVDSXrU0BtXT7MaGmCQIOinda44P5f016mCBFay/SYpgt9jBaaJq9TDqic66/5feJjmCHkon/xY/wFusYEnLaC/GpZDLXuuvyUsdjiGe0WwliSkD0Sg01pHEhgvGnFBgYU1IFYrWLATYFjxokiyYHxBsBe4wyRZ0CAS2AHVM8kU8gWEvc3GDcUHQ2yfYdOOOiL5YWnErpQv6egYbb1wTRVvCkM1LcS9kSJxU7oRp+dLPuCpWT8UUehp3RT3RcaF0MW6Loi1J4RnjuuA52mSpxmARZfR+c8nb+HK4zRQpAC/DewOrcRbbSOL2ZyQjGckIpfwHjUChXKuem7kAAAAASUVORK5CYII=") no-repeat top 20px right 5px;
  -webkit-background-size: 15px;
  -moz-background-size: 15px;
  background-size: 15px;
  -webkit-animation: dcg-fadePulse 0.3s;
  -moz-animation: dcg-fadePulse 0.3s;
  -o-animation: dcg-fadePulse 0.3s;
  -ms-animation: dcg-fadePulse 0.3s;
  animation: dcg-fadePulse 0.3s;
}

.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-type-hint,
.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-answer-hint {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  -webkit-transition: opacity 0.3s;
  -moz-transition: opacity 0.3s;
  -o-transition: opacity 0.3s;
  -ms-transition: opacity 0.3s;
  transition: opacity 0.3s;
}

.dcg-calculator-api-container .dcg-inverted-colors .dcg-settings-dropdown .dcg-popover-interior {
  -webkit-box-shadow: none;
  box-shadow: none;
}

@-webkit-keyframes dcg-fadePulse {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
    -webkit-transform: scale(0.7, 0.7);
    -moz-transform: scale(0.7, 0.7);
    -o-transform: scale(0.7, 0.7);
    -ms-transform: scale(0.7, 0.7);
    transform: scale(0.7, 0.7);
  }

  50% {
    -webkit-transform: scale(1.1, 1.1);
    -moz-transform: scale(1.1, 1.1);
    -o-transform: scale(1.1, 1.1);
    -ms-transform: scale(1.1, 1.1);
    transform: scale(1.1, 1.1);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
    -webkit-transform: scale(1, 1);
    -moz-transform: scale(1, 1);
    -o-transform: scale(1, 1);
    -ms-transform: scale(1, 1);
    transform: scale(1, 1);
  }
}

@keyframes dcg-fadePulse {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
    -webkit-transform: scale(0.7, 0.7);
    -moz-transform: scale(0.7, 0.7);
    -o-transform: scale(0.7, 0.7);
    -ms-transform: scale(0.7, 0.7);
    transform: scale(0.7, 0.7);
  }

  50% {
    -webkit-transform: scale(1.1, 1.1);
    -moz-transform: scale(1.1, 1.1);
    -o-transform: scale(1.1, 1.1);
    -ms-transform: scale(1.1, 1.1);
    transform: scale(1.1, 1.1);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
    -webkit-transform: scale(1, 1);
    -moz-transform: scale(1, 1);
    -o-transform: scale(1, 1);
    -ms-transform: scale(1, 1);
    transform: scale(1, 1);
  }
}.dcg-calculator-api-container .dcg-container .dcg-basic-expression .dcg-mq-container .dcg-mq-editable-field {
  width: 100%;
}

.dcg-calculator-api-container .dcg-container .dcg-basic-expression .dcg-mq-container .dcg-mq-editable-field:after {
  position: absolute;
  top: 1px;
  right: 0;
  bottom: 1px;
}

.dcg-calculator-api-container .dcg-basic-expression {
  min-height: 56px;
  border: 1px solid rgba(0,0,0,0.2);
  margin-top: -1px;
  position: relative;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
  width: 100%;
}

.dcg-calculator-api-container .dcg-basic-expression:not(:first-of-type) {
  border-top-color: transparent;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-focused {
  border-color: #6399cb;
  -webkit-box-shadow: inset 0 0 0 1px #6399cb;
  box-shadow: inset 0 0 0 1px #6399cb;
  z-index: 1;
}

.dcg-calculator-api-container .dcg-basic-expression:first-of-type {
  margin-top: 0;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io {
  -webkit-box-lines: multiple;
  -moz-box-lines: multiple;
  -o-box-lines: multiple;
  -webkit-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
  padding: 2px;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io input {
  background: transparent;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-mq-math-mode {
  padding: 0;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input {
  border: none;
  width: 100%;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input {
  outline: none;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input:focus {
  outline: 1px dotted #000;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input {
  border: 1px solid transparent;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input:focus {
  color: #000;
  outline: 1px dotted #000;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input {
  font-family: Abraham, serif;
  font-size: 163%;
  padding: 8px 8px 0;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-basic-expression-error {
  font-size: 140%;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error {
  position: absolute;
  top: -0.8em;
  right: 0;
  width: 100%;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error textarea {
  width: 100%;
  text-align: right;
  color: #666;
  padding-right: 5px;
  font-size: 80%;
  border: none;
  resize: none;
  -webkit-animation: dcg-delayed-fadeIn 1s;
  -moz-animation: dcg-delayed-fadeIn 1s;
  -o-animation: dcg-delayed-fadeIn 1s;
  -ms-animation: dcg-delayed-fadeIn 1s;
  animation: dcg-delayed-fadeIn 1s;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error textarea:focus {
  outline: dotted 1px #666;
  color: #000;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1 1 40%;
  -ms-flex: 1 1 40%;
  flex: 1 1 40%;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container {
  position: relative;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error {
  text-align: right;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container {
  padding: 8px;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container {
  font-size: 90%;
  color: #666;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container {
  padding: 8px;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container .dcg-basic-expression-value {
  padding-right: 8px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-exp-mathquill-container {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  overflow: hidden;
  margin-right: 1px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-exp-mathquill-container .dcg-mq-container {
  width: 100%;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-math-mode {
  padding: 12px 5px 12px 15px;
  outline: none !important;
  -webkit-box-shadow: none !important;
  box-shadow: none !important;
  border: 0;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-error {
  color: #e66b3c;
  font-size: 130%;
  cursor: pointer;
  -webkit-animation: dcg-delayed-fadeIn 1s;
  -moz-animation: dcg-delayed-fadeIn 1s;
  -o-animation: dcg-delayed-fadeIn 1s;
  -ms-animation: dcg-delayed-fadeIn 1s;
  animation: dcg-delayed-fadeIn 1s;
  margin-right: 15px;
  height: 24px;
  line-height: 24px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value {
  -webkit-animation: dcg-fadeIn 0.5s;
  -moz-animation: dcg-fadeIn 0.5s;
  -o-animation: dcg-fadeIn 0.5s;
  -ms-animation: dcg-fadeIn 0.5s;
  animation: dcg-fadeIn 0.5s;
  padding-right: 5px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value.dcg-basic-evaluation-gray .dcg-static-mathquill-view {
  color: #666;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle {
  font-size: 20px;
  display: inline-block;
  width: 29px;
  height: 29px;
  border: 2px solid #000;
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
  color: #000;
  text-align: center;
  border-radius: 50%;
  margin: 0 5px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle i {
  position: relative;
  top: 2px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-hovered {
  opacity: 0.7;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";
  filter: alpha(opacity=70);
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-depressed {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected {
  background: #000;
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
  color: #fff;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected.dcg-hovered {
  opacity: 0.7;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";
  filter: alpha(opacity=70);
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected.dcg-depressed {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-slider-container {
  height: 40px;
  width: 250px;
  max-width: 100%;
  padding-right: 3px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans {
  border: 2px solid #4781b9;
  color: #4781b9;
  background-color: rgba(71,129,185,0.15);
  padding: 0.2em 0.4em;
  display: inline-block;
  border-radius: 4px;
  margin-right: 1px;
  margin-bottom: 2px;
  min-width: 30px;
  text-align: center;
  -o-text-overflow: ellipsis;
  text-overflow: ellipsis;
  vertical-align: middle;
  position: relative;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans sup {
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans:after {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  content: 'ans';
  position: absolute;
  bottom: -0.5em;
  left: 50%;
  font-size: 60%;
  width: 1.9em;
  overflow: hidden;
  text-align: center;
  margin-left: -0.95em;
  color: #4781b9;
  border: 1px solid #4781b9;
  background: #fff;
  padding: 0;
  border-radius: 3px;
  height: 1em;
  line-height: 0.9em;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid {
  border-color: #e66b3c;
  background: rgba(230,107,60,0.1);
  color: #e66b3c;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid i {
  font-style: normal;
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid:after {
  color: #e66b3c;
  border-color: #e66b3c;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-selection .dcg-mq-ans {
  background: #4781b9;
  color: #fff;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-selection .dcg-mq-ans.dcg-invalid {
  background: #e66b3c;
}

.dcg-calculator-api-container .dcg-calc-basic-main.dcg-projector-mode .dcg-mq-ans:after {
  position: absolute;
  bottom: -0.3em;
  left: 50%;
  height: 0.9em;
  line-height: 0.8em;
}

.dcg-calculator-api-container .dcg-braille-toggle {
  display: inline-block;
  float: right;
}

.dcg-calculator-api-container .dcg-braille-toggle .dcg-buttons {
  float: right;
}

.dcg-calculator-api-container .dcg-toggle-button {
  padding: 8px;
  border: 1px solid #ccc;
  color: #444;
  position: relative;
  top: -3px;
  cursor: pointer;
  width: 90px;
  text-align: center;
  float: left;
}

.dcg-calculator-api-container .dcg-toggle-button:last-of-type {
  border-radius: 0px 6px 6px 0px;
}

.dcg-calculator-api-container .dcg-toggle-button:first-of-type {
  border-radius: 6px 0px 0px 6px;
}

.dcg-calculator-api-container .dcg-toggle-button.dcg-hovered {
  background: #f4f4f4;
}

.dcg-calculator-api-container .dcg-toggle-button.dcg-depressed {
  -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
  box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
}

.dcg-calculator-api-container .dcg-toggle-button.dcg-selected {
  background: #4781b9;
  color: #fff;
  border-color: transparent;
}

.dcg-calculator-api-container .dcg-calc-basic-main.dcg-projector-mode .dcg-basic-expression.dcg-braille-io .dcg-braille-error {
  font-size: 90%;
}

@-webkit-keyframes dcg-delayed-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  80% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@keyframes dcg-delayed-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  80% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@-webkit-keyframes dcg-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@keyframes dcg-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}.dcg-calculator-api-container table.dcg-braille-examples-table {
  border-collapse: collapse;
}

.dcg-calculator-api-container table.dcg-braille-examples-table tr:not(:last-of-type) {
  border-bottom: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container table.dcg-braille-examples-table th {
  font-family: "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
  font-weight: 500;
}

.dcg-calculator-api-container table.dcg-braille-examples-table th,
.dcg-calculator-api-container table.dcg-braille-examples-table td {
  padding: 5px 8px;
}

.dcg-calculator-api-container table.dcg-braille-examples-table th:not(:last-of-type),
.dcg-calculator-api-container table.dcg-braille-examples-table td:not(:last-of-type) {
  border-right: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container table.dcg-braille-examples-table th:not(:first-of-type),
.dcg-calculator-api-container table.dcg-braille-examples-table td:not(:first-of-type) {
  text-align: center;
}

.dcg-calculator-api-container table.dcg-braille-examples-table td {
  height: 45px;
}

.dcg-calculator-api-container table.dcg-braille-examples-table .dcg-braille-font {
  font-family: Abraham;
  font-size: 110%;
}

.dcg-calculator-api-container table.dcg-braille-examples-table .dcg-key-press {
  border: 1px solid rgba(0,0,0,0.2);
  background: rgba(255,255,255,0.6);
  border-radius: 3px;
  width: 25px;
  height: 25px;
  line-height: 23px;
  text-align: center;
  display: inline-block;
  margin-right: 2px;
  vertical-align: middle;
}.dcg-calculator-api-container .dcg-braille-io-keypad-container {
  padding-top: 4px;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad {
  color: #666;
  border-top: 1px solid rgba(0,0,0,0.2);
  padding: 10px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad a {
  color: #4781b9;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad a.dcg-hovered {
  color: #004f9b;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container {
  color: #444;
  padding: 10px 10px 0;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container .dcg-more-examples-link {
  text-align: center;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container table {
  margin-bottom: 10px;
  border: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container table th {
  background: rgba(0,0,0,0.07);
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  padding: 10px 0 10px 10px;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title {
  font-size: 130%;
  color: #333;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-info-text {
  font-size: 95%;
  margin-bottom: 10px;
  line-height: 1.5em;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn {
  color: #fff;
  padding: 8px 12px;
  display: inline-block;
  border-radius: 6px;
  background: #4781b9;
  border: 1px solid #3f73a6;
  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);
  box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn.dcg-hovered:not(.dcg-disabled) {
  background: #3f73a6;
  -webkit-transition: background 0.2s;
  -moz-transition: background 0.2s;
  -o-transition: background 0.2s;
  -ms-transition: background 0.2s;
  transition: background 0.2s;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn.dcg-depressed:not(.dcg-disabled) {
  background: #35608a;
  border: 1px solid #35608a;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description,
.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description {
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -o-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
}

.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title,
.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title {
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn,
.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn {
  margin-right: auto;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad {
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -o-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  text-align: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description {
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -o-box-orient: horizontal;
  -webkit-box-lines: multiple;
  -moz-box-lines: multiple;
  -o-box-lines: multiple;
  -webkit-flex-flow: row wrap;
  -ms-flex-flow: row wrap;
  flex-flow: row wrap;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title {
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn {
  -webkit-box-ordinal-group: 1;
  -moz-box-ordinal-group: 1;
  -o-box-ordinal-group: 1;
  -ms-flex-order: 1;
  -webkit-order: 1;
  order: 1;
  margin-left: 10px;
  margin-right: 0;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-info-text {
  -webkit-box-ordinal-group: 2;
  -moz-box-ordinal-group: 2;
  -o-box-ordinal-group: 2;
  -ms-flex-order: 2;
  -webkit-order: 2;
  order: 2;
  width: 100%;
  margin: 5px 0 0;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container th,
.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container td {
  padding: 2px 5px;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container tr:nth-of-type(3) {
  display: none;
}

.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad {
  height: 170px;
  padding: 3px;
}

.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container table {
  margin-bottom: 5px;
}

.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container tr:last-of-type {
  display: none;
}

.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad {
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-more-examples-link {
  display: none;
}

.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container {
  padding-top: 0;
}

.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container td {
  height: 40px;
}.dcg-calculator-api-container .dcg-basic-settings-container {
  position: relative;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  -ms-box-flex: 1;
  box-flex: 1;
  -webkit-flex-grow: 1;
  flex-grow: 1;
}

.dcg-calculator-api-container .dcg-basic-settings-container .dcg-keypad-control-btn.dcg-selected {
  color: #333;
  background: rgba(0,0,0,0.1);
}.dcg-aria-alert {
  position: absolute;
  left: -1000px;
  top: -1000px;
  width: 1px;
  height: 1px;
  text-align: left;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper {
  height: 100%;
  width: 100%;
  position: relative;
}

.dcg-calculator-api-container .dcg-calc-basic-main {
  height: 100%;
  width: 100%;
  background: #fff;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -o-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-box-lines: single;
  -moz-box-lines: single;
  -o-box-lines: single;
  -webkit-flex-wrap: nowrap;
  -ms-flex-wrap: nowrap;
  flex-wrap: nowrap;
  border-radius: 2px;
  font-family: Arial, sans-serif;
}

.dcg-calculator-api-container .dcg-calc-basic-main * {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.dcg-calculator-api-container .dcg-calc-basic-main.dcg-no-hyperlinks a[target="_blank"] {
  display: none !important;
}.dcg-calculator-api-container .dcg-settings-dropdown {
  font-size: 95%;
  color: #333;
  width: 280px;
  position: absolute;
  bottom: 50px;
  right: 5px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-settings-menu-option {
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-settings-menu-option:not(.dcg-reverse-contrast) {
  margin-bottom: 0.5em;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-box {
  display: inline-block;
  position: relative;
  top: 2px;
  height: 15px;
  width: 15px;
  border-radius: 3px;
  color: #127a3d;
  border: 1px solid rgba(0,0,0,0.2);
  margin-right: 10px;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-box .dcg-icon-check {
  position: relative;
  top: -2px;
  left: 1px;
  text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;
  display: none;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-container.dcg-checked .dcg-icon-check {
  display: block;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-container.dcg-hovered .dcg-checkbox-box {
  border-color: rgba(0,0,0,0.4);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-container.dcg-depressed .dcg-checkbox-box {
  border-color: rgba(0,0,0,0.6);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons {
  margin-top: 5px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  padding: 5px 0;
  text-align: center;
  border: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option:not(:last-of-type) {
  border-right: 0;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option.dcg-selected {
  background: rgba(0,0,0,0.7);
  color: #fff;
  border-color: rgba(0,0,0,0.7);
  z-index: 1;
  position: relative;
  margin-right: -1px;
  padding-right: 1px;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option:first-of-type {
  border-radius: 3px 0 0 3px;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option:last-of-type {
  border-radius: 0 3px 3px 0;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option.dcg-hovered:not(.dcg-selected) {
  background: rgba(0,0,0,0.05);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option.dcg-depressed:not(.dcg-selected) {
  -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.2);
  box-shadow: inset 0 0 3px rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn {
  border-radius: 3px;
  display: block;
  padding: 8px;
  text-align: center;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn.dcg-active {
  border: 1px solid #127a3d;
  background-color: #127a3d;
  color: #fff;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn.dcg-active.dcg-hovered {
  border-color: rgba(13,84,42,0.7);
  -webkit-box-shadow: inset 0 0 0 1px rgba(13,84,42,0.7);
  box-shadow: inset 0 0 0 1px rgba(13,84,42,0.7);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn.dcg-active.dcg-depressed {
  border-color: #0d542a;
  -webkit-box-shadow: inset 0 0 0 1px #0d542a;
  box-shadow: inset 0 0 0 1px #0d542a;
  background: #106d36;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn:not(.dcg-active) {
  border: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn:not(.dcg-active).dcg-hovered {
  border-color: rgba(0,0,0,0.15);
  -webkit-box-shadow: inset 0 0 0 1px rgba(0,0,0,0.15);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn:not(.dcg-active).dcg-depressed {
  border-color: rgba(0,0,0,0.2);
  -webkit-box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2);
  background: rgba(0,0,0,0.05);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations {
  color: #127a3d;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations span {
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations.dcg-hovered:not(.dcg-disabled) {
  color: #0d542a;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations.dcg-depressed:not(.dcg-disabled) {
  color: #063c1c;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations i {
  margin-right: 10px;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info {
  display: inline-block;
  color: #999;
  text-decoration: none;
  margin-left: 0.5em;
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info.dcg-hovered {
  color: #666;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info.dcg-active {
  color: #333;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-checkbox {
  display: inline-block;
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior {
  padding: 15px;
}

.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:after {
  content: "";
  position: absolute;
  bottom: -7px;
  right: 18px;
  border-width: 7px;
  border-bottom-width: 0;
  border-style: solid;
  border-color: #fff transparent transparent;
  line-height: 0;
}

.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:before {
  content: "";
  position: absolute;
  bottom: -8px;
  right: 17px;
  border-width: 8px;
  border-bottom-width: 0;
  border-style: solid;
  border-color: #ccc transparent transparent;
  line-height: 0;
}

.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left {
  position: absolute;
  top: -30px;
  left: -280px;
}

.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left.dcg-popover .dcg-popover-interior:after {
  content: "";
  position: absolute;
  right: -7px;
  top: 43px;
  border-width: 7px;
  border-right-width: 0;
  border-style: solid;
  border-color: transparent transparent transparent #fff;
  line-height: 0;
}

.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left.dcg-popover .dcg-popover-interior:before {
  content: "";
  position: absolute;
  right: -8px;
  top: 42px;
  border-width: 8px;
  border-right-width: 0;
  border-style: solid;
  border-color: transparent transparent transparent #ccc;
  line-height: 0;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:after {
  border-top-color: rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:before {
  display: none;
}

.dcg-calculator-api-container .dcg-scientific-calculator.dcg-narrow .dcg-settings-dropdown.dcg-popover:not(.dcg-point-left) .dcg-popover-interior:after {
  right: 10px;
}

.dcg-calculator-api-container .dcg-scientific-calculator.dcg-narrow .dcg-settings-dropdown.dcg-popover:not(.dcg-point-left) .dcg-popover-interior:before {
  right: 9px;
}

.dcg-calculator-api-container .dcg-version-number {
  color: #666;
  font-size: 90%;
  text-align: center;
  margin-top: 15px;
}.dcg-calculator-api-container .dcg-btn-blue,
.dcg-calculator-api-container .dcg-btn-red,
.dcg-calculator-api-container .dcg-btn-light-gray,
.dcg-calculator-api-container .dcg-btn-green {
  border: none;
  -webkit-appearance: none;
  cursor: pointer;
  white-space: nowrap;
  text-decoration: none;
  display: inline-block;
  border-radius: 4px;
  padding: 0 20px;
  font: inherit;
}

.dcg-calculator-api-container .dcg-btn-red,
.dcg-calculator-api-container .dcg-btn-blue,
.dcg-calculator-api-container .dcg-btn-green {
  color: #fff;
  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.15), inset 0 -1px rgba(0,0,0,0.1);
  box-shadow: inset 0 1px rgba(255,255,255,0.15), inset 0 -1px rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-btn-red {
  background: #d95f5b;
  border-color: rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-btn-red.dcg-hovered {
  background: #cb605d;
}

.dcg-calculator-api-container .dcg-btn-red.dcg-depressed {
  background: #c15b58;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-btn-blue {
  background: #528fc9;
  border-color: rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-btn-blue.dcg-hovered {
  background: #4e88bf;
}

.dcg-calculator-api-container .dcg-btn-blue.dcg-depressed {
  background: #4a81b4;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-btn-light-gray {
  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.25), inset 0 -1px rgba(0,0,0,0.02);
  box-shadow: inset 0 1px rgba(255,255,255,0.25), inset 0 -1px rgba(0,0,0,0.02);
  background: -webkit-linear-gradient(#f6f6f6, #f0f0f0);
  background: -moz-linear-gradient(#f6f6f6, #f0f0f0);
  background: -o-linear-gradient(#f6f6f6, #f0f0f0);
  background: -ms-linear-gradient(#f6f6f6, #f0f0f0);
  background: linear-gradient(#f6f6f6, #f0f0f0);
  border: 1px solid rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-btn-light-gray.dcg-hovered {
  background: #ededed;
  border: 1px solid rgba(0,0,0,0.13);
}

.dcg-calculator-api-container .dcg-btn-light-gray.dcg-depressed {
  background: #e0e0e0;
  border: 1px solid rgba(0,0,0,0.15);
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-btn-green {
  background: #1aad57;
}

.dcg-calculator-api-container .dcg-btn-green.dcg-hovered {
  background: #179d4f;
}

.dcg-calculator-api-container .dcg-btn-green.dcg-depressed,
.dcg-calculator-api-container .dcg-btn-green.dcg-active {
  background: #148e47;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-pull-right {
  float: right;
}

.dcg-calculator-api-container .dcg-pull-left {
  float: left;
}

.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-red,
.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-blue,
.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-green {
  -webkit-box-shadow: inset 0 -1px rgba(255,255,255,0.15), inset 0 1px rgba(0,0,0,0.1);
  box-shadow: inset 0 -1px rgba(255,255,255,0.15), inset 0 1px rgba(0,0,0,0.1);
}.dcg-aria-alert,
.dcg-calculator-api-container .dcg-offscreen-element {
  position: absolute;
  left: -1000px;
  top: -1000px;
  width: 1px;
  height: 1px;
  text-align: left;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-container.dcg-default-border {
  border: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-container a,
.dcg-calculator-api-container .dcg-container a:hover {
  text-decoration: none;
}

.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-grapher,
.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-resize-list-btn,
.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-graph-icon {
  display: none;
}

.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-horizontal {
  cursor: ew-resize;
}

.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-vertical {
  cursor: ns-resize;
}

.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-both {
  cursor: nesw-resize;
}

.dcg-calculator-api-container .dcg-graph-outer {
  overflow: hidden;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

.dcg-calculator-api-container .dcg-container.dcg-no-expression-topbar .dcg-expression-top-bar {
  display: none;
}

.dcg-calculator-api-container .dcg-container.dcg-no-expression-topbar .dcg-exppanel-container {
  padding-top: 0;
}

.dcg-calculator-api-container .dcg-container.dcg-no-hyperlinks a[target="_blank"] {
  display: none !important;
}

.dcg-calculator-api-container .dcg-container.dcg-inverted-colors {
  filter: invert(100%);
}

.dcg-calculator-api-container .dcg-container {
  width: 100%;
  height: 100%;
  position: relative;
  background: #fff;
  z-index: 0;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  overflow: hidden;
  font-family: arial, sans-serif;
  font-size: 16px;
  color: #000;
}

.dcg-calculator-api-container .dcg-container.dcg-is-interactive {
  touch-action: none;
  -ms-touch-action: none;
}

.dcg-calculator-api-container .dcg-container.dcg-is-interactive .dcg-grapher {
  touch-action: none;
  -ms-touch-action: none;
}

.dcg-calculator-api-container .dcg-container * {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.dcg-calculator-api-container .dcg-container .dcg-text-selectable {
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
}

.dcg-calculator-api-container .dcg-expressions-branding {
  position: absolute;
  bottom: 0;
  left: 50%;
}

.dcg-calculator-api-container .dcg-graphpaper-branding {
  position: absolute;
  bottom: 0;
  right: -8px;
  display: none;
  z-index: 21;
}

.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding {
  display: block;
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding .dcg-powered-by,
.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding i {
  position: relative;
  text-shadow: -1px -1px 0 #fff, -1px 1px 0 #fff, 1px -1px 0 #fff, 1px 1px 0 #fff, 0 -1px 0 #fff, 0 1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff;
}

.dcg-calculator-api-container .dcg-expressions-branding,
.dcg-calculator-api-container .dcg-graphpaper-branding {
  text-align: center;
  font-size: 75%;
  width: 110px;
  margin-left: -55px;
  text-decoration: none;
  line-height: 1em;
  height: 45px;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-expressions-branding.dcg-unclickable,
.dcg-calculator-api-container .dcg-graphpaper-branding.dcg-unclickable {
  pointer-events: none;
  z-index: -1;
}

.dcg-calculator-api-container .dcg-expressions-branding .dcg-powered-by,
.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-powered-by {
  color: rgba(0,0,0,0.2);
  text-decoration: none;
  -webkit-transition: color 0.3s;
  -moz-transition: color 0.3s;
  -o-transition: color 0.3s;
  -ms-transition: color 0.3s;
  transition: color 0.3s;
  display: block;
}

.dcg-calculator-api-container .dcg-expressions-branding i,
.dcg-calculator-api-container .dcg-graphpaper-branding i {
  color: rgba(0,0,0,0.2);
  font-size: 650%;
  margin-right: 2px;
  line-height: 18px;
  -webkit-transition: color 0.3s;
  -moz-transition: color 0.3s;
  -o-transition: color 0.3s;
  -ms-transition: color 0.3s;
  transition: color 0.3s;
  height: 18px;
}

.dcg-calculator-api-container .dcg-expressions-branding a,
.dcg-calculator-api-container .dcg-graphpaper-branding a,
.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding,
.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding {
  cursor: pointer;
  display: block;
  height: 50px;
}

.dcg-calculator-api-container .dcg-expressions-branding a.dcg-hovered .dcg-powered-by,
.dcg-calculator-api-container .dcg-graphpaper-branding a.dcg-hovered .dcg-powered-by,
.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by,
.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by {
  color: #aaa;
}

.dcg-calculator-api-container .dcg-expressions-branding a.dcg-hovered i,
.dcg-calculator-api-container .dcg-graphpaper-branding a.dcg-hovered i,
.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding.dcg-hovered i,
.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered i {
  color: #127a3d;
}

.dcg-calculator-api-container .dcg-narrow .dcg-graphpaper-branding {
  display: none;
}

.dcg-calculator-api-container .dcg-no-branding .dcg-expressions-branding,
.dcg-calculator-api-container .dcg-no-branding .dcg-graphpaper-branding {
  display: none;
}.dcg-calculator-api-container .dcg-container {
  text-align: left;
  -webkit-transform-origin: 0 0;
  -moz-transform-origin: 0 0;
  -o-transform-origin: 0 0;
  -ms-transform-origin: 0 0;
  transform-origin: 0 0;
}

.dcg-calculator-api-container .dcg-container pre {
  white-space: pre-wrap;
}

.dcg-calculator-api-container .dcg-container img {
  border: 0;
  outline: none;
}

.dcg-calculator-api-container .dcg-container input::-ms-clear {
  display: none;
}

.dcg-calculator-api-container .dcg-container button,
.dcg-calculator-api-container .dcg-container input,
.dcg-calculator-api-container .dcg-container select,
.dcg-calculator-api-container .dcg-container textarea {
  font-family: inherit;
}

.dcg-calculator-api-container .dcg-container button,
.dcg-calculator-api-container .dcg-container select {
  text-transform: none;
}

.dcg-calculator-api-container .dcg-container button,
.dcg-calculator-api-container .dcg-container input[type="button"],
.dcg-calculator-api-container .dcg-container input[type="reset"],
.dcg-calculator-api-container .dcg-container input[type="submit"] {
  -webkit-appearance: button;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-container button[disabled],
.dcg-calculator-api-container .dcg-container input[disabled] {
  cursor: default;
}

.dcg-calculator-api-container .dcg-container input[type="search"] {
  -webkit-appearance: textfield;
  -webkit-box-sizing: content-box;
  -moz-box-sizing: content-box;
  box-sizing: content-box;
}

.dcg-calculator-api-container .dcg-container input[type="search"]::-webkit-search-cancel-button,
.dcg-calculator-api-container .dcg-container input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}

.dcg-calculator-api-container .dcg-container button::-moz-focus-inner,
.dcg-calculator-api-container .dcg-container input::-moz-focus-inner {
  border: 0;
  padding: 0;
}

.dcg-calculator-api-container .dcg-container table {
  border-collapse: collapse;
  border-spacing: 0;
}

.dcg-calculator-api-container .dcg-container input::-webkit-outer-spin-button,
.dcg-calculator-api-container .dcg-container input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}.dcg-calculator-api-container .dcg-component-checkbox {
  cursor: pointer;
  position: relative;
}

.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox {
  border: 1px solid #bbb;
  margin-right: 0.5em;
  width: 1.1em;
  height: 1.1em;
  border-radius: 3px;
  vertical-align: middle;
  display: inline-block;
  position: relative;
}

.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox i {
  display: none;
  font-size: 115%;
  position: absolute;
  top: -0.15em;
  left: 0.1em;
  text-shadow: -1px -1px 0 #fff, -1px 1px 0 #fff, 1px -1px 0 #fff, 1px 1px 0 #fff, 0 -1px 0 #fff, 0 1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff;
}

.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox-children {
  position: relative;
  top: 0.1em;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-hovered:not(.dcg-checked) .dcg-checkbox {
  border: 1px solid #999;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-hovered:not(.dcg-checked) .dcg-checkbox i {
  display: block;
  color: #e2e2e2;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-checked .dcg-checkbox i {
  display: block;
  color: #4781b9;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-checked.dcg-hovered .dcg-checkbox {
  border: 1px solid #999;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled {
  pointer-events: none;
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled .dcg-checkbox {
  background: rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled.dcg-checked i {
  display: block;
  color: #999;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-green.dcg-checked .dcg-checkbox i {
  color: #127a3d;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-small {
  font-size: 85%;
}.dcg-calculator-api-container .dcg-download-button.dcg-disabled {
  pointer-events: none;
}.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input {
  background: none;
  width: 100%;
  border: none;
  font-family: Abraham, serif;
  font-size: 125%;
  padding: 1px 0;
}

.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input:focus {
  outline: none;
}

.dcg-calculator-api-container .dcg-mathquill-braille-overflow-left .dcg-tooltip-hit-area-container:before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 14px;
  background: -webkit-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: linear-gradient(to left, rgba(255,255,255,0), #fff);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-mathquill-braille-overflow-right .dcg-tooltip-hit-area-container:after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 14px;
  background: -webkit-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: linear-gradient(to right, rgba(255,255,255,0), #fff);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-ne-se .dcg-tooltip-arrow {
  -webkit-transform: translateX(-1.25ch) rotate(45deg);
  -moz-transform: translateX(-1.25ch) rotate(45deg);
  -o-transform: translateX(-1.25ch) rotate(45deg);
  -ms-transform: translateX(-1.25ch) rotate(45deg);
  transform: translateX(-1.25ch) rotate(45deg);
}

.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-ne-se .dcg-tooltip-message-container {
  -webkit-transform: translateX(-1.25ch);
  -moz-transform: translateX(-1.25ch);
  -o-transform: translateX(-1.25ch);
  -ms-transform: translateX(-1.25ch);
  transform: translateX(-1.25ch);
}

.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-nw-sw .dcg-tooltip-arrow {
  -webkit-transform: translateX(0.8ch) rotate(45deg);
  -moz-transform: translateX(0.8ch) rotate(45deg);
  -o-transform: translateX(0.8ch) rotate(45deg);
  -ms-transform: translateX(0.8ch) rotate(45deg);
  transform: translateX(0.8ch) rotate(45deg);
}

.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-nw-sw .dcg-tooltip-message-container {
  -webkit-transform: translateX(0.8ch);
  -moz-transform: translateX(0.8ch);
  -o-transform: translateX(0.8ch);
  -ms-transform: translateX(0.8ch);
  transform: translateX(0.8ch);
}.dcg-calculator-api-container .dcg-mq-container {
  position: relative;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-container .dcg-mq-placeholder {
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  line-height: 1em;
  height: 1em;
  margin-top: -0.5em;
  pointer-events: none;
  font-family: Symbola, "Times New Roman", serif;
  padding-left: 2px;
  color: rgba(0,0,0,0.47);
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) {
  position: relative;
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout):after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 14px;
  background: -webkit-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: linear-gradient(to right, rgba(255,255,255,0), #fff);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) .dcg-mq-root-block {
  padding-right: 10px;
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) .dcg-mq-root-block.dcg-mq-editing-overflow-left:before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 14px;
  background: -webkit-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: linear-gradient(to left, rgba(255,255,255,0), #fff);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-mq-editable-field:after {
  display: none;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-mq-editable-field:after .dcg-mq-editing-overflow-left:before {
  display: none;
}.dcg-calculator-api-container .dcg-disable-slider {
  opacity: 0.3;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
  filter: alpha(opacity=30);
}

.dcg-calculator-api-container .dcg-slider-interior {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  position: relative;
  top: -4px;
  margin-left: 7px;
  margin-right: 7px;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb {
  cursor: pointer;
  z-index: 3;
  border-radius: 8px;
  position: absolute;
  top: -8px;
  margin-left: -19px;
  width: 38px;
  height: 38px;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb:focus {
  outline: none;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb:focus:after {
  position: absolute;
  top: -4px;
  left: 4px;
  content: "";
  pointer-events: none;
  border: 2px solid rgba(79,129,189,0.35);
  border-radius: 50%;
  width: 26px;
  height: 26px;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb .dcg-graphic {
  position: absolute;
  top: 0;
  left: 8px;
  border-radius: 12px;
  width: 22px;
  height: 22px;
  background: rgba(79,129,189,0.35);
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb .dcg-center {
  position: absolute;
  top: 0;
  left: 8px;
  border-radius: 12px;
  width: 22px;
  height: 22px;
  background: #4f81bd;
  -webkit-transform: scale(0.25, 0.25);
  -moz-transform: scale(0.25, 0.25);
  -o-transform: scale(0.25, 0.25);
  -ms-transform: scale(0.25, 0.25);
  transform: scale(0.25, 0.25);
  -webkit-transition: -webkit-transform 0.2s;
  -moz-transition: -moz-transform 0.2s;
  -o-transition: -o-transform 0.2s;
  -ms-transition: -ms-transform 0.2s;
  transition: transform 0.2s;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb.dcg-hovered .dcg-center,
.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb.dcg-down .dcg-center {
  -webkit-transform: scale(1, 1);
  -moz-transform: scale(1, 1);
  -o-transform: scale(1, 1);
  -ms-transform: scale(1, 1);
  transform: scale(1, 1);
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-zeroMarker {
  position: absolute;
  top: 2px;
  z-index: 2;
  width: 2px;
  height: 2px;
  background: rgba(0,0,0,0.3);
  border-radius: 2px;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-track {
  cursor: pointer;
  height: 22px;
  position: absolute;
  left: 0;
  right: 0;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-ticks {
  position: absolute;
  top: 2px;
  bottom: 0;
  width: 100%;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-ticks .dcg-tick {
  position: absolute;
  top: 0;
  width: 2px;
  height: 2px;
  background-color: #fff;
  margin-left: 0;
  z-index: 1;
  border-radius: 2px;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-graphic {
  height: 6px;
  background-color: rgba(0,0,0,0.1);
  border-radius: 3px;
  margin-bottom: 6px;
  width: 100%;
}

.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel {
  padding: 10px 4px 10px 8px;
}

.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel {
  padding: 10px 8px 10px 4px;
}

.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel,
.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel {
  z-index: 4;
  color: rgba(0,0,0,0.5);
  margin: -10px 0;
  min-width: 26px;
  text-align: center;
}

.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel .dcg-mq-math-mode {
  font-family: arial, sans-serif;
  cursor: pointer;
  font-size: 80%;
  position: relative;
  top: -1px;
}

.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel.dcg-hovered,
.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel.dcg-hovered {
  color: #333;
}

.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel.dcg-depressed,
.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel.dcg-depressed {
  color: #000;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-animate-play {
  display: none;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-animate-pause {
  display: none;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-slider-speed-container {
  display: none;
}.dcg-calculator-api-container .dcg-static-mathquill-view * {
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  user-select: text !important;
  -moz-user-selection: text !important;
}.dcg-calculator-api-container .dcg-tooltipped-error {
  color: #e66b3c;
  font-size: 22px;
  cursor: pointer;
  display: inline-block;
  width: 26px;
  height: 26px;
  text-align: center;
  -webkit-animation: dcg-delayed-fadeIn 1s;
  -moz-animation: dcg-delayed-fadeIn 1s;
  -o-animation: dcg-delayed-fadeIn 1s;
  -ms-animation: dcg-delayed-fadeIn 1s;
  animation: dcg-delayed-fadeIn 1s;
  position: relative;
  top: 3px;
}

.dcg-calculator-api-container .dcg-tooltipped-error.dcg-small {
  font-size: 14px;
  width: 16px;
  height: 16px;
  position: relative;
  top: 1px;
}

.dcg-calculator-api-container .dcg-tooltipped-error.dcg-white {
  color: #fff;
}

@-webkit-keyframes dcg-delayed-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  80% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@keyframes dcg-delayed-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  80% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@-webkit-keyframes dcg-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@keyframes dcg-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}.dcg-calculator-api-container .dcg-tap-container [ontap] {
  cursor: pointer;
}@font-face {
  font-family: 'dcg-icons';
  src: url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8R/5kAAAC8AAAAYGNtYXAeVsT2AAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZiisThcAAAF4AAB+NGhlYWQXs7nbAAB/rAAAADZoaGVhByoEZAAAf+QAAAAkaG10eMgMIeEAAIAIAAAB0GxvY2EnIgRwAACB2AAAAOptYXhwAIcCkAAAgsQAAAAgbmFtZZMnHvMAAILkAAABnnBvc3QAAwAAAACEhAAAACAAAwQAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADibwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg4m///f//AAAAAAAg4gD//f//AAH/4x4EAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAADADH/xAQYA8AANAA8AEQAAAEjNTQmIyEiBh0BIyIGHQEUFjsBHgEXFSMiBh0BFBYzITI2PQE0JisBNT4BNzMyNj0BNCYjBTUzFSMiJjUhFAYrATUzFQPwpzIi/l8iMqYRGEozXRZyTlI0SRgRAdQQGEoyU01zFl01SBgQ/JJ+UhIaA0UaElJ+Aw9dIjIyIl0YEYk0SExtEltKM1IRFxcRUjRJWxJtTEoyiREYsmGNGRMSGo1hAAAABgAA/8AEAAPAAB8ALwBZAIgCXgKNAAABISIHDgEHBhURFBceARcWMyEyNz4BNzY1ETQnLgEnJhMUBiMhIiY1ETQ2MyEyFhUlFiYxFhceARcWFx4BFzAGMQ4BBw4BBzAGOQEuAScmJy4BJyYnMSYWJzcFBhQxBgcOAQcGBw4BBzEqASMwIjEiJicuAScwJjE+ATc+ATc2Nz4BNzY3BjY3FxM2FhcVOAExLgEnOAExMCI1OAExOAEnMCIjMCIjMCIjMCI1OAExMCI1OAExLgEjJgYHMCIVOAEjDgEjOAExDgEHDgEHDgEHMQ4BBzAGMTgBMSIGIzAiIyIGIyIGBzgBMQ4BBzAiMSIGIzAiFSIGBzgBMSIGIzAiMTgBIzAiMTAyMQ4BIzI2Nw4BJy4BJzgBMTAiMTgBMTgBMTAmNTAmNSImIzgBMS4BJzEuASceARcuAScwFjEuAScuAScuAScuAScuAScuASMOAQcwIhUOAQcyNjMOARUwNjUOAQcOAQcOAQcOAQcOAQc+ATcOASMyNjcOASMGJicuAScxHgEXLgEnNTAWMTgBMR4BFzgBMR4BFzAWMTgBMTgBMR4BFyImJx4BMzAyOQEwMjEyNjc4ATEwMjU4ATM+ATcyNjMwNjEyNjMwMjU+ATcxOAExOAExPgE3OAExPgE3PgE3MAYHPgE3DgEHPgE3PgE3MjYzOAExMjYzMjYzOAExNjIzIiYHNhYXLgEjHgEXHgEXHgEXHgExHgEXHgEXLgE1HgEXLgEnHgEXHgEzFjY3PgE3OAExPgE3PgE3MDY1MDYxMjYzOAExMjYzOAEzPgE3IgYHPgE3DgEHPgE3BTEOASMxIiYnLgEnMDYxPgE/AT4BNzA2OQEeARceATMyNjcwFjEeARceARc2MhcDM/2aKyUlOBAQEBA4JSUrAmYrJSU4EBAQEDglJXdfQ/2aQ19fQwJmQ1/8sQQGDA4OHxISFQsaDgIIEAgECAUCER4NEhERIA4PDAUJBD0DIAgMDg0fERATETQhAgEBAwQKBwkSCQIBBAEfLhMSEBEgEA8QAwIBQg0VJhIDBwMCAgEBAQEBAQMCBQkFCxcLAgICBQIDCAMFCAUBBQIWLBgCAQECAQECAQECBQICAwEDAQECAgIBAQIBAQMCAgINGg4NGQ0OHQ4NFwkCAwIBAQITHxAGDQcCAwICBAMCAwYDAgMCAQQBBQwFBA0GCBMJDBMIAgUHBQIBAQEDAgULBQgSCA8dEAgQCAIFAgIFAg4eEAsYCgoRCRo2FBUkEAUHBQUHBQIDBQMVKhYCChQNAwkDBg0HAgINFgoCAgIBAQIBAQMBAQICAgEBAgECBAoHCxYMAQEECgUDBQMKEwwIEAoBBgECAwIBBAMKEwoHCgcXKxMBBQIOHQwHDQgFCgQCAwEBAgYNBgEDChYNCxMIBAkECRUMEBsNAQQBCxQKFSgYAgICAQIBAQICBQkDAgMBBgsGBQcDBRIJ/rwdPSAgPx8QGw4CCBAIBAIFAgINFwsQJxoOHw8CCxQLBAcEBQICA8AQETglJSr9nComJjgREBAQOCUlKwJmKiUlOBEQ/M1DX19DAmZDX19DrwkULDAxZTQ0Mxs8HgIIDggFCAQDJEceLS0uXTAwMBQnEy0NHgIsLy9eLzAuLW42AwEFDAcCAwYBMGUyKy4uZDc2Ow0HBhz+LQIJCFUDBAQCAgICAgQEAwUCAgIDBQMDCQMBBgEXKxQCAgIFAQIBAgICAQECBQQDBAUFAwIGBQEBAQECChwQBg8GAQMCAgMEAwQGAwIDAgEDAgUJBQUJAwUEAgYFAgMHAwIBAQIBAQUJBQgSCA8bDAYKAwEBAgIBAQYJBAUDBgMTEAoeEgUHBQUJA2QCAgUBFSsUAggKAwMBAwMKBwICAQECAgMCAQECAgEBBQoEDBQLAwEFCQUCBQQKEQgECQQCAgICAgICDwwBAwgWDQYOCAQKBQEDAgEBBwwFAgEBCQ0FAw4GAwYEBgkBDwgBAQIIEwkUKRABAQIDAgMEAQICAwQBAQECCAYB9xoaHRsOIBICCBAIBAIFAgISHAwOGgwLAgkQBwEGAQEBAAAKAAD/wAQAA8AABQAtAFYAbgCLALsA6wEbATsBSwAAASc1HgEXFwYHDgEHBiMGJy4BJyYnHgEzMjY3FhceARcWMzI2Nz4BNx4BMz4BNwMOAQcGFBUuAScuASMiBw4BBwYHFAYVIiYnLgEjIgYHNjc+ATc2MzIWFyoBIyIGBw4BBw4BBycyNjcyNjE+ATcXBxQWFyE+ATUwNDU0JicuASclFBYXHgEXBSEOARUnDgEHDgEHDgEHIgYjKgExLgEnLgEnLgE1OQE1PAExPgE3PgEzMT4BMzIWFTE2FjEXDgEHDgEHDgEHIgYjKgExLgEnLgEnLgE1OQE1PAExPgE3PgEzMT4BMzYWFTE0FDEhDgEHDgEHDgEHIgYjKgExLgEnLgEnLgE1OQE1PAExPgE3PgEzMT4BMzYWFTE0FDEBISIHDgEHBhURFBceARcWMyEyNz4BNzY1ETQnLgEnJhMUBiMhIiY1ETQ2MyEyFhUDHkQZIQoECRsaTTAwNTYxME0ZGgkFCQMIDgYJFhZBKCgtLVIhHyoIBw0IBQkFoAYMAwIEBAMWMBorJyg/FxcKAgIFAgUJBQUJAwobGk0vMDUjQq4BBAEFCwMEAwICBQRABQsEAQMFCgJEPgQD/koEAwMEAwcFAVgDAwQGBf7TAYkGBQYCAwEECQUBBQIDBAIBBQUHBQUJAwICAQcEBAQDBQcFEhkBAWsCAwIDCQUBBgEEAwICBAUIBAUJAwIDAgYFAwUDBQcFExr94gIDAgMJBQEGAQMEAgEFBQcFBQkDAgMCBgUDBQMFBwUSGwIX/ZorJSU4EBAQEDglJSsCZislJTgQEBAQOCUld19D/ZpDX19DAmZDXwIJewIbPyN+NCssQBISARITQCwsMwIDBQIrJSU1EA8fHRtGKAUCAwIEAT4FDwgDBQMCAwIJCg8OMiMiKAMEAgECAQMDATMrLD8SEQ/dAwIBAQICBQF1AwECAwcFeToGDQQEDQYBAQcNCAUKAqgGDAUFCwOWBgsG0wUHBQUJAwIBAQIBAwIDCQUFCQMCAgUGDAUDBAEDGRICAtkFCAQFCQQBAQICAgMBBAkFBAYHAgEFBwwFAwMCAgIbEQEBBQgEBQkEAQECAgIDAQQJBQQGBwIBBQcMBQMDAgICGxEBAQIGEBE4JSUq/ZwqJiY4ERAQEDglJSsCZiolJTgREPzNQ19fQwJmQ19fQwAAAAYAAP/ABAADwAAkAE8AjwEEASQBNAAAJTEiJi8BBwYmJyY2PwE+ATMeAR8BEz4BMyEyFhUUBiMhAw4BIyUVFAYPAQ4BBwYUFRQGIyImNTQ2NzE+ATcjKgExFAYHFSM1NzUzFTAWMxcPASM1NDY/AT4BNTQmJy4BIyIGBw4BBx4BFRQGBw4BIyImNTQ2Nz4BMzIWFx4BFRQGBw4BDwEzMjY3NDY3NTMVJRQGBw4BIyImJy4BNTQ2Nz4BMzIWFx4BFRQGBw4BBx4BMx4BMzI2Nz4BNTQmJy4BKwEiJjU0NjcxOgEzMjY3PgE1NCYnLgEjIgYHMhYVHgEVFAYHDgEjIiYnLgE1NDY3PgEzMhYXHgEVFAYHDgEHHgEXHgEVASEiBw4BBwYVERQXHgEXFjMhMjc+ATc2NRE0Jy4BJyYTFAYjISImNRE0NjMhMhYVAS8GDAEvBwYTBAUCBxwDCwUFBgQmiQMJBwGCCgsNCP6LmAEMBgHrAwIoBwkBAgoKDAcTEQUOCTwIBgQDCwkNCxVNqQt1AwE4DhAEBQUMCAcKBQMGAQgJBAMDBwUJDAkICBYNDhcKCQoGBQMMCDQtCggBAwIV/twJCAgTDAkRCAkIAwEEBgMDBwMDAQMDAgMCAgQDBQkFBwcDAgMDAgMHBw0EBAQHAQMCBggDAwMCAgEHBQYMAwICAgMDAgEHBQMGAwIDCQgHDwgIEAgICQUFAwcDBQkDBgcB5v2aKyUlOBAQEBA4JSUrAmYrJSU4EBAQEDglJXdfQ/2aQ19fQwJmQ1/xBgdiBgUCBwYTBRUDAQEHBFQBBwUFDQgKC/7gBQbrBwMGATgIGA8JIBUJDBEEHDkcBxMNAgkNBAk3BAYCAok+CQMGAj0QIA4KDgYHBgMDBAYDAgkIBQcDBAMMCgsVCAgJCQgIGA0JEQgFDAgyAQIBCQ0EArYMEQgGBwYFBxAJAwgCAwMCAgMHAwMIAgEBAgEDAgIGBAULCAgKBQUGBQMCBQIGBQQNBgUHAwMDAwMDAQIGBQMHAwMBAwECBgUIDwUFAwMFBQ8ICA4IAwYCAQcEChAIAbcQETglJSr9nComJjgREBAQOCUlKwJmKiUlOBEQ/M1DX19DAmZDX19DAAAIAAD/wAQAA8AAHwAtAE4AZgB1AI0ArQC9AAAlFhQHDgEvAQcGIicuAT8BJyY0Nz4BHwE3NjIXHgEPAQMzMjY1NCYrASIGFRQWJzIWFRQGKwEVFAYjIiY9ASMiJjU0NjsBNTQ2MzIWHQEzAxQGBw4BIyImJy4BNTQ2Nz4BMzIWFx4BNxQGKwEiJjU0NjsBHgEVJxQGBw4BIyImJy4BNTQ2Nz4BMzIWFx4BASEiBw4BBwYVERQXHgEXFjMhMjc+ATc2NRE0Jy4BJyYTFAYjISImNRE0NjMhMhYVAxcHBwYTBzk6BhMHBgIIOjoGBgcTBjo5BxMGBwEIOYnPCg4OCs8JDg6hCQwMCVENCwkOUQoODAxRDgkKDlFCBgUFDQgGDwQFBgYFBA0ICA0FBQZZDAnPCg4NC80LDFkGBQUNCAgNBAUGBgUEDQgHDgUFBgHK/ZorJSU4EBAQEDglJSsCZislJTgQEBAQOCUld19D/ZpDX19DAmZDX8AGFAYGAgg6OgYGBhQGOjkHEwYHAQg5OQcHBhMHOQFiDgkKDg4KCQ4tDgoKDVEKDgwMUQwLCg5RCQwMCVH+IggNBQUGBgUFDQgIDAUFBgYFBg1JCg4MDAkOAgwJTwgNBQUGBgUFDQgIDAUFBgYFBg0CcRAROCUlKv2cKiYmOBEQEBA4JSUrAmYqJSU4ERD8zUNfX0MCZkNfX0MAAAAACAB1/8ADiQPAAA8AHwAvAD8ATwBwAHwAlAAAJSEiJj0BNDYzITIWHQEUBicjIiY9ATQ2OwEyFh0BFAY3ISImPQE0NjMhMhYdARQGNyEiJj0BNDYzITIWHQEWBicjIiY9ATQ2OwEyFh0BFAYTFx4BFxQGIyEiJjU+AT8BIyIGFREUFjMhMjY1ETQmKwEnIgYVFBYzMjY1NCYBETQ2MyE+ATMyFhUhMhYVERQGIyEiJjUCxv5YBQYGBQGoBQYGvPEFBgYF8QUGBkr+wAUGBgUBQAUGBn/+PAUGBgUBwgUGAQfW8QUGBgXxBQYGcA8zJQIGBf48BQYCJy8RpwYLCQgCVgYLCQinhBAWFhAQFhb+ZQ4IASQCLyAgLwEkCgwOCP0aCg7GBgUEBQYGBQQFBk8GBQQFBgYFBAUGTwYFBAUGBgUEBQZPBgUEBQYGBQQFBk8GBQQFBgYFBAUGASAtCzYjBQYGBSIzDTEJCP0NBgsJCALxBgt4FxAQFhYQDxj8OwOHCQwiLS0iDQj8eQkMDQgAAAUABAE6A/MCugAXACMALwA7AIoAABMuATEOAR0BFBY/AT4BNzI2Mz4BNS4BJxcUBiMiJjU0NjMyFhcUBiMiJjU0NjMyFjciBhUUFjMyNjU0JgUHDgEHMAYVKgEjMCIxMCIxIiYnOAExLgE9ASMiJiMuATU0Njc2MjsBNTQ2NzQ2NTA2MTA2NTAyMToBMzAyMTAyMTAWMTAyFR4BHwEWFAetAhRGTRELMRMTEgMfAhMcAhgVxCMZGCMjGBkjmCMZGSMjGRkjWRgkJBgYJCIBd6ADBgQCAQECAgIDBQMDAysDBwUTGBgTAwcFKwICAgICAgIBAgICBAIEBAOgCggCNwIBAmRFJA8FCzETFQMEBx4VFSIEORkjIxkZIyMZGSMjGRkjIyMkGBgkJBgZI1SgAwYBAQECAgMNCWkCByATEyAGAmUICgMCAQECAQIDAgEEA6AHFgoAAAAAAwAE/80D7wK+ABwAOwCNAAABIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmIxMUBisBIiY9AQcGIicuAS8BJjY3PgExMjYxMzIWFREBBw4BBzAGFSoBMTAiMTAiMSImJzgBMS4BPQEhIgYHDgEPAQYmPQE0NjMhNTQ2NzQ2NTA2MTAyNTAyMToBMzAyMTAyMTAWMTAWFR4BHwEWFA8BAQssJyc6EREREDonJy0sJyY6ERERETomJywmBgUiBgkXAwkFAwQCBgICCAQ4AgIcBwgCs5EDBgQCAQECAgMFAwMD/Y0FCgURKxUzDRFqTAJxAgICAgICAgECAgIEAgIFAqAICAsBdxAROScnLSwnJzoQERAROScnLSwnJzoREP6jBQYKBdEPAgICBQQZAwsDAh4CCgT+8QHCkQQFAgEBAwEDDQhiAwIDFRQ0DAUQJkxqZAgKAwIBAgICAgEBAgQDoAgYCA0AAAAAAgAEABUD+gNrAFEAowAAAQcOAQcwBhUqATEwIjEwIjEiJic4ATEuAT0BISIGBw4BDwEGJj0BNDYzITU0Njc0NjUwNjEwMjUwMjE6ATM6ATEwMjEwFjEwFhUeAR8BFhQPAQE3PgE3MDY1OgExOgExMDIxMhYXOAExHgEdASEyNjc+AT8BNhYdARQGIyEVFAYHFAYVMAYxMCIVMCIxKgEjKgExMCIxMCYxMCY1LgEvASY0PwED5JEDBgQCAQECAgMFAwMD/Y0FCgURKxUzDRFqTAJxAgICAgICAgECAwECBAMBBQKgCAgN/DiRAwYEAgEBAQECAwUDAwMCcQUKBBIrFTMNEWtL/ZECAgICAgICAQIDAQIEAwEFAqAICA0CiZIDBgEBAQICAwwIZQMCAxUUNAwFECZMamIICgMCAQEDAgIBAgEEA6AIGQgM/m6SAwYBAQECAgMMCGUDAgMVFDQMBRAmTGpiCAoDAgEBAwICAQIBBAOgCBkIDAAAAAACAAQAFQPxA2sAUQCjAAABBw4BBzAGFSoBMTAiMTAiMSImJzgBMS4BPQEhIgYHDgEPAQYmPQE0NjMhNTQ2NzQ2NTA2MTAyNTAyMToBMzoBMTAyMTAWMTAWFR4BHwEWFA8BEQcOAQcwIhUqATEwIjEwIjEiJic4ATEuAT0BISIGBw4BDwEGJj0BNDYzITU0Njc0NjUwNjEwNjUwMjE6ATMwMjEwMjEwFjEwMhUeAR8BFhQPAQPkkQMGBAIBAQICAwUDAwP9jQUKBRErFTMNEWpMAnECAgICAgICAQIDAQIEAwEFAqAICA2RAwYEAgEBAgIDBQMDA/2NBQoFESsVMw0RakwCcQICAgICAgIBAgICBAICBQKgCAgLAomSAwYBAQECAgMMCGUDAgMVFDQMBRAmTGpiCAoDAgEBAwICAQIBBAOgCBkIDP4qkQMGAgIDAgMMCGQCAgMVFTMNBhAmS2piCAsDAQECAgEBAgICAwOgCBkIDQAD//7/xQQAA7wAKQBEAIMAACUnLgEHDgEXFS4BJw4BBw4BBxYXHgEXFhcyFjMVFBYXFjY/AT4BJzQmJwEOARceATc2Fx4BFxYXPgE3PgE3JicuAScmBwUnLgEHDgEdASoBByIHDgEHBgcGBw4BBwYjJgYHBhYXOgEzMjc+ATc2NzY3PgE3NjcVFBYXFjY/AT4BJzQmJwP0qAoPBgYHASN0OgIFAhMnFDQzM1IbGwIBAgEGBgYQCagGBwEGBvxSHyoBAi4fAxgYTTMyNwQJBBAkFEVBQGgjIgkDrqgKDwYGBgECAQMmJ3FBQjo+OzteHh4DHy4CASkfAgQCEy8vgUtMSyElJEQfHhQGBgYQCakGBgEGBrSoCgUCAw4NXhBSTgMHAyI7GzwmJy4JCQEBagwPAwMHCKkGDggIEAYCngEvHyApAQEEAygqKk4HDgccNBlWLi8qAwMBTKkKBQIDDg1jAQ8OSUA/ZGw7OzcGBQIqHx8vAgkISUpKgjkqKjsSEgllDA8DAgYJqQYNCAgPBgAAAwBNAAgDtQN6ACkARgBmAAAlJz4BNTQnLgEnJiMiBw4BBwYVFBceARcWMzI2NxceATMyNjc+ATU0JicDFAcOAQcGIyInLgEnJjU0Nz4BNzYzMhceARcWFScjNTQmIyIGHQEjIgYVFBY7ARUUFjMyNj0BMzI2NTQmA6WQKSsfH21ISVJSSUlsHx8fH21ISVJAdzSRCBQLCxQICAgICKoWF041NDw8NDVOFxcXF041NDw8NDVOFxaHbBoTExpsEhsbEmwaExMabBIbG2aQNX5CU0hJbB8gIB9sSUhTUklIbCAfJyaSCAgICAgUCwsUCAGFOzU0TxYXFxZPNDU7PDU0ThcXFxdONDU8LmsTGhoTaxsSExpsExoaE2waExIbAAAAAgAEADcD/gNPAC8AWwAAARYGBx4BFx4BBwYmJy4BJy4BJyYGIwYnLgEnJicWNz4BNzY3Njc+ATc2JzoBFR4BJxYGBwYHDgEHBicuASMOAQcOAQcOAScmNjc+ATcuATc+ATc+ATc2FhceARcD/gZkOgcTDQYlBQUrDCM1HQseCgoaDS8tLlMiIxgyLzBYKCgjJyUlMQgHEwEBOl/VAx8VHSkqaDw9QgsYCAkiChsyJhApBQgmCA0QCjVoBQNILzF+SFiPOTRVBgGpXW4nEx0QCCEQEggDCBcOBxYBAggEBAQUDw8SBAQEFRERFholJV03OD8CJWE+Mk8bJh0eJwgIBwEFARgFDhYIBAUNESEKEB0QKmpgQ2MgIioDBSYhIGhLAAAAAAEAxQB0A0ADEwAhAAA3KgEnLgE3Ez4BNzYWFxsBPgEXHgEHAw4BBwYmLwEDDgEj8AIEAhIUA1gDEAwLGAjvmwchEBAOB7QEEQsLFQfjSAMYD3QBAx4RAdEMEgMEBwn+/gFxEA4HByEQ/lEKDQICBwj0/oMPFAAAAAEBHwCpAuEC6wAaAAABERQGIyEiJjURNDY7ATU0NjsBMhYdATMyFhUC4Q8L/nILDw8Law8LhQoPawsPAkn+egsPDwsBBwsP7goPDwpvDwsABAEfAKkC4QLrABoAHwAlACkAAAEjNTQmKwEiBh0BIyIGFREUFjMhMjY1ETQmIwUzFSM1NzUzESM1FyMRMwLHaw8LhQoPawsPDwsBjgsPDwv+i1JShVJS11JSAmNvCg8PCu4PC/75Cw8PCwGGCw+y1dUZ7v4k7u4BUwAAAAEAcgEvA2kCUQAPAAABLgEjIgYHDgEjFSE1IiYnAqckTjMxSiUubFYC90BaKAHxIz02IitJVlZEKAAAAAH+uAEvBK8CUQAiAAABIiYnLgEjIgYHDgEjIRUhMjc+ATc2Nz4BMzIWFx4BMyE1IQNmQFooJE4zMEslLmxW/kkBtzgtLEkcHRgeMBcYMx0td1sBSf63AYVEKCM9NiIrSVYNDikYGRYbJiodLVhWAAAJAS0AwQLTAvwAMwBmAJkAzQD4ASUBWAGSAcIAAAExLgEjIgYPAScuASMiBgcOARUUFh8BBw4BFRQWFx4BMzI2PwEXHgEzMjY3NjQvATc2NCcnIgYPAScuASMiBgcOARUUFh8BBw4BFRQWFx4BMzI2PwEXHgEzMjY3NjQvATc2NCcuASMDFBYXHgEzMjY/ARceATMyNjc+ATU0Ji8BNzY0Jy4BIyIGDwEnJiIHDgEVFBYfAQcOARUXMS4BIyIGDwEnJiIHDgEVFBYfAQcOARUUFhceATMyNj8BFx4BMzI2Nz4BNTQmLwE3NjQnNzEeATMyNj8BFx4BMzI2NzY0LwE3NjQnLgEjIgYPAScmIgcGFB8BBwYUFxUxHgEzMjY/ARceATMyNjc2NC8BNzY0Jy4BIzgBMSIGDwEnJiIHBhQfAQcGFBc3PgE1NCYnLgEjOAExIgYPAScuASMiBgcGFB8BBwYUFx4BMzI2PwEXHgEzMjY3NjQvAScxHgEzMjY/ARceATMyNjc+ATU0Ji8BNz4BNTQmJy4BIzgBMSIGDwEnLgEjOAExIgYHBhQfAQcGFBcXNCYnJiIPAScuASMiBgcGFB8BBwYUFx4BMzI2PwEXHgEzMjY3PgE1NCYvATc+ATUCMQIHBAQHAhcXAgcEBAYDAwMDAxYWAwMDAwIHBAQHAhcXAgcEBAYDBgYWFgYGDQQHAhcWAwcEAwcDAwICAxcXAwICAwMHAwQHAxYXAgcEBAcCBgYWFwUFAwcE9wMCAwcEAwcDFxYDBwMEBwMCAwMCFxcFBQMHAwQHAxYXBRAFAwMDAxYWAwNoAwcDBAcDFhcFEAUDAwMDFhYDAwMDAgcEBAYDFxYDBwQDBwMDAgIDFhYGBtYDBwQDBwMWFwMGBAQHAwUFFxcFBQMHBAMHAxcWBg8FBgYWFgYFAwcEAwcDFhcDBgQEBwMFBRcXBQUDBwQDBwMXFgYPBQYGFhYGURcCAwMCAwcEAwcDFxYDBwMEBwMFBRcXBQUDBwMEBwMWFwIHBAQHAgYGFugCBwQEBwIXFwIHBAQGAwMDAwMWFgMDAwMCBwQEBwIXFgMHBAMHAwUFFxcGBmgDAwUQBRcWAwcDBAcDBQUXFwUFAwcDBAcDFhcCBwQEBwIDAwMDFhcCAwJcAwMDAxYWAwMDAwIHBAQGAxcWAwcEAwcDAgMDAhcXAgMDAgYPBhYXBg8FoAMDFhYDAwMDAwYEBAcDFhcCBwQEBgMDAwMDFhYDAwMDBRAFFxYGDwYDA/5yBAYDAwMDAxYWAwMDAwIHBAQHAhcWBg8GAgMDAhcXBQUDBwMEBwMWFwIHBEUDAwMDFhYGBgIHBAQHAhcWAwcEAwcDAwMDAxYWAwMDAwMGBAQHAxYXBRAF0QIDAwIXFwIDAwIGDwYWFwYPBQMDAwMWFgYGBQ8GFhcGDwaZAwMDAxYWAwMDAwUQBRcWBg8GAgMDAhcXBQUGDwYWFwUQbhcCBwQEBwIDAwMDFhYDAwMDBQ8GFhcGDwUDAwMDFhYDAwMDBQ8GFmkDAwMDFhYDAwMDAgcEBAcCFxYDBwQDBwMDAwMDFhYDAwMDBRAFFxYGEAVFBAcCBgYWFgMDAwMFEAUXFgYPBgIDAwIXFwIDAwIDBwQDBwMXFgMGBAAAAAASAS4AxALSAvkACwAYACQAMQA9AEoAVgBkAHAAfQCJAJYAogCvALsAyADUAOEAAAEyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMFMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjBzIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIzUyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMxFzIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIycyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMDMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjFzIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIxcyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMBZwoQEAoLDw8LGCEhGBchIRcBMgsPDwsKEBAKFyEhFxghIRiZCw8PCwsPDwsYISEYGCEhGAsPDwsLDw8LGCEhGBghIRiZCw8PCwoQEAoXISEXGCEhGJkLDw8LCw8PCxghIRgYISEYmQoQEAoLDw8LGCEhGBchIReZCw8PCwsPDwsYISEYGCEhGJkLDw8LChAQChchIRcYISEYAa4QCgsPDwsKEB4hFxghIRgXIR4QCgsPDwsKEB4hFxghIRgXIR4QCgsPDwsKEB4hFxghIRgXIXgPCwsPDwsLDx8hGBciIRgXIh8PCwsPDwsLDx8hGBciIhcYIXgQCgsPDwsKEB4hFxghIRgXIf4eDwsLDw8LCw8fIRgXIiIXGCEfDwsLDw8LCw8fIRgXIiIXGCEfDwsLDw8LCw8fIRgXIiIXGCEACQEvAMQC0gL5AAwAGAAkADAAPABIAFQAYABsAAABHgEHDgEnLgE3PgEXBRQGIyImNTQ2MzIWBxQGIyImNTQ2MzIWJx4BBw4BJy4BNz4BFxQGIyImNTQ2MzIWJx4BBw4BJy4BNz4BAx4BBw4BJy4BNz4BFxQGIyImNTQ2MzIWFxQGIyImNTQ2MzIWAXAXHAQEJhcYGwQEJhcBYiEYFyEhFxghmSIXFyIiFxciMBccBAQmFxccBAQm4CEYFyEhFxghyRccBAQmFxccBAQmghcbAwQmFxgbBAMn4CIXFyIiFxcimSEYFyEhFxghAcsDJxcXGwMEJhcYGwQ4FyEhFxghIRgXISEXGCEhtwQmFxccBAQmFxccPBciIhcYISG3BCYYFxsEAyYYFxv+OQQmFxccBAQmFxccPBghIRgXIiIXGCEhGBciIgAAAAMA0QE3Ay8CSQA0ADgAPAAAARUjNTQmIyIGHQEUFjMyNj0BMxUUFjsBMjY9ATMVFBYzMjY9ATQmIyIGHQEjNTQmKwEiBhUXMxUjMyM1MwGEdhINDBISDA0SdhIN3w0SURINDRESDA0SURIN3w0SPUNDoyMjAipLHA0SEg12DRISDR1MDRISDUwdDRISDXYNEhINHUwNEhINHpiYAAQAgQA0A38DTAALABgAJAAxAAAlFAYjIiY1NDYzMhYTFAYjIiY1NDYzMhYVARQGIyImNTQ2MzIWEyIGFRQWMzI2NTQmIwFWPiwsPz8sLD5TPi0sPj4sLT4BMj4tLD4+LC0+OSw+PiwsPz8snyw/PywsPz8Bjiw/PywsPz8s/vMtPj4tLD4+AdQ/LCw/PywsPwAAAAAFASQAIALfA14ADwAgADEAQgBQAAABIyImPQE0NjsBMhYdARQGAyIGHQEUFjsBMjY9ATQmKwETIyImPQE0NjsBMhYdARQGIwMiBh0BFBY7ATI2PQE0JisBJSEiJjU0NjMhMhYVFAYCX7saJycauxonJtYFBwcFuwUHBwW7u7saJycauxonJhu7BQcHBbsFBwcFuwEg/nsLEBALAYULEBACISYbuxonJxq7GyYBCAcFuwUHBwW7BQf89ycauxsmJhu7GicBCAcFuwUHBwW7BQd9DwsLDw8LCw8AAAAAAQFKAP4CtgJ2ACYAAAEWFAcOASMiJi8BBw4BIyImJyY0PwEnJjQ3NjIfATc2MhcWFA8BFwK2DAwGDwgIDwZ8fAYPCAgPBgwMfHwMDAwiDXt8DCIMDAx8fAFEDCIMBgYGBnx8BgYGBgwiDHx8DCIMDAx8fAwMDCIMfHwAAAIBPAD8AsQChAAbACgAAAEiBw4BBwYVFBceARcWMzI3PgE3NjU0Jy4BJyYDIiY1NDYzMhYVFAYjAgAoJCQ1DxAQDzUkJCgoJCQ1DxAQDzUkJCgvQkIvL0JCLwKEEA81JCQoKCQkNQ8QEA81JCQoKCQkNQ8Q/stCLy9CQi8vQgAAAQFmASYCmgJaAAwAAAEUBiMiJjU0NjMyFhUCmlpAQFpaQEBaAcBAWlpAQFpaQAAAAQCd/8QD/AMjABYAAAEUBw4BBwYjIicuAScmJwEWFx4BFxYVA/woKIpcXWk0MTFaKCgjAs4iGxslCgoBwGldXIooKAoKJRsbIQLPIikoWjExNAAABQB4ADsD7gNIAAUAGAAeACQANAAAAS4BJx4BJwcnNxQyFR4BFx4BFxYUMxQWFQ8BLwE3FwMHLwE3FwMHLgEnLgEnOAExLgEnNxcD7gEBAQEBaEw/TQEGGgYFCQUBAQK0gRkmgSfRgRkmgSbQRwMHBAMFAwcaBkg/AjoDBAICBMtNQE0BAQUZBgULBQEBAQEBtIIZJ4En/v+CGSaCJ/7/RwMGAwMFAwYbBkg/AAEBTQKpArIDoQBFAAABLgEnNCY1Iy4BLwEuAQcOAQcOAQ8BMAYHDgEXMR4BFx4BFTIWFR4BMzI2Nz4BNz4BNx4BHwEwFhceATMyNjczMDQzPgEnArIDDwYCARs1HQIGFhIOEgUBAQFtAgEGEgMBDwUBAQEBBhQQEhkHAQEBDx0PDh4OAQIBBxcSEBQGAQEGGAYC+wsPBQEBARw2HAIGEAICDwUBAQFtAgEGFxMOEgUBAQEBAQYPFQgBAgEPHQ4OHg4BAgIIFBAGAQUfFwAAAAAFAEr//QO2A4MAJwBQAHgAoACsAAABNhYfAR4BFxYGBw4BBw4BBwYmJy4BNTQ2Nz4BNy4BJy4BNTQ2Nz4BAQYmLwEuAScmNjc+ATc+ATc2FhceARUUBgcOAQceARceARUUBgcOAQcTJjY/AT4BNzIWFx4BFx4BFxYGBw4BIyImJy4BJw4BBw4BIyImJy4BARYGDwEOAQciJicuAScuAScmNjc+ATMyFhceARc+ATc+ATMyFhceAQMUBiMiJjU0NjMyFgMfCAwGbQQLAQEJBhw3HAQKBQoPBAUJEgUUKhMVJhYFEgkFBQr9yQgMBm0ECwEBCQYcNxwECgUKDwQFCRIFFCoTFSYWBRIJBQUKB4oBCwZtBQoGCAoFHTYcBQsBAw4EBQsGCRAFEysSFiYVBRAKBwoGBAoBKQELBm0FCgYICgUdNhwFCwEDDgQFCwYJEAUTKxIWJhUFEAoHCgYECjk0JSQ0NCQlNAJVAQsGbQUKBggKBR02HAULAQMOBAULBgkQBRMrEhYmFQUQCgcKBgQK/tcBCwZtBAsGBwsFHTYcBAwBAw4EBQsHCQ8FFCoSFiYWBBEKBgsFBAoBAcEIDAZtBAsBCQUcNxwECgUKDwQFCRIFEysTFScVBRIJBQUK/a8IDAZtBAsBCQUcNxwECgUKDwQFCRIFEysTFScVBRIJBQUKAR8lNDQlJDQ0AAEAPv/TA8ICngAwAAABFAcOAQcGIyInLgEnJic3PgE3PgE3PgEzMhYXHgEXHgEXHgEzMjY3PgE3HgEVFhQVA8IlJXxSUVlBTEuFLy8HGQwpCR06IxAmFRYrEhUmEhMlFxErFyZAGh01HwUqBgHArWJjYg0MERFIOTlRAhJSFDyAMBggKh0hTigoUCIcKGE3OXkwAwEFMT0lAAAAAAL/1QCgBCAC2gBVAFcAAAEiBw4BBwYxDgEHDgEjIiY1NDY3PgE3PgE3PgE3PgEzMTIWFx4BHwEeATMyNjc+ATc+ATc+ATMyFhUUBgcOAQcOAQcOAQcOASMiJicuAScwJy4BJyYjJTEBVwwSEiEMCwgRCRpXRxslJRkIIyAIEAgVLhsLPzQ4RQsVJBINEEUPDhsdCBAIFS4bC0AzGyUiGgEPCRcoFQgQChtYRjdHCxYnEgwMIxITDQKNAlccHEQdHBElEDiEJRsaJAIFLkAQIxEvXCcOQ1EUIEkjGiOKODkQIxEvXCcOQyUbGiUBAgwOH1MqESUQOIROEiJPJh4eSB4eBQAABP/VAKQEIALeABEALQBPAGsAADciJjU0Njc+ATc+ARceAQcOASEiJicuAScmNjc2FhceATMyNjc+ARceAQcOASMBIiYnLgE3PgE3PgEzMhYXHgEXFgYHBiYnLgEjIgYHDgEjJSImJy4BNz4BNz4BMzIWFRQGBw4BBw4BBw4BIxUbJSUZAx0YDDMWGA4MHE0CSzdHCwkUCQ0RGBgyCwgmEBAZHQsyGBgSDBtYRv4+Bw8GGBELEB0PK0YNOEUNChEKDBAYGDIMCCATEyUPCx8RApkIDwcYDg0JFAkrRg0bJSIaAQ8JCA8JCCAQpCUbGiUBAh8uGA8NDTIXOFtPEQ8iFBgyCw0RGBFNNzgYEQsLMhg3gQElAwMLMhggMxQ8FVEUDiAUGDILDREYEE5UGxASJAQEDTMYEx4PPRQlGxolAQILDwsYEBASAAr/0QCiBCQC5ABdAHAAhACYAKwAvwDSAOcA+gFYAAA3IiYnIiYnLgEnLgEnLgEnLgEnLgEnNCY1NDY3NDY3PgE3PgE3PgE3PgE3PgE3NjIXMhYXHgEXHgEXHgEXHgEXHgEXHAEVHAEHFAYHDgEHDgEHDgEHDgEHDgEHNCIjJTQ2MzEyFhUxFAYjMTgBOQEuASUuATcxPgEXMR4BBzEOASMxIiYnIS4BNzE+ARcxHgEHMQ4BIzEiJiclJjY3MTYWFzEWBgcxDgEjMQYmJyUuATcxPgEXMR4BBzEOASMxIiYlLgE3MT4BFzEeAQcxDgEjMSImJTEmNjcxNhYXMRYGBzEOASMxIiYnJzQ2MzEyFhUxFAYjMTgBOQEuAQUqASciJicuAScuAScuAScuAScuASc0JjU8ATc0Njc+ATc+ATc+ATc+ATc+ATc2MhcyFhceARceARceARceARceARcUFhUcAQcUBgcOAQcOAQcOAQcOAQcOAQcGIiMVAwYDBAYDAwYCAwQEAQYBAgMCAQECAgEBAwECAwIBBAMCBgMDBQMDBgQGDQYDBwMDBgIDBAECBQIBAwICAQECAgICAwECBAMCBQQDBAMEBgMFBAJHJRsbJSUbGib+FxgQDAwyGBgQDAggEggNBwKEGBANCzIYGBENCCASBg4I/vQMDxgYMwsLDxgGDwcRIAj+1xgQDAwyGBgQDQggEQcNAn8YEQ0LMhgYEQ0IIBIGDf5JDA8YGDIMCw8YBg8HESAIgCQcGyUlGxwkAsYDBwMDBgQDBgEDBQMCBQECAwIBAgECAgMBAgMCAQQDAgYDAwQDBAYDBwwHAwYEAwYBAwUDAgUBAgMCAQIBAgIDAQIDAgEEAwIGAwMEAwQGAwMHA6QBAQMCAQMCAgMEAQYDAwUDAwcDAwYEAwYDBAYDAwYCAwQDAgUCAgMBAgECAQEDAgEDAggFAgIFBAMEAwMHAwMFAwMGBAMGAwQFAgMEBAEGAQIDAgEBAgI+GyUlGxslAiVoCzIYGBENCzIYEBIDAwsyGBgRDQsyGBASAwMeGDILCw4YGDMLAwMCEhKNCzIYGBENCzMYEBIEAw0wGBgRDQszGBASBB4YMwsLDxgYMgsDBBIQpRknJRsbJQElJAIDAQIDAgEEAwIGAwMEBAMGAwQGAwMHAwMHAwMGAQQEAwIFAgEDAgIBAQICAgICAwECBAMCBQQDBAMDBwMDBwMDBgQDBgMEBgEDBQMBBgECAwIBAQICAAABASYA9wLcAo8AAgAAARMlASZ0AUICj/5ooAAACAEJANUC+gKmABcAKQA7AFMAZQB9AI8AoQAAASImLwEmNjc2Mh8BHgEHDgEHDgEHBiIjEyImLwEmNjc2Fh8BFgYHDgEjJyImLwEmNjc2Fh8BFgYHDgEjFyImJy4BLwEmNjc2Fhc2FhcWBg8BDgEjNyImJyY2PwE2FhcWBg8BDgEjNyImJyY0NyY0Nz4BHwEeARUUBg8BDgEjJyImLwEuATc+AR8BHgEHDgEjJyImLwEuATc+AR8BHgEHDgEjAS8LEQIIBAYICBMJHAsIBgMKBgMKBgQFAk0LEgERAwsNDRcFEQMMDQQFAScLEQIRAwwNDRYFEQQMDQUEAkUEBgMHCQEJAwwNCxUGCxUGBwkNGwcHA3sJDwMHCQ1ICxkHBggNSQMHBakKDwMDAwMDBxkLHAgJCQgcAwcFUwUHA0ALCAYGGQxACwgHBA8IlgQHBEALCAcGGQtACwgGAw8KAk0MCx4KEgYHBQ8GGQsHBwEFCAIC/vMMCzoNFwUDDA05DRcFAQGGDQs5DRcFAwwMOg0XBAIB8QEBBAoIHgwXBQMJCwMJCwsZBw8BAT4JCAsaBiQHCQ0LGQYlAQFTCQgIEAYHEQYLCAYPBQ8ICQ8DDwQBTQMBJQYZCwwIByQGGgsICVYCAiQGGgsLCAYlBhkLCgcAAA0BCQDVAvoCqQARACMANQBHAFwAbQB+AI8ApQC2AMcA2ADpAAABIiYnJjY3PgEXHgEHDgEHKgETIiYnNSY2NzYWFxUWBgcGIiMnIiYnNSY2NzYWFxUWBgciBiMnIiYnNSY2NzYWFxUWBgcOASMTIiYnLgEnJjY3NhYXHgEXFgYHDgE3IiYnJjY3MzYWFxYGByIGIzciJicmNjczNhYXFgYHIgYjNyImJyY2NzM2FhcWBgcGIiM3IiYnJjQ3MDQxPgEXHgEVFAYHDgEjJyImJyMuATc+ARceAQcOASMnIiYnIy4BNz4BFx4BBw4BIyciJicjLgE3PgEXHgEHDgEjJyImJyMuATc+ARceAQcOASMBJgkRAwQGCAgTCQwIBwMMCAMCVgsRAgMMDA0XBQMMDAUFAR4LEQIDDAwNFwUDDAwEBQIeCxECAwwNDBcFAwsNAwUDWAQGAwcJAQMLDQoQBgIDAQcJDAQITgoPBQcIDAILGQYHCQ0BCANRCg8FBwgMAgsZBgcJDAQGA08KDwUHCAwCCxkGBwkNAQcEUQoPBQMDBhkMCAkJCAQGA1gDCAQCCwgGBxkLCwgGAw8IVwMJAwILCAYGGQwLCAcDDghYAwgEAgsIBgcZCwsIBgMPCFcDCQMCCwgGBhkMCwgHAw4IAmsMCwoSBgcCBAcZDQcJAf7PDAsCDRcFAwwNAg0WBQJkDAsCDRcFAwwMAg0XBQJmDQsCDRcEBAwNAg0XBQEB/tEBAQQJBwwZAwMFBgIFAgsZBwEBJwkICxkGBwkMDBkGAigJCAwZBgYIDQsZBwIpCQgLGQcGCQwMGQYCJgkIBw8IAgsIBgUPCgkPBAEDMQMCBhkLCwgGBhoNBgkxAwIGGQsLCAYGGg0GCTQCAgYZCwwIBwYaDQgGMQICBhkMCwgHBhoMBwgAAgEJANUC/AKpABgAHAAAJSImJy4BJwMmNjc2MhcFHgEVFAYHBQ4BIwMTNyUBmgQGAwcJAXMEBggIEwkBtAgJCQj+vgUHA0BT6v7D1QEBBAoIAZcKEgYHBPoFDwgIEASgAQEBdP7Zc7QAAAAAAQCQABADbQN0ADUAAAEVFAYjIiY9ATQmKwEDFBY7ATIWFRQGIyEiJjU0NjsBMjY1EyMiBh0BFAYjIiY9ATQ2MyEyFgNtGRESGBoSxAIZEj4RGRkR/tsSGBgSPBIZAsQSGRkREhkZEgKIERkDSqwRGRkRVhIa/XASGRkREhkZEhEZGRICkBoSVhIYGRGsERkYAAAAAAEABAAVA+8BlQBRAAAlBw4BBzAiFSoBMTAiMTAiMSImJzgBMS4BPQEhIgYHDgEPAQYmPQE0NjMhNTQ2NzQ2NTA2MTA2NTAyMToBMzAyMTAyMTAWMTAyFR4BHwEWFA8BA+SRAwYEAgEBAgIDBQMDA/2NBQoFESsVMw0RakwCcQICAgICAgIBAgICBAICBQKgCAgLs5EDBgICAwIDDAhkAgIDFRUzDQYQJktqYggLAwEBAgIBAQICAgMDoAgZCA0AAAEAC//NA/cDugBuAAAlBw4BJyY2Nz4BNw4BBwYmLwEXBw4BBwYmLwEPAQYmJy4BPwEHKgEvATc+AT8BJy4BNz4BNzMXJy4BNz4BNw4BBw4BJy4BNz4BNz4BNz4BNz4BNz4BFzY3PgE3NjsBNhYHFRQHDgEHBgcWBgcOAQcCRV8RIQwNEhwdGwUUKRURKA0cBAEEDAUKEwQJVgMQFQIGAgM7jgUQBwgCAQ4EejoPCgQEFAQFhSENCAYJFAoWRy0qJwwHAQMDCgUIGg0JEAMIGQxFbBlSXVyqRUUkAhQgAQYGQEREfQYKLggcCyVKCxANDCcqK0QXCRIIBwkNG5oEDAsBAwwORUYCDwkCBRAJaDQHBwwJCwJDGwUSCgsFARsiDSgSFy4WBBsfHBEMBg8HCBEICyEPDBQFCxwIMAcFe0RDQAYHASAUAiVHRq1dXlMbaUIMGQgAAAAAAQAO/8QD9wO8AGwAABMeARceARc2Nz4BNzY3NhceARcWFxYXHgEXFhcWFxYGBwYHDgEHBgcOAQcGJyYnLgEnJicuAScmNjc2FhceARceARceATM+ATc+ATU0JicuASciBgceARceAQcOASMqASMiBicmNjU8ATU0NjMzFiQPEh4PISIiTCsqMzIuLVEjJB8dGhstEhILDQQFBwsKEyJnRiEnKFkxMTRIPz9lJSUUAgQCAiYdHS8EBAUCDjIiKnpVUnorLTs9Kyt6UEplMBEaEwkxAwI5FRwuHC+FDwgCAhMDvAEoDxIgDRkWFR8KCQEBCAccFBQXFxwcQCUkKCowMF8tLSdJbikUDxARAQEKDx8fXTs8RgcZDRMgBAQODgoTBTJQHyg6AT8sLX5OT38rLD8BKiEUGxIJKBQTAwMeDzMVMlE1Fj4AAAkAAAFWBAACKgAYADEAowDGAUUBWgHCAfcCLAAAAS4BIyIGBw4BFRQWFx4BMzI2Nz4BNTQmJwcyFhceARUUBgcOASMiJicuATU0Njc+ATMlIgYHFS4BJyM0IiMqASMqASsBKgEjIgYrASoBIyIGIw4BBzEOAQ8BMAYHDgEHFAYxBw4BFRwBFRwBFxUwFh0BHgEXHgEfATAUMTMeARcyFhceATsBOgExMjYxMDIxMzAyMT4BNx0BHgEXMz4BPQE0JiMHFAYHDgEjIiYnMCI5AS4BJy4BJzQmNTQ2Nz4BMzIWFx4BFTc8ATUuAScuAScuAScjMCYjKgEjKgEjKgEjIgYHDgEHDgEHIgYHDgEVFBYXHgEXHgEXHgEXHgEXHgEXMhYzOgEzFjI7AToBOwE6ATMwMjE3PgE3PgE3PgE3NTY0NTQmIyIGBw4BBw4BIyImJy4BJzUuAScuATU7AT4BNzE8ATEnPgE3NT4BNz4BMzIWFx4BFx4BFSMlFRQGIyImJzU0JicuAScwIiMiBgcOAR0CMRUUBiMiJj0CMDQxLgExMCYnLgEjIgYHDgEdAQ4BIyImPQE0NjMyFhc2Mjc+ATMyFhceARcyFjMwNjE+ATc+ATM6ATMeARcUFhceARUHFAYrASImNTQ2OwEyNjU0JisBMCIxIiY1NDY7ATIWFRQGKwEiBhUUFjMxMDIxMzIWFx4BFSEUBisBIiY1NDY7ATI2NTQmKwEqATEiJjU0NjsBMhYVFAYrASIGFRQWOwE4ATsBMhYXHgEVA1wMHBERHQwLDAwLDB0RER0LDAwMDDkKEwcICAgHCBIMCxIHCAcIBwgSC/1vBQgBCRUMAQIBAQEBAgMCAQEBAQECAQEBAQEBAgEJEQgBAQEBAQEBAgIBAQYHAQEDCggDBwMDAQEDAQECAQcQCAEBAgEBAQIBDBUJAQcEBAUHCAYPBwgHEgsFCQQBBQkDBgYCAQcICBIKCxEICAfSAQYFAgYDCRULAgIBAQMBAQEBAgQCCxMJAQMBAgMBAQEBDAwDAwMJBgEDAgIFAgIDAgUJBQECAQECAQECAQEBAQEBAQIBAgEPGQoCBAIBAQEBCAYEBgICAwIIEgsLEggBAgIBAgEBA3cBBAYBgwEEAgIDAggSCgsSCAMGAgEBZAHtCQYFCAEEBAUJBQEBBgoEBQQIBgYIAQMEAQUKBgYKBAUEAQgFBggIBgQHAgEBAQYOBwsTCAEBAQEBAQIBAgEHEwsBAwEJEQcCAQgJ3hsUOQYICAY4CQwMCRkCFBwcFDgGCAgGOAkLCwkBGgUKBQ0PAh8cEzoFCAgFOQgMDAgZAQEUHR0UOAYICAY4CQwMCAEBGgUKBA0QAeIMDAwMDB0RER0MDAwMDAwdEREdDAQICAgTCwwTBwgICAcIEwsMEwgICEwHBTcICQEBAQEDCQcBAQEBAQEBAwIBAQEKFw0BAgECBAEEAgECChMIAwUDAQEBAQEBAQMDAQEKBwYBBAcBAQgFtwYIggsTCAgHAQICBgQFDQcDBgQLEwgICAgICBMLAwIDAgkQCAQIAwkMAgEGBgECAQEDAQIBDB0RCA8HCA0HAQMBAgQBAQIBAgMBAQEBAQwKAwUCAQIBAQEDAQYIAwMCBAIICAgHAgMBAQEDAgMHBAEHBQEBCwQIAwECBAIICAgIBAgFAQQCC1wFCQcGXQYLBQQEAQUEBQoGAQFbBQkIBQFcAQQKBQIEBQUEBQsGXQYHCQWJBQkFBAEBAwQHBwECAQICAQIBBwcBBwYBAgEIFQw7FBwIBgYIDAgJCx0TFB0IBgYIDAkIDAICBhgOFBwIBgYIDAgJCx0TFB0JBQYIDAgJDAICBhgOAAIARwAPA7kDcQAwAE8AAAEuASMiBg8BETQmIyIGFREnJiIHBhQfAR4BMx4BFzgBMRYyNzgBMT4BNzI2PwE2NCcTISImPQE0NjMyFh0BFBYzITI2PQE0NjMyFh0BFAYjAvoHEQkKEQeHHBQUHIcOJw4ODtgBAgECAwILGAsCAwIBAgHYDg4l/cJAWhwTFBwjGAI+GCMcFBMcWkACCQcHBweIAcAUHBwU/kGHDg4OJw7ZAQICAgEFBQECAgIB2Q4nDv4GW0DUFBwcFNQZIyMZ1BQcHBTUQFsAAAMAFABtA+wDEgAZADMARQAAJSImLwEuATU0Nj8BNhYXFgYPARceAQcOASMhIiYnJjY/AScuATc+AR8BHgEVFAYPAQ4BIwUiJiMuATcTPgEXHgEHAw4BIwEWBw8G1wcICAfXDiMLDAMNsrINAwwGEQkB1AkRBgwDDbKyDQMMCyMO1wcICAfXBg8H/scDBgMREQSfBR4RERIFngQXDt4FBbgGEQkKEQa3DAMNDiMLmJcMIw0IBwcIDSMMl5cMIw0OAgu4BhEJChEGtwUFcQEFHxECUBESBAUfEf2wDxEAAAAAAwBGAA4DuwNyADAAOgBZAAABDgEjIiYvAREUBiMiJjURBwYiJyY0PwE+ATc+ATc4ATE2Mhc4ATEeARceAR8BFhQHAzIWFyYiBz4BMwEhIiY9ATQ2MzIWHQEUFjMhMjY9ATQ2MzIWHQEOASMC+wcSCQkRB4gcFBQchw4oDg4O2QECAQIDAgsZCgIDAgECAdkODvsGDAULGQoFDAYBH/3CQFscFBMcIxkCPxgjHBQUHAFbQAJIBwcHB4f+PxMcHBMBwYcODg4nDtkBAgEBAgEGBgECAQECAdkOJw4BKgMDBgYDA/ycW0DVExwcE9UZIyMZ1RMcHBPVQFsAAAAABgAIAEgD+AM3AAwAMQBAAE8AfgCLAAAlDgEjMjY3NDAxDgEHASM1NCYnLgEjIgYHLgEjIgYHDgEdASMiBhURFBYzITI2NRE0JiU+ATMyFhcRLgEjIgYHEQU+ATMyFhcRLgEjIgYHEQEhETMRFBYXHgEzMjY3PgEzMhYXHgEXHgEzMjY3PgE3PgEzMhYXFjY3PgE1ETMRJTAiIyImJx4BFx4BFwIMAwYDBgsFAgYCAcFGDAoqYjQwWicnWjA0YioKDEYSGRkSA5oSGRn+RiBHJSdIICFIJiVGIf6bIEgnJ0ggIUgmJkghAvH8nioIBwUKBQQGBCNULipPIgIGAgMGAwMGAwIGAiJPKi5UIwkRCAcIKv5PAQEFCwQCBgIDBgO0AQIDAwEBAgECFCwLEgQREQ4ODg4REQQSCywaEv3YEhoaEgIoEhoUCgoLCv4rCQkICQHVAQoLCwr+KwkJCQkB1f21AfH+VAkQBQMDAgEODw0MAQIBAQICAQECAQwNDw4EAgUFEAkBrP4PIQQDAQIBAQEBAAAEABEADwPvA3EAJAApAC4ASQAAASM1NCYjISIGHQEjIgYVERQWOwEVFBYzITI2PQEzMjY1ETQmIyUhFSE1ASE1IRU3FAYrATU0JiMhIgYdASMiJjURNDYzITIWFREDgmsgFv4/Fx9sLUBALXIeFQHGFR5mLUBALf21AZL+bgGZ/m0BktMTDWUfFf46FR5yDRMTDQMEDRMCfb4XHx8XvUAt/tMtQDUVHh4VNUAtASwuP6enp/04g4OIDRM1FR8fFTUTDQEsDhISDv7UAAAIAEj/8wPCA40AAQAEABUAJgAvADgAQQBKAAABMSUxFQcnJiIHAQYUHwEWMjcBNjQnDwEGIi8BJjQ/ATYyHwEWFAc3FRcnNwcnFwcTFRcnNwcnFwclFTcvAQ8BHwE3MzcHJxcHNxcCHQFCJRkOKQ/9bQ4OGQ8pDgKTDg4PngQKBCYEBJ0ECwQmBAQpMhoaMjIaG2FALQ4wQC0N/tIuLhANLS4QeAEySTcRM0k3ApieAWkZDg79bQ4qDhkODgKTDykOLp4EBCYECwOeBAQmBAsDfQEaMjIaGzMy/u8BDS9ALA0vQMgBEA0tLhANLdo3ETJIOBEyAAAAAAEA4P/VAxoDqwAfAAABByIGFxMWBg8BBiYnAy4BDwEGJjUDNDY3NhYXARYGBwMT5gUDAbYDBghTCA8DtQIHAqIJDA0EBQMHBwIgCAQLAbcTBwP+fQgOAykDBQcBggMCA6IIBg0C0QYHAgEBBf4nCAwCAAAABAAzAKYDwgLGABsANABTAHUAAAEiJicuATc+ATc+ATc+ARceAQcOAQcOAQcOASMDIiYnJjY3NhYXHgEXPgE3PgEXHgEHDgEjAyImJy4BJw4BBw4BJy4BNz4BMzoBMx4BFxYGBw4BIwEiJicmNjc+ATc+ATc+ATc+ARceAQcOAQcUBhUOAQcOASMDYgULBRUPCAsRBgUGAgooFBUPCAEGBAYSCggbELc6Th0LDhMTKgsdIwUDDQkNLBIRBg8bNBvrDhgHFhwFAxQQCywREwkNE0ArAQQBMkUWCwsTBw8G/p4LGAgOBRIDDQsCAQIBCAQIKRUVEAkFBwMCDBsTCBIIAbcDAggpFRgrEAwNBRUPCAooFAQOCBAsGRAT/u9bNBQqCwsNEzUhAgILDREGDw0sESAjAVoNDSYaAgITGBMJDQssEh4/A0wmEyoLBQT+xgoKESsOAxUZBAMCBRAHFBEKCCkVDRAFAgEEGC8OBQYAAAABAFoAqwOvAsQAQAAAAQ4BBw4BBw4BIyoBIyYnLgEnJicuAQcOAQcOAQcOAQcuASc+ATc2Nz4BNzYzMTIXHgEXFhceATMyNjc+ATceARcDrw0VDRMnFQtEPAEGASUcHC8WFRgQPCMjMxAUJxQFEw0QFgYMGA0XFhYxHR0lKB4fMhYXGBA7ISA5EBs0IBAbBgIRGjgdKVMgEUoCFBRDLCwyI5QCAYsgKlIgCBYNHUMlGDMbMy0tQhMTFBVFLi40IZCQIT1tIx1AJQAAAAAFAE8ADwOxA3MAVABeAGgAcgB8AAABBwYiJzgBIy4BPQEjFTMyFg8BBiIvASY2OwE1IxUUBi8CJjQ/AzYWHQEzNSMiJic4ATEmND8BNjIfARYUBzgBMQ4BKwEVMzU0Njc2Mh8BFhQHJTEHIiYnHgE7ATcOASsBNTM+ATcTLgE9ATMVHgEXNQ4BHQEjNTQ2NwOxxAIFAgIDBbokCwwEUQQOA1EDCwsktQsGjTULCzMEiwYLtSYGDAECAlMFDgVTAQECCwYnugMDAgYDxAsL/iklCAkCAgsGJYICCQglJwQKA4YFBgMBBAMDAwIDBQGzUwICAgsGJ7gLBsILC8IGC7glCwsDPBcFDQQVAjoDCwslugQEAgUCxAsLxAMEAgMFuicGCgMBAVMFDgXpAgUFAwUGBQYDAQQD/r4CCQgkJgUJA7wDCgYnJAgMAgAAAAEAbwAvA7MDbwAuAAABBwYmPQEjERQGIyImNREhIiY1NDYzITUjIiY/ATYyHwEWBisBFTM1NDYfARYGBwOxxAgJuhYODxX+uQ4WFg4BRycLCwNTBQ4FUwMLCye6CwbECgELAbNTAwsLJ/65DhYWDgFHFQ8OFrgKB8QLC8QHCrgnCwsDUwQNBQADAGP/wAOeA8ABJgHcAgsAAAEiBiMOAQcOAQcwBjEiBiM4ATEOATEGIgcwBjEOAQcOAQcwIjEOAQcOASciJicuAScuAScuAScuAScuAScuAScuASceARcuAQc2MhcmBgcwIjEiBiMGIgc4ASMOASMOAQcOAQc+ATcOAQcyNjEOAQcOAQc4ATEOASMUMCM4ARUjMAYHMAYxDgEjBjAHIgYjDgEHMCIxBjAHOAExDgEHKgEjMSIwIy4BJx4BFy4BJyIwMTQiMSImNS4BJyYnLgEnJjc+ATceARcxFhceARcWFx4BFxU+ATM+ATc+ATcwNjMuAScmJy4BJyYnNjc+ATc2MTAXHgEXFhcOAQcOAQcOAQcyFhUeARceATMwMjM6ATcxPgE3Njc+ATc2NzA2Nx4BFxYVDgEHBgcHMAYjMAYxDgEjOAEjDgEHDgEHDgEPAQ4BBwYiFSIwMQ4BBzAiMQ4BMQ4BBzgBMQ4BByIUIyIGByIGIzAGMTAiMQ4BIzAiMRQiMTAiIw4BJy4BJzAmIzgBMSImMSI0IyImJzgBIy4BJzUuAScuAScuAScuAScuAScuAScuASMOAQcwBjEOAQcOAQcOAQcOAQcOAQcOAQc+ATcOASMyNjcOASMGJicWFx4BFxYXNjc+ATc2Nw4BBwUOASsBIiYnLgEnMjY3PgE/AT4BNz4BMzEeARceATMyNjcyFhceARceARcyFjMHA4ADBgMIEAcEBwQBAQIBAQIBAQEBFCERCBAJAQECAQoXDQoRCAQHBAULBQEBAQECAQQHBAYLBQsWDQIDAhAkEwQIBQcPBwEBAwIBAwEBAQQCBw4GChAIAQIBAwYDAQIJEgoECAUBAQEBAQIBAQEBAQEBAQEBAQEBAQEBCRIKAQEBAQEFCwUCBQMJEAcBAQEBCA4GEAwLDwICBA4cDgEBAQsMDBoNDg4LGA8BAQEDCAMGDgcBAQwWCBANDhkKCwpENzdMFBUVFE43N0UYMBoQJxkBAwIBAQcPCAQJBAEBAQIBHCoPDw4OGQsMCgECDRoOAwEHBwYJGAEBAQIEAgEDBgMEBwMCAwIBEiQUAQEBAQEBAQECAgQCAgIBAQEBAQEBAQECAQECAQEBAQELGA0KEgkBAQEBAQEBAQEBDxoNBgsFAwUDAQMCAQIBBAkFBAoFBw8ICRAHAQQHAwUIBAcPBwsZDQYNBwIEAgIEAgwZDAkTCggPCAsXCyszNFwiIwkLLCxxOzomAgMC/v4XMhoBGzMaDBgLAQEBBg4HBAIEAQEBAQoUCg0hFA0YDQEBAQkRCQIGAwEBAQEB0AEBBAMBBAIBAgEBAQEBDSIQCBAHAQIBCAsBCAQDBQMFCgUBAQEBAgEECAQGCwUKEgcBAgEKCwEBAQEBAQEBAQEBAwcEBg8HAQIBAwYCAggSCQQIBAECAQECAQEBAQEBAgEBAQEBBggBAQICAQEBAgkGAQEBBg0HLTMzckA/RgEBAgMFAygoJ00mJiUaOh0BAQEEBwMGDQYCGjIWJicnTSUlIg0TFCYODg4OJhQUDFeTQilUJwIFAwEBBgoEAgIBLVolJicnTicmJQYFAgEBNTIxXCoqJkEBAQEDAwQDAwYEAQQBARIlDwEBAQEBAQECAgEBAQEBAQEBAQEBAQQEAgEGBAEBAQEBCRYMAQUMBQMGAgIDAQECAQUIAwQHAwQDAQYEAQIGAgQJBAcOBwwXCgQJAwECAQECAQYGAwQDBAIEBFk+Pk4UEwQFGhltV1d/AQEBjBUVFxcMGw8BAQYNBwUCAwIBAQ8XCQ0WCgkBAQgNBQIDAgEBAAAAAgAT/9MD7QOtAC0AWwAAATU0Njc2Fh8BHgEVFgYPAQ4BJy4BNzUhFRQGBwYmLwEuATc0Nj8BPgEXHgEHFTcjIiYnJjY/AT4BMzYWHwEeAQcOAScjETMyFhcWBg8BDgEnIiYvAS4BNz4BFzMDHAYFBg4JnwUFAQUGnQkNBwUGAf3EBQUGDwieBgYBBQaeCQ4GBQYB32sLDwICBQmfBQ4IBw4GnQkGAwMNDGtrCw4DAgYIngYNBwgOBp4JBQICDgxrAf5rCw8CAgUJnwUOCAcOBp0JBgMDDQxrawsOAwIGCJ4GDQcIDgaeCQUCAg4Ma94GBQYOCZ8FBQEFBp0JDQcFBgH9xAUFBg8IngYGAQUGngkOBgUGAQAAAAEAEwD7A+0ChQAtAAABNTQ2NzYWHwEeARUWBg8BDgEnLgE3NSEVFAYHBiYvAS4BNzQ2PwE+ARceAQcVAxwGBQYOCZ8FBQEFBp0JDQcFBgH9xAUFBg8IngYGAQUGngkOBgUGAQH+awsPAgIFCZ8FDggHDgadCQYDAw0Ma2sLDgMCBgieBg0HCA4GngkFAgIODGsAAAABATv/0wLFA60ALQAAJTMyFhcWBg8BDgEjBiYvAS4BNz4BFzMRIyImJyY2PwE+ARcyFh8BHgEHDgEnIwI+awsPAgIFCZ8FDggHDgadCQYDAw0Ma2sLDgMCBgieBg0HCA4GngkFAgIODGukBgUGDgmfBQUBBQadCQ0HBQYBAjwFBQYPCJ4GBgEFBp4JDgYFBgEAAAAAAQAVAQQD6wJ6AB4AAAEhNTQmJyYGDwEOARUUFh8BHgE3PgE9ASEyNj0BNCYD3Pz+BgUFDQiVBQYGBZUIDQUFBgMCBgkJAfxkCw0CAQYIlgMMCAgLB5UIBgECDgpmCQZWBgsAAAEAFQEGA+sCfgAfAAATFRQWMyEVFBYXFjY/AT4BNTQmLwEuAQcOAR0BIQ4BFRUHCAMCBgUFDQiVBQYGBZUIDQUFBvz+BgkB61YEC2YLDQIBBgiWBA0ICA0FlQgGAQMNCmQFDAQAAAAAAgAPAMsD7wK3AD4ARAAAATgBMQ4BIyEVFAYHBiYvAS4BNTQ2PwE+ARceAR0BIToBMzEyNjc4ATE+ATU8ATU0Jic0NjsBMhYVHAEVFgYHJw4BIzI2A2YULxj9rAMFBQwHgAQEBASABwwFBQMCVAEBAggNByk5AQEGBE0FCAJMPzsHDwYIDQFNCAlaCQsDAgQIgAUKBwYMA4AGBgECDApXAgIKRy0DJxgVKQ0ECAYGGm0GR3EZUwICAgAAAAABAGv/0QOVA68AHwAABREjIiYnJjY3AT4BFzIWFwEeAQcOASsBERQGKwEiJjUBb8sYHQQFDREBRQsaEBEbCwFHEQ0FBB0YzREN5A0REQIRDAsNHhEBRwsMAgoL/rkRHg0LDP3vDRERDQAAAAAJAAD/wAQAA8AAAwAHAAsADwATABcAGwAfACMAADchESERIREhESERIQEhESEVIREhFSERIQEhESEVIREhESERIQABAP8AAQD/AAEA/wABgAEA/wABAP8AAQD/AAGAAQD/AAEA/wABAP8AwP8AAoD/AAKA/wABAP8AgP8AgP8AAoD/AID/AAQA/wAAAAUAJv/AA9oDwAAIAAwAFgAZACEAAAE1IQERMxUhESUVIzcDIxE3NSEVIwERExUjASERMzUhESMC9/42/vnjAtH9O2hoDJLvAUOY/vjuaAH6/c7yAUICAwS8/vP9ybwDRDFoaP2YAa8C8W3+9f7WAa1p/gABr/P9XgAAAAADAA0AAAPzA2IACwAbACwAACUBJiIHAQYWMyEWNiUjIiY9ATQ2OwEyFh0BFAYnIyImPQE0NjsBMhYdARQGIwPz/joTNRL+OhMbJQOPJBn+J1oICQsGWggJCQhaCAkLBloICQkITQMVICD86yAtAi9PCgdVCAkKB1UHCsYLBv4ICQsG/AgLAAAAAQER/8AC7wPAABQAAAUjESM1MzU0NjsBFSMiBh0BMwcjEwJRwICAUYCNWjETnhONAkACALFpa3uxJSFYsf4AAAgACQBGA/cDOgAQACEAMgBDAFMAYwB0AIQAABMRFBYzITI2NRE0JiMhIgYVEyMiJj0BNDY7ATIWHQEOASM1IyImPQE0NjsBMhYdAQ4BIzUjIiY9ATQ2OwEyFh0BDgEjASEiJjURNDYzITIWFREUBjMjIiY9ATQ2OwEyFh0BFgYnIyImPQE0NjsBMhYdARYGIzUjIiY9ATQ2OwEyFh0BFgYJCwgDyAgLCwj8OAgLqFUICwsIVwgLAQwIVQgLCwhXCAsBDAhVCAsLCFcICwEMCAI4/i4ICwsIAdIICwuzVwgLCwhXCAsCDQhXCAsLCFcICwINCFcICwsIVwgLAg0DJv00CAwMCALMCAwMCP1eCwhYCAsLCFgGDfwLCFgICwsIVggN/gsIWAgLCwhYCAv+BgsIAk8IDAwI/bEGDQsIWAgLCwhYBg38CwhYCAsLCFYIDf4LCFgICwsIWAgLAAIACgAaA/cDYgAcAEUAAAEhBgcOAQcGBw4BBwYmIyE2Nz4BNzY3PgE3NhYzJSEiJgcOAQcOAQcmNSY0NTY1NDY3NhY7ATIWHwEWNjMyNhceARcWBhcBLwLIDxAQIBEREQYMEhI5Gf03Dg8PHw8PDwgNGhQ2GgJA/fosZCRBLBUJFQgCAQEQKStsNmYvSQ8LEGw3HVYaCxYDCQwFAdcvLy9fMC8wFSEIBwMrLi9fMC8tGCwEBwVWBQkQcEAgPh49QECEQkJBMDoFBQUEIDMoAQYKBRUIG1kdAAH//gAiBAADXgAgAAABEQ4BByEuASc2NTY0NTQ1PgE3Mx4BFxYzOgE3MjMeARcEAAUmIvyYICcGAQEFJiLoVD5OMjM0aDU0NCIlBgKL/eYiJgcHJiJUVFOoU1RUIiYHBXILAwEFKSEAAwAJABMD9QNrABAAIQAyAAATITIWHQEUBiMhIiY9ATQ2MxEhMhYdARQGIyEiJj0BNDYzESEyFh0BFAYjISImPQE0NjMtA6QOFhYO/FwPFRUPA6QOFhYO/FwPFRUPA6QOFhYO/FwPFRUPA2sWD0oPFhYPShAV/p4WD0oPFhYPShAV/p0VD0sOFhYOSxAUAAAABQAGAB4D/ANmACgAOQBKAFYAYgAAJTQmJzAnLgEnJicuASMhIgYHBgcOAQcGBwYWFxUUFjMhMjY3PgE1PgEBPgEzITIWFxMhNjc+ATc2NwEUBiMhIiY9ATQ2MyEyFh0BJxQGIyImNTQ2MzIWFxQGIyImNTQ2MzIWA/wBBBQUMxcXBQw0J/3tGjMIBBcWNBYVBAMCATcjAzUYIQwOEgEB/OgFEgUB+gQWA2n8/gQPDyMPDwMCwg4L/OgLDg4LAxgLDvMeFRUeHhUVHqceFhUeHhUWHpVKggpBQZ9GRgwYKiQZC0REnkNECAp/MzMaQhQKDiUPAQ0Cbg4HBw7+ygsvLmkuLQr9jAkODgnNCg4OCs1pFR4eFRUeHhUVHh4VFR4eAAAAAAIAM//RA7EDsQAYADEAABMmNDcBNiYvASYGBwEGFBcBHgE/AT4BJwEhJjQ3ATYmLwEmBgcBBhQXAR4BPwE+AScB1wQEAVIMAg8kDiUN/nMNDQGNDSUOJA8CDP6uAYkFBQFRDQMOJA8lDP51DQ0BiwwlDyQOAw3+rwG1BQ4FAYQOJQ0gDQMO/jUOKA7+Nw4DDSANJQ4BhAUOBQGEDiUNIA0DDv41DigO/jcOAw0gDSUOAYQAAAIADwA1A/EDSwBeAKAAABMiJicuATU0Njc+ATEwNz4BNzY/Az4BNz4BMzYWFzAXHgEXFhcwFjM2Jjc0Njc2FjMyNhcWBhUUBhceARceARceARUUBgcOAQcqAScuASMmJy4BJyYjIgcOAQcGJwEmNj0BJiIHBhUcARcUFRQWBwYmKwEqAScuAScmNj0BNCY3PgE3AT4BMzA2MxYXHgEXFhcWBh0BFBYHDgEHBiIrAUkKEAQFFxAKAxAyM4A6Og8NCwYIDggFEQESHQsVFTMWFgIJAQQFAQMCCDYMEDMIBQEDAwIJBhRPAgQTDAUFGAkEBgMFFQIWQUGKNzYCAkNDokVEBAIGAgICmgIBAQICAjkFghIgCgMMAgUBAgIBDAgBRAIBAgICBjc4gjU1AQICAQUCDAMLIRLAAXwRCAgVCggOCAMMKitqMTAMCwsCBg4DAgMBBwkSEisSEgEIA2gOAgoBCAEDCgaZJRIkCgUHBRBEAQUNCAgPBwYfAQIBFhM2NnItLTg4hjc4Af65AjIIsQICARgZQyIjFQMZAgEBBQELBQsrFsULFgUHBgYBCwICAgMtLWotLAIFGAvHFCsLBAwBBQAAAgAAAEAEAANAAAsAEAAAARQWMzI2NTQmIyIGASEJATcDAEs1NUtLNTVLAQD8AAEAAVWrAsA1S0s1NUtL/UsCq/5VgAAMAA0AkQPxAw0ADwAgADEAQgBTAGQAdQCFAJcApwC4AMgAACUhIiY1ETQ2MyEyFhURFAYBIgYVERQWMyEyNjURNCYjIRcUBisBIiY9ATQ2OwEyFh0BMxQGKwEiJj0BNDY7ATIWHQEzFAYrASImPQE0NjsBMhYdATMUBisBIiY9ATQ2OwEyFh0BBRQGKwEiJj0BNDY7ATIWHQEzFAYrASImPQE0NjsBMhYVFxQGKwEiJj0BNDY7ATIWHQEjMxQGKwEiJj0BNDY7ATIWFTcUBisBIiY9ATQ2OwEyFh0BAxQGIyEiJj0BNDYzITIWFQOT/NgnNzcnAygnNzf8sQwQEAwDKAsREQv82JcJCDUHCgkINQYLlQkINQYLCQg1BwqUCQg2BgsJCDYGC5MJCDYGCwkINgYL/qAJCDYGCwkINgYLkwkINQcKCQg1BguTCQgzBgsJCDUHCgKTCQg1BgsJCDUHCj4JCDUGCwkINQcKewkI/ogGCwkIAXoGC5E4JgHAJjg4Jv5AKDYCOBEL/kALERELAcALEY0HCgkINQYLCQg1BwoJCDUGCwkINQcKCQg1BgsJCDUHCgkINQYLCQg1mAYLCQg2BgsJCDYGCwkINgYLCQg2BgsJCDYGCwkINgYLCQg2BgsJCGIHCgkINQYLCQg1/uIHCgkINQcKCQgAAgBi/8kDoAO3ACEAKgAAATQnLgEnJiMiBw4BBwYdASMiBhURFBYzITI2NRE0JisBNSE0NjMyFh0BIQMVEhFGNDRERDQ0RhESRRwoMCECnCIvJx1H/ktOUlNN/sACpjQxMU0XFxcYTTExM7MvIv54Ii8vIgGIIi+zOGZkOrMAAAABAAsBUwP1Ai8AFAAAAQYmIyEiBicuATc2FjMhMhYXFhQHA/URhjj9tjqCEwoCChGGOgKkKz4MCgoBdSQCBSUScRclAwUdFW8UAAAABAAGAKQD/ALcAGMAfgDuAQwAAAEHDgEHDgEHDgEjIiYnLgE1NDY3PgEzMhYXHgEVFAYHDgEdARcyNjc+ATc+AT8BIzcyNjc+ATc+ATc+ATMyFhceARUUBgcOASMiJicuATU0Njc+ATU8AScmIiMiBgcOAQczDwElBw4BBw4BBw4BFRQWFwcuATU0Njc+ATc+ATcHNx4BFz4BNz4BNz4BMzIWFx4BFRQGBw4BIyImJy4BIyIGBw4BBx4BFx4BMzI2Nz4BNxcOAQcOASMiJicuAScuAScOAQcOAQcOASMiJicuATU0Njc+ATMyFhceATMyNjc+ATc+ATcuAScuASMqAQc3Ezc+ATc+ATc+ATc+ATU0Jic3HgEVFAYHDgEHDgEHAREkDRkLDRsQECYUDRMHBgcGBQUNCgYMAwMEAwIBAwQFBwMIDAQDCghAKwsLEgUFDAQSJBMTKhYPFQcGBwQFBQoGBwoFBAQDAQMBAgEDAgoTCRAaCi0LJgFABhcjDxYkDg8NDAsEKikNDxAwIhg7IiJtDhUFDxgGChIGBw8GCA0FBAQEBAULCAUMBgcJAQcNBggUDQ0WCAUJBQUHAwUNCgsPGg0JFAkKEAYHDAUEDQYSHAwJEgcGEAgIDAUFBAYFBQwIBQoFCAoDBQcFBQwHBBAMDxgIBQ0IBQoGBNcHER8MDBoNDRUIDAoNCwUpKg4OEDEhGjokAiCPM0oWFyILDAoGBQUMBgcKBQUDAwMDCQUFBwMDAgICAgMECBELBiYf9yQDBAMNCyAtDQ4OBgUGDgoIDQQFBAQFBAgHAwkFBQYCAQMCAgwLEjkoJQS8ERAkFSBPLy5XKBk5HBI4cDYgQB4lQRwVIw+iExczHRcfCA0OBQMEBAUFDAgICwUFAwICAQMEBAcaFS45CgYHAwIDEA0HFh4KBgkEBQUNCgkgFxciDAsNAwQDBAUFDAYIDQUFBgMCAwMDAQILBgUUEDZDCwcIAgv+exENHA8OKxobOh4oSiQZOR0ROHA2IEAeJUAdFSMPAAEAAAAkBAADXgAaAAABIiMGIiMiJy4BJyMOAQcRHgEXIT4BNxEuAScDsTM0NGg0MzJMP1XoIiYFBSYiA2YgJwYGJiMC2gEDC3IFByYi/WQhJwcHJyECGCEpBQAABAAAACIEAANgAAMABwATABgAABMRIREDIREhBRQWMzI2NTQmIyIGEyETATcABABA/IADgP8AOCgoODgoKDjA/QDAAQCAA2D8wgM+/QACwKAoODgoKDg4/fgCAP7AYAAABwAJ/80D+gOzAAQACQAOABMAFwAbAB8AABMRIREhASE1IRU3ITUhFTchNSEVASE1ITUhNSE1ITUhCQPx/A8B6v5LAbMC/ksBswL+SwGzAdH+UQGv/lEBr/5RAa8Ds/waA+b8ScbG5tPT9cfH/iXGINMixwAEAAQA9QP8AosAEQAjADUARwAAExUjNTQ2Nz4BNxcOAQcOAQczBRUjNTQ2Nz4BNxcOAQcOAQczNzUzFRQGBw4BByc+ATc+ATUjJTUzFRQGBw4BByc+ATc+ATUjpKANDRE3JSQWIwkLCwJPAQCgDQ0RNyUkFiMJCwsCT7igDQ0RNyckFiELCw1NAQCgDQ0RNyckFiELCw1NAautiDhQGCIxEjoKHBEUNiMCrYg4UBgiMRI6ChwRFDYjKK2IOE8ZIjMQOgocFBM2IQKtiDhPGSIzEDoKHBQTNiEAAAAAAgAN/8sD8wO3ABAAIQAABSEiJjURNDYzITIWFREOASMpASImNRE0NjMhMhYVERQGIwGL/qoQGBcRAVYQGAEXEAJA/qoQGBcRAVYQGBcRNRcRA5wQGBYS/GIQFhcRA5wQGBYS/GIQFgAEAAL/wgP+A74ABwAbACAAMQAAPwEnBxUzFTcBNCYjIgYHAQ4BFRQWMzI2NwE+AScJASERARQGDwEBNz4BMzIWHwEeARX3PqA+VkoBXgcIAwYB/pMCAgcIAwYBAW0DASQBGP3R/ugD/A0Nb/7pbw0dEhEgDJ4NDRo9nD5IVgMCbwgGAgL+kwEGAwgHAgIBbQEGhP7o/dEBGAHvEh8LbwEXbw0NDQ2eDCARAAAAAQA3/80DyQOxACEAAAEWBgcGBw4BBwYHDgEnLgE1ETQmNzYWFxYXHgEXFhceARUDyQElC2VkY8ZjY2QLIg0JBAEIDisNY2JixGNiYw0lAcINFwQ4NzduNjc3BhYHBRkVAzccVAoOGwg3NzZsNzc4BhMLAAABABH/zQPzA7UAMAAAARYUBwYmKwEGFhUUBgcGIicmNj0BIyIGJy4BNzYWOwE2JjU0Njc2FhcWBhURITYWFwPzCgoRhDi1AwEFHRNvFCQCtTiCEwkDChKFOLMDAQstMWANBgIBESg9DgILFG4UJAI7kUMrPg4KChGIOLMFJRJxFSQCO5BEM0QEBwsiEDMV/vIDBRwAAwAP/80D8wOzADcAZwB9AAABFgcOAQcGBwYHDgEHBgcGJy4BJyYnJicuAScmJyY3PgE3Njc+ATc+ATc2Fx4BFxYXFhceARcWFyU2Jy4BJyYnJgYHDgEVFBYXHgEzMjY3PgEXFgYHDgEHDgEXFjIzOgE/AT4BNz4BNwM8AScuAQcGFhUUBhcWNjMyFjc2JjUD8wQICSQZGR0dIyRUMDA3OTY1XikoICEcHCoODQQGCAgjGhkeHkErKGc4PTY1XicnHx4cHCsPDgT+0w8KCzMlJScrQCAQLBkJChQLCAsEHFkJCjoYFSEGAwQJBykQEyYJCQg5GA8aBooFGEYbEAEDCQooEA8rBggDAeI9NTZdJycgIBwcKw0OBAQICSQZGR0eJCNTMDA3PjY2XCYnICA2FxUdBQQJCSQZGRwcIyRVMTE3JzApKDsREQQDDw4IHRAPFgwMHQoDEgUoJS8VEy0ZD0YJBwdCGigaDigX/qYQIQ0DBwYDKBUOKgoKBAIKCicNAAAAAAEADQCrA/cC1QA6AAABJicuAQcGBw4BJyY2NzY3PgE3NhcWFx4BFxYXNjc+ATc2FxYGFRQWFRQWBwYmIyImIyIGJyY2Nz4BNwKzTVBQolBQTwsVCBJOEygoKFEpKCg4NTZqNTY3DRcWLxQVDBEHAgYjFUAYN2k4EU4LCjARFSYWAWJLNTYxCQkzCAgIEUcOIRcXHAUGAwMODjQnKDUHGRgwDw4OFEIUNGg6GFEXDAICBBURMBIWJhUAAAAAAQAL/8kD9wO3AGIAACUUBgcOAScuAScmJy4BJyYnBgcOAQcGBw4BJy4BJy4BNz4BNzY3PgE3NjcmJy4BJyYnLgEnJjY3PgEXHgEXFhceARcWFzY3PgE3Njc+ARceARceAQcOAQcGBw4BBwYHAR4BFQP3Ig8QJiMbNhEgIiJEISEfIiIiQyMiIxU3JRYhCxArCAY6Ex8jI0YhIh0eISFFIyIhEzoGCCcSECslGDIRISIhQiAgHyIiIUIiISMUPCUVIA0SKAcFORUgIiJEIiEgAREVPEsdIA4QLAUDOhQgIiJFIiIfICEhQyIiIxVBBQMhDRAqIRozEyAiI0YiIh4bISFGIyIfETIYJSgREC8MBjoTISEhQyAhHyAgIUMiIiIVQQUDIQ0RKSEdMBMgIyJGIiIg/vMSNB4AAgAL/80D8wO3ADkAVAAAEyYnJjY3Njc2Nz4BNzY3NhceARcWFx4BBw4BBx4BFx4BFx4BFxYGJy4BLwEGBw4BJyYnJicuAScmJwUWNz4BNzYnLgEnLgEHDgEHDgEXFhceARcWFyITBAUQEhMaGiIiUjAwNUU9PGMmJhkbJgMDKCALHA8cOh8OIQYPQzASHw2vIS8vajc3MSsmJj8ZGRABUUtGRmESER8TQisbTi9RbhgQDwEDERI3JSUqAXo0NjZnLy8lJR8gLw8OAwUQDzsnJykveUVDbi0QHQ8dOCAOIBItRxIGIg2tHBISDQUGExAZGUAmJix0EBcYZklIUTFMFg4RAwhYMSBMKC4oKD4WFQoAAAAAAv/+/7wEBAPCAJQAoAAAAS4BJy4BJyY2Nz4BNzYmLwEuAQ8BDgEnLgEnLgEnLgErASIGBw4BBw4BBwYmLwEmBgcOAQcOARceARceAQcOAQcOAQcOAR0BFBYfAR4BFxYGBw4BBwYWHwEeATc+ATc+ARceARceARceATsBMjY3PgE3PgE3NhYXHgEXFjY/AT4BJy4BJy4BNz4BNz4BNz4BPQEuAScBIiY1NDYzMhYVFAYD4hUpFQ0ZBQUECAwaCwgDClsKHAtFCx8LCxIDAgUEARYNgA0YAQUHAwITCwsfDEQLHAoWLxcJAwgNGQsIAgMFGQ0TKRUNExMNUw0ZBQUFBwwaCwgDClsKHAsSIxILHQsLEQIDBwUBFw5+DRYBAwcFAhMLCx0LEiMSCxwKXAkDCA0ZCwgDBAUYDhUpFQ0TARQN/h5LbGpNS2xsAiYEBwQCEwsMHgwRIxALHApcCQMIMQgDBQQZDRIoFQ0TEw0VKRUNGQUFBggxCAMJGC4WChwLEiERDB8LCxECBAcEARcOgA0WAw0CEwsLHwwRIxALHApcCQMIDRkLCAIDBRkNFSkVDRMTDRUqFg0XBQQDCA0ZCwgDCVwKHAsSIREMHwsLEQIDBwUBFw6ADhUD/uNsS0tsbEtLbAAAAAACAAkAFwP8A2kAMAB0AAABHgEHDgEHDgEHDgEnLgE9AQYHDgEHBgcOASMiNjc+ATc2Nz4BNzY3NiYXHgEXHgEXAwYWBw4BBwYmIyEiBicuAScmNjU0Jjc+ATc2FjsBDgEVDgEHDgEHBiYrASIGBwYWFREcARcWNjMhMjY3NiY3PgE3PgEDwA42CAUpDiI/IwstExABW1FQfisrEAIICRcGAghCMiQoKWA4N0IIDx4XJA4eQCIVBAkKDFA7JlQo/r4oUSUzTgMFBQUFBFs+PHY77QICGiwWEycVI1UkTyw9CggEKBpmHgGULDwLBQcGAhMHFSUCrQ8tIhUkECE/IgsxBQU5FWQBDw9ENjZPCxJZE1iCLyAYGCAJCAEakgMEKg4fPiP+rzpgKDRKBQMDAwgLVTk9iUVFiDxDWAUEBBAfEQUGBwQUAQUFDB0YUiD+6DZqDwkFCh8QKhQHDQYTKwAAAgAz/88DsQOxABgAMQAAJQYWHwEWNjcBNjQnAS4BDwEOARcBFhQHASEGFh8BFjY3ATY0JwEuAQ8BDgEXARYUBwEBvg0DDiQPJQwBiw0N/nUMJQ8kDgMNAVEFBf6v/nUNAw4lDiUNAYoNDf52DSUOJQ4DDQFRBQX+ry8OJQ0gDQMOAckOKA4BzQ4DDSANJQ7+egUOBf58DiUNIA0DDgHJDigOAc0OAw0gDSUO/noFDgX+fAAABwAJ/80D+gOzAAQACgAQABYAGgAeACIAABMRIREhASE1IRUzNSE1IRUzNSE1IRUzASE1ITUhNSE1ITUhCQPx/A8B6v5LAbMC/ksBswL+SwGzAgHP/lEBr/5RAa/+UQGvA7P8GgPm/EnGxubT0/XHx/4lxiDTIscAAgAC/+kD+gOXABkAMgAAAREhETQ3PgE3Njc2Nz4BNzY3Fw4BBw4BBzMFESERNDc+ATc2NzY3PgE3NjcXDgEHDgEHAX7+hAQEEAsMDxYbGkImJyxWN08YGh0DugJg/oQEBBALDA8VGhtBJiYtVjdPGBodAwGC/mcBREE5OV8mJx0nIiM7GRoUiBZELC2BVwL+ZwFEQTk5XyYnHSciIzsZGBSIF0MtLIFXAAAAAAMAAP/EA/oDwAAkAEkAbgAAAREUBgcOASsBIiYnLgE9ATQ2Nz4BOwE1NDY3PgE7ATIWFx4BFQU0JicuAScuASMiBgcOAQcOARUUFhceARceATMyNjc+ATc+ATUzFAYHDgEHDgEjIiYnLgEnLgE1NDY3PgE3PgEzMhYXHgEXHgEVAlEDAwQGBdMFBwMEAwMEAwcFlQMDAwcFKwUHAwEDARMZGBhCKCpaMTJaKilBGBgZGRgYQigqWjIxWioqQBgaF5YjIiFdOzt/RkWAOztcIyAiIyEiXTs7fkdFgDs7WyMgIwKt/tcFBgQDAwMDBAYFKwUHAwMD6QUHAwMDAwMDCQPrMlopKkEYGRgZGBhDKClaMjFbKSpAGBgZGRgYQigpXDBFgDs7WyMiIyMiIV07O4BFRYA7O1wjISMjISJdOzuARQAAAAEAAAAiBAADXgBLAAABDgEHPgE3DgEHLgEjIgcOAQcGFRQWFyYnLgEnJicOARUUFhcuAScVFBYXDgEjIiYnHgEzDgEjKgEnFhceARcWMzI3PgE3Nj0BPgE3BAAdPSAgMQseQyUdUC0rJiY5EBEDA0A9PW8wMCgMDzIsGjAWYEgNHA4KFQoVa0Q2hEoNGQsjJiZRKyotkW9wlycnHzUVAv4NEAUTOyUSGQgeJBEQOSYmKw0XCwMRETgnKDAYNB02XB0CDQsCTXIQBAMDAj9TKTACFhIRGAcGNjesampoHBU2IAAAAAEACwCpA/UC0wA6AAABHgEHBiYjIgYjIgYnJjY1NDY1NCY3NhceARcWFzY3PgE3Njc2Fx4BFxYXHgEHBiYnJicmBgcGBx4BFwGgEi8KC04ROGk3GEAUIgQCBhAMFRUuFxYNODU1ajY1OCgpKFEoKCgSTxIIFQtPUFCiUE9OFSYWAQ8SMBETAgIEDhdRGDpoNBY/FQ4ODzAYGQc1KCc1Dg4CAwYFHBcXIQ5HEQgICDQJCjE3NksTJhgAAAAAAgAA/8QEAAO+AFoA3gAAAS4BIy4BBw4BByIGBwYHDgEHBh0BHgEfAR4BHwceARUfAx4BFx4BFx4BFzMfAh4BFx4BMx4BHwMeATMeATcyNj8BNjc+ATc2NTQnLgEnJicFFgYXHgEXHgE3NiYnNhYXHgEXHgEXDgEHHgEXHgEXPgE3PgE3PgE3JjYnLgEvAjYmJz4BFzYyMxczJz4BNy4BJz4BMzYmNTQ2NTYmNw4BByImJyY2NycGJgcOAQcuASc+ATczMhceARcWFRQHDgEHBiMiJy4BJyY1NDc+ATc2Nx4BFwKxAwcFKFcwMVknAQYBRjo5UxcXAgMEAgMJBQQLBBMNAg0BAw0GEQ0HDQgICwQEBQICDQINAwcFAQYBAgQDERcrBQcFI0sqHjcaCFNGRmYdHBkYWT49Sv5rDQ4DARAGBQ0OBBIFBw4HFTooBRAFDiMRECcTBCsgBQoFBAUOFVUYBRAHBCkKsRwFFQwNGBMGKRUJFwoRJBMCBgUFEQYDDhgBHAgQJwwIDAUDKAoPFSMPEREPDBsQBhAIE1dNTHIhISEhckxNV1dNTHIhIQoLKBwcIg0VBwOiAgINDAECEg4DAhwwL3pJSVArDhsODQ4dDA0aCicVBBQBAwIPCRMPBg0GBQkDAgUCCAMIAgUCAQMBAgEJChECAwkJAQgFAhUuL4JQUFlTTEt+LzAbxBs8HgwYCwodCwsYCgEQBxMdAwsSCRUnExUgEliIOwQLBiZAGiU6JRsuExMKEBMXHR0NCSEODCoqCBQHCAwFAwEHAwMICwUMFBMHGRECAiITFCoDDAQEIwYDBgEQIA4hIXNMTVZXTUxyISEhIXJMTVcxLS5TJCQdBhIOAAAAAAIAEf/NA/wDvgA+AEQAAAElBgcOAQcGJwYHDgEHBgcOAScuAScuATc+ATc2Nz4BNzY3PgE3NiYnJjY3PgE3NhYXDgEPAQ4BFR4BFx4BFwE2JgcGFgLiARoLHh9hQkFQLC0uWy0uLBhHMhMlEBouGw4+GCEgHz8gICEKJAMCCwEFMiIkaD5UbitJjEQWAQUBLwkQHBD95CoZLjQdAgZlQzc4Sg4OESktLVsuLiwYMBcIJhAYVjAZNxghHx8+IB8iCiEICikNQm8kKDoFBjYoGTUYbQgWBgsiBhAaDP46Dl4KCWsAAAEAAv/EA/wDvAAtAAAlFx4BBw4BIyEiJicuATURNDY3NhYfAQEnLgE3PgEzITIWFx4BFREUBgcGJi8BASJrCwkDAxQS/sIJEwgICQgJCBMMagI6awsJAwMWEAE7DBIHCAkJCAgUC2pmagsUCAgJCQgHEgwBORIUAwMIDGsCOmoLFAgICQcICBMM/sUSFAMDBw1rAAABAA0AugPrAt4ADAAACQEGJicBJjYzITYWBwPr/kgZOxb+RBcYJQORGzAkAnP+RxoCGAHAFFABRCgAAAABAPr/1QMeA7MADAAABQEmNjcBNhYVERYGJwKz/kcaAhgBwBRQAUQoKwG4GTsWAbwXGCX8bxswJAAAAAABAOL/zQMGA6sADAAACQEWBgcBBiY1ESY2FwFNAbkaAhj+QBRQAUQoA6v+SBk7Fv5EFxglA5YYLiQAAAABAA8AoAPrAsQADAAAJSEiJjcBPgEXARYGIwPJ/GwkGBYBvBQ7GwG2JC4YoE8VAcAYAhr+SShFAAEABgBRA/oDLwA8AAABNhYXHgEXFgYHBgcOAQcGBw4BIyImJyYnLgEnJicuATU0Njc+ARceARceARceATMyNjc2Nz4BNzY3PgE3A3EgJRUOHwIBLhE7Ojp0Ojo6Ei4YHj8SHh8fPh8fHw0aIw4PIR0XIw8rSi0DGgMFLwguLCxXLCsuDSQTAy8GJBMPHhMdLRI7Ojp0Ojo6Ei5GEh4eHj0gHyENGhUbHQ4PJQMBKQ0rSC0DHzEILiwtWC0sLA8kBQAAAAABAAsAhAP3AvwANAAAJR4BNz4BNwE+AScuAScuASMiBgcGBw4BBwYHJicuAScmJy4BIyIGBw4BFx4BFxYXHgEXFhcBvBEkGhMlDgFxEyYEAyAQESMWIjcQJCIiQyIiJB8hIkYjIyESNB4XJBAQLwoEJxAvLi1dLy8xsRIeAwIlDwFxEycdGCEQESA/ECQiIkMhIiMfIiJHIyMhET4fEA8yIRIiDjAuL10vLzAAAQFS//oDjAOEADoAAAEOARceARcWFx4BFxYXHgE3PgE3PgE3NCYnJicuAScmJzY3PgE3Njc+ATc0JicuAQcOAQcGBw4BBwYHAXsQGwICIQ0qKilSKioqESQZFR8OEBwBOQ4hHh48Hx4gHB8fPyAfHhA2AR0ODS4eEB8NKykqUyoqLAH+DyEXEiENKikpUykqKxAiAgMdDw8gFB4yDyAeHzwfHyAbHx5AHyAdEC4cFCEPDioIBCQNKykqUyoqLAAAAQFS//oDiwOEADoAAAEeAQcOAQcGBw4BBwYHDgEnLgEnLgE1NDY3Njc+ATc2NyYnLgEnJicuATU0Njc+ARceARcWFx4BFxYXA2IQHAMCIA4qKSlTKSoqESQaFR4PDx05DiAfHjweHyAcHx9AHyAdEDcdDg0tHw8gDSoqKVQqKisB/g8hFxIhDSopKVMpKisQIgIDHQ8PIBQeMg8gHh88Hx8gGx8eQB8gHRAuHBQhDw4qCAQkDSspKlMqKiwAAAAAAQAJAIQD9wL8ADQAABMOAQcGFhceATMyNjc2Nz4BNzY3FhceARcWFx4BMzI2Nz4BNzYmJwEuAScmBgcGBw4BBwYHRA4pBAgvEBAmFR40EiAjI0YiIh8kIiJDIiIkEDciFiMRECIBBCYT/o8OJRMaJBExLy9dLi8vAVoPJBAjMg8QHz4RICMjRyMiHyMhIkMiIiQQPyARECIXHScTAXEPJQIDHhIxLy9cLi4uAAIABgBxA/oDDQAdACoAACURNiYHITAGBwYHDgEHBjEwFx4BFxYXHgExJRY2JycHJwcnNyc3FzcXBxcD+gMfHv2kFgoNNDNwLS0vLnM0MwwJEgJpER8DvEuGi0uJiUuJhk2JiakCLBohAwMIDTQ0ci0uMDB2NDQIBwICAR8YjkqKik2IiUqGhkqJiwAAAQAAAAEAAE6N89tfDzz1AAsEAAAAAADalrqwAAAAANqWurD+uP+8BK8DwgAAAAgAAgAAAAAAAAABAAADwP/AAAAE3v64/1EErwABAAAAAAAAAAAAAAAAAAAAdAQAAAAAAAAAAAAAAAIAAAAESQAxBAAAAAQAAAAEAAAABAAAAAQAAHUEAAAEBAAABAQAAAQEAAAEBAD//gQAAE0EAAAEBAAAxQQAAR8EAAEfBAAAcgQA/rgEAAEtBAABLgQAAS8EAADRBAAAgQQAASQEAAFKBAABPAQAAWYEAACdBAAAeAQAAU0EAABKBAAAPgQA/9UEAP/VBAD/0QQAASYEAAEJBAABCQQAAQkEAACQBAAABAQAAAsEAAAOBAAAAAQAAEcEAAAUBAAARgQAAAgEAAARBAAASAQAAOAEAAAzBAAAWgQAAE8EAABvBAAAYwQAABMEAAATBAABOwQAABUEAAAVBAAADwQAAGsEAAAABAAAJgQAAA0EAAERBAAACQQAAAoEAP/+BAAACQQAAAYEAAAzBAAADwQAAAAEAAANBAAAYgQAAAsEAAAGBAAAAAQAAAAEAAAJBAAABAQAAA0EAAACBAAANwQAABEEAAAPBAAADQQAAAsEAAALBAD//gQAAAkEAAAzBAAACQQAAAIEAAAABAAAAAQAAAsEAAAABAAAEQQAAAIEAAANBAAA+gQAAOIEAAAPBAAABgQAAAsE3gFSBN4BUgQAAAkEAAAGAAAAAAAKABQAHgB6A4oFUAb2CAAIyAl0CigK5gugDGgM+A2KDcYN7g4sDkoOghDsEhQSuBMGE1ATvhP8FDwUVBR+FNQVPBZCFpAXEhe2GYwZmhqSG+wcIhxsHMwdeB4cINQhQCGwIi4i+CNeI9okFCTMJTIl2CYcKMQpUCmaKeQqFipKKqgq3iskK2IrpivGLHQs4C0ULVwt7i5ILyovTDBKMIowsDIyMmAykDLKMzgzbDPCM/w0RjUINWY2AjaMN4A4MDiKOMY5HDm+OjA6jjvUPEY8kDyuPMw86j0GPWg9vj4ePn4+1D8aAAAAAQAAAHQCjgASAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAkAAAABAAAAAAACAAcAcgABAAAAAAADAAkAPAABAAAAAAAEAAkAhwABAAAAAAAFAAsAGwABAAAAAAAGAAkAVwABAAAAAAAKABoAogADAAEECQABABIACQADAAEECQACAA4AeQADAAEECQADABIARQADAAEECQAEABIAkAADAAEECQAFABYAJgADAAEECQAGABIAYAADAAEECQAKADQAvGRjZy1pY29ucwBkAGMAZwAtAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGRjZy1pY29ucwBkAGMAZwAtAGkAYwBvAG4Ac2RjZy1pY29ucwBkAGMAZwAtAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmRjZy1pY29ucwBkAGMAZwAtAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: block;
}

.dcg-calculator-api-container [class^="dcg-icon-"],
.dcg-calculator-api-container [class*=" dcg-icon-"] {
  /* use !important to prevent issues with browser extensions that change fonts */
  font-family: 'dcg-icons' !important;
  speak: none;
  font-style: normal;
  font-weight: normal;
  font-variant: normal;
  text-transform: none;
  line-height: 1;
  /* Better Font Rendering =========== */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.dcg-calculator-api-container .dcg-icon-trophy:before {
  content: "\\e200";
}

.dcg-calculator-api-container .dcg-icon-app-graphing:before {
  content: "\\e201";
}

.dcg-calculator-api-container .dcg-icon-app-geometry:before {
  content: "\\e202";
}

.dcg-calculator-api-container .dcg-icon-app-scientific:before {
  content: "\\e203";
}

.dcg-calculator-api-container .dcg-icon-app-four-function:before {
  content: "\\e204";
}

.dcg-calculator-api-container .dcg-icon-clipboard:before {
  content: "\\e205";
}

.dcg-calculator-api-container .dcg-icon-arrow-infinite:before {
  content: "\\e206";
}

.dcg-calculator-api-container .dcg-icon-arrow-once:before {
  content: "\\e207";
}

.dcg-calculator-api-container .dcg-icon-arrow-two-way:before {
  content: "\\e208";
}

.dcg-calculator-api-container .dcg-icon-arrow-one-way:before {
  content: "\\e209";
}

.dcg-calculator-api-container .dcg-icon-randomize:before {
  content: "\\e20a";
}

.dcg-calculator-api-container .dcg-icon-zoom-fit:before {
  content: "\\e20b";
}

.dcg-calculator-api-container .dcg-icon-comments:before {
  content: "\\e20c";
}

.dcg-calculator-api-container .dcg-icon-lines-solid:before {
  content: "\\e20d";
}

.dcg-calculator-api-container .dcg-icon-histogram-fill:before {
  content: "\\e20e";
}

.dcg-calculator-api-container .dcg-icon-histogram:before {
  content: "\\e20f";
}

.dcg-calculator-api-container .dcg-icon-distribution-fill:before {
  content: "\\e210";
}

.dcg-calculator-api-container .dcg-icon-distribution:before {
  content: "\\e211";
}

.dcg-calculator-api-container .dcg-icon-dotplot-cross:before {
  content: "\\e212";
}

.dcg-calculator-api-container .dcg-icon-dotplot-open:before {
  content: "\\e213";
}

.dcg-calculator-api-container .dcg-icon-dotplot-default:before {
  content: "\\e214";
}

.dcg-calculator-api-container .dcg-icon-boxplot:before {
  content: "\\e215";
}

.dcg-calculator-api-container .dcg-icon-points:before {
  content: "\\e216";
}

.dcg-calculator-api-container .dcg-icon-fraction:before {
  content: "\\e217";
}

.dcg-calculator-api-container .dcg-icon-cross:before {
  content: "\\e218";
}

.dcg-calculator-api-container .dcg-icon-open:before {
  content: "\\e219";
}

.dcg-calculator-api-container .dcg-icon-point:before {
  content: "\\e21a";
}

.dcg-calculator-api-container .dcg-icon-shaded-inequality-shade2:before {
  content: "\\e21b";
}

.dcg-calculator-api-container .dcg-icon-shaded-inequality-dash:before {
  content: "\\e21c";
}

.dcg-calculator-api-container .dcg-icon-position-arrows-single:before {
  content: "\\e21d";
}

.dcg-calculator-api-container .dcg-icon-position-arrows:before {
  content: "\\e21e";
}

.dcg-calculator-api-container .dcg-icon-parametric-filled:before {
  content: "\\e21f";
}

.dcg-calculator-api-container .dcg-icon-parametric-solid:before {
  content: "\\e220";
}

.dcg-calculator-api-container .dcg-icon-parametric-dashed:before {
  content: "\\e221";
}

.dcg-calculator-api-container .dcg-icon-parametric-dotted:before {
  content: "\\e222";
}

.dcg-calculator-api-container .dcg-icon-polygon-filled:before {
  content: "\\e223";
}

.dcg-calculator-api-container .dcg-icon-polygon-dashed:before {
  content: "\\e224";
}

.dcg-calculator-api-container .dcg-icon-polygon-dotted:before {
  content: "\\e225";
}

.dcg-calculator-api-container .dcg-icon-polygon-solid:before {
  content: "\\e226";
}

.dcg-calculator-api-container .dcg-icon-title:before {
  content: "\\e227";
}

.dcg-calculator-api-container .dcg-icon-bottom-arrow:before {
  content: "\\e228";
}

.dcg-calculator-api-container .dcg-icon-rocket:before {
  content: "\\e229";
}

.dcg-calculator-api-container .dcg-icon-reset:before {
  content: "\\e22a";
}

.dcg-calculator-api-container .dcg-icon-desmos:before {
  content: "\\e22b";
}

.dcg-calculator-api-container .dcg-icon-download:before {
  content: "\\e22c";
}

.dcg-calculator-api-container .dcg-icon-embed:before {
  content: "\\e22d";
}

.dcg-calculator-api-container .dcg-icon-export:before {
  content: "\\e22e";
}

.dcg-calculator-api-container .dcg-icon-book:before {
  content: "\\e22f";
}

.dcg-calculator-api-container .dcg-icon-print:before {
  content: "\\e230";
}

.dcg-calculator-api-container .dcg-icon-magic:before {
  content: "\\e231";
}

.dcg-calculator-api-container .dcg-icon-cursor:before {
  content: "\\e232";
}

.dcg-calculator-api-container .dcg-icon-dashed-function:before {
  content: "\\e233";
}

.dcg-calculator-api-container .dcg-icon-function:before {
  content: "\\e234";
}

.dcg-calculator-api-container .dcg-icon-arrows-two:before {
  content: "\\e235";
}

.dcg-calculator-api-container .dcg-icon-arrows-one:before {
  content: "\\e236";
}

.dcg-calculator-api-container .dcg-icon-desmos-badge:before {
  content: "\\e237";
}

.dcg-calculator-api-container .dcg-icon-move:before {
  content: "\\e238";
}

.dcg-calculator-api-container .dcg-icon-move-horizontal:before {
  content: "\\e239";
}

.dcg-calculator-api-container .dcg-icon-move-vertical:before {
  content: "\\e23a";
}

.dcg-calculator-api-container .dcg-icon-arrow-left:before {
  content: "\\e23b";
}

.dcg-calculator-api-container .dcg-icon-arrow-right:before {
  content: "\\e23c";
}

.dcg-calculator-api-container .dcg-icon-arrow-enter:before {
  content: "\\e23d";
}

.dcg-calculator-api-container .dcg-icon-shift:before {
  content: "\\e23e";
}

.dcg-calculator-api-container .dcg-icon-dragdots:before {
  content: "\\e23f";
}

.dcg-calculator-api-container .dcg-icon-duplicate:before {
  content: "\\e240";
}

.dcg-calculator-api-container .dcg-icon-error:before {
  content: "\\e241";
}

.dcg-calculator-api-container .dcg-icon-facebook:before {
  content: "\\e242";
}

.dcg-calculator-api-container .dcg-icon-film:before {
  content: "\\e243";
}

.dcg-calculator-api-container .dcg-icon-folder-open:before {
  content: "\\e244";
}

.dcg-calculator-api-container .dcg-icon-folder:before {
  content: "\\e245";
}

.dcg-calculator-api-container .dcg-icon-hamburger:before {
  content: "\\e246";
}

.dcg-calculator-api-container .dcg-icon-hdd:before {
  content: "\\e247";
}

.dcg-calculator-api-container .dcg-icon-hide:before {
  content: "\\e248";
}

.dcg-calculator-api-container .dcg-icon-home:before {
  content: "\\e249";
}

.dcg-calculator-api-container .dcg-icon-image:before {
  content: "\\e24a";
}

.dcg-calculator-api-container .dcg-icon-keyboard:before {
  content: "\\e24b";
}

.dcg-calculator-api-container .dcg-icon-lock:before {
  content: "\\e24c";
}

.dcg-calculator-api-container .dcg-icon-minus:before {
  content: "\\e24d";
}

.dcg-calculator-api-container .dcg-icon-new-expression:before {
  content: "\\e24e";
}

.dcg-calculator-api-container .dcg-icon-new-folder:before {
  content: "\\e24f";
}

.dcg-calculator-api-container .dcg-icon-new-image:before {
  content: "\\e250";
}

.dcg-calculator-api-container .dcg-icon-new-table:before {
  content: "\\e251";
}

.dcg-calculator-api-container .dcg-icon-new-text:before {
  content: "\\e252";
}

.dcg-calculator-api-container .dcg-icon-pause:before {
  content: "\\e253";
}

.dcg-calculator-api-container .dcg-icon-pencil:before {
  content: "\\e254";
}

.dcg-calculator-api-container .dcg-icon-play:before {
  content: "\\e255";
}

.dcg-calculator-api-container .dcg-icon-plus:before {
  content: "\\e256";
}

.dcg-calculator-api-container .dcg-icon-question-sign:before {
  content: "\\e257";
}

.dcg-calculator-api-container .dcg-icon-redo:before {
  content: "\\e258";
}

.dcg-calculator-api-container .dcg-icon-remove:before {
  content: "\\e259";
}

.dcg-calculator-api-container .dcg-icon-search:before {
  content: "\\e25a";
}

.dcg-calculator-api-container .dcg-icon-settings:before {
  content: "\\e25b";
}

.dcg-calculator-api-container .dcg-icon-share:before {
  content: "\\e25c";
}

.dcg-calculator-api-container .dcg-icon-show:before {
  content: "\\e25d";
}

.dcg-calculator-api-container .dcg-icon-table:before {
  content: "\\e25e";
}

.dcg-calculator-api-container .dcg-icon-text:before {
  content: "\\e25f";
}

.dcg-calculator-api-container .dcg-icon-time:before {
  content: "\\e260";
}

.dcg-calculator-api-container .dcg-icon-twitter:before {
  content: "\\e261";
}

.dcg-calculator-api-container .dcg-icon-undo:before {
  content: "\\e262";
}

.dcg-calculator-api-container .dcg-icon-world:before {
  content: "\\e263";
}

.dcg-calculator-api-container .dcg-icon-wrench:before {
  content: "\\e264";
}

.dcg-calculator-api-container .dcg-icon-zoom:before {
  content: "\\e265";
}

.dcg-calculator-api-container .dcg-icon-caret-down:before {
  content: "\\e266";
}

.dcg-calculator-api-container .dcg-icon-caret-left:before {
  content: "\\e267";
}

.dcg-calculator-api-container .dcg-icon-caret-right:before {
  content: "\\e268";
}

.dcg-calculator-api-container .dcg-icon-caret-up:before {
  content: "\\e269";
}

.dcg-calculator-api-container .dcg-icon-check:before {
  content: "\\e26a";
}

.dcg-calculator-api-container .dcg-icon-chevron-down:before {
  content: "\\e26b";
}

.dcg-calculator-api-container .dcg-icon-chevron-left:before {
  content: "\\e26c";
}

.dcg-calculator-api-container .dcg-icon-chevron-right:before {
  content: "\\e26d";
}

.dcg-calculator-api-container .dcg-icon-chevron-up:before {
  content: "\\e26e";
}

.dcg-calculator-api-container .dcg-icon-delete:before {
  content: "\\e26f";
}.dcg-calculator-api-container .dcg-display-domain {
  padding: 5px 0 13px;
  font-size: 95%;
  white-space: nowrap;
  margin-bottom: -5px;
  margin-top: -5px;
}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem {
  display: block;
  position: relative;
  margin-top: -1px;
  border-top: 1px solid rgba(206,206,206,0.8);
  border-bottom: 1px solid transparent;
  font-size: 100%;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem:not(.dcg-expressionimage) {
  cursor: text;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container {
  width: 100%;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected,
.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging {
  border-color: #6399cb;
  border-width: 2px 0;
  border-right: 1px solid #6399cb;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-fade-container,
.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging .dcg-fade-container {
  margin-top: -1px;
  margin-bottom: -1px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-tab,
.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging .dcg-tab {
  color: #fff;
  border-right: 1px solid transparent;
  background: #6399cb;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-expression-bottom.dcg-fadein-bottom {
  position: relative;
  -webkit-animation: dcg-fadeIn 0.8s;
  -moz-animation: dcg-fadeIn 0.8s;
  -o-animation: dcg-fadeIn 0.8s;
  -ms-animation: dcg-fadeIn 0.8s;
  animation: dcg-fadeIn 0.8s;
  cursor: default;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-indent-in-folder {
  padding-left: 53px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-fade-container:after {
  position: absolute;
  top: 5px;
  bottom: 5px;
  left: 56px;
  content: '';
  border-left: 1px solid rgba(0,0,0,0.2);
  -webkit-animation: dcg-fadeIn 0.3s;
  -moz-animation: dcg-fadeIn 0.3s;
  -o-animation: dcg-fadeIn 0.3s;
  -ms-animation: dcg-fadeIn 0.3s;
  animation: dcg-fadeIn 0.3s;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-indent-in-folder,
.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-main {
  margin-left: 20px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-shell {
  height: 54px;
  background: #fff;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container {
  position: relative;
  padding-bottom: 6px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-main {
  position: relative;
  padding-top: 15px;
  padding-left: 53px;
  padding-right: 35px;
  padding-bottom: 9px;
  white-space: nowrap;
  font-size: 110%;
  vertical-align: middle;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-expression-mathquill {
  position: relative;
  width: 100%;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-zoom-fit-btn {
  position: absolute;
  top: 0;
  right: 30px;
  padding: 8px 7px 20px;
  z-index: 2;
  opacity: 0.2;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
  filter: alpha(opacity=20);
  font-size: 115%;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-zoom-fit-btn.dcg-hovered {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-zoom-fit-btn.dcg-depressed {
  opacity: 0.8;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete {
  position: absolute;
  top: 0;
  right: 0;
  padding: 8px 7px 20px 20px;
  z-index: 2;
  opacity: 0.2;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
  filter: alpha(opacity=20);
  font-size: 115%;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete.dcg-hovered {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete.dcg-depressed {
  opacity: 0.8;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved {
  font-size: 80%;
  color: #666;
  cursor: default;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved i {
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved a {
  color: #666;
  margin-left: 5px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved a.dcg-hovered {
  color: #000;
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved .dcg-btn {
  padding: 2px 5px;
  margin-top: 4px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-author-ide .dcg-fade-container .dcg-main {
  font-size: 90%;
  padding-top: 14px;
  padding-bottom: 7px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-tab {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  padding: 1px 2px;
  font-size: 65%;
  text-align: left;
  color: rgba(0,0,0,0.4);
  background: rgba(0,0,0,0.03);
  border-right: 1px solid rgba(0,0,0,0.06);
  cursor: move;
  width: 38px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontext .dcg-icon-text {
  position: absolute;
  top: 50%;
  left: 50%;
  margin: -7px 0 0 -7px;
  font-size: 140%;
  opacity: 0.25;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";
  filter: alpha(opacity=25);
}

.dcg-calculator-api-container .dcg-expressiontable {
  cursor: default;
}

.dcg-calculator-api-container .dcg-expressiontable .dcg-fade-container.dcg-hovered {
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-expressionitem:not(.dcg-mathitem).dcg-selected .dcg-top-level-delete {
  padding-bottom: 0;
  padding-left: 0;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-top-level-delete {
  right: -1px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-expression-bottom {
  margin-right: -1px;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel input.dcg-image-name {
  display: block !important;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel div.dcg-image-name {
  display: none;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-top-level-delete {
  display: none;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-edit-domain {
  display: block !important;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressiontext .dcg-displayTextarea,
.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressionfolder .dcg-displayTextarea {
  pointer-events: none;
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressiontext textarea,
.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressionfolder textarea {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-drag-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
}

.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem {
  background: #fff;
  overflow: hidden;
  -webkit-box-shadow: 0 0 10px #888;
  box-shadow: 0 0 10px #888;
  border-color: #6399cb;
  border-right: 1px solid #6399cb;
}

.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-indent-in-folder,
.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-fade-container:after,
.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-main {
  -webkit-transition: 0.3s;
  -moz-transition: 0.3s;
  -o-transition: 0.3s;
  -ms-transition: 0.3s;
  transition: 0.3s;
}

.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-tab {
  background: #6399cb;
}

.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-num {
  display: none;
}

.dcg-calculator-api-container .dcg-template-expressioneach .dcg-expressionitem.dcg-dragging {
  visibility: hidden;
}

.dcg-calculator-api-container .dcg-exppanel.dcg-isDragging .dcg-expressionitem.dcg-new-expression {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field {
  border: none;
  -webkit-box-shadow: none !important;
  box-shadow: none !important;
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field textarea {
  resize: none;
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field.dcg-hasCursor {
  -webkit-box-shadow: none !important;
  box-shadow: none !important;
}

.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-supsub {
  margin-bottom: -0.2em;
}

.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-sub {
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-int .dcg-mq-sub {
  font-size: 100%;
}

.dcg-calculator-api-container .dcg-clear {
  clear: both;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-expressionitem {
  border-top-color: rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-expression-icon-container {
  position: absolute;
  top: 28px;
  left: 50%;
  height: 29px;
  width: 29px;
  margin-top: -14.5px;
  margin-left: -14.5px;
  text-align: center;
  line-height: 29px;
  border-radius: 50%;
}.dcg-calculator-api-container .dcg-author-ide-bar {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 5px;
  z-index: 10;
  background: #ccc;
  color: #444;
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-author-ide-bar input {
  border: 1px solid rgba(0,0,0,0.25);
  padding: 4px;
  border-radius: 4px;
  background: transparent;
  width: 200px;
  padding-right: 30px;
  font-size: 100%;
}

.dcg-calculator-api-container .dcg-author-ide-bar input:focus {
  border: 2px solid #4781b9;
  background: #fff;
  padding: 3px;
  outline: none;
}

.dcg-calculator-api-container .dcg-author-ide-bar .dcg-icon-remove {
  position: relative;
  left: -20px;
  top: 1px;
  opacity: 0.2;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
  filter: alpha(opacity=20);
}

.dcg-calculator-api-container .dcg-author-ide-bar .dcg-icon-remove.dcg-hovered {
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
}

.dcg-calculator-api-container .dcg-author-ide-bar .dcg-icon-remove.dcg-depressed {
  opacity: 0.8;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
}.dcg-calculator-api-container .dcg-cdf-footer-container {
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-component-checkbox {
  margin-bottom: 4px;
}

.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-mathquill-wrapper {
  margin-left: 10px;
  margin-right: 10px;
}

.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-parameter-name {
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-cdf-evaluation-container {
  margin-top: 5px;
}.dcg-calculator-api-container .dcg-circular-icon-container {
  width: 29px;
  height: 29px;
  border-radius: 50%;
}

.dcg-calculator-api-container .dcg-circular-icon {
  display: inline-block;
  width: 29px;
  height: 29px;
  line-height: 29px;
  border-radius: 50%;
  position: relative;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-semi-transparent {
  opacity: 0.4;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
  filter: alpha(opacity=40);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden {
  -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.25);
  box-shadow: inset 0 0 3px rgba(0,0,0,0.25);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden:before {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  border: 5px solid #999;
  border-radius: 50%;
  opacity: 0.25;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";
  filter: alpha(opacity=25);
  content: "";
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-white-icon:before {
  border-color: #fff;
  opacity: 0.4;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
  filter: alpha(opacity=40);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-hovered:before {
  opacity: 0.3125 ;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=31)" ;
  filter: alpha(opacity=31) ;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-hovered.dcg-white-icon:before {
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-depressed:before {
  opacity: 0.375 ;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=38)" ;
  filter: alpha(opacity=38) ;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-depressed.dcg-white-icon:before {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline {
  border: 2px solid #000;
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
  color: #000;
  text-align: center;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-hovered {
  opacity: 0.7;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";
  filter: alpha(opacity=70);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-depressed {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-folder {
  position: relative;
  top: -1px;
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-pause {
  position: relative;
  top: -1px;
  left: 0.25px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-play {
  position: relative;
  top: -1px;
  left: 1.5px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-fraction {
  font-size: 20px;
  position: relative;
  top: 2px;
  left: 0.5px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon {
  color: #fff;
  border-color: #fff;
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon.dcg-hovered {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon.dcg-depressed {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image {
  background: #fff;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image:after {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  content: '';
  border-radius: 50%;
  overflow: hidden;
  -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,0.7);
  box-shadow: inset 0 0 4px rgba(0,0,0,0.7);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image .dcg-background-image {
  width: 29px;
  height: 29px;
  display: inline-block;
  border-radius: 50%;
  -webkit-background-size: 29px 29px !important;
  -moz-background-size: 29px 29px !important;
  background-size: 29px 29px !important;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i {
  text-shadow: 0 0 6px rgba(0,0,0,0.2), 0 0 1px rgba(0,0,0,0.5);
}

.dcg-calculator-api-container .dcg-circular-icon .dcg-spinner {
  position: absolute;
  left: 50%;
  top: 50%;
  margin-top: -10px;
  margin-left: -10px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon {
  -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.25);
  box-shadow: inset 0 0 3px rgba(0,0,0,0.25);
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon {
  font-size: 35px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-medium,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-medium {
  font-size: 42.25px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-large,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-large {
  font-size: 56.75px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-small,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-small {
  font-size: 32.1px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-rotated,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-rotated {
  -webkit-transform: rotate(90deg);
  -moz-transform: rotate(90deg);
  -o-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  transform: rotate(90deg);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon {
  position: absolute;
  top: -3px;
  left: -30px;
  right: -30px;
  bottom: -3px;
  color: #fff;
  line-height: 35px;
  text-align: center;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-check,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-check {
  font-size: 50%;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move,
.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move-vertical,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move-vertical,
.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move-horizontal,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move-horizontal {
  font-size: 55%;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-point,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-point,
.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-cross,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-cross,
.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-open,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-open {
  font-size: 75%;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-points,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-points,
.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-lines-solid,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-lines-solid {
  font-size: 68%;
}.dcg-calculator-api-container .dcg-clickable-image-info-view {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}

.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-label {
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-icon {
  padding-right: 10px;
  padding-left: 10px;
}

.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-tooltip-hit-area-container {
  margin-left: 5px;
  margin-right: 10px;
}.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container {
  margin-bottom: 5px;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container .dcg-expression-footer-title {
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container .dcg-smaller-font {
  font-size: 85%;
  margin-left: 2px;
}

.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container .dcg-math-field {
  max-width: 120px;
  min-width: 30px;
}

.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container input {
  outline: none;
  border: 1px solid #bbb;
  border-top: 0 !important;
  border-right: 0 !important;
  border-left: 0 !important;
  color: #000;
  padding: 4px;
  -webkit-appearance: none;
  border-radius: 0;
  padding-left: 0;
  padding-right: 0;
  font-size: 100%;
  width: 80%;
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container input.dcg-hovered {
  border-color: #ccc;
  border-bottom-width: 2px;
  padding-bottom: 3px;
}

.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container input:focus:not([disabled]) {
  border-color: #6399cb;
  border-bottom-width: 2px;
  padding-bottom: 3px;
}.dcg-calculator-api-container .dcg-color-menu {
  width: 95px;
}

.dcg-calculator-api-container .dcg-color-menu .dcg-color-option {
  display: inline-block;
  width: 29px;
  height: 29px;
  margin: 0 4px 1px 0;
  border-radius: 50%;
  position: relative;
}

.dcg-calculator-api-container .dcg-color-menu .dcg-color-option.dcg-hovered {
  -webkit-box-shadow: 0 0 0 2px rgba(187,187,187,0.3);
  box-shadow: 0 0 0 2px rgba(187,187,187,0.3);
}

.dcg-calculator-api-container .dcg-color-menu .dcg-color-option.dcg-depressed {
  -webkit-box-shadow: 0 0 0 2px rgba(119,119,119,0.3);
  box-shadow: 0 0 0 2px rgba(119,119,119,0.3);
}

.dcg-calculator-api-container .dcg-color-menu .dcg-color-option:nth-of-type(3n) {
  margin-right: 0;
}

.dcg-calculator-api-container .dcg-color-menu .dcg-color-option:nth-of-type(n+4) {
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-advanced-color-styling {
  font-size: 75%;
  margin-top: 5px;
  margin-bottom: 5px;
}

.dcg-calculator-api-container .dcg-advanced-color-styling input {
  border: 0;
  outline: none;
  font: inherit;
  width: 65px;
  margin-left: 3px;
  border-bottom: 2px solid #ccc;
  padding: 2px;
}

.dcg-calculator-api-container .dcg-advanced-color-styling input.dcg-hovered {
  border-bottom: 2px solid #aaa;
}

.dcg-calculator-api-container .dcg-advanced-color-styling input:focus {
  border-bottom: 2px solid #888;
}

.dcg-calculator-api-container .dcg-advanced-color-styling input.dcg-error {
  border-bottom: 2px solid #e15855;
}.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-component-checkbox {
  font-size: 85%;
}.dcg-calculator-api-container .dcg-evaluation-container {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -o-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-box-align: end;
  -moz-box-align: end;
  -o-box-align: end;
  -ms-flex-align: end;
  -webkit-align-items: flex-end;
  align-items: flex-end;
  margin-right: 5px;
  padding: 3px 6px 3px 3px;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle {
  color: #bbb;
  margin-bottom: 2px;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle.dcg-hovered {
  color: #666;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle.dcg-depressed {
  color: #333;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle .dcg-toggle-letter {
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle i {
  margin: 0 2px;
  position: relative;
  top: 1px;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation {
  margin-top: -3px;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation.dcg-hidden {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-mathquill-braille {
  padding: 5px 0;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input {
  text-align: right;
  color: #666;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-typeset-math {
  padding: 3px 6px 3px 3px;
  display: table;
  border: 1px solid rgba(206,206,206,0.8);
  background: rgba(0,0,0,0.04);
  opacity: 0.75;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";
  filter: alpha(opacity=75);
  border-radius: 4px;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-label-container {
  font-weight: normal;
  cursor: pointer;
  white-space: nowrap;
  display: table-cell;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-label-container .dcg-mq-math-mode {
  cursor: pointer;
  padding-right: 2px;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-html {
  white-space: nowrap;
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px;
  display: table-cell;
}.dcg-calculator-api-container .dcg-exp-list-resizer {
  position: absolute;
  top: 0;
  right: -12px;
  bottom: 0;
  width: 15px;
  cursor: ew-resize;
}

.dcg-calculator-api-container .dcg-exp-list-resizer.dcg-depressed {
  width: 215px;
  right: -112px;
}.dcg-calculator-api-container .dcg-expression-edit-actions {
  padding-left: 5px;
  padding-right: 7px;
  white-space: nowrap;
  position: absolute;
  top: 0;
  right: 0;
}

.dcg-calculator-api-container .dcg-expression-edit-actions:not(.dcg-limited-height) {
  bottom: 0;
}

.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-graphic {
  height: 100%;
  background: -webkit-linear-gradient(left, rgba(255,255,255,0.5), #fff);
  background: -moz-linear-gradient(left, rgba(255,255,255,0.5), #fff);
  background: -o-linear-gradient(left, rgba(255,255,255,0.5), #fff);
  background: -ms-linear-gradient(left, rgba(255,255,255,0.5), #fff);
  background: linear-gradient(to right, rgba(255,255,255,0.5), #fff);
  position: absolute;
  top: 0;
  right: 100%;
  width: 40px;
  cursor: default;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button {
  margin-left: 2px;
  width: 44px;
  height: 44px;
  padding: 12px 10px;
  text-align: center;
  margin-top: 4px;
  display: inline-block;
  font-size: 125%;
  line-height: 20px;
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
  border-radius: 5px;
}

.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button.dcg-hovered {
  background: rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button.dcg-depressed {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}.dcg-calculator-api-container .dcg-slider_menu {
  position: relative;
  top: -3px;
}

.dcg-calculator-api-container .dcg-expression-footer-title {
  text-transform: uppercase;
  font-size: 80%;
  color: rgba(0,0,0,0.5);
  margin-bottom: 4px;
}

.dcg-calculator-api-container .dcg-expression-footer-title .dcg-expression-footer-title-help {
  padding: 10px;
  color: rgba(0,0,0,0.2);
  margin: -10px -10px -10px -6px;
  cursor: pointer;
  text-decoration: none;
}

.dcg-calculator-api-container .dcg-expression-footer-title .dcg-expression-footer-title-help.dcg-hovered {
  color: #888;
}

.dcg-calculator-api-container .dcg-expression-footer-title .dcg-expression-footer-title-help.dcg-depressed {
  color: #000;
}

.dcg-calculator-api-container .dcg-expression-bottom .dcg-expression-braille-error {
  color: #666;
  margin: 10px;
  margin-left: 0;
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-expression-bottom .dcg-expression-braille-error .dcg-icon-error {
  font-size: 80%;
  margin-right: 5px;
  color: #fa824c;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-slider-step-container,
.dcg-calculator-api-container .dcg-display-domain .dcg-slider-step-container,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-slider-step-container,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-slider-step-container,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-slider-step-container,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-slider-step-container {
  margin-left: 10px;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,
.dcg-calculator-api-container .dcg-display-domain .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,
.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-display-domain .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille {
  opacity: 0.3;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
  filter: alpha(opacity=30);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-slider-step-label,
.dcg-calculator-api-container .dcg-display-domain .dcg-slider-step-label,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-slider-step-label,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-slider-step-label,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-slider-step-label,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-slider-step-label {
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-display-domain .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-mq-editable-field {
  outline: none;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-mq-placeholder,
.dcg-calculator-api-container .dcg-display-domain .dcg-mq-placeholder,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-mq-placeholder,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-mq-placeholder,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-mq-placeholder,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-mq-placeholder {
  margin-top: -10px;
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-mq-placeholder .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-display-domain .dcg-mq-placeholder .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-mq-placeholder .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-mq-placeholder .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-mq-placeholder .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-mq-placeholder .dcg-mq-math-mode {
  font-size: inherit;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-math-field,
.dcg-calculator-api-container .dcg-display-domain .dcg-math-field,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-math-field,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-math-field,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-math-field,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-math-field {
  border-bottom: 1px solid #bbb;
  padding: 1px 2px;
  margin: 1px;
  min-width: 35px;
  max-width: 60px;
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-display-domain .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-display-domain .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-math-field.dcg-invalid {
  border-bottom: 2px solid #6399cb;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-display-domain .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-math-field.dcg-invalid {
  border-bottom: 2px solid #e15855;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-display-domain .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {
  border-bottom: 2px solid #ccc;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper,
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper,
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper,
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper,
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper,
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper {
  display: inline-block;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille {
  border-bottom: 1px solid #bbb;
  padding: 1px 2px;
  margin: 1px;
  min-width: 35px;
  max-width: 35px;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid {
  border-bottom: 2px solid #6399cb;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid {
  border-bottom: 2px solid #e15855;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {
  border-bottom: 2px solid #ccc;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input,
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input,
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input,
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input,
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input,
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input {
  font-size: 95%;
}.dcg-calculator-api-container .dcg-container.dcg-narrow .dcg-expression-top-bar {
  border-right: 0;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar {
  border-right: 1px solid rgba(0,0,0,0.2);
  height: 46px;
  border-bottom: 1px solid rgba(0,0,0,0.2);
  line-height: 37px;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 4;
  -webkit-transition: box-shadow 0.2s ease;
  -moz-transition: box-shadow 0.2s ease;
  -o-transition: box-shadow 0.2s ease;
  -ms-transition: box-shadow 0.2s ease;
  transition: box-shadow 0.2s ease;
  padding: 5px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  background: -webkit-linear-gradient(#fcfcfc, #eaeaea);
  background: -moz-linear-gradient(#fcfcfc, #eaeaea);
  background: -o-linear-gradient(#fcfcfc, #eaeaea);
  background: -ms-linear-gradient(#fcfcfc, #eaeaea);
  background: linear-gradient(#fcfcfc, #eaeaea);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar.dcg-expressions-scrolled {
  -webkit-box-shadow: -2px 2px 4px rgba(0,0,0,0.15);
  box-shadow: -2px 2px 4px rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-btn-red,
.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-btn-blue {
  padding: 0 15px;
  height: 35px;
  line-height: 35px;
  position: relative;
  top: -1px;
  text-align: center;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn {
  width: 38px;
  height: 38px;
  line-height: 38px;
  font-size: 110%;
  display: inline-block;
  border-radius: 5px;
  text-align: center;
  margin: -1px -1px -1px -1px;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-rotated {
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i.dcg-icon-undo,
.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i.dcg-icon-redo {
  font-size: 120%;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn:not(:last-of-type) {
  margin-right: -2px;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-disabled {
  opacity: 0.3;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
  filter: alpha(opacity=30);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-hovered,
.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-active {
  background: rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-hovered i,
.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-active i {
  opacity: 0.8;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-depressed {
  background: rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-depressed i {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-center-buttons {
  text-align: center;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
}

.dcg-calculator-api-container .dcg-add-expression-container {
  position: relative;
  display: inline-block;
  height: 37px;
}.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container {
  font-size: 95%;
  position: absolute;
  top: -1px;
  left: 38px;
  width: 32px;
  height: 48px;
  color: #999;
  padding-left: 10px;
  padding-top: 18px;
  text-align: left;
  z-index: 2;
}

.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container i {
  -webkit-transition: 0.2s;
  -moz-transition: 0.2s;
  -o-transition: 0.2s;
  -ms-transition: 0.2s;
  transition: 0.2s;
  width: 16px;
  height: 16px;
}

.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container.dcg-hovered {
  color: #666;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-collapsed .dcg-caret-container i {
  display: inline-block;
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-secretFolder {
  display: none;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder {
  cursor: pointer;
  color: rgba(0,0,0,0.5);
  font-size: 75%;
  padding: 5px;
  margin-top: 5px;
  margin-left: 15px;
  margin-bottom: -5px;
  margin-right: -5px;
  position: relative;
  z-index: 1;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder .dcg-checkbox-box {
  display: inline-block;
  vertical-align: top;
  height: 15px;
  width: 15px;
  border-radius: 3px;
  color: #127a3d;
  border: 1px solid #aaa;
  margin-right: 5px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder .dcg-checkbox-box .dcg-icon-check {
  position: relative;
  top: -1px;
  left: 1px;
  text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;
  display: none;
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-checked .dcg-checkbox-box .dcg-icon-check {
  display: block;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-hovered {
  color: #666;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-hovered .dcg-checkbox-box {
  border-color: #888;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-depressed {
  color: #444;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-depressed .dcg-checkbox-box {
  border-color: #444;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-fade-container:after {
  -webkit-transition: 0;
  -moz-transition: 0;
  -o-transition: 0;
  -ms-transition: 0;
  transition: 0;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder:not(.dcg-collapsed).dcg-has-items .dcg-fade-container:after {
  position: absolute;
  top: 35px;
  bottom: 5px;
  left: 56px;
  content: '';
  border-left: 1px solid rgba(0,0,0,0.2);
  -webkit-animation: dcg-fadeIn 0.3s;
  -moz-animation: dcg-fadeIn 0.3s;
  -o-animation: dcg-fadeIn 0.3s;
  -ms-animation: dcg-fadeIn 0.3s;
  animation: dcg-fadeIn 0.3s;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-main textarea.dcg-smart-textarea,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-main .dcg-displayTextarea {
  padding-left: 20px;
}@-webkit-keyframes dcg-fade-pulse {
  0% {
    opacity: 0.2;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
    filter: alpha(opacity=20);
  }

  50% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }

  100% {
    opacity: 0.2;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
    filter: alpha(opacity=20);
  }
}

@keyframes dcg-fade-pulse {
  0% {
    opacity: 0.2;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
    filter: alpha(opacity=20);
  }

  50% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }

  100% {
    opacity: 0.2;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
    filter: alpha(opacity=20);
  }
}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loading,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-failed {
  font-size: 100%;
  padding: 1px;
  color: #888;
  font-style: italic;
  line-height: 37px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-retry-loading-image {
  color: #407bb5;
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid {
  font-size: 80%;
  display: grid;
  grid-template-columns: min-content 2fr min-content 1fr;
  width: calc(100% + 20px);
  max-width: 450px;
  color: rgba(0,0,0,0.5);
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-wrapper {
  width: 100%;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-wrapper .dcg-braille-input {
  color: rgba(0,0,0,0.5);
  font-size: 120%;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-image-input-name,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-image-input-mathquill {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-align-self: center;
  align-self: center;
  -ms-flex-item-align: center;
  padding-right: 5px;
  overflow: hidden;
  padding-top: 2px;
  padding-bottom: 2px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille {
  width: 100%;
  border-bottom: 1px solid transparent;
  cursor: pointer;
  margin-bottom: 1px;
  position: relative;
  top: 2px;
  margin-right: 10px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-hovered,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille.dcg-hovered {
  border-bottom: 2px solid rgba(0,0,0,0.2);
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-focus,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille.dcg-focus {
  cursor: text;
  border-bottom: 2px solid #6399cb;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-invalid,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille.dcg-invalid {
  border-bottom: 2px solid #e15855;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-image-input-grid,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-braille-input {
  color: #000;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-mathquill-braille {
  border-bottom: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-smart-textarea-container {
  margin-bottom: 8px;
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-smart-textarea-container textarea,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-smart-textarea-container .dcg-displayTextarea {
  padding-top: 0;
  padding-bottom: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-selected .dcg-smart-textarea-container {
  margin-top: -1px;
  margin-bottom: 9px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-selected .dcg-main {
  margin-right: -1px;
}.dcg-calculator-api-container .dcg-options-menu-container {
  position: absolute;
  display: none;
  z-index: 61;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-options-menu-container .dcg-options-menu {
  pointer-events: auto;
}

.dcg-calculator-api-container .dcg-options-menu {
  padding: 10px;
  position: relative;
  border: 1px solid #d3d3d3;
  border-radius: 7px;
  -webkit-box-shadow: 0 0 6px rgba(0,0,0,0.15);
  box-shadow: 0 0 6px rgba(0,0,0,0.15);
  background: #fff;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-dividing-line-after {
  padding-bottom: 10px;
  border-bottom: 1px solid #e2e2e2;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-triangle {
  width: 0;
  height: 0;
  border-style: solid;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-triangle:before {
  content: "";
  width: 0;
  height: 0;
  border-style: solid;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-zoom-fit-btn.dcg-disabled {
  opacity: 0.2;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
  filter: alpha(opacity=20);
}

.dcg-calculator-api-container .dcg-options-menu .dcg-title,
.dcg-calculator-api-container .dcg-options-menu .dcg-toggle-title {
  margin-bottom: 5px;
  opacity: 0.65;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=65)";
  filter: alpha(opacity=65);
  font-weight: 500;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-style-icons {
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-component-checkbox {
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-component-checkbox .dcg-checkbox-children {
  font-size: 90%;
  color: #333;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-options-menu-column-left,
.dcg-calculator-api-container .dcg-options-menu .dcg-options-menu-column-right {
  display: inline-block;
  width: 95px;
  vertical-align: top;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-options-menu-column-left {
  margin-right: 20px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container {
  display: inline-block;
  width: 29px;
  height: 29px;
  border-radius: 50%;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(:last-of-type) {
  margin-right: 4px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container.dcg-disabled {
  cursor: default !important;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(.dcg-disabled).dcg-hovered:not(.dcg-disabled) {
  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,0.1);
  box-shadow: 0 0 0 2px rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(.dcg-disabled).dcg-depressed:not(.dcg-disabled) {
  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,0.25);
  box-shadow: 0 0 0 2px rgba(0,0,0,0.25);
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-opacity {
  font-size: 80%;
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-opacity .dcg-math-field {
  border-bottom: 1px solid #bbb;
  padding: 1px 2px;
  margin: 1px;
  min-width: 25px;
  max-width: 40px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-opacity .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-options-menu .dcg-variable-opacity .dcg-math-field.dcg-invalid {
  border-bottom: 2px solid #6399cb;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-opacity .dcg-math-field.dcg-invalid {
  border-bottom: 2px solid #e15855;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-opacity .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {
  border-bottom: 2px solid #ccc;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-width {
  font-size: 80%;
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-width .dcg-math-field {
  border-bottom: 1px solid #bbb;
  padding: 1px 2px;
  margin: 1px;
  min-width: 55px;
  max-width: 55px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-width .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-options-menu .dcg-variable-width .dcg-math-field.dcg-invalid {
  border-bottom: 2px solid #6399cb;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-width .dcg-math-field.dcg-invalid {
  border-bottom: 2px solid #e15855;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-width .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {
  border-bottom: 2px solid #ccc;
  margin-bottom: 0;
}

/*
 * rules specific to the image menu
 */

.dcg-calculator-api-container .dcg-image-options-menu {
  top: -13px;
  left: 38px;
}

.dcg-calculator-api-container .dcg-image-options-menu .dcg-triangle {
  position: absolute;
  top: 38px;
  left: -12px;
  border-width: 12px 12px 12px 0;
  border-color: transparent #d3d3d3 transparent transparent;
}

.dcg-calculator-api-container .dcg-image-options-menu .dcg-triangle:before {
  position: absolute;
  top: -11px;
  left: 1px;
  border-width: 11px 11px 11px 0;
  border-color: transparent #fff transparent transparent;
}

.dcg-calculator-api-container .dcg-image-options-menu .dcg-opacities-menu .dcg-opacity-option {
  display: inline-block;
  width: 29px;
  height: 29px;
  margin-top: 2px;
  border-radius: 50%;
  position: relative;
}

.dcg-calculator-api-container .dcg-image-options-menu .dcg-opacities-menu .dcg-opacity-option:not(:last-of-type) {
  margin-right: 5px;
}

.dcg-calculator-api-container .dcg-image-options-menu .dcg-action-changeimage {
  text-align: center;
  color: #999;
  margin-top: 10px;
  text-decoration: underline;
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-image-options-menu .dcg-action-changeimage:hover {
  color: #333;
}

/*
 * rules specific to the expression options
 */

.dcg-calculator-api-container .dcg-exp-options-menu {
  top: -35px;
  left: 38px;
}

.dcg-calculator-api-container .dcg-exp-options-menu.dcg-colors-only .dcg-options-menu-column-left {
  display: none;
}

.dcg-calculator-api-container .dcg-exp-options-menu .dcg-triangle {
  position: absolute;
  top: 38px;
  left: -12px;
  border-width: 12px 12px 12px 0;
  border-color: transparent #d3d3d3 transparent transparent;
}

.dcg-calculator-api-container .dcg-exp-options-menu .dcg-triangle:before {
  position: absolute;
  top: -11px;
  left: 1px;
  border-width: 11px 11px 11px 0;
  border-color: transparent #fff transparent transparent;
}

.dcg-calculator-api-container .dcg-exp-options-menu.dcg-slider-options-view {
  top: -45px;
  margin-left: 5px;
}

.dcg-calculator-api-container .dcg-exp-options-menu.dcg-slider-options-view .dcg-triangle {
  top: 44px;
}

/*
 * rules specific to the table props
 */

.dcg-calculator-api-container .dcg-table-column-menu {
  left: -9px;
  top: 34px;
}

.dcg-calculator-api-container .dcg-table-column-menu .dcg-style-icons .dcg-graph-icon {
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-column-left .dcg-options-menu-section:not(:last-of-type):not(.dcg-lines-menu) {
  padding-bottom: 10px;
  border-bottom: 1px solid #e2e2e2;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-table-column-menu .dcg-triangle {
  position: absolute;
  top: -9px;
  left: 14px;
  border-width: 0 9px 9px 9px;
  border-color: transparent transparent #d3d3d3 transparent;
}

.dcg-calculator-api-container .dcg-table-column-menu .dcg-triangle:before {
  position: absolute;
  top: 1px;
  left: -8px;
  border-width: 0 8px 8px 8px;
  border-color: transparent transparent #fff transparent;
}.dcg-calculator-api-container .dcg-label-dropdown-view {
  background: #fff;
  position: absolute;
  top: -45px;
  right: 35px;
  padding: 5px;
  z-index: 3;
  background-color: #fff;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 6px;
  -webkit-box-shadow: 0 5px 10px rgba(0,0,0,0.2);
  box-shadow: 0 5px 10px rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-label-dropdown-view.dcg-popover.dcg-left .dcg-arrow {
  top: 60px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-options .dcg-label-option.dcg-hovered {
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-options .dcg-label-option-selected {
  color: #4781b9;
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-additional-group-in-column {
  margin-top: 15px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-component-checkbox {
  white-space: nowrap;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-checkbox-children {
  font-size: 90%;
  vertical-align: middle;
  color: #666;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container {
  padding: 5px 10px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group {
  min-width: 90px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group:first-of-type {
  margin-right: 10px;
  min-width: 120px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-group-title {
  font-family: "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
  font-weight: 500;
  color: #444;
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option {
  display: block;
  -webkit-transition: color 0.2s ease;
  -moz-transition: color 0.2s ease;
  -o-transition: color 0.2s ease;
  -ms-transition: color 0.2s ease;
  transition: color 0.2s ease;
  white-space: nowrap;
  font-size: 90%;
  min-height: 24px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-menu-option-selected {
  color: #4781b9;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-menu-option-selected .dcg-menu-option-label {
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option:not(.dcg-menu-option-selected) {
  color: #666;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option:not(.dcg-menu-option-selected).dcg-hovered {
  color: #333;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option:not(.dcg-menu-option-selected).dcg-hovered .dcg-menu-option-label {
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option:not(.dcg-menu-option-selected).dcg-depressed {
  color: #000;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-small-label {
  margin-top: 6px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-small-label .dcg-menu-option-icon {
  font-size: 75%;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-large-label .dcg-menu-option-icon {
  font-size: 125%;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option .dcg-menu-option-icon {
  margin-right: 7px;
  color: #bbb;
  display: inline-block;
  width: 15px;
  text-align: center;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-menu-option-icon {
  position: relative;
  top: 4px;
  margin-right: 12px;
  font-size: 23px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon {
  color: #4781b9;
  position: absolute;
  top: 0;
  left: 0;
  font-size: 23px;
  width: 23px;
  height: 23px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon.dcg-position-icon-left {
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon.dcg-position-icon-right {
  -webkit-transform: rotate(90deg);
  -moz-transform: rotate(90deg);
  -o-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  transform: rotate(90deg);
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon.dcg-position-icon-below {
  -webkit-transform: rotate(180deg);
  -moz-transform: rotate(180deg);
  -o-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  transform: rotate(180deg);
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon .dcg-default-position {
  border-radius: 50%;
  position: absolute;
  top: 50%;
  left: 50%;
  margin: -3px 0 0 -3px;
  height: 6px;
  width: 6px;
  background: #4781b9;
}.dcg-calculator-api-container .dcg-container .dcg-dropdown-container {
  padding-right: 5px;
  margin: -5px 0;
  position: relative;
}

.dcg-calculator-api-container .dcg-container .dcg-dropdown-container .dcg-dropdown-wrench-container {
  padding: 5px 0;
  width: 28px;
  text-align: center;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-container .dcg-dropdown-container .dcg-icon-wrench {
  font-size: 110%;
  color: #999;
}

.dcg-calculator-api-container .dcg-container .dcg-dropdown-container .dcg-icon-wrench.dcg-hovered {
  color: #666;
}

.dcg-calculator-api-container .dcg-container .dcg-dropdown-container .dcg-icon-wrench.dcg-depressed {
  color: #000;
}

.dcg-calculator-api-container .dcg-container .dcg-dropdown-container.dcg-no-label {
  visibility: hidden;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-container .dcg-editable-mode-toggle {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  padding-left: 5px;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container {
  cursor: default;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-warning-container {
  position: absolute;
  bottom: 3px;
  right: 41px;
  background: #fff;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox {
  cursor: pointer;
  color: #999;
  margin-top: 4px;
  font-size: 80%;
  white-space: nowrap;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox:after {
  content: ":";
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-checkbox-label-colon:after {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box {
  display: inline-block;
  vertical-align: middle;
  height: 1em;
  width: 1em;
  position: relative;
  top: -0.1em;
  border-radius: 3px;
  color: #4781b9;
  border: 1px solid #bbb;
  font-size: 125%;
  margin-right: 2px;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box .dcg-icon-check {
  position: absolute;
  top: 50%;
  left: 50%;
  margin-top: -0.6em;
  margin-left: -0.35em;
  text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box:not(.dcg-checked) .dcg-icon-check {
  visibility: hidden;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered {
  color: #666;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered .dcg-checkbox-box {
  border-color: #999;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered .dcg-checkbox-box:not(.dcg-checked) .dcg-icon-check {
  color: #ccc;
  visibility: visible;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-depressed .dcg-checkbox-box .dcg-icon-check {
  color: #004f9b;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container input {
  outline: none;
  border: 1px solid #bbb;
  border-top: 0 !important;
  border-right: 0 !important;
  border-left: 0 !important;
  color: #000;
  padding: 4px;
  -webkit-appearance: none;
  border-radius: 0;
  min-width: 5px;
  font-size: 80%;
  margin: 0 5px 0 5px;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container input.dcg-hovered {
  border-color: #ccc;
  border-bottom-width: 2px;
  padding-bottom: 3px;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container input:focus:not([disabled]) {
  border-color: #6399cb;
  border-bottom-width: 2px;
  padding-bottom: 3px;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container input.dcg-disabled-editable-input {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container:not(.dcg-label-visible) input.dcg-disabled-input:not(:focus) {
  border-bottom-color: transparent;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container.dcg-label-visible .dcg-checkbox {
  color: #666;
}

.dcg-calculator-api-container .dcg-container .dcg-option-toggle-view .dcg-toggle-container {
  display: inline-block;
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-container .dcg-option-toggle-view .dcg-toggle-container:not(:last-of-type) {
  margin-right: 15px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-label-container {
  font-size: 120%;
}.dcg-calculator-api-container .dcg-drop-image {
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 42;
  text-align: center;
  vertical-align: middle;
  background: rgba(255,255,255,0.5);
  border: 8px dashed #bbb;
  font-family: sans-serif;
  color: #bbb;
  font-size: 370%;
}

.dcg-calculator-api-container .dcg-drop-image span {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  top: 0;
  height: 3.6em;
  line-height: 1.2em;
  margin: auto;
  padding: 0 20px;
}

.dcg-calculator-api-container .dcg-exppanel-outer {
  display: inline-block;
  overflow-x: visible;
  margin-left: 0;
}

.dcg-calculator-api-container .dcg-exppanel-outer .dcg-exppanel-container {
  padding-top: 46px;
  width: 100%;
  -webkit-transform: translateZ(0);
  z-index: 40;
  position: absolute;
  top: 0;
  bottom: 0;
  -webkit-transition: -webkit-transform 0.25s ease-out;
  -moz-transition: -moz-transform 0.25s ease-out;
  -o-transition: -o-transform 0.25s ease-out;
  -ms-transition: -ms-transform 0.25s ease-out;
  transition: transform 0.25s ease-out;
}

.dcg-calculator-api-container .dcg-exppanel-outer .dcg-exppanel-container.dcg-add-shadow {
  -webkit-box-shadow: 0 -4px 6px rgba(0,0,0,0.2);
  box-shadow: 0 -4px 6px rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-show-expressions-tab {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  -webkit-animation: dcg-fadeIn 0.3s forwards;
  -moz-animation: dcg-fadeIn 0.3s forwards;
  -o-animation: dcg-fadeIn 0.3s forwards;
  -ms-animation: dcg-fadeIn 0.3s forwards;
  animation: dcg-fadeIn 0.3s forwards;
  -webkit-animation-delay: 0.4s;
  -moz-animation-delay: 0.4s;
  -o-animation-delay: 0.4s;
  -ms-animation-delay: 0.4s;
  animation-delay: 0.4s;
}

.dcg-calculator-api-container .dcg-exppanel {
  height: 100%;
  overflow-x: hidden;
  overflow-y: auto;
  overflow-anchor: none;
  border-right: 1px solid rgba(0,0,0,0.2);
  z-index: 0;
  -webkit-overflow-scrolling: touch;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionlist {
  position: relative;
  padding-bottom: 50px;
  min-height: 100%;
}

.dcg-calculator-api-container .dcg-narrow .dcg-exppanel {
  border-right: 0;
}.dcg-calculator-api-container .dcg-parameter-suggestion-container {
  font-size: 80%;
  position: relative;
  top: -9px;
  margin-left: 2px;
  white-space: nowrap;
  width: 100%;
  padding-right: 5px;
  -o-text-overflow: ellipsis;
  text-overflow: ellipsis;
  overflow: hidden;
  color: #666;
  cursor: default;
}

.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-parameter-suggestion-braille {
  top: -6px;
}

.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-hovered .dcg-default-marker {
  color: #666;
}

.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-depressed .dcg-default-marker {
  color: #333;
}

.dcg-calculator-api-container .dcg-parameter-suggestion-container .dcg-default-marker {
  color: rgba(0,0,0,0.5);
  margin-left: 0.3em;
}

.dcg-calculator-api-container .dcg-parameter-suggestion-container .dcg-parameter-name:not(:last-of-type):after {
  content: ',';
  margin-right: 5px;
}.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-container {
  position: absolute;
  top: 100%;
  left: -5px;
  right: -5px;
  margin-top: 4px;
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener {
  margin-top: -2px;
  margin-left: 1px;
  padding: 5px 5px;
  text-align: center;
  font-size: 140%;
  cursor: pointer;
  opacity: 0.75;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";
  filter: alpha(opacity=75);
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener:before {
  content: "";
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: inline-block;
  position: absolute;
  top: 50%;
  left: 50%;
  margin-left: -12px;
  margin-top: -13px;
  background: currentColor;
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-hovered {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-hovered:before {
  opacity: 0.15;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=15)";
  filter: alpha(opacity=15);
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-menu-open {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-menu-open:before {
  opacity: 0.3;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
  filter: alpha(opacity=30);
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-depressed {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-depressed:before {
  opacity: 0.4;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
  filter: alpha(opacity=40);
}.dcg-calculator-api-container .dcg-slider-options-view {
  width: 200px;
  padding: 15px 15px 10px 15px;
}

.dcg-calculator-api-container .dcg-slider-options-view .dcg-title {
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-slider-options-view .dcg-toggle {
  margin-bottom: 20px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-slider-options-view .dcg-toggle .dcg-toggle-option {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  color: #666;
  font-size: 105%;
  height: 30px;
  line-height: 30px;
}

.dcg-calculator-api-container .dcg-slider-options-view .dcg-toggle .dcg-toggle-option i {
  position: relative;
  top: -3px;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-slider-options-view .dcg-slider-speed-menu .dcg-title,
.dcg-calculator-api-container .dcg-slider-options-view .dcg-slider-speed-menu .dcg-slider-speed-container {
  display: inline-block;
}.dcg-calculator-api-container .dcg-slider-speed-container {
  float: right;
  position: relative;
  top: -1px;
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower {
  color: #666;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-hovered,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-hovered {
  color: #222;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-depressed,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-depressed {
  color: #000;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-disabled,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-disabled {
  opacity: 0.25;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";
  filter: alpha(opacity=25);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower {
  -webkit-transform: rotate(180deg);
  -moz-transform: rotate(180deg);
  -o-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  transform: rotate(180deg);
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower i {
  position: relative;
  top: 1px;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower {
  cursor: pointer;
  font-size: 70%;
  display: inline-block;
  width: 26px;
  height: 26px;
  text-align: center;
  line-height: 26px;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 4px;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-hovered,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-hovered {
  background: rgba(0,0,0,0.05);
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-depressed,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-depressed {
  background: rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster i,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower i {
  position: relative;
  left: 1px;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-variable-speed {
  width: 45px;
  font-size: 90%;
  display: inline-block;
  text-align: center;
}.dcg-calculator-api-container .dcg-slider-container {
  min-height: 26px;
  display: block;
  position: relative;
}

.dcg-calculator-api-container .dcg-slider {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  margin-left: -15px;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}.dcg-calculator-api-container .dcg-smart-textarea-container {
  position: relative;
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea,
.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea {
  border: 0;
  font: inherit;
  resize: none;
  background: transparent;
  overflow: hidden;
  outline: none;
  color: #000;
  white-space: pre-wrap;
  word-wrap: break-word;
  width: 100%;
  padding: 3px;
  margin: -1px;
}

.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  position: absolute;
  top: 1px;
  left: 0;
  bottom: 0;
  right: 0;
  height: 100%;
}

.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea.dcg-empty {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea:after {
  content: '|';
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  width: 0;
  overflow: hidden;
  display: inline-block;
  height: 1px;
}

.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a {
  z-index: 1;
  position: relative;
  color: #4781b9;
}

.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a.dcg-hovered,
.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a .dcg-depressed {
  color: #004f9b;
}

.dcg-calculator-api-container .dcg-selected .dcg-smart-textarea-container .dcg-displayTextarea {
  pointer-events: none;
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
}

.dcg-calculator-api-container .dcg-selected .dcg-smart-textarea-container textarea {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}.dcg-calculator-api-container .dcg-stats-footer-container {
  margin-right: $evaluation-margin;
  cursor: text;
  padding-right: 5px;
}

.dcg-calculator-api-container .dcg-stats-footer-container table {
  margin-left: auto;
}

.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value {
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
  margin-top: 3px;
  border: 1px solid rgba(206,206,206,0.8);
  border-radius: 4px;
  background: rgba(0,0,0,0.04);
  opacity: 0.75;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";
  filter: alpha(opacity=75);
}

.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value .dcg-row-header {
  display: inline-block;
  border-right: 1px solid rgba(206,206,206,0.8);
  margin-right: 5px;
  width: 68px;
  padding: 5px;
}

.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value .dcg-evaluation .dcg-static-mathquill-view {
  padding: 3px 6px 3px 3px;
}.dcg-calculator-api-container .dcg-suggested-zoom-view {
  position: absolute;
  bottom: 7px;
  left: 50%;
  font-size: 20px;
  line-height: 20px;
  margin-left: -10px;
  text-align: center;
  -webkit-animation: dcg-fadeIn 0.3s;
  -moz-animation: dcg-fadeIn 0.3s;
  -o-animation: dcg-fadeIn 0.3s;
  -ms-animation: dcg-fadeIn 0.3s;
  animation: dcg-fadeIn 0.3s;
}

.dcg-calculator-api-container .dcg-suggested-zoom-view i {
  padding: 5px;
  margin-left: -5px;
  opacity: 0.75;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";
  filter: alpha(opacity=75);
}

.dcg-calculator-api-container .dcg-suggested-zoom-view i.dcg-hovered {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-suggested-zoom-view i.dcg-depressed {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-icon-container {
  position: absolute;
  top: 50%;
  left: 5px;
  margin-top: -14.5px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-drag-icon {
  opacity: 0.4;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
  filter: alpha(opacity=40);
  vertical-align: middle;
  cursor: text;
  margin-left: 5px;
  margin-right: -10px;
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell-math-content,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-mathquill-braille {
  outline: none;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell:not(.dcg-non-editable) .dcg-cell-math-content,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell:not(.dcg-non-editable) .dcg-mathquill-braille {
  max-width: 100px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container {
  overflow: hidden;
  padding-left: 15px;
  padding-right: 15px;
  position: relative;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container:before {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  z-index: 1;
  background: -webkit-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: linear-gradient(to left, rgba(255,255,255,0), #fff);
  width: 20px;
  content: '';
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container:after {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  background: -webkit-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: linear-gradient(to right, rgba(255,255,255,0), #fff);
  width: 20px;
  content: '';
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container .dcg-table-sliding-container {
  -webkit-transition: -webkit-transform 0.15s;
  -moz-transition: -moz-transform 0.15s;
  -o-transition: -o-transform 0.15s;
  -ms-transition: -ms-transform 0.15s;
  transition: transform 0.15s;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-main {
  padding-top: 20px;
  padding-bottom: 5px;
  position: relative;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td {
  border-top: 1px solid #e5e5e5;
  text-align: center;
  font-size: 80%;
  color: rgba(0,0,0,0.5);
  padding: 8px 0;
  font-style: italic;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more {
  color: #4781b9;
  font-style: normal;
  text-decoration: underline;
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more.dcg-hovered {
  color: #004f9b;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more.dcg-depressed {
  color: #033b70;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata {
  position: relative;
  display: table;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row {
  display: table-row;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell {
  display: table-cell;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell {
  border-top: 1px solid #e5e5e5;
  padding: 7px 10px 7px 20px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell.dcg-non-editable {
  padding: 7px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type).dcg-braille-row .dcg-cell {
  padding: 7px 20px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:nth-of-type(2) .dcg-cell {
  border-top: 1px solid #444;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell {
  vertical-align: bottom;
  padding: 7px 5px 3px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) {
  padding: 7px 15px 3px 30px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) .dcg-static-mathquill-view {
  margin-left: 10px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell .dcg-math-field {
  min-height: 29px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:first-of-type.dcg-error {
  padding-left: 33px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type.dcg-braille-row .dcg-cell:not(:first-of-type):not(:last-of-type) {
  padding: 7px 15px 3px 40px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-static-mathquill-view {
  padding-right: 8px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell {
  position: relative;
  text-align: center;
  vertical-align: middle;
  font-size: 72%;
  min-height: 34px;
  min-width: 40px;
  cursor: text;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-braille-input {
  text-align: center;
  min-width: 40px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:not(:first-of-type) {
  border-left: 1px solid #e5e5e5;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:nth-of-type(2) {
  border-left: 1px solid #444;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable {
  cursor: default;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable .dcg-mq-math-mode {
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:not(.dcg-non-editable):not(.dcg-selected).dcg-empty .dcg-empty-line {
  position: absolute;
  width: 26px;
  left: 50%;
  margin-left: -13px;
  border-top: 1px dashed #bbb;
  bottom: 10px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected:not(.dcg-non-editable) .dcg-inner-border {
  position: absolute;
  left: -1px;
  top: -1px;
  bottom: -1px;
  right: -1px;
  z-index: 1;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable {
  background: #f5f5f5;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable .dcg-mathquill-braille-overflow-left .dcg-tooltip-hit-area-container:before {
  background: -webkit-linear-gradient(right, rgba(245,245,245,0), #f5f5f5);
  background: -moz-linear-gradient(right, rgba(245,245,245,0), #f5f5f5);
  background: -o-linear-gradient(right, rgba(245,245,245,0), #f5f5f5);
  background: -ms-linear-gradient(right, rgba(245,245,245,0), #f5f5f5);
  background: linear-gradient(to left, rgba(245,245,245,0), #f5f5f5);
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable .dcg-mathquill-braille-overflow-right .dcg-tooltip-hit-area-container:after {
  background: -webkit-linear-gradient(left, rgba(245,245,245,0), #f5f5f5);
  background: -moz-linear-gradient(left, rgba(245,245,245,0), #f5f5f5);
  background: -o-linear-gradient(left, rgba(245,245,245,0), #f5f5f5);
  background: -ms-linear-gradient(left, rgba(245,245,245,0), #f5f5f5);
  background: linear-gradient(to right, rgba(245,245,245,0), #f5f5f5);
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected:not(.dcg-non-editable) .dcg-inner-border {
  border: 2px solid #6399cb;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-mq-math-mode {
  position: relative;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-table-icon-error-container {
  position: absolute;
  top: 50%;
  left: 4px;
  margin-top: -7px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header {
  font-size: 85%;
  min-height: 37px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header .dcg-mathquill-braille {
  min-height: 30px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-static-mathquill-view,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-static-mathquill-view,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-mathquill-braille {
  text-align: center;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-right-column):after {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  right: 0;
  background: -webkit-linear-gradient(right, #fff, rgba(255,255,255,0));
  background: -moz-linear-gradient(right, #fff, rgba(255,255,255,0));
  background: -o-linear-gradient(right, #fff, rgba(255,255,255,0));
  background: -ms-linear-gradient(right, #fff, rgba(255,255,255,0));
  background: linear-gradient(to left, #fff, rgba(255,255,255,0));
  width: 60px;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-bottom-row):before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 30px;
  pointer-events: none;
  background: -webkit-linear-gradient(bottom, #fff, rgba(255,255,255,0));
  background: -moz-linear-gradient(bottom, #fff, rgba(255,255,255,0));
  background: -o-linear-gradient(bottom, #fff, rgba(255,255,255,0));
  background: -ms-linear-gradient(bottom, #fff, rgba(255,255,255,0));
  background: linear-gradient(to top, #fff, rgba(255,255,255,0));
  z-index: 1;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-bottom-row) .dcg-row:last-of-type .dcg-cell .dcg-empty-line {
  display: none;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row:last-of-type {
  visibility: hidden;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row:last-of-type .dcg-cell {
  border-color: transparent;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row .dcg-cell:last-of-type {
  border-color: transparent;
  visibility: hidden;
}.dcg-calculator-api-container .dcg-toggle-view {
  float: right;
  padding: 5px;
  margin-top: 5px;
  display: inline-block;
  width: 30px;
  height: 8px;
  background: #ddd;
  border-radius: 8px;
  position: relative;
  -webkit-transition: all 0.2s;
  -moz-transition: all 0.2s;
  -o-transition: all 0.2s;
  -ms-transition: all 0.2s;
  transition: all 0.2s;
}

.dcg-calculator-api-container .dcg-toggle-view .dcg-toggle-switch {
  position: absolute;
  top: -4px;
  left: 0;
  width: 18px;
  height: 18px;
  background: #f5f5f5;
  border-radius: 50%;
  -webkit-transition: all 0.2s;
  -moz-transition: all 0.2s;
  -o-transition: all 0.2s;
  -ms-transition: all 0.2s;
  transition: all 0.2s;
  -webkit-box-shadow: 0 2px 2px rgba(0,0,0,0.2), 0 0 3px rgba(0,0,0,0.2);
  box-shadow: 0 2px 2px rgba(0,0,0,0.2), 0 0 3px rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled {
  -webkit-transition: all 0.2s;
  -moz-transition: all 0.2s;
  -o-transition: all 0.2s;
  -ms-transition: all 0.2s;
  transition: all 0.2s;
}

.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled .dcg-toggle-switch {
  -webkit-transition: all 0.2s;
  -moz-transition: all 0.2s;
  -o-transition: all 0.2s;
  -ms-transition: all 0.2s;
  transition: all 0.2s;
  left: 12px;
  background: #666;
}.dcg-calculator-api-container .dcg-ttest-footer-container {
  margin-right: $evaluation-margin;
  cursor: text;
  padding-right: 5px;
}

.dcg-calculator-api-container .dcg-ttest-footer-container table {
  margin-left: auto;
}

.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value {
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
  margin-top: 3px;
  border: 1px solid rgba(206,206,206,0.8);
  border-radius: 4px;
  background: rgba(0,0,0,0.04);
  opacity: 0.75;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";
  filter: alpha(opacity=75);
}

.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value .dcg-operator .dcg-static-mathquill-view {
  border-right: 1px solid rgba(206,206,206,0.8);
  margin-right: 5px;
  min-width: 35px;
  text-align: center;
  padding: 3px;
}

.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value .dcg-evaluation .dcg-static-mathquill-view {
  padding: 3px 6px 3px 3px;
}.dcg-calculator-api-container .dcg-visualization-parameters-container {
  margin-bottom: 5px;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-smaller-font {
  font-size: 85%;
  margin-left: 2px;
}

.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-mathquill-wrapper {
  margin-left: 10px;
  margin-right: 10px;
}

.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-parameter-name {
  font-size: 105%;
}

.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-toggle-container {
  display: inline-block;
  margin-bottom: 5px;
}

.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-toggle-container:not(:last-of-type) {
  margin-right: 15px;
}

.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-toggle-container .dcg-toggle-option {
  min-width: 65px;
}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover {
  top: -306px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-arrow {
  border-top-color: #f7f7f7;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior {
  height: 306px !important;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  padding: 3px 6px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  padding: 10px 0 5px;
  text-transform: capitalize;
  color: #333;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading:not(:first-of-type) {
  margin-left: 6px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading:not(.dcg-selected):not(.dcg-hovered):not(.dcg-depressed) {
  border-bottom: 3px solid #e2e2e2;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading.dcg-hovered {
  border-bottom: 3px solid #ccc;
  color: #000;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading.dcg-depressed {
  border-bottom: 3px solid #bbb;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading.dcg-selected {
  color: #4781b9;
  border-bottom: 3px solid #4781b9;
  cursor: default;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover {
  padding: 0;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior {
  padding: 0;
  width: 258px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-popover-header table {
  border-collapse: collapse;
  position: relative;
  top: 1px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container {
  width: 33.3%;
  float: left;
  height: 42px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container.dcg-keypad-short-btn {
  height: 36px;
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container .dcg-keypad-btn {
  font-size: 80% !important;
  white-space: nowrap;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-section-separator {
  display: block;
  clear: both;
  border-bottom: 1px solid #e2e2e2;
  margin: 0 2px 4px;
  padding-top: 4px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading {
  color: #888;
  text-transform: uppercase;
  font-size: 75%;
  text-align: center;
  padding-top: 8px;
  padding-bottom: 5px;
  clear: both;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a {
  color: #000;
  margin-left: 5px;
  opacity: 0.3;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
  filter: alpha(opacity=30);
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a.dcg-hovered {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a.dcg-depressed {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-interior-buttons {
  margin-left: 1px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-option {
  border-bottom: 1px solid rgba(0,0,0,0.2);
  cursor: pointer;
  margin: 4px 1px 0 3px !important;
  width: 60px;
  height: 38px;
  line-height: 28px;
  text-align: center;
  line-height: 38px;
  padding: 0;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-option.dcg-inverse-trig .dcg-mq-supsub {
  line-height: 0;
  font-size: 80%;
  position: relative;
  top: -0.5em;
  margin-right: -5px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left {
  top: auto;
  bottom: 2px;
  right: 18%;
  left: auto;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left .dcg-arrow {
  top: auto;
}

.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-popover-interior {
  width: 300px;
}

.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-interior-buttons {
  font-size: 80%;
}

@media screen and (max-width: 330px) {
  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-popover-interior {
    width: 255px;
  }

  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-interior-buttons {
    font-size: 70%;
  }
}.dcg-calculator-api-container .dcg-keypad .dcg-keys-container {
  position: absolute;
  bottom: 0;
  z-index: 60;
  width: 100%;
  margin: 0 auto;
  padding: 0;
  -webkit-transition: opacity 0.3s;
  -moz-transition: opacity 0.3s;
  -o-transition: opacity 0.3s;
  -ms-transition: opacity 0.3s;
  transition: opacity 0.3s;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover {
  position: absolute;
  right: 8px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-keyboard,
.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-keyboard {
  font-size: 175%;
  float: left;
  margin-right: 8px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-down,
.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-caret-down,
.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-up,
.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-caret-up {
  font-size: 75%;
  line-height: 2rem;
}

.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad-container {
  position: absolute;
  top: -2.5rem;
  left: -1px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad-container {
  z-index: 60;
  position: absolute;
  bottom: 5px;
  left: 5px;
  -webkit-animation: dcg-fadeIn-show-keypad 0.6s;
  -moz-animation: dcg-fadeIn-show-keypad 0.6s;
  -o-animation: dcg-fadeIn-show-keypad 0.6s;
  -ms-animation: dcg-fadeIn-show-keypad 0.6s;
  animation: dcg-fadeIn-show-keypad 0.6s;
}

.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad {
  padding: 0.25rem 1.25rem;
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad {
  padding: 4px 14px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-keys {
  position: relative;
  width: 100%;
  max-width: 835px;
  margin: auto;
  text-align: center;
}

.dcg-calculator-api-container .dcg-keypad .dcg-keys {
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-keypad .dcg-keys-background {
  background: #f0f0f0;
  border-top: 1px solid rgba(0,0,0,0.1);
  -webkit-box-shadow: 0 -1px 3px 0 rgba(0,0,0,0.1);
  box-shadow: 0 -1px 3px 0 rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad {
  background: #f0f0f0;
  color: rgba(0,0,0,0.7);
  border: 1px solid rgba(0,0,0,0.1);
  border-bottom: 1px solid #f0f0f0;
  -webkit-box-shadow: 0 -1px 3px 0 rgba(0,0,0,0.1);
  box-shadow: 0 -1px 3px 0 rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad.dcg-hovered {
  color: rgba(0,0,0,0.9);
}

.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad.dcg-depressed {
  color: #000;
}

.dcg-calculator-api-container .dcg-narrow .dcg-hide-on-narrow {
  display: none;
}

.dcg-calculator-api-container .dcg-narrow .dcg-keypad .dcg-functions-popover:not(.dcg-left) {
  position: absolute;
  margin-left: -70px;
}

.dcg-calculator-api-container .dcg-narrow .dcg-keypad .dcg-functions-popover.dcg-left {
  right: 18%;
}

@-webkit-keyframes dcg-fadeIn-show-keypad {
  0% {
    -webkit-transform: translate(0, 10px);
    -moz-transform: translate(0, 10px);
    -o-transform: translate(0, 10px);
    -ms-transform: translate(0, 10px);
    transform: translate(0, 10px);
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  50% {
    -webkit-transform: translate(0, 10px);
    -moz-transform: translate(0, 10px);
    -o-transform: translate(0, 10px);
    -ms-transform: translate(0, 10px);
    transform: translate(0, 10px);
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    -webkit-transform: translate(0, 0);
    -moz-transform: translate(0, 0);
    -o-transform: translate(0, 0);
    -ms-transform: translate(0, 0);
    transform: translate(0, 0);
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@keyframes dcg-fadeIn-show-keypad {
  0% {
    -webkit-transform: translate(0, 10px);
    -moz-transform: translate(0, 10px);
    -o-transform: translate(0, 10px);
    -ms-transform: translate(0, 10px);
    transform: translate(0, 10px);
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  50% {
    -webkit-transform: translate(0, 10px);
    -moz-transform: translate(0, 10px);
    -o-transform: translate(0, 10px);
    -ms-transform: translate(0, 10px);
    transform: translate(0, 10px);
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    -webkit-transform: translate(0, 0);
    -moz-transform: translate(0, 0);
    -o-transform: translate(0, 0);
    -ms-transform: translate(0, 0);
    transform: translate(0, 0);
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container {
  height: 40px;
  display: inline-block;
  position: relative;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  -ms-box-flex: 1;
  box-flex: 1;
  -webkit-flex-grow: 1;
  flex-grow: 1;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn {
  position: absolute;
  top: 2px;
  left: 2px;
  right: 2px;
  bottom: 2px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -o-box-orient: horizontal;
  -webkit-flex-flow: row;
  -ms-flex-flow: row;
  flex-flow: row;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
  padding: 0;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn .dcg-keypad-btn-content {
  text-align: center;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int {
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-sup,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-sup,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-sub,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-sub,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-to,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-to,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-from,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-from {
  display: none;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-supsub {
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-sqrt-stem {
  width: 4px;
  padding: 0;
  background: transparent;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=shift] {
  padding-top: 2px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="/"],
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="-"] {
  padding-top: 1px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="*"] {
  padding-top: 2px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=left],
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=right],
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=backspace] {
  font-size: 110%;
  padding-top: 2px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=enter] {
  font-size: 140%;
  padding-top: 3px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn .dcg-keypad-btn-content {
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray {
  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.25), inset 0 -1px rgba(0,0,0,0.02);
  box-shadow: inset 0 1px rgba(255,255,255,0.25), inset 0 -1px rgba(0,0,0,0.02);
  background: -webkit-linear-gradient(#fff, #fafafa);
  background: -moz-linear-gradient(#fff, #fafafa);
  background: -o-linear-gradient(#fff, #fafafa);
  background: -ms-linear-gradient(#fff, #fafafa);
  background: linear-gradient(#fff, #fafafa);
  border: 1px solid #d8d8d8;
  border-radius: 2px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray.dcg-hovered {
  background: #f5f5f5;
  border-color: #d8d8d8;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray.dcg-depressed {
  background: #ebebeb;
  border-color: #cfcfcf;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray {
  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.02);
  box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.02);
  background: -webkit-linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));
  background: -moz-linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));
  background: -o-linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));
  background: -ms-linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));
  background: linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));
  border: 1px solid #bbb;
  border-radius: 2px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray.dcg-hovered {
  background: rgba(0,0,0,0.16);
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray.dcg-depressed {
  -webkit-box-shadow: none;
  box-shadow: none;
  background: rgba(0,0,0,0.19);
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border-radius: 2px;
  color: #fff;
  background: #4781b9;
  border: 1px solid #3f73a6;
  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);
  box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue.dcg-hovered:not(.dcg-disabled),
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue.dcg-hovered:not(.dcg-disabled) {
  background: #3f73a6;
  -webkit-transition: background 0.2s;
  -moz-transition: background 0.2s;
  -o-transition: background 0.2s;
  -ms-transition: background 0.2s;
  transition: background 0.2s;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue.dcg-depressed:not(.dcg-disabled),
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue.dcg-depressed:not(.dcg-disabled) {
  background: #35608a;
  border: 1px solid #35608a;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue {
  height: 76px;
}

.dcg-calculator-api-container .dcg-inverted-colors .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray {
  -webkit-box-shadow: inset 0 -1px rgba(255,255,255,0.25), inset 0 1px rgba(0,0,0,0.02);
  box-shadow: inset 0 -1px rgba(255,255,255,0.25), inset 0 1px rgba(0,0,0,0.02);
  background: -webkit-linear-gradient(#fafafa, #fff);
  background: -moz-linear-gradient(#fafafa, #fff);
  background: -o-linear-gradient(#fafafa, #fff);
  background: -ms-linear-gradient(#fafafa, #fff);
  background: linear-gradient(#fafafa, #fff);
}

.dcg-calculator-api-container .dcg-inverted-colors .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray {
  -webkit-box-shadow: inset 0 -1px rgba(255,255,255,0.1), inset 0 1px rgba(0,0,0,0.02);
  box-shadow: inset 0 -1px rgba(255,255,255,0.1), inset 0 1px rgba(0,0,0,0.02);
  background: -webkit-linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));
  background: -moz-linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));
  background: -o-linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));
  background: -ms-linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));
  background: linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray {
  background: rgba(255,255,255,0.3);
  border: 0;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray.dcg-hovered {
  background: rgba(255,255,255,0.25);
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray.dcg-depressed {
  background: rgba(255,255,255,0.15);
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray {
  background: rgba(0,0,0,0.15);
  border: 0;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray.dcg-hovered {
  background: rgba(0,0,0,0.18);
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray.dcg-depressed {
  background: rgba(0,0,0,0.22);
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="/"] .dcg-keypad-btn-content,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="="] .dcg-keypad-btn-content,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="<"] .dcg-keypad-btn-content,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="<="] .dcg-keypad-btn-content {
  position: relative;
  left: -1px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-btn[dcg-command=sqrt] {
  font-size: 80%;
}

@media screen and (max-width: 650px) {
  .dcg-calculator-api-container .dcg-PROJECTOR-MODE:not(.dcg-narrow) .dcg-basic-keypad .dcg-keypad-btn[dcg-command=functions] {
    font-size: 80%;
  }
}.dcg-calculator-api-container .dcg-keypad-control-bar {
  height: 40px;
  background-color: rgba(0,0,0,0.07);
  border-left: 1px solid rgba(0,0,0,0.2);
  border-right: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-bar-contents {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -o-box-orient: horizontal;
  -webkit-box-lines: single;
  -moz-box-lines: single;
  -o-box-lines: single;
  -webkit-flex-flow: row nowrap;
  -ms-flex-flow: row nowrap;
  flex-flow: row nowrap;
  -webkit-box-align: stretch;
  -moz-box-align: stretch;
  -o-box-align: stretch;
  -ms-flex-align: stretch;
  -webkit-align-items: stretch;
  align-items: stretch;
  -webkit-flex-shrink: 0;
  flex-shrink: 0;
  padding-top: 2px;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-spacer {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  -ms-box-flex: 1;
  box-flex: 1;
  -webkit-flex-grow: 1;
  flex-grow: 1;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-spacer-2 {
  -webkit-box-flex: 2;
  -moz-box-flex: 2;
  -o-box-flex: 2;
  -ms-box-flex: 2;
  box-flex: 2;
  -webkit-flex-grow: 2;
  flex-grow: 2;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-bar {
  height: 52px;
}.dcg-calculator-api-container .dcg-keypad-control-btn {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  -ms-box-flex: 1;
  box-flex: 1;
  -webkit-flex-grow: 1;
  flex-grow: 1;
  min-width: 40px;
  text-align: center;
  color: rgba(0,0,0,0.6);
  font-size: 87.5%;
}

.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-narrow-control-btn {
  max-width: 80px;
}

.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-selectable-btn {
  padding: 0 5px;
  height: 38px;
  line-height: 40px;
}

.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-selectable-btn) {
  height: 32px;
  line-height: 32px;
  margin: 5px;
  border-radius: 5px;
}

.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-disabled {
  color: rgba(0,0,0,0.15);
  cursor: default;
}

.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-hovered {
  color: rgba(0,0,0,0.8);
  background: rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-depressed {
  color: #000;
  background: rgba(0,0,0,0.18);
}

.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=settings] i {
  font-size: 120%;
  position: relative;
  top: 1px;
}

.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=backspace] i,
.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=undo] i,
.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=redo] i {
  font-size: 150%;
  position: relative;
  top: 3px;
}

.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=clear] {
  width: 50px;
  white-space: nowrap;
}

.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=clearall] {
  width: 50px;
  line-height: inherit;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn {
  position: relative;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:after {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  content: "";
  height: 0;
  background: rgba(71,129,185,0.5);
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered:not(.dcg-selected) {
  color: #000;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered:not(.dcg-selected):after {
  height: 4px;
  -webkit-transition: height 0.2s;
  -moz-transition: height 0.2s;
  -o-transition: height 0.2s;
  -ms-transition: height 0.2s;
  transition: height 0.2s;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-selected {
  color: #000;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-selected:after {
  height: 4px;
  background: #4781b9;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:first-of-type {
  margin-left: 6px;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn {
  min-width: 25px;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn[dcg-command=clearall],
.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn[dcg-command=clear] {
  width: 50px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn {
  font-size: 150%;
  height: 44px;
  line-height: 44px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clearall],
.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clear] {
  width: 75px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clearall] {
  line-height: 20px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=settings] i {
  top: 4px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=backspace] i,
.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=undo] i,
.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=redo] i {
  top: 5px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-selectable-btn {
  top: 4px;
}.dcg-calculator-api-container .dcg-keypad-control-toggle {
  display: block;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  -ms-box-flex: 1;
  box-flex: 1;
  -webkit-flex-grow: 1;
  flex-grow: 1;
  line-height: 24px;
  height: 25px;
  margin-top: 7px;
  cursor: pointer;
  color: rgba(0,0,0,0.6);
  font-size: 80%;
  text-transform: uppercase;
  background: #fff;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 5px;
  width: 70px;
  min-width: 50px;
  margin-left: 20px;
  margin-right: 20px;
  position: relative;
  -webkit-box-shadow: inset 1px 1px 2px rgba(0,0,0,0.15);
  box-shadow: inset 1px 1px 2px rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-keypad-control-toggle .dcg-ctrl-toggle-option {
  text-align: center;
  display: inline-block;
  width: 50%;
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-keypad-control-toggle .dcg-ctrl-toggle-cover {
  position: absolute;
  top: -1px;
  right: -1px;
  bottom: -1px;
  left: 50%;
  border-radius: 5px;
  border: 1px solid rgba(0,0,0,0.2);
  -webkit-transition: -webkit-transform 0.2s;
  -moz-transition: -moz-transform 0.2s;
  -o-transition: -o-transform 0.2s;
  -ms-transition: -ms-transform 0.2s;
  transition: transform 0.2s;
}

.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-hovered {
  border-color: rgba(0,0,0,0.3);
}

.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-hovered .dcg-ctrl-toggle-cover {
  border-color: rgba(0,0,0,0.3);
}

.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-depressed .dcg-ctrl-toggle-cover {
  border-color: rgba(0,0,0,0.5);
}

.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-toggled .dcg-ctrl-toggle-cover {
  -webkit-transform: translate(-100%, 0);
  -moz-transform: translate(-100%, 0);
  -o-transform: translate(-100%, 0);
  -ms-transform: translate(-100%, 0);
  transform: translate(-100%, 0);
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-keypad-control-toggle {
  background: rgba(255,255,255,0.3);
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-toggle {
  margin-left: 5px;
  margin-right: 5px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-toggle {
  font-size: 150%;
  min-width: 100px;
  margin: 14px 15px 0 15px;
  height: 28px;
  line-height: 26px;
}.dcg-calculator-api-container .dcg-basic-keypad-container {
  background: rgba(0,0,0,0.07);
  border: 1px solid rgba(0,0,0,0.2);
  border-top: none;
}

.dcg-calculator-api-container .dcg-basic-keypad {
  margin: 0;
  padding: 4px 3px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator .dcg-mq-to,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator .dcg-mq-from {
  display: none !important;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-int .dcg-mq-supsub {
  display: none;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-int {
  font-size: 70%;
  position: relative;
  top: -1px;
}

.dcg-calculator-api-container .dcg-basic-keypad * {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-half-width-placeholder {
  -webkit-box-flex: 0.5;
  -moz-box-flex: 0.5;
  -o-box-flex: 0.5;
  -ms-box-flex: 0.5;
  box-flex: 0.5;
  -webkit-flex-grow: 0.5;
  flex-grow: 0.5;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-partition-placeholder {
  width: 4%;
}

.dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-basic-keypad {
  font-size: 150%;
}

.dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad .dcg-keypad-btn-container {
  height: 52px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-basic-keypad .dcg-keypad-row .dcg-keypad-btn-container {
  height: 46px;
}

.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row {
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row .dcg-keypad-btn-container {
  height: 44px;
}

@media screen and (max-width: 470px) {
  .dcg-calculator-api-container .dcg-projector-mode .dcg-sci-func-keypad .dcg-basic-keypad {
    font-size: 115%;
  }
}

@media screen and (max-width: 330px) {
  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad {
    font-size: 125%;
  }

  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-projector-mode .dcg-sci-func-keypad .dcg-basic-keypad {
    font-size: 90%;
  }

  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row {
    font-size: 70%;
  }
}.dcg-calculator-api-container .dcg-keypad-row {
  padding: 0;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -o-box-orient: horizontal;
  -webkit-box-lines: single;
  -moz-box-lines: single;
  -o-box-lines: single;
  -webkit-flex-flow: row nowrap;
  -ms-flex-flow: row nowrap;
  flex-flow: row nowrap;
  -webkit-box-align: stretch;
  -moz-box-align: stretch;
  -o-box-align: stretch;
  -ms-flex-align: stretch;
  -webkit-align-items: stretch;
  align-items: stretch;
  margin: 0;
}.dcg-calculator-api-container .dcg-tooltip-hit-area-container {
  display: inline-block;
  position: relative;
  cursor: default !important;
  line-height: 0;
}

.dcg-calculator-api-container .dcg-tooltip-mount-pt {
  position: absolute;
  top: 0;
  left: 0;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container {
  position: absolute;
  pointer-events: none;
  z-index: 10000;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container {
  position: absolute;
  z-index: 10000;
  -webkit-animation: dcg-fadeIn 0.3s;
  -moz-animation: dcg-fadeIn 0.3s;
  -o-animation: dcg-fadeIn 0.3s;
  -ms-animation: dcg-fadeIn 0.3s;
  animation: dcg-fadeIn 0.3s;
  white-space: normal;
  width: 200px;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message {
  background: #000;
  color: #fff;
  border-radius: 4px;
  padding: 5px 8px;
  font-size: 14px;
  text-shadow: none;
  line-height: 1.1em;
  display: inline-block;
  pointer-events: all;
  text-align: center;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex {
  background: #fff;
  color: #000;
  opacity: 1;
  -ms-filter: none;
  filter: none;
  border: 1px solid #bbb;
  border-radius: 5px;
  position: relative;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex .dcg-static-mathquill-view {
  width: 100%;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex.dcg-sticky-not-stuck {
  opacity: 0.95;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=95)";
  filter: alpha(opacity=95);
  color: #666;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex.dcg-tooltip-overflow:after {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  right: 8px;
  width: 14px;
  background: -webkit-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: linear-gradient(to right, rgba(255,255,255,0), #fff);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex .dcg-mq-root-block * {
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
  cursor: default;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container .dcg-tooltip-arrow {
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -o-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  transform: rotate(45deg);
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container.dcg-tooltip-gravity-n-s .dcg-tooltip-arrow {
  -webkit-transform: translateX(-50%) rotate(45deg);
  -moz-transform: translateX(-50%) rotate(45deg);
  -o-transform: translateX(-50%) rotate(45deg);
  -ms-transform: translateX(-50%) rotate(45deg);
  transform: translateX(-50%) rotate(45deg);
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container.dcg-tooltip-gravity-e-w .dcg-tooltip-arrow {
  -webkit-transform: translateY(-50%) rotate(45deg);
  -moz-transform: translateY(-50%) rotate(45deg);
  -o-transform: translateY(-50%) rotate(45deg);
  -ms-transform: translateY(-50%) rotate(45deg);
  transform: translateY(-50%) rotate(45deg);
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-arrow {
  position: absolute;
  -webkit-animation: dcg-fadeIn 0.3s;
  -moz-animation: dcg-fadeIn 0.3s;
  -o-animation: dcg-fadeIn 0.3s;
  -ms-animation: dcg-fadeIn 0.3s;
  animation: dcg-fadeIn 0.3s;
  z-index: 10000;
}.dcg-calculator-api-container .dcg-settings-view-container {
  line-height: 0;
}

.dcg-calculator-api-container .dcg-settings-view-container .dcg-settings-container {
  position: absolute;
  top: 2px;
  right: 38px;
  line-height: 1em;
}

.dcg-calculator-api-container .dcg-settings-container {
  bottom: auto;
  z-index: 61;
  width: 290px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-arrow {
  top: 18px !important;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-popover-interior {
  padding: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn {
  border-radius: 6px;
  display: inline-block;
  padding: 3px;
  text-align: center;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn.dcg-active {
  border: 1px solid #127a3d;
  background-color: #127a3d;
  color: rgba(255,255,255,0.9);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn.dcg-active.dcg-hovered {
  border-color: rgba(13,84,42,0.6);
  -webkit-box-shadow: inset 0 0 0 1px rgba(13,84,42,0.6);
  box-shadow: inset 0 0 0 1px rgba(13,84,42,0.6);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn.dcg-active.dcg-depressed {
  border-color: #0d542a;
  -webkit-box-shadow: inset 0 0 0 1px #0d542a;
  box-shadow: inset 0 0 0 1px #0d542a;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn:not(.dcg-active) {
  border: 1px solid #127a3d;
  color: #127a3d;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn:not(.dcg-active).dcg-hovered {
  border-color: #127a3d;
  -webkit-box-shadow: inset 0 0 0 1px #127a3d;
  box-shadow: inset 0 0 0 1px #127a3d;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn:not(.dcg-active).dcg-depressed {
  border-color: #0d542a;
  -webkit-box-shadow: inset 0 0 0 1px #0d542a;
  box-shadow: inset 0 0 0 1px #0d542a;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-visual-settings {
  padding-bottom: 10px;
  border-bottom: 1px solid #ddd;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-visual-settings .dcg-action-projectormode {
  width: 100%;
  padding: 8px;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-minor-checkbox,
.dcg-calculator-api-container .dcg-settings-container .dcg-step-label {
  font-size: 85%;
  color: #444;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  padding-top: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-component-checkbox {
  margin-top: 3px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-grid-settings {
  min-width: 110px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-grid-settings .dcg-component-checkbox {
  margin-bottom: 2px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-top-checkboxes-container .dcg-component-checkbox {
  margin-bottom: 3px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-top-checkboxes-container .dcg-action-zoom-square {
  float: left;
  clear: left;
  font-size: 80%;
  margin: 3px 0 8px;
  padding: 3px 10px;
  line-height: 1.5em;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container {
  border-top: 1px solid #ddd;
  margin-top: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-action-toggle-y-axis-steps,
.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-action-toggle-x-axis-steps {
  margin-right: -2px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-component-checkbox {
  float: left;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title {
  font-size: 95%;
  height: 1.5em;
  line-height: 2em;
  margin-bottom: 2px;
  margin-top: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title.dcg-x-axis-title {
  margin-top: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title.dcg-y-axis-title {
  margin-top: 20px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-checkbox {
  line-height: 2em;
  color: #444;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  cursor: pointer;
  white-space: nowrap;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-checkbox .dcg-checkbox-box {
  font-size: 105%;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label {
  width: 55%;
  outline: none;
  float: right;
  border-radius: 5px;
  color: #444;
  padding: 7px;
  font-size: 90%;
  -webkit-appearance: none;
  border: 1px solid rgba(0,0,0,0.42);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label.dcg-hovered:not([disabled]) {
  border-color: rgba(0,0,0,0.42);
  -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,0.42);
  box-shadow: 0 0 0 1px rgba(0,0,0,0.42);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label:focus:not([disabled]) {
  border-color: $selected-expr-color;
  -webkit-box-shadow: 0 0 0 1px $selected-expr-color;
  box-shadow: 0 0 0 1px $selected-expr-color;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label[disabled] {
  opacity: 0.4;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
  filter: alpha(opacity=40);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-radiangroup {
  border-top: 1px solid #ddd;
  padding-top: 10px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  width: 100%;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-radiangroup .dcg-modern-btn {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  padding: 5px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-radiangroup .dcg-modern-btn:first-of-type {
  border-radius: 6px 0 0 6px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-radiangroup .dcg-modern-btn:last-of-type {
  border-radius: 0 6px 6px 0;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-arrows {
  text-align: center;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-arrows i {
  font-size: 26px;
  line-height: 28px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon-group {
  margin-left: 24px;
  margin-bottom: 4px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon {
  display: inline-block;
  cursor: pointer;
  width: 28px;
  height: 28px;
  border-radius: 14px;
  -webkit-box-shadow: 0 0 2px rgba(0,0,0,0.25) inset;
  box-shadow: 0 0 2px rgba(0,0,0,0.25) inset;
  background-color: #f9f9f9;
  -webkit-background-size: contain;
  -moz-background-size: contain;
  background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
  color: #777;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-active {
  background-color: #127a3d;
  color: rgba(255,255,255,0.9);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-active.dcg-hovered {
  -webkit-box-shadow: inset 0 0 0 2px rgba(13,84,42,0.6);
  box-shadow: inset 0 0 0 2px rgba(13,84,42,0.6);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-active.dcg-depressed {
  -webkit-box-shadow: inset 0 0 0 2px #0d542a;
  box-shadow: inset 0 0 0 2px #0d542a;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon:not(.dcg-active).dcg-hovered {
  -webkit-box-shadow: inset 0 0 0 2px rgba(0,0,0,0.15);
  box-shadow: inset 0 0 0 2px rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon:not(.dcg-active).dcg-depressed {
  -webkit-box-shadow: inset 0 0 0 2px rgba(0,0,0,0.25);
  box-shadow: inset 0 0 0 2px rgba(0,0,0,0.25);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian,
.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar {
  background-position: center center;
  background-repeat: no-repeat;
  border: 1px solid rgba(0,0,0,0.42);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian.dcg-active,
.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar.dcg-active {
  border: none;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABRUlEQVR4Ae2ZJZQcURQF27vx58Sb8SJ2vD+jgzYswzqcCslW4yKDy2CXwSwz84Zuvu//XDj313mqTJnGV1QPJaIssofziOnA1VHiRGC3EM3AdSKe5J0DHehAB/73gTyrMInSPMvSidgNXAslysAeI94HbhExnHcF+rMpeFthEaV5m2UUcRi4XpToDOxnxGDgNhGzefevXyQOdKADHehAB9Ko8B6laWS5j1gO3GmUaAZ2D3E3cIOI13lXoD+bvyCwVqGF0tSyXETMBu4kStQDu404HbhexKu8+9evYgc60IEOdKAD2ahwjNJsZNlHfA3cNkpsBfYbYi9wnxFHefcXvM2cqdCP0pzJUiLWA3cDJa4F9gDxMnCTiLa880XiQAc60IEO9CrMqzCvwnwVO9CBDnSgA70K8yrsJ+FVmK9iBzrQgQ504HdiRjEpheKY1QAAAABJRU5ErkJggg==");
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian.dcg-active {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABO0lEQVR4Ae2ZJ1AzARBGz7v4GbyJF9h4P9FUS5d0zU+v8lQckt6LpRdD773DDzzO366j8+2bVc88c7kkG8SHEAgDcygENh2XBCDLsRdA2nHjQKvtFKhABSrwzwfSEWMdou0wGQeuHZcBIHTsIzDouH1g0XYB33wC+mPsQ7T9JsvAveOmARh37H9g3nHnwLbtfvtDokAFKlCBClQgqRiDEG3K5B9w6LhcANKOvQHqHTcP9Nou4JvPDwhMxMhAtAmTYmDbcdkAJB17CeQ6bhrosZ2eYgUqUIEKVOBvD+QsxiNEe2ZyC7w47hKAC8e+AjeO+w882O4HfJvJizEL0eaZhMCp46oAqHDsHdDtuHVgxHZ6SBSoQAUqUIE6hekUplOYnmIFKlCBClSgTmE6hX3Q6BSmp1iBClSgAhX4BgYE6hY3llM6AAAAAElFTkSuQmCC");
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHs0lEQVR4Ad2bA5AsSxOFZ3Vt7rNt27Zt27Ztfw/Xtm3btm1zb/7xTlRsdMx27/T09ouY+Csvtounu1KVWZtIXdiHrESowiCMu0P2rU1uIo7CW2zl3vgBMoApnBkHwG8xFlMhXoDchrGLY+MAWJmVGB/HCZAyzMf4NRFP4TGMbRwQI8D3MFZTPS6AOYzDaBkXQPZhE8bzifgKF2AY58cEsBHGFMlwfIWWGOPILjlAzmQPxuWJeAsHsQ3j0ZICJIvhGB0T8Rc+wVhJpRICfABjB4f9FwArsBjj2+gA/eeIsXC/e/voAD/FWEGl/wpgFsMwOhWpr84FPMbn/MkyjD78xFvczNHkRODjyMVHAsniHL5niur8aCNdeIpqhaNb+WuCWAsNkQ6jKm8zG3O0juE05BsWYXTkV7owi92ubTvtuSiR4EI9nRc3In8r0JUNWm4nnXiao/x4kApcxTfMdzCHMEXWKEph/7R6t8BEC3iZWqmEhCzOpzkFmOjstDh+P/3Azezgi5DuVFXaYaK+lAovxZzu+HQ9t4WEdxL9WUA5x7oYS3k4pSE7jQUYu+nkfLnwAL/FWMI0rfQzOSnWqUEdCrTGtf8+ZvMwSzV0eHEeLtexGWOZGL4/Rq+wADmCnRj3Uo56WqcDZQNXKcUrrFOv7hzt1fBfswNjD03Zy3fg9WofTr6eTpSM3hgSYGeMYWTp58c0ciDlfFe5kpkCN4ubijYeSls1buKd5DfkYrZgdKNwWv7WNKVTA+QKvfjpnlfdKnWexMMcRTe3/mtqC3iDKeo0n5u8W8R6TemBQ03VvZ4KIHnivPpJkHdg1PHUVOFb1RVQRzsYXMjlGccD/TjRnR/GYUykclLPVzA2kJ8C4PP6Jvskjb1XKzykn7N5nFV6HsZp4US8Br+xS1L0GzX4RUbr8CK98sQvdYoDSHW97Ns+a/yOsZlDuJCxAreIu8hKhC8cSz+nuQqCPBSu0aacWvhcWs7Eo0kw5lLGZ2xpxsuzMYytfEqFKBbmJma7Ca4M6NFDElmKq6njsb4b6Mdb7M+xqrnVd2Q5GmKiNrJk0Qp3YI46cqhP+1FihZWYDxVIu/b1NWJ3sQATzSSrJP7fGIz6NJSh2sG3ya4mezHfqYZG3MNR2uLXuJC3megAfJcMgJPUy1jFG2zHuCk6wAsFax/5gcOKGkROYZGD8UmykFCaJa6tIXmeF3JGjO+okkjwB8aA6ADrYjQv/JoPOoM4lrNUc7I04QzZ2S3snwTwTXmJ3+jbNybLGTE5aXTDGTGOkRI/KBq8smzEuMp75OFTtjuDeLK+3hiqk8skjCZegOQLysuJBA8J4ttczyxnxK7xriImei8awEslj3n+BlG0hJqqu0Sgz/YArIcxHY3lXbXK7+YVSvmo+yHRAH4WdMDmIqZrwcXc4WraYYwiGwHkVPHZNc6I/YQJYh3yfeY6WhxZMQrAwRgvBbS1xxz14yR91+0YDwrgPRrZTWbzaRkxEacGaIqVGJdFACgOvMi3paa033XOIBbwFzX4EmOZrENnnVWO5ELGuaPBXXTH+MV/HVms59KHl6/J9/Ftuw9jvtugXo67PmINVkjtHadu5WPKuiP/HP+VpGp+Sx/gKRjbAtp+xqjrMYizsCTa42TdGTH2VW0Nv9mkkDoXexDypZswVvu3yQK/73muzVfs8MBzPrF3jA6rl/rNJjke5tsiSmCZTRkPMGiLr8JYG9DWBeOjtLa4msJGF0Xa4kCH1dhBdmDmpGlaQnKIniv7zSZL0yF9Ka6OYf6pB27FWE52GmrmKYzJASv9g/FjIv2iBa/wbanEVlmM8Ip6CMaXxVisJ6MA7IPxVnAQLk1TV8ARATmY9RgXRAH4HkYvf2fBRVmWhXIWfnMA/Z0FGQTKRAF4jnioXDHu1noODeFugbE70N16H6NPIkohj5UYtwU4rEcyGWM+h6ZwWD8WtAcDHdZp6hetyOZ2CXT5D5RPvZK/i3H5m2vEF6rxc/nPkDeYHxXgKeKdwwMPTfs7OTV+KHJoqshapxE/UpP/oamZ11GIKsltijl2lmeygzGEd7lagL/mYf4p1IqvqqP/sfN9gb2wJACvCnVwn4L50Hpmhji4j/U0RA597OTqYkMfWRzJu/RggeBuYhx1uJOyKUIfrXxCHxGCR+skty+HCB4V8mCo4FEV5mIsTA4eRQm/vSP+OyPO8BtZ0qYrqeUffksvgJlDb02wb4wBzDclWFcHBzDTCwHnS+NNpFpMIeCHpRU+ChECDh1EP05WZQw1YwiiPyfl0pCs8EH0MGmIM/TFZnNsSdIQZPOpQDQjJ3QaInQi51SWy6g9GDmRky/Fb/xCdthETnqpsAMZpb4jIqXClksUdiqcEjoVlm4ysTTfuUjVaCqnAfB6TDSXM9NLJkZJx/5WGCr/kVNSAaQCDzIUc3R0hHRspIR248Js+yS+5SqqJgMkl6N4mjZswbRZjZgQJaEd/UpALnfSiwLM0UoG04aVErUuTPOck5fyPYfEeiUg/LUm9uNFOrM+IA0xiV+4gpwIlyrivZYioJfyGG8wTzruRe7gJMoFX6/6P7jYk/lXozL/clnmX8/L/AuOmX9FNPMv2Wb+NeXMv+id+VflM/+XDTL+1zX+Bzz06y/bFKL/AAAAAElFTkSuQmCC");
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar.dcg-active {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHMElEQVR4AeXbA4wk+xbH8f9gbc+1bdu2bdu2bXNxbdu+s+9ac7W2dwerQffnJZPOS6fTtdPVW0k6ed/FoJBf8ZzzO6dD21hMWSgIX+HQUBAGqAxJ4BJzHZ68QF+osXESAm/HeF2TFegANFs9CYE9TMW1SQrU0WjcH5LBCZhnqQQFXoHp+oRkUOFnvJiUQItpwJkhOWwFtkxI4FOoURmSxIv4WfnCC7SxNHYMyWIZ83D8wgpUZijeDMnjOkzVfSEFHoVGK4Tk0dV43B5fYMQ+kseRuUcfW+D1mJK5CsmjTDXeCjnoYysnuNEjJuET97jEvlZVEXEfJ07EE6jMZu5UIy0/9d5xit4hg5ci3gRJ4knUqNTLpYYDmGWoJ91mHN50v3cM0wKY73XbhGBrsEVIlogo8K460OQtp1ol3z2oq13cZjTgGzV4MRSDJUMMvAAY41z923pIlNnS81KATWPd8Uu0fmNfjW4qMJ3q5TXAp9oX/hTbUBrUOiAUhHV8bozOmVsXEx3bZiDbwBi0eCsil4sWeDsm+AvcqyIsEH0NlEKz3UMIyh1rIhi6oAzXHmZjkm1C8Dk+KlSglTThcJ0NBm/oFCLQ3nlmgfetmv2Gv1Uj0p61SMiDPTViqKrWn9bWgr0LFPg2qpVlcssWfKlzyIOd/QuG2SfkYnmvggaX5R6hbc3Be/63W49hmA5tC7QT0jbMOtS5+CT3HraK90CDCzLL8h5BDRhtn+xLpBafZMvRTy0ubEugdv7CkBzJjRiY9ZuebteIlIEWCQtCpdPMAp9ZO1M//Izf9MhZ8zzUqWpD4JlosFjOtoeDY1q/L3eiaaDaBqEQ9PWAZjR7QF/3od6KIQft/IuBCxKoj1m4NIRcPIjZlrO1n8A4hygLhWN1n4FaqagMxW5IWT9k0EE1js+RMVLHPNt28AumgLmu1zXExz6Gg7l2DnnxAb7U3q4GZkXfOp+5xJJW14L9Qx509iTgFUuGYnEQgDctn2f5KpoxVT5SJuLTvEHsEGMA/ypbmPzvRwzxpDQa3Z6balrEaNDgKYdZRTUusLVL/Qa4I1eAdVSDaS4yH/uEYrE1Gi0Wgo1VkxsQrWcc4Lrch0QHEwBPapd1QJkg5g49Q/AQvgjFYhCez3xf5mgTwU82af3Numrxj9sxx5I5Ai/GLLdJ42llmSBWB96TCWJWQ9oyoRh0Uo9dskse15ufCYjrGocf9VHpdzyTLVCVOpwbgmOkcak9DQPD7Bay8COuCMVge9RpFxEQYYJ+rb/bDmmbZgkcjL+1butypMEs5+UGMefhm1AMbogqsG3jbzDeQZnfvIbvlWsVaH0p7JYJYveAtIGq8uxrVTTrFuLja5wTsex1AJ9ZJwTLm4+jfYXDfI33QlDpVNMArB/xppiKHUJ81GObkAf9NGOPTEBMeVRfN2OSX/A2mqxsaz+DMQ7xPu4LefEZzghxUQUWC3lwBEZnLtBHYJZrzADA614Fc12rU6bkHxHy4iE8EOJiPcyLWHYvBmUFxGFySSPtWZkgZnHQN+TBxXh7wYVQvj/7YHrEsg9wZdbPA9yiEQCZnFj2Ng3YPu/ezkO1XlF/ghInKHGiLvEumBmx7B1cE+sS9zYP2xR1iSMTVhqVR3ZOno31kCyHtB4hDy7HGyEu+kD+1oP9MVl5jNfMKfgj5MXjuDvExwzsFPKgu7k4LMaL+hvcHB2xnBzi4xNcEmXCxQ51KStF9GBqsVWIjyvwUUSy8BeYVFCy8ABIGagqKiDoGOJjM8zVOTrdUmv5AtKth9ESmW5diU9CMWhnKg6ISFhX9gdGW76NhPVacHRkwvoXzg3F4V68E5nyL20cpnpMdMr/PLgphIiUfyM0qwrFYT2krBhZNC3pZ8BduUWTbmaCtGtCiCyansPboXh8gldEl51d/AHSvnG5Xf2MWx3rcTMA54cQWXZeKYWtQ/HYpaDCvUY+av1bQOH+U4ggjvXRZNcFWh9lVna5D4zRjAY/G+hgndqwPl6KaX1EmEezzMe5bZlHEe5WtHnU00iMjWUeRdhvl6HRRknab8q8iqn6x7LfIgzMCh9jnMUTNDAvRtqusQ3MCAu4yjj8pndCFvCx0rgmlgXchom+hqn4Ub8ETPQzpPCksrZN9DhtiI3UYrjVF6YNodz14DkVhbUh4jRy1jcZcxxddCOnyifgPuUxGjkxWmFL+x78p6hW2GTT0BRhp0S0wuI2Ezu4Qxr8oEcMgXsCRto4bjMxfjv2AUCdu63XlkBdHe1bAKvGa8cW39B+2nDA7263i165AlVaxaleMQc0e8qvMRraCYwEVDrYR1IApvraK6ZiqHf8pRHARHdaLrGRgHhjTZZwtrfVykfK7+6zk4r4QxWJjqVkhG7vBBcZheec7SDr6Bw9XvX/OdhT8qNRJT5cVvLjeSU+4FjiI6IlP2Rb4mPKJT/oXfqj8iX9YYMS+LjGfwFgmWfRuP1uXwAAAABJRU5ErkJggg==");
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container {
  margin-top: 10px;
  padding-bottom: 10px;
  border-bottom: 1px solid #ddd;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-buttons {
  margin-top: 5px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-buttons .dcg-modern-btn {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  padding: 5px;
  border-radius: 0;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-buttons .dcg-modern-btn:first-of-type {
  border-right: none;
  border-radius: 6px 0 0 6px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-buttons .dcg-modern-btn:last-of-type {
  border-left: none;
  border-radius: 0 6px 6px 0;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-six-key-checkbox {
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-six-key-checkbox .dcg-six-key-info {
  color: #999;
  text-decoration: none;
  margin-left: 0.5em;
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-six-key-checkbox .dcg-six-key-info.dcg-hovered {
  color: #666;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-six-key-checkbox .dcg-six-key-info.dcg-active {
  color: #333;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-six-key-checkbox .dcg-six-key-info i {
  display: block;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-interval-interior {
  margin: 0 -6px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container {
  margin-top: 15px;
  position: relative;
  white-space: nowrap;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-step-container {
  float: right;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-mathquill-wrapper {
  display: inline-block;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-mathquill-wrapper .dcg-braille-input {
  max-width: 50px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille {
  position: relative;
  outline: none;
  border-bottom: 1px solid rgba(0,0,0,0.42);
  padding: 2px;
  margin: 1px;
  margin-bottom: 1px;
  min-width: 35px;
  font-size: 95%;
  max-width: 55px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input .dcg-braille-input,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille .dcg-braille-input {
  font-size: 100%;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-focus,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-invalid,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-outofbounds,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-outofbounds {
  border-bottom: 2px solid #6399cb;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-outofbounds,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-outofbounds,
.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-invalid,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-invalid {
  border-color: #e15855;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-hovered:not(.dcg-focus),
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus) {
  border-bottom: 2px solid rgba(0,0,0,0.42);
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-narrow .dcg-settings-container {
  right: 35px;
  width: 260px;
}

.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-mq-editable-field.dcg-math-input,
.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-braille-input {
  padding-left: 0;
  padding-right: 0;
  font-size: 90%;
  max-width: 60px;
}.dcg-calculator-api-container .dcg-toast-view {
  position: absolute;
  top: 7px;
  left: 50px;
  right: 50px;
  height: 0;
  text-align: center;
  z-index: 45;
  overflow: visible;
  text-shadow: none;
  color: #222;
  line-height: 1em;
  -webkit-transition: 0.3s opacity;
  -moz-transition: 0.3s opacity;
  -o-transition: 0.3s opacity;
  -ms-transition: 0.3s opacity;
  transition: 0.3s opacity;
}

.dcg-calculator-api-container .dcg-toast-view:not(.dcg-visible) {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast-wrapper {
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast {
  display: inline-block;
  padding: 6px 10px;
  background: #fef2ad;
  border: 1px solid #fed973;
  border-radius: 4px;
  font-size: 85%;
  -webkit-box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  position: relative;
  pointer-events: auto;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-error {
  display: none;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast a.dcg-undo {
  padding: 8px;
  margin: -8px;
  margin-left: 0px;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove {
  font-size: 87%;
  padding: 8px;
  margin: -5px -10px -8px 2px;
  color: rgba(0,0,0,0.3);
  cursor: pointer;
  float: right;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove.dcg-hovered,
.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove:focus {
  color: rgba(0,0,0,0.6);
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove.dcg-depressed {
  color: rgba(0,0,0,0.8);
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast a {
  margin-left: 6px;
  text-decoration: underline;
  cursor: pointer;
  display: inline-block;
  color: #4781b9;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast a.dcg-hovered {
  color: #004f9b;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast-cover {
  display: none;
}

.dcg-calculator-api-container .dcg-toast-view[toast-style='error'] .dcg-toast {
  padding-left: 28px;
}

.dcg-calculator-api-container .dcg-toast-view[toast-style='error'] .dcg-toast i.dcg-icon-error {
  position: absolute;
  top: 7px;
  left: 10px;
  color: #fc944c;
  display: block;
}

.dcg-calculator-api-container .dcg-toast-view[toast-style='cover'] {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  padding-top: 5px;
  height: 100%;
  z-index: 999;
}

.dcg-calculator-api-container .dcg-toast-view[toast-style='cover'] .dcg-toast-cover {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  opacity: 0.3;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
  filter: alpha(opacity=30);
  display: block;
  background-color: #000;
}.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression {
  height: 54px;
  position: relative;
  border-bottom: 1px solid transparent;
  overflow: visible !important;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression .dcg-new-math-div {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression .dcg-new-math-div .dcg-new-expression-fade {
  background: -webkit-linear-gradient(bottom, #fff, rgba(255,255,255,0) 50%);
  background: -moz-linear-gradient(bottom, #fff, rgba(255,255,255,0) 50%);
  background: -o-linear-gradient(bottom, #fff, rgba(255,255,255,0) 50%);
  background: -ms-linear-gradient(bottom, #fff, rgba(255,255,255,0) 50%);
  background: linear-gradient(to top, #fff, rgba(255,255,255,0) 50%);
  width: 44px;
  position: absolute;
  top: 0;
  bottom: 0;
  z-index: 3;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-new-expression-fade {
  display: none;
}.dcg-calculator-api-container .dcg-settings-pillbox,
.dcg-calculator-api-container .dcg-action-zoomin,
.dcg-calculator-api-container .dcg-action-zoomout,
.dcg-calculator-api-container .dcg-action-zoomrestore,
.dcg-calculator-api-container .dcg-reset-pillbox {
  height: 37px;
}

.dcg-calculator-api-container .dcg-settings-pillbox,
.dcg-calculator-api-container .dcg-zoominout-pillbox,
.dcg-calculator-api-container .dcg-action-zoomrestore,
.dcg-calculator-api-container .dcg-reset-pillbox {
  width: 37px;
  line-height: 37px;
  text-align: center;
}

.dcg-calculator-api-container .dcg-zoominout-pillbox .dcg-tooltip-hit-area-container,
.dcg-calculator-api-container .dcg-reset-pillbox .dcg-tooltip-hit-area-container {
  width: 100%;
}

.dcg-calculator-api-container .dcg-settings-pillbox,
.dcg-calculator-api-container .dcg-zoominout-pillbox,
.dcg-calculator-api-container .dcg-action-zoomrestore,
.dcg-calculator-api-container .dcg-reset-pillbox {
  margin-top: 3px;
  margin-bottom: 3px;
}

.dcg-calculator-api-container .dcg-pillbox-container {
  position: absolute;
  right: 5px;
  top: 2px;
  bottom: 0;
  width: 0;
  z-index: 41;
}

.dcg-calculator-api-container .dcg-pillbox-container .dcg-overgraph-pillbox-elements {
  position: absolute;
  top: 0;
  right: 0;
}

.dcg-calculator-api-container .dcg-pillbox-container .dcg-settings-pillbox,
.dcg-calculator-api-container .dcg-pillbox-container .dcg-reset-pillbox {
  float: right;
}

.dcg-calculator-api-container .dcg-zoom-container {
  float: right;
  clear: right;
}

.dcg-calculator-api-container .dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomin,
.dcg-calculator-api-container .dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomout {
  line-height: 40px;
  font-size: 75%;
}

.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomin {
  border-bottom: 1px solid rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomrestore.dcg-disabled {
  display: none;
}

.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomrestore {
  -webkit-animation: dcg-fadeIn-pillboxes 0.25s;
  -moz-animation: dcg-fadeIn-pillboxes 0.25s;
  -o-animation: dcg-fadeIn-pillboxes 0.25s;
  -ms-animation: dcg-fadeIn-pillboxes 0.25s;
  animation: dcg-fadeIn-pillboxes 0.25s;
}

.dcg-calculator-api-container .dcg-btn-flat-gray {
  -webkit-box-shadow: 0 0 5px rgba(0,0,0,0.15);
  box-shadow: 0 0 5px rgba(0,0,0,0.15);
  border: 1px solid rgba(0,0,0,0.1);
  border-radius: 5px;
  cursor: pointer;
  text-shadow: 0 1px #fff;
}

.dcg-calculator-api-container .dcg-btn-flat-gray i {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-hovered i,
.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-hovered i {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-depressed,
.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-depressed,
.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-active,
.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-active {
  background: #e8e8e8;
}

.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-depressed i,
.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-depressed i,
.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-active i,
.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-active i {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-btn-flat-gray {
  text-shadow: none;
}

.dcg-calculator-api-container .dcg-overgraph-icon-container {
  z-index: 21;
}

.dcg-calculator-api-container .dcg-overgraph-icon-container:not(.dcg-bottom-right) {
  position: absolute;
  top: 5px;
  left: 5px;
}

.dcg-calculator-api-container .dcg-overgraph-icon-container.dcg-bottom-right {
  position: absolute;
  bottom: 5px;
  right: 5px;
}

.dcg-calculator-api-container .dcg-overgraph-icon {
  width: 37px;
  height: 37px;
  line-height: 40px ;
  font-size: 110%;
  text-shadow: -2px -2px 0 #fff, -2px 2px 0 #fff, 2px -2px 0 #fff, 2px 2px 0 #fff, 0 -2px 0 #fff, 0 2px 0 #fff, 2px 0 0 #fff, -2px 0 0 #fff;
  text-align: center;
  border-radius: 5px;
}

.dcg-calculator-api-container .dcg-overgraph-icon.dcg-rotated {
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.dcg-calculator-api-container .dcg-overgraph-icon i {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-overgraph-icon.dcg-hovered {
  background: rgba(0,0,0,0.15);
  text-shadow: none;
}

.dcg-calculator-api-container .dcg-overgraph-icon.dcg-hovered i {
  opacity: 0.8;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
}

.dcg-calculator-api-container .dcg-overgraph-icon.dcg-depressed {
  background: rgba(0,0,0,0.3);
  text-shadow: none;
}

.dcg-calculator-api-container .dcg-overgraph-icon.dcg-depressed i {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

@media only screen and (max-width: 450px) {
  .dcg-calculator-api-container .dcg-zoominout-pillbox {
    display: none;
  }
}

@media only screen and (max-height: 450px) {
  .dcg-calculator-api-container .dcg-zoominout-pillbox {
    display: none;
  }
}

@-webkit-keyframes dcg-fadeIn-pillboxes {
  0% {
    -webkit-transform: scale(0.75, 0.75);
    -moz-transform: scale(0.75, 0.75);
    -o-transform: scale(0.75, 0.75);
    -ms-transform: scale(0.75, 0.75);
    transform: scale(0.75, 0.75);
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    -webkit-transform: scale(1, 1);
    -moz-transform: scale(1, 1);
    -o-transform: scale(1, 1);
    -ms-transform: scale(1, 1);
    transform: scale(1, 1);
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@keyframes dcg-fadeIn-pillboxes {
  0% {
    -webkit-transform: scale(0.75, 0.75);
    -moz-transform: scale(0.75, 0.75);
    -o-transform: scale(0.75, 0.75);
    -ms-transform: scale(0.75, 0.75);
    transform: scale(0.75, 0.75);
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    -webkit-transform: scale(1, 1);
    -moz-transform: scale(1, 1);
    -o-transform: scale(1, 1);
    -ms-transform: scale(1, 1);
    transform: scale(1, 1);
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}.dcg-calculator-api-container .dcg-api-shared-keypad-root {
  background-color: #ededed;
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-bar {
  background-color: transparent;
  border-left-color: transparent;
  border-right-color: transparent;
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-basic-keypad,
.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-bar-contents {
  max-width: 600px;
  margin: 0 auto;
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-btn.dcg-selectable-btn {
  max-width: 70px;
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button {
  height: 35px;
  width: 35px;
  line-height: 35px;
  text-align: center;
  border-radius: 5px;
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  transform: rotate(-90deg);
  margin: 4px 4px 4px auto;
  color: #666;
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button .dcg-icon-hide {
  position: relative;
  top: 2px;
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button.dcg-hovered {
  color: rgba(0,0,0,0.8);
  background: rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button.dcg-depressed {
  color: #000;
  background: rgba(0,0,0,0.18);
}.dcg-calculator-api-container .dcg-transparent-bg {
  background: rgba(0,0,0,0);
}

.dcg-calculator-api-container .dcg-mouse-over-closed-poi,
.dcg-calculator-api-container .dcg-mouse-over-opened-poi,
.dcg-calculator-api-container .dcg-mouse-over-interactive-label,
.dcg-calculator-api-container .dcg-mouse-over-clickable-object {
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-mouse-over-movable-point {
  cursor: move;
}

.dcg-calculator-api-container .dcg-mouse-over-movable-point-ew {
  cursor: ew-resize;
}

.dcg-calculator-api-container .dcg-mouse-over-movable-point-ns {
  cursor: ns-resize;
}

.dcg-calculator-api-container .dcg-mouse-over-closed-poi .dcg-tracept {
  display: none;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-show-border .dcg-label {
  border: 1px solid #ddd;
  background: #fff;
  border-radius: 5px;
  -webkit-box-shadow: 0 0 5px rgba(0,0,0,0.2);
  box-shadow: 0 0 5px rgba(0,0,0,0.2);
  padding: 8px 6px;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-math-field {
  padding: 3px 10px;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-resizing-text-input-container input,
.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-text-input-content {
  padding: 5px 10px;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border {
  background: rgba(255,255,255,0.75);
  border-radius: 4px;
  border-width: 1px;
  border-style: solid;
  padding: 1px;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border:not(.dcg-focus):not(.dcg-hovered) {
  border-color: #bbb !important;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-empty-label:not(.dcg-focus):not(.dcg-hovered) {
  border-color: #999 !important;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-empty-label,
.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-focus {
  background: #fff;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-hovered:not(.dcg-focus) {
  border-style: solid;
  padding: 0px;
  border-width: 2px;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-focus {
  padding: 0px;
  border-width: 2px;
}

.dcg-calculator-api-container .dcg-poi-label .dcg-static-mathquill-view * {
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
}

.dcg-calculator-api-container .dcg-tabbable-point {
  position: absolute;
  left: -6px;
  top: -6px;
  width: 12px;
  height: 12px;
  text-align: left;
  overflow: hidden;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-poi-label {
  display: inline-block;
  position: absolute;
  top: 0;
  left: 0;
  font-size: 100%;
  color: #888;
}

.dcg-calculator-api-container .dcg-poi-label .dcg-pt {
  display: inline-block;
  position: absolute;
  top: -4px;
  left: -4px;
  border: 4px solid #000;
  border-radius: 4px;
  width: 0;
  height: 0;
  z-index: 0;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-size-small .dcg-label {
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-size-medium .dcg-label {
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-size-large .dcg-label {
  font-size: 150%;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-vertical-label .dcg-label {
  -webkit-transform: rotate(-90deg) translate(-100%, 0);
  -moz-transform: rotate(-90deg) translate(-100%, 0);
  -o-transform: rotate(-90deg) translate(-100%, 0);
  -ms-transform: rotate(-90deg) translate(-100%, 0);
  transform: rotate(-90deg) translate(-100%, 0);
  -webkit-transform-origin: top left;
  -moz-transform-origin: top left;
  -o-transform-origin: top left;
  -ms-transform-origin: top left;
  transform-origin: top left;
}

.dcg-calculator-api-container .dcg-poi-label .dcg-label {
  position: absolute;
  z-index: 3;
  white-space: nowrap;
  -webkit-transition-property: top, left;
  -moz-transition-property: top, left;
  -o-transition-property: top, left;
  -ms-transition-property: top, left;
  transition-property: top, left;
  -webkit-transition-duration: 0.3s, 0.3s;
  -moz-transition-duration: 0.3s, 0.3s;
  -o-transition-duration: 0.3s, 0.3s;
  -ms-transition-duration: 0.3s, 0.3s;
  transition-duration: 0.3s, 0.3s;
}

.dcg-calculator-api-container .dcg-poi-label .dcg-label .dcg-mq-sqrt-prefix {
  text-shadow: none;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-has-outline .dcg-label {
  text-shadow: -1px -1px 0 #fff, -1px 1px 0 #fff, 1px -1px 0 #fff, 1px 1px 0 #fff, 0 -1px 0 #fff, 0 1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff;
}

.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept) .dcg-pt {
  border-width: 5px;
  border-color: transparent !important;
  border-radius: 5px;
  opacity: 1;
  -ms-filter: none;
  filter: none;
  top: -5px !important;
  left: -5px !important;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened {
  color: #222;
}

.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened .dcg-pt {
  border-color: #000 !important;
}

.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened .dcg-label {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-hole .dcg-pt {
  top: -5px;
  left: -5px;
  border-width: 2px;
  padding: 3px;
  background: #fff !important;
  border-radius: 6px;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-hide-dot .dcg-pt {
  display: none;
}

.dcg-calculator-api-container .dcg-resizing-text-input-container {
  position: relative;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-resizing-text-input-container input {
  position: absolute;
  top: 1px;
  left: 1px;
  right: 1px;
  font: inherit;
  border: 0;
  outline: 0;
  background: transparent;
  color: inherit;
}

.dcg-calculator-api-container .dcg-resizing-text-input-container:not(.dcg-focus) input::selection {
  background: transparent;
}

.dcg-calculator-api-container .dcg-resizing-text-input-container.dcg-focus input,
.dcg-calculator-api-container .dcg-resizing-text-input-container.dcg-hovered input {
  position: absolute;
  top: 0;
  left: 0;
}

.dcg-calculator-api-container .dcg-resizing-text-input-container .dcg-text-input-content {
  min-width: 35px;
  display: inline-block;
  color: transparent;
  white-space: pre;
}.dcg-calculator-api-container .dcg-constrained-height-popover {
  position: absolute;
  top: 40px;
  bottom: 2px;
  right: 4px;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-constrained-height-popover .dcg-popover-interior {
  max-height: 100%;
  pointer-events: auto;
}

.dcg-calculator-api-container .dcg-popover {
  z-index: 80;
}

.dcg-calculator-api-container .dcg-popover .dcg-popover-interior {
  padding: 20px;
  background-color: #fff;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 6px;
  -webkit-box-shadow: 0 5px 10px rgba(0,0,0,0.2);
  box-shadow: 0 5px 10px rgba(0,0,0,0.2);
  margin: -1px;
  overflow: auto;
}

.dcg-calculator-api-container .dcg-popover.dcg-top {
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-popover.dcg-right {
  margin-left: 10px;
}

.dcg-calculator-api-container .dcg-popover.dcg-bottom {
  margin-top: 10px;
}

.dcg-calculator-api-container .dcg-popover.dcg-left {
  margin-right: 10px;
}

.dcg-calculator-api-container .dcg-popover .dcg-popover-interior {
  overflow: auto;
}

.dcg-calculator-api-container .dcg-popover .dcg-popover-content {
  font-size: 85%;
  color: #444;
  line-height: 1.5em;
  position: relative;
}

.dcg-calculator-api-container .dcg-popover .dcg-popover-title {
  margin-bottom: 10px;
  font-size: 115%;
  border-bottom: 2px solid #127a3d;
  color: #127a3d;
  font-weight: normal;
  background-color: #fff;
}

.dcg-calculator-api-container .dcg-popover .dcg-popover-title:not(:first-of-type) {
  padding-top: 20px;
}

.dcg-calculator-api-container .dcg-popover .dcg-arrow,
.dcg-calculator-api-container .dcg-popover .dcg-arrow:after {
  position: absolute;
  display: inline-block;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}

.dcg-calculator-api-container .dcg-popover .dcg-arrow:after {
  content: "";
  z-index: -1;
}

.dcg-calculator-api-container .dcg-popover.dcg-top .dcg-arrow {
  bottom: -10px;
  left: 50%;
  margin-left: -10px;
  border-width: 10px 10px 0;
  border-top-color: #fff;
}

.dcg-calculator-api-container .dcg-popover.dcg-top .dcg-arrow:after {
  border-width: 11px 11px 0;
  border-top-color: rgba(0,0,0,0.25);
  bottom: -1px;
  left: -11px;
}

.dcg-calculator-api-container .dcg-popover.dcg-right .dcg-arrow {
  top: 50%;
  left: -10px;
  margin-top: -10px;
  border-width: 10px 10px 10px 0;
  border-right-color: #fff;
}

.dcg-calculator-api-container .dcg-popover.dcg-right .dcg-arrow:after {
  border-width: 11px 11px 11px 0;
  border-right-color: rgba(0,0,0,0.25);
  bottom: -11px;
  left: -1px;
}

.dcg-calculator-api-container .dcg-popover.dcg-bottom .dcg-arrow {
  top: -14px;
  margin-left: -14px;
  border-width: 0px 14px 14px;
  border-bottom-color: #fff;
}

.dcg-calculator-api-container .dcg-popover.dcg-bottom .dcg-arrow:after {
  border-width: 0 14px 14px;
  border-bottom-color: rgba(0,0,0,0.25);
  top: -1px;
  left: -14px;
}

.dcg-calculator-api-container .dcg-popover.dcg-left .dcg-arrow {
  top: 50%;
  right: -10px;
  margin-top: -10px;
  border-width: 10px 0 10px 10px;
  border-left-color: #fff;
  border-top-color: transparent;
}

.dcg-calculator-api-container .dcg-popover.dcg-left .dcg-arrow:after {
  border-width: 11px 0 11px 11px;
  border-left-color: rgba(0,0,0,0.25);
  bottom: -11px;
  right: -1px;
}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem textarea.dcg-smart-textarea,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-displayTextarea {
  font-size: 113%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-image-name {
  font-size: 113%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-math-mode {
  font-size: 130%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-editable-field.dcg-math-input {
  font-size: 100%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label {
  font-size: 150%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label .dcg-pt {
  border-width: 8px;
  border-radius: 8px;
  margin-left: -4px;
  margin-top: -4px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label.dcg-hole .dcg-pt {
  border-width: 4px;
  padding: 5px;
  border-radius: 9px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label:not(.dcg-tracept) .dcg-pt {
  border-width: 8px;
  border-radius: 8px;
  margin-left: -4px;
  margin-top: -4px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-slider-container .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mathquill-braille {
  font-size: 150%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation {
  font-size: 135%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mathquill-braille {
  font-size: 100%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-main:after {
  width: 2px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders {
  height: 30px;
  line-height: 30px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-msg {
  font-size: 100%;
  padding: 2px 0;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-btn-slider {
  font-size: 120%;
  height: 30px;
  line-height: 30px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-slider {
  bottom: 30px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-display-domain {
  bottom: 12px;
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain {
  bottom: 6px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-math-mode {
  font-size: 120%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu table,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain table {
  border-collapse: collapse;
  font-size: 20px;
  margin: 0 auto;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu table input,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain table input {
  font-size: 81%;
}.dcg-calculator-api-container .dcg-create-sliders {
  white-space: nowrap;
  height: 26px;
  line-height: 26px;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-msg {
  display: inline-block;
  margin-right: 5px;
  font-size: 80%;
  color: rgba(0,0,0,0.6);
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-all .dcg-btn-slider {
  font-style: normal;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-btn-slider {
  padding: 0 10px !important;
  font-family: times;
  font-size: 90%;
  font-style: italic;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container {
  display: inline-block;
  position: relative;
  margin-right: 3px;
  height: 16px;
  margin-bottom: 5px;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container .dcg-btn-slider {
  height: 25px;
  line-height: 25px;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container.dcg-all {
  width: 46px;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container.dcg-all .dcg-slider_decoration {
  width: 46px;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container.dcg-all .dcg-slider_btn {
  width: 28px;
}.dcg-calculator-api-container .dcg-regression-container {
  font-size: 80%;
  color: #222;
  cursor: default;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-statistics {
  display: inline-block;
  width: 130px;
  float: left;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-residuals {
  float: left;
  width: 130px;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-r-value {
  padding-left: 0.5em;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-residual-suggestion {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  cursor: default;
  padding: 2px 7px;
  margin-left: 7px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-residual-suggestion:not(.dcg-visible) {
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-residual-suggestion.dcg-visible {
  -webkit-transition: opacity 0.25s;
  -moz-transition: opacity 0.25s;
  -o-transition: opacity 0.25s;
  -ms-transition: opacity 0.25s;
  transition: opacity 0.25s;
  display: inline-block;
  opacity: 1;
  -ms-filter: none;
  filter: none;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle {
  clear: both;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle.dcg-visible {
  display: block;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle {
  cursor: pointer;
  padding: 5px 0;
  color: #444;
  border-radius: 4px;
  display: inline-block;
  margin-bottom: 12px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox {
  display: inline-block;
  width: 15px;
  height: 15px;
  border: 1px solid rgba(0,0,0,0.2);
  float: left;
  margin-right: 6px;
  border-radius: 3px;
  position: relative;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox i {
  color: transparent;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-hovered .dcg-log-mode-checkbox,
.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox {
  border-color: #aaa;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-depressed .dcg-log-mode-checkbox {
  border-color: #666;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox i {
  color: #127a3d;
  position: absolute;
  top: -1px;
  right: -2px;
  font-size: 110%;
  text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help {
  text-decoration: none;
  color: rgba(0,0,0,0.2);
  padding: 10px 6px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-hovered {
  color: #aaa;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-depressed {
  color: #666;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container {
  clear: both;
  padding-bottom: 4px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container .dcg-parameter {
  float: left;
  min-width: 130px;
  padding-right: 5px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container .dcg-parameter:nth-of-type(2n+1) {
  clear: both;
}.dcg-calculator-api-container .dcg-toggle {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option {
  padding: 4px 6px;
  text-align: center;
  border: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option:first-of-type {
  border-top-left-radius: 5px;
  border-bottom-left-radius: 5px;
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option:not(:last-of-type) {
  border-right: 0;
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option:last-of-type {
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px;
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle + .dcg-toggle-option {
  border-left: 1px solid #4781b9;
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-hovered {
  background: rgba(0,0,0,0.05);
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-depressed {
  background: rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle {
  background: rgba(71,129,185,0.15);
  border-color: #4781b9;
  color: #4781b9;
  cursor: default !important;
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle i {
  cursor: default;
}/*
  we want to position things relative to the dcg-tap-container, e.g. tooltips.
  but putting position:relative on body breaks layout. if it's the whole body,
  then we don't need to worry about absolute positioning of a child relative to
  the element anyhow
*/

.dcg-calculator-api-container .dcg-tap-container:not(body) {
  position: relative;
  /*so that we can absolutely position e.g. tooltips inside of our API*/
}

.dcg-calculator-api-container .dcg-focus-by-tap:focus {
  outline: none;
}.dcg-calculator-api-container .trip-block {
  position: absolute;
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  -webkit-transition: 0.3s ease;
  -moz-transition: 0.3s ease;
  -o-transition: 0.3s ease;
  -ms-transition: 0.3s ease;
  transition: 0.3s ease;
  display: none;
  -webkit-transform: scale(0, 0);
  -moz-transform: scale(0, 0);
  -o-transform: scale(0, 0);
  -ms-transform: scale(0, 0);
  transform: scale(0, 0);
}

.dcg-calculator-api-container .trip-block.trip-is-loaded:not(.trip-hidden) {
  opacity: 1;
  -ms-filter: none;
  filter: none;
  -webkit-transform: scale(1, 1);
  -moz-transform: scale(1, 1);
  -o-transform: scale(1, 1);
  -ms-transform: scale(1, 1);
  transform: scale(1, 1);
}

.dcg-calculator-api-container .trip-block .trip-interior {
  padding: 10px;
  text-align: left;
  min-width: 100px;
  border-radius: 6px;
  padding-right: 40px;
  width: 275px;
  background: #fff;
  border: 3px solid #127a3d;
  color: #444;
  font-size: 100%;
  -webkit-box-shadow: 0 2px 7px 0 rgba(0,0,0,0.3);
  box-shadow: 0 2px 7px 0 rgba(0,0,0,0.3);
}

.dcg-calculator-api-container .trip-block .trip-interior .trip-link {
  color: #4781b9;
}

.dcg-calculator-api-container .trip-block .trip-interior .trip-title {
  font-weight: bold;
  margin-bottom: 5px;
}

.dcg-calculator-api-container .trip-block .trip-interior .trip-hint {
  font-size: 80%;
  line-height: 12px;
  margin-top: 4px;
  color: #666;
}

.dcg-calculator-api-container .trip-block .trip-interior i {
  font-size: 80%;
}

.dcg-calculator-api-container .trip-block .trip-interior code {
  border: solid 1px #d3d3d3;
  border-radius: 3px;
  padding: 2px 3px;
  display: inline-block;
}

.dcg-calculator-api-container .trip-block .trip-interior code i {
  font-size: 70%;
  font-family: Arial, sans-serif;
}

.dcg-calculator-api-container .trip-block .trip-interior .trip-close {
  color: rgba(0,0,0,0.3);
  position: absolute;
  right: 0px;
  top: 0px;
  font-size: 150%;
  line-height: 16px;
  float: right;
  padding: 6px;
  text-decoration: none;
  cursor: pointer;
}

.dcg-calculator-api-container .trip-block .trip-interior .trip-close.dcg-hovered {
  color: rgba(0,0,0,0.6);
}

.dcg-calculator-api-container .trip-block .trip-interior .trip-close.dcg-depressed {
  color: rgba(0,0,0,0.8);
}

.dcg-calculator-api-container .trip-block .trip-arrow {
  border: 10px solid transparent;
  height: 0;
  width: 0;
  position: absolute;
}

.dcg-calculator-api-container .trip-block.trip-n .trip-arrow {
  border-bottom-width: 0;
  border-top-color: #127a3d;
}

.dcg-calculator-api-container .trip-block.trip-s .trip-arrow {
  border-bottom-color: #127a3d;
  border-top-width: 0;
}

.dcg-calculator-api-container .trip-block.trip-e .trip-arrow {
  border-left-width: 0;
  border-right-color: #127a3d;
}

.dcg-calculator-api-container .trip-block.trip-w .trip-arrow {
  border-right-width: 0;
  border-left-color: #127a3d;
}

.dcg-calculator-api-container .trip-block.trip-n .trip-arrow,
.dcg-calculator-api-container .trip-block.trip-s .trip-arrow {
  left: 50%;
  margin-left: -10px;
}

.dcg-calculator-api-container .trip-block.trip-e .trip-arrow,
.dcg-calculator-api-container .trip-block.trip-w .trip-arrow {
  top: 50%;
  margin-top: -10px;
}

.dcg-calculator-api-container .trip-block.trip-n .trip-arrow {
  top: 100%;
}

.dcg-calculator-api-container .trip-block.trip-s .trip-arrow {
  bottom: 100%;
}

.dcg-calculator-api-container .trip-block.trip-e .trip-arrow {
  right: 100%;
}

.dcg-calculator-api-container .trip-block.trip-w .trip-arrow {
  left: 100%;
}

.dcg-calculator-api-container .trip-progress-bar {
  height: 1px;
  background-color: #444;
  width: 0;
}/*
 * MathQuill vv1.5, by Han, Jeanine, and Mary
 * http://mathquill.com | maintainers@mathquill.com
 *
 * This Source Code Form is subject to the terms of the
 * Mozilla Public License, v. 2.0. If a copy of the MPL
 * was not distributed with this file, You can obtain
 * one at http://mozilla.org/MPL/2.0/.
 */

.dcg-mq-aria-alert {
  position: absolute;
  left: -1000px;
  top: -1000px;
  width: 1px;
  height: 1px;
  text-align: left;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-mq-editable-field {
  display: -moz-inline-box;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor {
  border-left: 1px solid currentColor;
  margin-left: -1px;
  position: relative;
  z-index: 1;
  padding: 0;
  display: -moz-inline-box;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor.dcg-mq-blink {
  visibility: hidden;
}

.dcg-calculator-api-container .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field {
  border: 1px solid gray;
}

.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-focused,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field.dcg-mq-focused {
  -webkit-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;
  -moz-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;
  box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;
  border-color: #709AC0;
  border-radius: 1px;
  aria-hidden: true;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field {
  margin: 1px;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input {
  color: inherit;
  font-family: "Courier New", monospace;
  border: 1px solid gray;
  padding-right: 1px;
  margin-right: 1px;
  margin-left: 2px;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-empty {
  background: transparent;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-hasCursor {
  border-color: ActiveBorder;
}

.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-empty:after,
.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-text-mode:after,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty:after {
  visibility: hidden;
  content: 'c';
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor:only-child:after,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea + .dcg-mq-cursor:last-child:after {
  visibility: hidden;
  content: 'c';
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-text-mode .dcg-mq-cursor:only-child:after {
  content: '';
}

.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-text-mode {
  overflow-x: auto;
  overflow-y: hidden;
}

.dcg-calculator-api-container .dcg-mq-root-block,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block {
  display: -moz-inline-box;
  display: inline-block;
  width: 100%;
  padding: 2px;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  white-space: nowrap;
  overflow: hidden;
  vertical-align: middle;
}

.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-digit,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-digit {
  margin-left: 0.009em;
  margin-right: 0.009em;
}

.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-start,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-start {
  margin-left: 0.11em;
  margin-right: -0.01em;
}

.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-other,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-other {
  margin-left: -0.01em;
  margin-right: -0.01em;
}

.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-1,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-1,
.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-2,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-2 {
  margin-left: 0;
  margin-right: -0.01em;
}

.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-3,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-3 {
  margin-left: 0.036em;
  margin-right: -0.01em;
}

.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-start,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-start,
.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-other,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-other,
.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-1,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-1,
.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-2,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-2,
.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-3,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-3 {
  margin-left: 0.009em;
  margin-right: 0.009em;
}

.dcg-calculator-api-container .dcg-mq-math-mode {
  font-variant: normal;
  font-weight: normal;
  font-style: normal;
  font-size: 115%;
  line-height: 1;
  display: -moz-inline-box;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-non-leaf,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-scaled {
  display: -moz-inline-box;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-math-mode var,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-nonSymbola {
  font-family: "Times New Roman", Symbola, serif;
  line-height: .9;
}

.dcg-calculator-api-container .dcg-mq-math-mode svg {
  fill: currentColor;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.dcg-calculator-api-container .dcg-mq-math-mode * {
  font-size: inherit;
  line-height: inherit;
  margin: 0;
  padding: 0;
  border-color: black;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  box-sizing: border-box;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty {
  background: rgba(0, 0, 0, 0.2);
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty.dcg-mq-root-block {
  background: transparent;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty.dcg-mq-empty-parens {
  background: transparent;
}

.dcg-calculator-api-container .dcg-mq-math-mode.dcg-mq-empty {
  background: transparent;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode {
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode.dcg-mq-hasCursor {
  box-shadow: inset darkgray 0 .1em .2em;
  padding: 0 .1em;
  margin: 0 -0.1em;
  min-width: 1ex;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-font {
  font: 1em "Times New Roman", Symbola, serif;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-font * {
  font-family: inherit;
  font-style: inherit;
}

.dcg-calculator-api-container .dcg-mq-math-mode b,
.dcg-calculator-api-container .dcg-mq-math-mode b.dcg-mq-font {
  font-weight: bolder;
}

.dcg-calculator-api-container .dcg-mq-math-mode var,
.dcg-calculator-api-container .dcg-mq-math-mode i,
.dcg-calculator-api-container .dcg-mq-math-mode i.dcg-mq-font {
  font-style: italic;
}

.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-f {
  margin-right: 0.2em;
  margin-left: 0.1em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-roman var.dcg-mq-f {
  margin: 0;
}

.dcg-calculator-api-container .dcg-mq-math-mode big {
  font-size: 200%;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int > big {
  display: inline-block;
  -webkit-transform: scaleX(0.7);
  -moz-transform: scaleX(0.7);
  -ms-transform: scaleX(0.7);
  -o-transform: scaleX(0.7);
  transform: scaleX(0.7);
  vertical-align: -0.16em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int > .dcg-mq-supsub {
  font-size: 80%;
  vertical-align: -1.1em;
  padding-right: .2em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int > .dcg-mq-supsub > .dcg-mq-sup > .dcg-mq-sup-inner {
  vertical-align: 1.3em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int > .dcg-mq-supsub > .dcg-mq-sub {
  margin-left: -0.35em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-roman {
  font-style: normal;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sans-serif {
  font-family: sans-serif, Symbola, serif;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-monospace {
  font-family: monospace, Symbola, serif;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overline {
  border-top: 1px solid;
  margin-top: 1px;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-underline {
  border-bottom: 1px solid;
  margin-bottom: 1px;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-binary-operator {
  padding: 0 0.2em;
  display: -moz-inline-box;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub {
  text-align: left;
  font-size: 90%;
  vertical-align: -0.5em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only {
  vertical-align: .5em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only > .dcg-mq-sup {
  display: inline-block;
  vertical-align: text-bottom;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sup {
  display: block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sub {
  display: block;
  float: left;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-binary-operator {
  padding: 0 .1em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-fraction {
  font-size: 70%;
}

.dcg-calculator-api-container .dcg-mq-math-mode sup.dcg-mq-nthroot {
  font-size: 80%;
  vertical-align: 0.8em;
  margin-right: -0.6em;
  margin-left: .2em;
  min-width: .5em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-ghost svg {
  opacity: 0.2;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-middle {
  margin-top: .1em;
  margin-bottom: .1em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-l,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-r {
  position: absolute;
  top: 0;
  bottom: 2px;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-l {
  left: 0;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-r {
  right: 0;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-container {
  position: relative;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-array {
  vertical-align: middle;
  text-align: center;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-array > span {
  display: block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-operator-name {
  font-family: Symbola, "Times New Roman", serif;
  line-height: .9;
  font-style: normal;
}

.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-first {
  padding-left: .2em;
}

.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-last,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-after-operator-name {
  padding-right: .2em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction {
  font-size: 90%;
  text-align: center;
  vertical-align: -0.4em;
  padding: 0 .2em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator,
.dcg-calculator-api-container .dcg-mq-math-mode x:-moz-any-link {
  display: -moz-groupbox;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator,
.dcg-calculator-api-container .dcg-mq-math-mode x:-moz-any-link,
.dcg-calculator-api-container .dcg-mq-math-mode x:default {
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-numerator,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-denominator {
  display: block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-numerator {
  padding: 0 0.1em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-denominator {
  border-top: 1px solid;
  float: right;
  width: 100%;
  padding: 0.1em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-prefix {
  position: absolute;
  top: 1px;
  bottom: 0.15em;
  width: 0.95em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-container {
  position: relative;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-stem {
  border-top: 1px solid;
  margin-top: 1px;
  margin-left: 0.9em;
  padding-left: .15em;
  padding-right: .2em;
  margin-right: .1em;
  padding-top: 1px;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-diacritic-above {
  display: block;
  text-align: center;
  line-height: .4em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-diacritic-stem {
  display: block;
  text-align: center;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-hat-prefix {
  display: block;
  text-align: center;
  line-height: .95em;
  margin-bottom: -0.7em;
  transform: scaleX(1.5);
  -moz-transform: scaleX(1.5);
  -o-transform: scaleX(1.5);
  -webkit-transform: scaleX(1.5);
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-hat-stem {
  display: block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator {
  vertical-align: -0.2em;
  padding: .2em;
  text-align: center;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator big,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to {
  display: block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to {
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from {
  float: right;
  /* take out of normal flow to manipulate baseline */
  width: 100%;
}

.dcg-calculator-api-container .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field {
  cursor: text;
  font-family: Symbola, "Times New Roman", serif;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarc {
  border-top: 1px solid;
  border-radius: 50% 50% 0 0;
  padding: 0.35em 0.25em 0 0.1em;
  margin-top: 0.1em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow {
  border-top: 1px solid;
  margin-top: 1px;
  padding-top: 0.2em;
  position: relative;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow:after {
  position: absolute;
  right: -0.1em;
  top: -0.48em;
  font-size: 0.5em;
  content: '\\27A4';
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-left:after {
  content: '';
  display: none;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-left:before,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-leftright:before {
  position: absolute;
  top: -0.48em;
  left: -0.1em;
  font-size: 0.5em;
  content: '\\27A4';
  -moz-transform: scaleX(-1);
  -o-transform: scaleX(-1);
  -webkit-transform: scaleX(-1);
  transform: scaleX(-1);
  filter: FlipH;
  -ms-filter: "FlipH";
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-non-leaf,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-non-leaf,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-scaled,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-scaled {
  background: #B4D5FE !important;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled {
  background: #D4D4D4 !important;
  color: black;
  border-color: black;
}

html.dcg-calculator-api-container body .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-nthroot-container *,
html body .dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-nthroot-container *,
html.dcg-calculator-api-container body .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-nthroot-container *,
html body .dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-nthroot-container * {
  background: transparent !important;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-textarea {
  position: relative;
  -webkit-user-select: text;
  -moz-user-select: text;
  user-select: text;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea *,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-textarea *,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selectable,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selectable {
  -webkit-user-select: text;
  -moz-user-select: text;
  user-select: text;
  position: absolute;
  clip: rect(1em 1em 1em 1em);
  -webkit-transform: scale(0);
  -moz-transform: scale(0);
  -ms-transform: scale(0);
  -o-transform: scale(0);
  transform: scale(0);
  resize: none;
  width: 1px;
  height: 1px;
  box-sizing: content-box;
}`,document.getElementsByTagName("head")[0].appendChild(E);var _=typeof Desmos<"u"?Desmos:{};t.exports=_,function(){var k=_;k.config||(k.config={}),typeof e=="object"&&(k.enabledFeatures=e),typeof desmosLocales=="object"&&(k.locales=desmosLocales),k.commit=h,function(){var L,ae,q;(function(O){function o(M,C){return v.call(M,C)}function w(M,C){var D,S,x,B,Z,X,ee,W,U,F,G=C&&C.split("/"),ie=n.map,ne=ie&&ie["*"]||{};if(M&&M.charAt(0)===".")if(C){for(G=G.slice(0,G.length-1),M=G.concat(M.split("/")),W=0;W<M.length;W+=1)if((F=M[W])===".")M.splice(W,1),W-=1;else if(F===".."){if(W===1&&(M[2]===".."||M[0]===".."))break;W>0&&(M.splice(W-1,2),W-=2)}M=M.join("/")}else M.indexOf("./")===0&&(M=M.substring(2));if((G||ne)&&ie){for(D=M.split("/"),W=D.length;W>0;W-=1){if(S=D.slice(0,W).join("/"),G){for(U=G.length;U>0;U-=1)if((x=ie[G.slice(0,U).join("/")])&&(x=x[S])){B=x,Z=W;break}}if(B)break;!X&&ne&&ne[S]&&(X=ne[S],ee=W)}!B&&X&&(B=X,Z=ee),B&&(D.splice(0,Z,B),M=D.join("/"))}return M}function r(M,C){return function(){return u.apply(O,A.call(arguments,0).concat([M,C]))}}function d(M){return function(C){return w(C,M)}}function i(M){return function(C){m[M]=C}}function l(M){if(o(c,M)){var C=c[M];delete c[M],s[M]=!0,p.apply(O,C)}if(!o(m,M)&&!o(s,M))throw new Error("No "+M);return m[M]}function g(M){var C,D=M?M.indexOf("!"):-1;return D>-1&&(C=M.substring(0,D),M=M.substring(D+1,M.length)),[C,M]}function y(M){return function(){return n&&n.config&&n.config[M]||{}}}var p,u,f,b,m={},c={},n={},s={},v=Object.prototype.hasOwnProperty,A=[].slice;f=function(M,C){var D,S=g(M),x=S[0];return M=S[1],x&&(x=w(x,C),D=l(x)),x?M=D&&D.normalize?D.normalize(M,d(C)):w(M,C):(M=w(M,C),S=g(M),x=S[0],M=S[1],x&&(D=l(x))),{f:x?x+"!"+M:M,n:M,pr:x,p:D}},b={require:function(M){return r(M)},exports:function(M){var C=m[M];return C!==void 0?C:m[M]={}},module:function(M){return{id:M,uri:"",exports:m[M],config:y(M)}}},p=function(M,C,D,S){var x,B,Z,X,ee,W,U=[];if(S=S||M,typeof D=="function"){for(C=!C.length&&D.length?["require","exports","module"]:C,ee=0;ee<C.length;ee+=1)if(X=f(C[ee],S),(B=X.f)==="require")U[ee]=b.require(M);else if(B==="exports")U[ee]=b.exports(M),W=!0;else if(B==="module")x=U[ee]=b.module(M);else if(o(m,B)||o(c,B)||o(s,B))U[ee]=l(B);else{if(!X.p)throw new Error(M+" missing "+B);X.p.load(X.n,r(S,!0),i(B),{}),U[ee]=m[B]}Z=D.apply(m[M],U),M&&(x&&x.exports!==O&&x.exports!==m[M]?m[M]=x.exports:Z===O&&W||(m[M]=Z))}else M&&(m[M]=D)},L=ae=u=function(M,C,D,S,x){return typeof M=="string"?b[M]?b[M](C):l(f(M,C).f):(M.splice||(n=M,C.splice?(M=C,C=D,D=null):M=O),C=C||function(){},typeof D=="function"&&(D=S,S=x),S?p(O,M,C,D):setTimeout(function(){p(O,M,C,D)},4),u)},u.config=function(M){return n=M,n.deps&&u(n.deps,n.callback),u},q=function(M,C,D){C.splice||(D=C,C=[]),o(m,M)||o(c,M)||(c[M]=[M,C,D])},q.amd={jQuery:!0}})(),typeof ALMOND_OVERRIDES<"u"&&ALMOND_OVERRIDES&&(q=ALMOND_OVERRIDES.define||q,ae=ALMOND_OVERRIDES.require||ae,L=ALMOND_OVERRIDES.requirejs||L),q("core/vendor/almond",function(){}),q("ipad.ghostevents",["require"],function(O){function o(l){r&&i.evtInScope(l)&&(l.stopPropagation(),l.stopImmediatePropagation())}function w(l){r&&i.evtInScope(l)&&(l.preventDefault(),l.stopPropagation(),l.stopImmediatePropagation())}var r=!1,d=null,i={isGhostEvent:function(l){return!1},evtInScope:function(l){return!1}};return document.addEventListener("mousedown",function(l){i.evtInScope(l)&&(d=document.activeElement,r=i.isGhostEvent(l),o(l))},!0),document.addEventListener("mouseup",o,!0),document.addEventListener("click",function(l){w(l),r&&document.activeElement!==d&&(document.activeElement&&document.activeElement.blur(),d&&d.focus()),r=!1},!0),document.addEventListener("focus",w,!0),document.addEventListener("blur",w,!0),i}),function(O,o){o(O)}(typeof window<"u"?window:this,function(O,o){function w(T){var R=!!T&&"length"in T&&T.length,V=z.type(T);return V!=="function"&&!z.isWindow(T)&&(V==="array"||R===0||typeof R=="number"&&R>0&&R-1 in T)}function r(T,R,V){if(z.isFunction(R))return z.grep(T,function(K,le){return!!R.call(K,le,K)!==V});if(R.nodeType)return z.grep(T,function(K){return K===R!==V});if(typeof R=="string"){if(Ze.test(R))return z.filter(R,T,V);R=z.filter(R,T)}return z.grep(T,function(K){return _e.call(R,K)>-1!==V})}function d(T,R){for(;(T=T[R])&&T.nodeType!==1;);return T}function i(T){var R={};return z.each(T.match(it)||[],function(V,K){R[K]=!0}),R}function l(){ye.removeEventListener("DOMContentLoaded",l),O.removeEventListener("load",l),z.ready()}function g(){this.expando=z.expando+g.uid++}function y(T,R,V){var K;if(V===void 0&&T.nodeType===1)if(K="data-"+R.replace(Et,"-$&").toLowerCase(),typeof(V=T.getAttribute(K))=="string"){try{V=V==="true"||V!=="false"&&(V==="null"?null:+V+""===V?+V:Nt.test(V)?z.parseJSON(V):V)}catch{}mt.set(T,R,V)}else V=void 0;return V}function p(T,R,V,K){var le,de=1,be=20,Oe=K?function(){return K.cur()}:function(){return z.css(T,R,"")},He=Oe(),$e=V&&V[3]||(z.cssNumber[R]?"":"px"),nt=(z.cssNumber[R]||$e!=="px"&&+He)&&xt.exec(z.css(T,R));if(nt&&nt[3]!==$e){$e=$e||nt[3],V=V||[],nt=+He||1;do de=de||".5",nt/=de,z.style(T,R,nt+$e);while(de!==(de=Oe()/He)&&de!==1&&--be)}return V&&(nt=+nt||+He||0,le=V[1]?nt+(V[1]+1)*V[2]:+V[2],K&&(K.unit=$e,K.start=nt,K.end=le)),le}function u(T,R){var V=T.getElementsByTagName!==void 0?T.getElementsByTagName(R||"*"):T.querySelectorAll!==void 0?T.querySelectorAll(R||"*"):[];return R===void 0||R&&z.nodeName(T,R)?z.merge([T],V):V}function f(T,R){for(var V=0,K=T.length;V<K;V++)ut.set(T[V],"globalEval",!R||ut.get(R[V],"globalEval"))}function b(T,R,V,K,le){for(var de,be,Oe,He,$e,nt,j=R.createDocumentFragment(),me=[],Je=0,pt=T.length;Je<pt;Je++)if((de=T[Je])||de===0)if(z.type(de)==="object")z.merge(me,de.nodeType?[de]:de);else if($.test(de)){for(be=be||j.appendChild(R.createElement("div")),Oe=(dr.exec(de)||["",""])[1].toLowerCase(),He=Wt[Oe]||Wt._default,be.innerHTML=He[1]+z.htmlPrefilter(de)+He[2],nt=He[0];nt--;)be=be.lastChild;z.merge(me,be.childNodes),be=j.firstChild,be.textContent=""}else me.push(R.createTextNode(de));for(j.textContent="",Je=0;de=me[Je++];)if(K&&z.inArray(de,K)>-1)le&&le.push(de);else if($e=z.contains(de.ownerDocument,de),be=u(j.appendChild(de),"script"),$e&&f(be),V)for(nt=0;de=be[nt++];)Xt.test(de.type||"")&&V.push(de);return j}function m(){return!0}function c(){return!1}function n(){try{return ye.activeElement}catch{}}function s(T,R,V,K,le,de){var be,Oe;if(typeof R=="object"){typeof V!="string"&&(K=K||V,V=void 0);for(Oe in R)s(T,Oe,V,K,R[Oe],de);return T}if(K==null&&le==null?(le=V,K=V=void 0):le==null&&(typeof V=="string"?(le=K,K=void 0):(le=K,K=V,V=void 0)),le===!1)le=c;else if(!le)return T;return de===1&&(be=le,le=function(He){return z().off(He),be.apply(this,arguments)},le.guid=be.guid||(be.guid=z.guid++)),T.each(function(){z.event.add(this,R,le,K,V)})}function v(T,R){return z.nodeName(T,"table")&&z.nodeName(R.nodeType!==11?R:R.firstChild,"tr")?T.getElementsByTagName("tbody")[0]||T.appendChild(T.ownerDocument.createElement("tbody")):T}function A(T){return T.type=(T.getAttribute("type")!==null)+"/"+T.type,T}function M(T){var R=Se.exec(T.type);return R?T.type=R[1]:T.removeAttribute("type"),T}function C(T,R){var V,K,le,de,be,Oe,He,$e;if(R.nodeType===1){if(ut.hasData(T)&&(de=ut.access(T),be=ut.set(R,de),$e=de.events)){delete be.handle,be.events={};for(le in $e)for(V=0,K=$e[le].length;V<K;V++)z.event.add(R,le,$e[le][V])}mt.hasData(T)&&(Oe=mt.access(T),He=z.extend({},Oe),mt.set(R,He))}}function D(T,R){var V=R.nodeName.toLowerCase();V==="input"&&or.test(T.type)?R.checked=T.checked:V!=="input"&&V!=="textarea"||(R.defaultValue=T.defaultValue)}function S(T,R,V,K){R=ue.apply([],R);var le,de,be,Oe,He,$e,nt=0,j=T.length,me=j-1,Je=R[0],pt=z.isFunction(Je);if(pt||j>1&&typeof Je=="string"&&!Ne.checkClone&&J.test(Je))return T.each(function(vt){var Ct=T.eq(vt);pt&&(R[0]=Je.call(this,vt,Ct.html())),S(Ct,R,V,K)});if(j&&(le=b(R,T[0].ownerDocument,!1,T,K),de=le.firstChild,le.childNodes.length===1&&(le=de),de||K)){for(be=z.map(u(le,"script"),A),Oe=be.length;nt<j;nt++)He=le,nt!==me&&(He=z.clone(He,!0,!0),Oe&&z.merge(be,u(He,"script"))),V.call(T[nt],He,nt);if(Oe)for($e=be[be.length-1].ownerDocument,z.map(be,M),nt=0;nt<Oe;nt++)He=be[nt],Xt.test(He.type||"")&&!ut.access(He,"globalEval")&&z.contains($e,He)&&(He.src?z._evalUrl&&z._evalUrl(He.src):z.globalEval(He.textContent.replace(De,"")))}return T}function x(T,R,V){for(var K,le=R?z.filter(R,T):T,de=0;(K=le[de])!=null;de++)V||K.nodeType!==1||z.cleanData(u(K)),K.parentNode&&(V&&z.contains(K.ownerDocument,K)&&f(u(K,"script")),K.parentNode.removeChild(K));return T}function B(T,R){var V=z(R.createElement(T)).appendTo(R.body),K=z.css(V[0],"display");return V.detach(),K}function Z(T){var R=ye,V=et[T];return V||(V=B(T,R),V!=="none"&&V||(We=(We||z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(R.documentElement),R=We[0].contentDocument,R.write(),R.close(),V=B(T,R),We.detach()),et[T]=V),V}function X(T,R,V){var K,le,de,be,Oe=T.style;return V=V||ft(T),be=V?V.getPropertyValue(R)||V[R]:void 0,be!==""&&be!==void 0||z.contains(T.ownerDocument,T)||(be=z.style(T,R)),V&&!Ne.pixelMarginRight()&&ht.test(be)&&lt.test(R)&&(K=Oe.width,le=Oe.minWidth,de=Oe.maxWidth,Oe.minWidth=Oe.maxWidth=Oe.width=be,be=V.width,Oe.width=K,Oe.minWidth=le,Oe.maxWidth=de),be!==void 0?be+"":be}function ee(T,R){return{get:function(){return T()?void delete this.get:(this.get=R).apply(this,arguments)}}}function W(T){if(T in Ft)return T;for(var R=T[0].toUpperCase()+T.slice(1),V=Zt.length;V--;)if((T=Zt[V]+R)in Ft)return T}function U(T,R,V){var K=xt.exec(R);return K?Math.max(0,K[2]-(V||0))+(K[3]||"px"):R}function F(T,R,V,K,le){for(var de=V===(K?"border":"content")?4:R==="width"?1:0,be=0;de<4;de+=2)V==="margin"&&(be+=z.css(T,V+Ut[de],!0,le)),K?(V==="content"&&(be-=z.css(T,"padding"+Ut[de],!0,le)),V!=="margin"&&(be-=z.css(T,"border"+Ut[de]+"Width",!0,le))):(be+=z.css(T,"padding"+Ut[de],!0,le),V!=="padding"&&(be+=z.css(T,"border"+Ut[de]+"Width",!0,le)));return be}function G(T,R,V){var K=!0,le=R==="width"?T.offsetWidth:T.offsetHeight,de=ft(T),be=z.css(T,"boxSizing",!1,de)==="border-box";if(le<=0||le==null){if(le=X(T,R,de),(le<0||le==null)&&(le=T.style[R]),ht.test(le))return le;K=be&&(Ne.boxSizingReliable()||le===T.style[R]),le=parseFloat(le)||0}return le+F(T,R,V||(be?"border":"content"),K,de)+"px"}function ie(T,R){for(var V,K,le,de=[],be=0,Oe=T.length;be<Oe;be++)K=T[be],K.style&&(de[be]=ut.get(K,"olddisplay"),V=K.style.display,R?(de[be]||V!=="none"||(K.style.display=""),K.style.display===""&&jt(K)&&(de[be]=ut.access(K,"olddisplay",Z(K.nodeName)))):(le=jt(K),V==="none"&&le||ut.set(K,"olddisplay",le?V:z.css(K,"display"))));for(be=0;be<Oe;be++)K=T[be],K.style&&(R&&K.style.display!=="none"&&K.style.display!==""||(K.style.display=R?de[be]||"":"none"));return T}function ne(T,R,V,K,le){return new ne.prototype.init(T,R,V,K,le)}function Y(){return O.setTimeout(function(){Ot=void 0}),Ot=z.now()}function ge(T,R){var V,K=0,le={height:T};for(R=R?1:0;K<4;K+=2-R)V=Ut[K],le["margin"+V]=le["padding"+V]=T;return R&&(le.opacity=le.width=T),le}function te(T,R,V){for(var K,le=(fe.tweeners[R]||[]).concat(fe.tweeners["*"]),de=0,be=le.length;de<be;de++)if(K=le[de].call(V,R,T))return K}function H(T,R,V){var K,le,de,be,Oe,He,$e,nt=this,j={},me=T.style,Je=T.nodeType&&jt(T),pt=ut.get(T,"fxshow");V.queue||(Oe=z._queueHooks(T,"fx"),Oe.unqueued==null&&(Oe.unqueued=0,He=Oe.empty.fire,Oe.empty.fire=function(){Oe.unqueued||He()}),Oe.unqueued++,nt.always(function(){nt.always(function(){Oe.unqueued--,z.queue(T,"fx").length||Oe.empty.fire()})})),T.nodeType===1&&("height"in R||"width"in R)&&(V.overflow=[me.overflow,me.overflowX,me.overflowY],$e=z.css(T,"display"),($e==="none"?ut.get(T,"olddisplay")||Z(T.nodeName):$e)==="inline"&&z.css(T,"float")==="none"&&(me.display="inline-block")),V.overflow&&(me.overflow="hidden",nt.always(function(){me.overflow=V.overflow[0],me.overflowX=V.overflow[1],me.overflowY=V.overflow[2]}));for(K in R)if(le=R[K],ar.exec(le)){if(delete R[K],de=de||le==="toggle",le===(Je?"hide":"show")){if(le!=="show"||!pt||pt[K]===void 0)continue;Je=!0}j[K]=pt&&pt[K]||z.style(T,K)}else $e=void 0;if(z.isEmptyObject(j))($e==="none"?Z(T.nodeName):$e)==="inline"&&(me.display=$e);else{pt?"hidden"in pt&&(Je=pt.hidden):pt=ut.access(T,"fxshow",{}),de&&(pt.hidden=!Je),Je?z(T).show():nt.done(function(){z(T).hide()}),nt.done(function(){var vt;ut.remove(T,"fxshow");for(vt in j)z.style(T,vt,j[vt])});for(K in j)be=te(Je?pt[K]:0,K,nt),K in pt||(pt[K]=be.start,Je&&(be.end=be.start,be.start=K==="width"||K==="height"?1:0))}}function pe(T,R){var V,K,le,de,be;for(V in T)if(K=z.camelCase(V),le=R[K],de=T[V],z.isArray(de)&&(le=de[1],de=T[V]=de[0]),V!==K&&(T[K]=de,delete T[V]),(be=z.cssHooks[K])&&"expand"in be){de=be.expand(de),delete T[K];for(V in de)V in T||(T[V]=de[V],R[V]=le)}else R[K]=le}function fe(T,R,V){var K,le,de=0,be=fe.prefilters.length,Oe=z.Deferred().always(function(){delete He.elem}),He=function(){if(le)return!1;for(var j=Ot||Y(),me=Math.max(0,$e.startTime+$e.duration-j),Je=me/$e.duration||0,pt=1-Je,vt=0,Ct=$e.tweens.length;vt<Ct;vt++)$e.tweens[vt].run(pt);return Oe.notifyWith(T,[$e,pt,me]),pt<1&&Ct?me:(Oe.resolveWith(T,[$e]),!1)},$e=Oe.promise({elem:T,props:z.extend({},R),opts:z.extend(!0,{specialEasing:{},easing:z.easing._default},V),originalProperties:R,originalOptions:V,startTime:Ot||Y(),duration:V.duration,tweens:[],createTween:function(j,me){var Je=z.Tween(T,$e.opts,j,me,$e.opts.specialEasing[j]||$e.opts.easing);return $e.tweens.push(Je),Je},stop:function(j){var me=0,Je=j?$e.tweens.length:0;if(le)return this;for(le=!0;me<Je;me++)$e.tweens[me].run(1);return j?(Oe.notifyWith(T,[$e,1,0]),Oe.resolveWith(T,[$e,j])):Oe.rejectWith(T,[$e,j]),this}}),nt=$e.props;for(pe(nt,$e.opts.specialEasing);de<be;de++)if(K=fe.prefilters[de].call($e,T,nt,$e.opts))return z.isFunction(K.stop)&&(z._queueHooks($e.elem,$e.opts.queue).stop=z.proxy(K.stop,K)),K;return z.map(nt,te,$e),z.isFunction($e.opts.start)&&$e.opts.start.call(T,$e),z.fx.timer(z.extend(He,{elem:T,anim:$e,queue:$e.opts.queue})),$e.progress($e.opts.progress).done($e.opts.done,$e.opts.complete).fail($e.opts.fail).always($e.opts.always)}function re(T){return T.getAttribute&&T.getAttribute("class")||""}function se(T){return function(R,V){typeof R!="string"&&(V=R,R="*");var K,le=0,de=R.toLowerCase().match(it)||[];if(z.isFunction(V))for(;K=de[le++];)K[0]==="+"?(K=K.slice(1)||"*",(T[K]=T[K]||[]).unshift(V)):(T[K]=T[K]||[]).push(V)}}function he(T,R,V,K){function le(Oe){var He;return de[Oe]=!0,z.each(T[Oe]||[],function($e,nt){var j=nt(R,V,K);return typeof j!="string"||be||de[j]?be?!(He=j):void 0:(R.dataTypes.unshift(j),le(j),!1)}),He}var de={},be=T===Or;return le(R.dataTypes[0])||!de["*"]&&le("*")}function xe(T,R){var V,K,le=z.ajaxSettings.flatOptions||{};for(V in R)R[V]!==void 0&&((le[V]?T:K||(K={}))[V]=R[V]);return K&&z.extend(!0,T,K),T}function Me(T,R,V){for(var K,le,de,be,Oe=T.contents,He=T.dataTypes;He[0]==="*";)He.shift(),K===void 0&&(K=T.mimeType||R.getResponseHeader("Content-Type"));if(K){for(le in Oe)if(Oe[le]&&Oe[le].test(K)){He.unshift(le);break}}if(He[0]in V)de=He[0];else{for(le in V){if(!He[0]||T.converters[le+" "+He[0]]){de=le;break}be||(be=le)}de=de||be}if(de)return de!==He[0]&&He.unshift(de),V[de]}function Be(T,R,V,K){var le,de,be,Oe,He,$e={},nt=T.dataTypes.slice();if(nt[1])for(be in T.converters)$e[be.toLowerCase()]=T.converters[be];for(de=nt.shift();de;)if(T.responseFields[de]&&(V[T.responseFields[de]]=R),!He&&K&&T.dataFilter&&(R=T.dataFilter(R,T.dataType)),He=de,de=nt.shift()){if(de==="*")de=He;else if(He!=="*"&&He!==de){if(!(be=$e[He+" "+de]||$e["* "+de])){for(le in $e)if(Oe=le.split(" "),Oe[1]===de&&(be=$e[He+" "+Oe[0]]||$e["* "+Oe[0]])){be===!0?be=$e[le]:$e[le]!==!0&&(de=Oe[0],nt.unshift(Oe[1]));break}}if(be!==!0)if(be&&T.throws)R=be(R);else try{R=be(R)}catch(j){return{state:"parsererror",error:be?j:"No conversion from "+He+" to "+de}}}}return{state:"success",data:R}}function ke(T,R,V,K){var le;if(z.isArray(R))z.each(R,function(de,be){V||di.test(T)?K(T,be):ke(T+"["+(typeof be=="object"&&be!=null?de:"")+"]",be,V,K)});else if(V||z.type(R)!=="object")K(T,R);else for(le in R)ke(T+"["+le+"]",R[le],V,K)}function Re(T){return z.isWindow(T)?T:T.nodeType===9&&T.defaultView}var Ve=[],ye=O.document,P=Ve.slice,ue=Ve.concat,Ae=Ve.push,_e=Ve.indexOf,qe={},Ye=qe.toString,Ie=qe.hasOwnProperty,Ne={},z=function(T,R){return new z.fn.init(T,R)},Pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,rt=/-([\da-z])/gi,kt=function(T,R){return R.toUpperCase()};z.fn=z.prototype={jquery:"2.2.4",constructor:z,selector:"",length:0,toArray:function(){return P.call(this)},get:function(T){return T!=null?T<0?this[T+this.length]:this[T]:P.call(this)},pushStack:function(T){var R=z.merge(this.constructor(),T);return R.prevObject=this,R.context=this.context,R},each:function(T){return z.each(this,T)},map:function(T){return this.pushStack(z.map(this,function(R,V){return T.call(R,V,R)}))},slice:function(){return this.pushStack(P.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(T){var R=this.length,V=+T+(T<0?R:0);return this.pushStack(V>=0&&V<R?[this[V]]:[])},end:function(){return this.prevObject||this.constructor()},push:Ae,sort:Ve.sort,splice:Ve.splice},z.extend=z.fn.extend=function(){var T,R,V,K,le,de,be=arguments[0]||{},Oe=1,He=arguments.length,$e=!1;for(typeof be=="boolean"&&($e=be,be=arguments[Oe]||{},Oe++),typeof be=="object"||z.isFunction(be)||(be={}),Oe===He&&(be=this,Oe--);Oe<He;Oe++)if((T=arguments[Oe])!=null)for(R in T)V=be[R],K=T[R],be!==K&&($e&&K&&(z.isPlainObject(K)||(le=z.isArray(K)))?(le?(le=!1,de=V&&z.isArray(V)?V:[]):de=V&&z.isPlainObject(V)?V:{},be[R]=z.extend($e,de,K)):K!==void 0&&(be[R]=K));return be},z.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(T){throw new Error(T)},noop:function(){},isFunction:function(T){return z.type(T)==="function"},isArray:Array.isArray,isWindow:function(T){return T!=null&&T===T.window},isNumeric:function(T){var R=T&&T.toString();return!z.isArray(T)&&R-parseFloat(R)+1>=0},isPlainObject:function(T){var R;if(z.type(T)!=="object"||T.nodeType||z.isWindow(T)||T.constructor&&!Ie.call(T,"constructor")&&!Ie.call(T.constructor.prototype||{},"isPrototypeOf"))return!1;for(R in T);return R===void 0||Ie.call(T,R)},isEmptyObject:function(T){var R;for(R in T)return!1;return!0},type:function(T){return T==null?T+"":typeof T=="object"||typeof T=="function"?qe[Ye.call(T)]||"object":typeof T},globalEval:function(T){var R,V=eval;(T=z.trim(T))&&(T.indexOf("use strict")===1?(R=ye.createElement("script"),R.text=T,ye.head.appendChild(R).parentNode.removeChild(R)):V(T))},camelCase:function(T){return T.replace(ot,"ms-").replace(rt,kt)},nodeName:function(T,R){return T.nodeName&&T.nodeName.toLowerCase()===R.toLowerCase()},each:function(T,R){var V,K=0;if(w(T))for(V=T.length;K<V&&R.call(T[K],K,T[K])!==!1;K++);else for(K in T)if(R.call(T[K],K,T[K])===!1)break;return T},trim:function(T){return T==null?"":(T+"").replace(Pe,"")},makeArray:function(T,R){var V=R||[];return T!=null&&(w(Object(T))?z.merge(V,typeof T=="string"?[T]:T):Ae.call(V,T)),V},inArray:function(T,R,V){return R==null?-1:_e.call(R,T,V)},merge:function(T,R){for(var V=+R.length,K=0,le=T.length;K<V;K++)T[le++]=R[K];return T.length=le,T},grep:function(T,R,V){for(var K=[],le=0,de=T.length,be=!V;le<de;le++)!R(T[le],le)!==be&&K.push(T[le]);return K},map:function(T,R,V){var K,le,de=0,be=[];if(w(T))for(K=T.length;de<K;de++)(le=R(T[de],de,V))!=null&&be.push(le);else for(de in T)(le=R(T[de],de,V))!=null&&be.push(le);return ue.apply([],be)},guid:1,proxy:function(T,R){var V,K,le;if(typeof R=="string"&&(V=T[R],R=T,T=V),z.isFunction(T))return K=P.call(arguments,2),le=function(){return T.apply(R||this,K.concat(P.call(arguments)))},le.guid=T.guid=T.guid||z.guid++,le},now:Date.now,support:Ne}),typeof Symbol=="function"&&(z.fn[Symbol.iterator]=Ve[Symbol.iterator]),z.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(T,R){qe["[object "+R+"]"]=R.toLowerCase()});var ve=function(T){function R(Ee,Le,Ue,tt){var Ke,st,at,dt,wt,Pt,At,Tt,Ht=Le&&Le.ownerDocument,Jt=Le?Le.nodeType:9;if(Ue=Ue||[],typeof Ee!="string"||!Ee||Jt!==1&&Jt!==9&&Jt!==11)return Ue;if(!tt&&((Le?Le.ownerDocument||Le:br)!==Qt&&pr(Le),Le=Le||Qt,yr)){if(Jt!==11&&(Pt=Ri.exec(Ee)))if(Ke=Pt[1]){if(Jt===9){if(!(at=Le.getElementById(Ke)))return Ue;if(at.id===Ke)return Ue.push(at),Ue}else if(Ht&&(at=Ht.getElementById(Ke))&&Ur(Le,at)&&at.id===Ke)return Ue.push(at),Ue}else{if(Pt[2])return Sr.apply(Ue,Le.getElementsByTagName(Ee)),Ue;if((Ke=Pt[3])&&_t.getElementsByClassName&&Le.getElementsByClassName)return Sr.apply(Ue,Le.getElementsByClassName(Ke)),Ue}if(_t.qsa&&!ti[Ee+" "]&&(!cr||!cr.test(Ee))){if(Jt!==1)Ht=Le,Tt=Ee;else if(Le.nodeName.toLowerCase()!=="object"){for((dt=Le.getAttribute("id"))?dt=dt.replace(Ni,"\\$&"):Le.setAttribute("id",dt=er),At=Gt(Ee),st=At.length,wt=_i.test(dt)?"#"+dt:"[id='"+dt+"']";st--;)At[st]=wt+" "+nt(At[st]);Tt=At.join(","),Ht=bi.test(Ee)&&He(Le.parentNode)||Le}if(Tt)try{return Sr.apply(Ue,Ht.querySelectorAll(Tt)),Ue}catch{}finally{dt===er&&Le.removeAttribute("id")}}}return $r(Ee.replace(ri,"$1"),Le,Ue,tt)}function V(){function Ee(Ue,tt){return Le.push(Ue+" ")>It.cacheLength&&delete Ee[Le.shift()],Ee[Ue+" "]=tt}var Le=[];return Ee}function K(Ee){return Ee[er]=!0,Ee}function le(Ee){var Le=Qt.createElement("div");try{return!!Ee(Le)}catch{return!1}finally{Le.parentNode&&Le.parentNode.removeChild(Le),Le=null}}function de(Ee,Le){for(var Ue=Ee.split("|"),tt=Ue.length;tt--;)It.attrHandle[Ue[tt]]=Le}function be(Ee,Le){var Ue=Le&&Ee,tt=Ue&&Ee.nodeType===1&&Le.nodeType===1&&(~Le.sourceIndex||wi)-(~Ee.sourceIndex||wi);if(tt)return tt;if(Ue){for(;Ue=Ue.nextSibling;)if(Ue===Le)return-1}return Ee?1:-1}function Oe(Ee){return K(function(Le){return Le=+Le,K(function(Ue,tt){for(var Ke,st=Ee([],Ue.length,Le),at=st.length;at--;)Ue[Ke=st[at]]&&(Ue[Ke]=!(tt[Ke]=Ue[Ke]))})})}function He(Ee){return Ee&&Ee.getElementsByTagName!==void 0&&Ee}function $e(){}function nt(Ee){for(var Le=0,Ue=Ee.length,tt="";Le<Ue;Le++)tt+=Ee[Le].value;return tt}function j(Ee,Le,Ue){var tt=Le.dir,Ke=Ue&&tt==="parentNode",st=Si++;return Le.first?function(at,dt,wt){for(;at=at[tt];)if(at.nodeType===1||Ke)return Ee(at,dt,wt)}:function(at,dt,wt){var Pt,At,Tt,Ht=[wr,st];if(wt){for(;at=at[tt];)if((at.nodeType===1||Ke)&&Ee(at,dt,wt))return!0}else for(;at=at[tt];)if(at.nodeType===1||Ke){if(Tt=at[er]||(at[er]={}),At=Tt[at.uniqueID]||(Tt[at.uniqueID]={}),(Pt=At[tt])&&Pt[0]===wr&&Pt[1]===st)return Ht[2]=Pt[2];if(At[tt]=Ht,Ht[2]=Ee(at,dt,wt))return!0}}}function me(Ee){return Ee.length>1?function(Le,Ue,tt){for(var Ke=Ee.length;Ke--;)if(!Ee[Ke](Le,Ue,tt))return!1;return!0}:Ee[0]}function Je(Ee,Le,Ue){for(var tt=0,Ke=Le.length;tt<Ke;tt++)R(Ee,Le[tt],Ue);return Ue}function pt(Ee,Le,Ue,tt,Ke){for(var st,at=[],dt=0,wt=Ee.length,Pt=Le!=null;dt<wt;dt++)(st=Ee[dt])&&(Ue&&!Ue(st,tt,Ke)||(at.push(st),Pt&&Le.push(dt)));return at}function vt(Ee,Le,Ue,tt,Ke,st){return tt&&!tt[er]&&(tt=vt(tt)),Ke&&!Ke[er]&&(Ke=vt(Ke,st)),K(function(at,dt,wt,Pt){var At,Tt,Ht,Jt=[],Dt=[],nr=dt.length,lr=at||Je(Le||"*",wt.nodeType?[wt]:wt,[]),ur=!Ee||!at&&Le?lr:pt(lr,Jt,Ee,wt,Pt),tr=Ue?Ke||(at?Ee:nr||tt)?[]:dt:ur;if(Ue&&Ue(ur,tr,wt,Pt),tt)for(At=pt(tr,Dt),tt(At,[],wt,Pt),Tt=At.length;Tt--;)(Ht=At[Tt])&&(tr[Dt[Tt]]=!(ur[Dt[Tt]]=Ht));if(at){if(Ke||Ee){if(Ke){for(At=[],Tt=tr.length;Tt--;)(Ht=tr[Tt])&&At.push(ur[Tt]=Ht);Ke(null,tr=[],At,Pt)}for(Tt=tr.length;Tt--;)(Ht=tr[Tt])&&(At=Ke?Tr(at,Ht):Jt[Tt])>-1&&(at[At]=!(dt[At]=Ht))}}else tr=pt(tr===dt?tr.splice(nr,tr.length):tr),Ke?Ke(null,dt,tr,Pt):Sr.apply(dt,tr)})}function Ct(Ee){for(var Le,Ue,tt,Ke=Ee.length,st=It.relative[Ee[0].type],at=st||It.relative[" "],dt=st?1:0,wt=j(function(Tt){return Tt===Le},at,!0),Pt=j(function(Tt){return Tr(Le,Tt)>-1},at,!0),At=[function(Tt,Ht,Jt){var Dt=!st&&(Jt||Ht!==gr)||((Le=Ht).nodeType?wt(Tt,Ht,Jt):Pt(Tt,Ht,Jt));return Le=null,Dt}];dt<Ke;dt++)if(Ue=It.relative[Ee[dt].type])At=[j(me(At),Ue)];else{if(Ue=It.filter[Ee[dt].type].apply(null,Ee[dt].matches),Ue[er]){for(tt=++dt;tt<Ke&&!It.relative[Ee[tt].type];tt++);return vt(dt>1&&me(At),dt>1&&nt(Ee.slice(0,dt-1).concat({value:Ee[dt-2].type===" "?"*":""})).replace(ri,"$1"),Ue,dt<tt&&Ct(Ee.slice(dt,tt)),tt<Ke&&Ct(Ee=Ee.slice(tt)),tt<Ke&&nt(Ee))}At.push(Ue)}return me(At)}function Lt(Ee,Le){var Ue=Le.length>0,tt=Ee.length>0,Ke=function(st,at,dt,wt,Pt){var At,Tt,Ht,Jt=0,Dt="0",nr=st&&[],lr=[],ur=gr,tr=st||tt&&It.find.TAG("*",Pt),Hr=wr+=ur==null?1:Math.random()||.1,Vr=tr.length;for(Pt&&(gr=at===Qt||at||Pt);Dt!==Vr&&(At=tr[Dt])!=null;Dt++){if(tt&&At){for(Tt=0,at||At.ownerDocument===Qt||(pr(At),dt=!yr);Ht=Ee[Tt++];)if(Ht(At,at||Qt,dt)){wt.push(At);break}Pt&&(wr=Hr)}Ue&&((At=!Ht&&At)&&Jt--,st&&nr.push(At))}if(Jt+=Dt,Ue&&Dt!==Jt){for(Tt=0;Ht=Le[Tt++];)Ht(nr,lr,at,dt);if(st){if(Jt>0)for(;Dt--;)nr[Dt]||lr[Dt]||(lr[Dt]=Ci.call(wt));lr=pt(lr)}Sr.apply(wt,lr),Pt&&!st&&lr.length>0&&Jt+Le.length>1&&R.uniqueSort(wt)}return Pt&&(wr=Hr,gr=ur),nr};return Ue?K(Ke):Ke}var Yt,_t,It,yt,Mt,Gt,xr,$r,gr,hr,fr,pr,Qt,rr,yr,cr,Cr,ei,Ur,er="sizzle"+1*new Date,br=T.document,wr=0,Si=0,vi=V(),xi=V(),ti=V(),fi=function(Ee,Le){return Ee===Le&&(fr=!0),0},wi=1<<31,ki={}.hasOwnProperty,Ir=[],Ci=Ir.pop,Ii=Ir.push,Sr=Ir.push,Ai=Ir.slice,Tr=function(Ee,Le){for(var Ue=0,tt=Ee.length;Ue<tt;Ue++)if(Ee[Ue]===Le)return Ue;return-1},mi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$t="[\\x20\\t\\r\\n\\f]",Dr="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ei="\\["+$t+"*("+Dr+")(?:"+$t+"*([*^$|!~]?=)"+$t+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Dr+"))|)"+$t+"*\\]",yi=":("+Dr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ei+")*)|.*)\\)|)",Ti=new RegExp($t+"+","g"),ri=new RegExp("^"+$t+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$t+"+$","g"),Di=new RegExp("^"+$t+"*,"+$t+"*"),Oi=new RegExp("^"+$t+"*([>+~]|"+$t+")"+$t+"*"),Bi=new RegExp("="+$t+`*([^\\]'"]*?)`+$t+"*\\]","g"),Fi=new RegExp(yi),_i=new RegExp("^"+Dr+"$"),ii={ID:new RegExp("^#("+Dr+")"),CLASS:new RegExp("^\\.("+Dr+")"),TAG:new RegExp("^("+Dr+"|[*])"),ATTR:new RegExp("^"+Ei),PSEUDO:new RegExp("^"+yi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$t+"*(even|odd|(([+-]|)(\\d*)n|)"+$t+"*(?:([+-]|)"+$t+"*(\\d+)|))"+$t+"*\\)|)","i"),bool:new RegExp("^(?:"+mi+")$","i"),needsContext:new RegExp("^"+$t+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$t+"*((?:-\\d)?\\d*)"+$t+"*\\)|)(?=[^-]|$)","i")},Li=/^(?:input|select|textarea|button)$/i,Pi=/^h\d$/i,Qr=/^[^{]+\{\s*\[native \w/,Ri=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bi=/[+~]/,Ni=/'|\\/g,Ar=new RegExp("\\\\([\\da-f]{1,6}"+$t+"?|("+$t+")|.)","ig"),Er=function(Ee,Le,Ue){var tt="0x"+Le-65536;return tt!==tt||Ue?Le:tt<0?String.fromCharCode(tt+65536):String.fromCharCode(tt>>10|55296,1023&tt|56320)},Mi=function(){pr()};try{Sr.apply(Ir=Ai.call(br.childNodes),br.childNodes),Ir[br.childNodes.length].nodeType}catch{Sr={apply:Ir.length?function(Ee,Le){Ii.apply(Ee,Ai.call(Le))}:function(Ee,Le){for(var Ue=Ee.length,tt=0;Ee[Ue++]=Le[tt++];);Ee.length=Ue-1}}}_t=R.support={},Mt=R.isXML=function(Ee){var Le=Ee&&(Ee.ownerDocument||Ee).documentElement;return!!Le&&Le.nodeName!=="HTML"},pr=R.setDocument=function(Ee){var Le,Ue,tt=Ee?Ee.ownerDocument||Ee:br;return tt!==Qt&&tt.nodeType===9&&tt.documentElement&&(Qt=tt,rr=Qt.documentElement,yr=!Mt(Qt),(Ue=Qt.defaultView)&&Ue.top!==Ue&&(Ue.addEventListener?Ue.addEventListener("unload",Mi,!1):Ue.attachEvent&&Ue.attachEvent("onunload",Mi)),_t.attributes=le(function(Ke){return Ke.className="i",!Ke.getAttribute("className")}),_t.getElementsByTagName=le(function(Ke){return Ke.appendChild(Qt.createComment("")),!Ke.getElementsByTagName("*").length}),_t.getElementsByClassName=Qr.test(Qt.getElementsByClassName),_t.getById=le(function(Ke){return rr.appendChild(Ke).id=er,!Qt.getElementsByName||!Qt.getElementsByName(er).length}),_t.getById?(It.find.ID=function(Ke,st){if(st.getElementById!==void 0&&yr){var at=st.getElementById(Ke);return at?[at]:[]}},It.filter.ID=function(Ke){var st=Ke.replace(Ar,Er);return function(at){return at.getAttribute("id")===st}}):(delete It.find.ID,It.filter.ID=function(Ke){var st=Ke.replace(Ar,Er);return function(at){var dt=at.getAttributeNode!==void 0&&at.getAttributeNode("id");return dt&&dt.value===st}}),It.find.TAG=_t.getElementsByTagName?function(Ke,st){return st.getElementsByTagName!==void 0?st.getElementsByTagName(Ke):_t.qsa?st.querySelectorAll(Ke):void 0}:function(Ke,st){var at,dt=[],wt=0,Pt=st.getElementsByTagName(Ke);if(Ke==="*"){for(;at=Pt[wt++];)at.nodeType===1&&dt.push(at);return dt}return Pt},It.find.CLASS=_t.getElementsByClassName&&function(Ke,st){if(st.getElementsByClassName!==void 0&&yr)return st.getElementsByClassName(Ke)},Cr=[],cr=[],(_t.qsa=Qr.test(Qt.querySelectorAll))&&(le(function(Ke){rr.appendChild(Ke).innerHTML="<a id='"+er+"'></a><select id='"+er+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ke.querySelectorAll("[msallowcapture^='']").length&&cr.push("[*^$]="+$t+`*(?:''|"")`),Ke.querySelectorAll("[selected]").length||cr.push("\\["+$t+"*(?:value|"+mi+")"),Ke.querySelectorAll("[id~="+er+"-]").length||cr.push("~="),Ke.querySelectorAll(":checked").length||cr.push(":checked"),Ke.querySelectorAll("a#"+er+"+*").length||cr.push(".#.+[+~]")}),le(function(Ke){var st=Qt.createElement("input");st.setAttribute("type","hidden"),Ke.appendChild(st).setAttribute("name","D"),Ke.querySelectorAll("[name=d]").length&&cr.push("name"+$t+"*[*^$|!~]?="),Ke.querySelectorAll(":enabled").length||cr.push(":enabled",":disabled"),Ke.querySelectorAll("*,:x"),cr.push(",.*:")})),(_t.matchesSelector=Qr.test(ei=rr.matches||rr.webkitMatchesSelector||rr.mozMatchesSelector||rr.oMatchesSelector||rr.msMatchesSelector))&&le(function(Ke){_t.disconnectedMatch=ei.call(Ke,"div"),ei.call(Ke,"[s!='']:x"),Cr.push("!=",yi)}),cr=cr.length&&new RegExp(cr.join("|")),Cr=Cr.length&&new RegExp(Cr.join("|")),Le=Qr.test(rr.compareDocumentPosition),Ur=Le||Qr.test(rr.contains)?function(Ke,st){var at=Ke.nodeType===9?Ke.documentElement:Ke,dt=st&&st.parentNode;return Ke===dt||!(!dt||dt.nodeType!==1||!(at.contains?at.contains(dt):Ke.compareDocumentPosition&&16&Ke.compareDocumentPosition(dt)))}:function(Ke,st){if(st){for(;st=st.parentNode;)if(st===Ke)return!0}return!1},fi=Le?function(Ke,st){if(Ke===st)return fr=!0,0;var at=!Ke.compareDocumentPosition-!st.compareDocumentPosition;return at||(at=(Ke.ownerDocument||Ke)===(st.ownerDocument||st)?Ke.compareDocumentPosition(st):1,1&at||!_t.sortDetached&&st.compareDocumentPosition(Ke)===at?Ke===Qt||Ke.ownerDocument===br&&Ur(br,Ke)?-1:st===Qt||st.ownerDocument===br&&Ur(br,st)?1:hr?Tr(hr,Ke)-Tr(hr,st):0:4&at?-1:1)}:function(Ke,st){if(Ke===st)return fr=!0,0;var at,dt=0,wt=Ke.parentNode,Pt=st.parentNode,At=[Ke],Tt=[st];if(!wt||!Pt)return Ke===Qt?-1:st===Qt?1:wt?-1:Pt?1:hr?Tr(hr,Ke)-Tr(hr,st):0;if(wt===Pt)return be(Ke,st);for(at=Ke;at=at.parentNode;)At.unshift(at);for(at=st;at=at.parentNode;)Tt.unshift(at);for(;At[dt]===Tt[dt];)dt++;return dt?be(At[dt],Tt[dt]):At[dt]===br?-1:Tt[dt]===br?1:0}),Qt},R.matches=function(Ee,Le){return R(Ee,null,null,Le)},R.matchesSelector=function(Ee,Le){if((Ee.ownerDocument||Ee)!==Qt&&pr(Ee),Le=Le.replace(Bi,"='$1']"),_t.matchesSelector&&yr&&!ti[Le+" "]&&(!Cr||!Cr.test(Le))&&(!cr||!cr.test(Le)))try{var Ue=ei.call(Ee,Le);if(Ue||_t.disconnectedMatch||Ee.document&&Ee.document.nodeType!==11)return Ue}catch{}return R(Le,Qt,null,[Ee]).length>0},R.contains=function(Ee,Le){return(Ee.ownerDocument||Ee)!==Qt&&pr(Ee),Ur(Ee,Le)},R.attr=function(Ee,Le){(Ee.ownerDocument||Ee)!==Qt&&pr(Ee);var Ue=It.attrHandle[Le.toLowerCase()],tt=Ue&&ki.call(It.attrHandle,Le.toLowerCase())?Ue(Ee,Le,!yr):void 0;return tt!==void 0?tt:_t.attributes||!yr?Ee.getAttribute(Le):(tt=Ee.getAttributeNode(Le))&&tt.specified?tt.value:null},R.error=function(Ee){throw new Error("Syntax error, unrecognized expression: "+Ee)},R.uniqueSort=function(Ee){var Le,Ue=[],tt=0,Ke=0;if(fr=!_t.detectDuplicates,hr=!_t.sortStable&&Ee.slice(0),Ee.sort(fi),fr){for(;Le=Ee[Ke++];)Le===Ee[Ke]&&(tt=Ue.push(Ke));for(;tt--;)Ee.splice(Ue[tt],1)}return hr=null,Ee},yt=R.getText=function(Ee){var Le,Ue="",tt=0,Ke=Ee.nodeType;if(Ke){if(Ke===1||Ke===9||Ke===11){if(typeof Ee.textContent=="string")return Ee.textContent;for(Ee=Ee.firstChild;Ee;Ee=Ee.nextSibling)Ue+=yt(Ee)}else if(Ke===3||Ke===4)return Ee.nodeValue}else for(;Le=Ee[tt++];)Ue+=yt(Le);return Ue},It=R.selectors={cacheLength:50,createPseudo:K,match:ii,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ee){return Ee[1]=Ee[1].replace(Ar,Er),Ee[3]=(Ee[3]||Ee[4]||Ee[5]||"").replace(Ar,Er),Ee[2]==="~="&&(Ee[3]=" "+Ee[3]+" "),Ee.slice(0,4)},CHILD:function(Ee){return Ee[1]=Ee[1].toLowerCase(),Ee[1].slice(0,3)==="nth"?(Ee[3]||R.error(Ee[0]),Ee[4]=+(Ee[4]?Ee[5]+(Ee[6]||1):2*(Ee[3]==="even"||Ee[3]==="odd")),Ee[5]=+(Ee[7]+Ee[8]||Ee[3]==="odd")):Ee[3]&&R.error(Ee[0]),Ee},PSEUDO:function(Ee){var Le,Ue=!Ee[6]&&Ee[2];return ii.CHILD.test(Ee[0])?null:(Ee[3]?Ee[2]=Ee[4]||Ee[5]||"":Ue&&Fi.test(Ue)&&(Le=Gt(Ue,!0))&&(Le=Ue.indexOf(")",Ue.length-Le)-Ue.length)&&(Ee[0]=Ee[0].slice(0,Le),Ee[2]=Ue.slice(0,Le)),Ee.slice(0,3))}},filter:{TAG:function(Ee){var Le=Ee.replace(Ar,Er).toLowerCase();return Ee==="*"?function(){return!0}:function(Ue){return Ue.nodeName&&Ue.nodeName.toLowerCase()===Le}},CLASS:function(Ee){var Le=vi[Ee+" "];return Le||(Le=new RegExp("(^|"+$t+")"+Ee+"("+$t+"|$)"))&&vi(Ee,function(Ue){return Le.test(typeof Ue.className=="string"&&Ue.className||Ue.getAttribute!==void 0&&Ue.getAttribute("class")||"")})},ATTR:function(Ee,Le,Ue){return function(tt){var Ke=R.attr(tt,Ee);return Ke==null?Le==="!=":!Le||(Ke+="",Le==="="?Ke===Ue:Le==="!="?Ke!==Ue:Le==="^="?Ue&&Ke.indexOf(Ue)===0:Le==="*="?Ue&&Ke.indexOf(Ue)>-1:Le==="$="?Ue&&Ke.slice(-Ue.length)===Ue:Le==="~="?(" "+Ke.replace(Ti," ")+" ").indexOf(Ue)>-1:Le==="|="&&(Ke===Ue||Ke.slice(0,Ue.length+1)===Ue+"-"))}},CHILD:function(Ee,Le,Ue,tt,Ke){var st=Ee.slice(0,3)!=="nth",at=Ee.slice(-4)!=="last",dt=Le==="of-type";return tt===1&&Ke===0?function(wt){return!!wt.parentNode}:function(wt,Pt,At){var Tt,Ht,Jt,Dt,nr,lr,ur=st!==at?"nextSibling":"previousSibling",tr=wt.parentNode,Hr=dt&&wt.nodeName.toLowerCase(),Vr=!At&&!dt,mr=!1;if(tr){if(st){for(;ur;){for(Dt=wt;Dt=Dt[ur];)if(dt?Dt.nodeName.toLowerCase()===Hr:Dt.nodeType===1)return!1;lr=ur=Ee==="only"&&!lr&&"nextSibling"}return!0}if(lr=[at?tr.firstChild:tr.lastChild],at&&Vr){for(Dt=tr,Jt=Dt[er]||(Dt[er]={}),Ht=Jt[Dt.uniqueID]||(Jt[Dt.uniqueID]={}),Tt=Ht[Ee]||[],nr=Tt[0]===wr&&Tt[1],mr=nr&&Tt[2],Dt=nr&&tr.childNodes[nr];Dt=++nr&&Dt&&Dt[ur]||(mr=nr=0)||lr.pop();)if(Dt.nodeType===1&&++mr&&Dt===wt){Ht[Ee]=[wr,nr,mr];break}}else if(Vr&&(Dt=wt,Jt=Dt[er]||(Dt[er]={}),Ht=Jt[Dt.uniqueID]||(Jt[Dt.uniqueID]={}),Tt=Ht[Ee]||[],nr=Tt[0]===wr&&Tt[1],mr=nr),mr===!1)for(;(Dt=++nr&&Dt&&Dt[ur]||(mr=nr=0)||lr.pop())&&((dt?Dt.nodeName.toLowerCase()!==Hr:Dt.nodeType!==1)||!++mr||(Vr&&(Jt=Dt[er]||(Dt[er]={}),Ht=Jt[Dt.uniqueID]||(Jt[Dt.uniqueID]={}),Ht[Ee]=[wr,mr]),Dt!==wt)););return(mr-=Ke)===tt||mr%tt==0&&mr/tt>=0}}},PSEUDO:function(Ee,Le){var Ue,tt=It.pseudos[Ee]||It.setFilters[Ee.toLowerCase()]||R.error("unsupported pseudo: "+Ee);return tt[er]?tt(Le):tt.length>1?(Ue=[Ee,Ee,"",Le],It.setFilters.hasOwnProperty(Ee.toLowerCase())?K(function(Ke,st){for(var at,dt=tt(Ke,Le),wt=dt.length;wt--;)at=Tr(Ke,dt[wt]),Ke[at]=!(st[at]=dt[wt])}):function(Ke){return tt(Ke,0,Ue)}):tt}},pseudos:{not:K(function(Ee){var Le=[],Ue=[],tt=xr(Ee.replace(ri,"$1"));return tt[er]?K(function(Ke,st,at,dt){for(var wt,Pt=tt(Ke,null,dt,[]),At=Ke.length;At--;)(wt=Pt[At])&&(Ke[At]=!(st[At]=wt))}):function(Ke,st,at){return Le[0]=Ke,tt(Le,null,at,Ue),Le[0]=null,!Ue.pop()}}),has:K(function(Ee){return function(Le){return R(Ee,Le).length>0}}),contains:K(function(Ee){return Ee=Ee.replace(Ar,Er),function(Le){return(Le.textContent||Le.innerText||yt(Le)).indexOf(Ee)>-1}}),lang:K(function(Ee){return _i.test(Ee||"")||R.error("unsupported lang: "+Ee),Ee=Ee.replace(Ar,Er).toLowerCase(),function(Le){var Ue;do if(Ue=yr?Le.lang:Le.getAttribute("xml:lang")||Le.getAttribute("lang"))return(Ue=Ue.toLowerCase())===Ee||Ue.indexOf(Ee+"-")===0;while((Le=Le.parentNode)&&Le.nodeType===1);return!1}}),target:function(Ee){var Le=T.location&&T.location.hash;return Le&&Le.slice(1)===Ee.id},root:function(Ee){return Ee===rr},focus:function(Ee){return Ee===Qt.activeElement&&(!Qt.hasFocus||Qt.hasFocus())&&!!(Ee.type||Ee.href||~Ee.tabIndex)},enabled:function(Ee){return Ee.disabled===!1},disabled:function(Ee){return Ee.disabled===!0},checked:function(Ee){var Le=Ee.nodeName.toLowerCase();return Le==="input"&&!!Ee.checked||Le==="option"&&!!Ee.selected},selected:function(Ee){return Ee.parentNode&&Ee.parentNode.selectedIndex,Ee.selected===!0},empty:function(Ee){for(Ee=Ee.firstChild;Ee;Ee=Ee.nextSibling)if(Ee.nodeType<6)return!1;return!0},parent:function(Ee){return!It.pseudos.empty(Ee)},header:function(Ee){return Pi.test(Ee.nodeName)},input:function(Ee){return Li.test(Ee.nodeName)},button:function(Ee){var Le=Ee.nodeName.toLowerCase();return Le==="input"&&Ee.type==="button"||Le==="button"},text:function(Ee){var Le;return Ee.nodeName.toLowerCase()==="input"&&Ee.type==="text"&&((Le=Ee.getAttribute("type"))==null||Le.toLowerCase()==="text")},first:Oe(function(){return[0]}),last:Oe(function(Ee,Le){return[Le-1]}),eq:Oe(function(Ee,Le,Ue){return[Ue<0?Ue+Le:Ue]}),even:Oe(function(Ee,Le){for(var Ue=0;Ue<Le;Ue+=2)Ee.push(Ue);return Ee}),odd:Oe(function(Ee,Le){for(var Ue=1;Ue<Le;Ue+=2)Ee.push(Ue);return Ee}),lt:Oe(function(Ee,Le,Ue){for(var tt=Ue<0?Ue+Le:Ue;--tt>=0;)Ee.push(tt);return Ee}),gt:Oe(function(Ee,Le,Ue){for(var tt=Ue<0?Ue+Le:Ue;++tt<Le;)Ee.push(tt);return Ee})}},It.pseudos.nth=It.pseudos.eq;for(Yt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})It.pseudos[Yt]=function(Ee){return function(Le){return Le.nodeName.toLowerCase()==="input"&&Le.type===Ee}}(Yt);for(Yt in{submit:!0,reset:!0})It.pseudos[Yt]=function(Ee){return function(Le){var Ue=Le.nodeName.toLowerCase();return(Ue==="input"||Ue==="button")&&Le.type===Ee}}(Yt);return $e.prototype=It.filters=It.pseudos,It.setFilters=new $e,Gt=R.tokenize=function(Ee,Le){var Ue,tt,Ke,st,at,dt,wt,Pt=xi[Ee+" "];if(Pt)return Le?0:Pt.slice(0);for(at=Ee,dt=[],wt=It.preFilter;at;){Ue&&!(tt=Di.exec(at))||(tt&&(at=at.slice(tt[0].length)||at),dt.push(Ke=[])),Ue=!1,(tt=Oi.exec(at))&&(Ue=tt.shift(),Ke.push({value:Ue,type:tt[0].replace(ri," ")}),at=at.slice(Ue.length));for(st in It.filter)!(tt=ii[st].exec(at))||wt[st]&&!(tt=wt[st](tt))||(Ue=tt.shift(),Ke.push({value:Ue,type:st,matches:tt}),at=at.slice(Ue.length));if(!Ue)break}return Le?at.length:at?R.error(Ee):xi(Ee,dt).slice(0)},xr=R.compile=function(Ee,Le){var Ue,tt=[],Ke=[],st=ti[Ee+" "];if(!st){for(Le||(Le=Gt(Ee)),Ue=Le.length;Ue--;)st=Ct(Le[Ue]),st[er]?tt.push(st):Ke.push(st);st=ti(Ee,Lt(Ke,tt)),st.selector=Ee}return st},$r=R.select=function(Ee,Le,Ue,tt){var Ke,st,at,dt,wt,Pt=typeof Ee=="function"&&Ee,At=!tt&&Gt(Ee=Pt.selector||Ee);if(Ue=Ue||[],At.length===1){if(st=At[0]=At[0].slice(0),st.length>2&&(at=st[0]).type==="ID"&&_t.getById&&Le.nodeType===9&&yr&&It.relative[st[1].type]){if(!(Le=(It.find.ID(at.matches[0].replace(Ar,Er),Le)||[])[0]))return Ue;Pt&&(Le=Le.parentNode),Ee=Ee.slice(st.shift().value.length)}for(Ke=ii.needsContext.test(Ee)?0:st.length;Ke--&&(at=st[Ke],!It.relative[dt=at.type]);)if((wt=It.find[dt])&&(tt=wt(at.matches[0].replace(Ar,Er),bi.test(st[0].type)&&He(Le.parentNode)||Le))){if(st.splice(Ke,1),!(Ee=tt.length&&nt(st)))return Sr.apply(Ue,tt),Ue;break}}return(Pt||xr(Ee,At))(tt,Le,!yr,Ue,!Le||bi.test(Ee)&&He(Le.parentNode)||Le),Ue},_t.sortStable=er.split("").sort(fi).join("")===er,_t.detectDuplicates=!!fr,pr(),_t.sortDetached=le(function(Ee){return 1&Ee.compareDocumentPosition(Qt.createElement("div"))}),le(function(Ee){return Ee.innerHTML="<a href='#'></a>",Ee.firstChild.getAttribute("href")==="#"})||de("type|href|height|width",function(Ee,Le,Ue){if(!Ue)return Ee.getAttribute(Le,Le.toLowerCase()==="type"?1:2)}),_t.attributes&&le(function(Ee){return Ee.innerHTML="<input/>",Ee.firstChild.setAttribute("value",""),Ee.firstChild.getAttribute("value")===""})||de("value",function(Ee,Le,Ue){if(!Ue&&Ee.nodeName.toLowerCase()==="input")return Ee.defaultValue}),le(function(Ee){return Ee.getAttribute("disabled")==null})||de(mi,function(Ee,Le,Ue){var tt;if(!Ue)return Ee[Le]===!0?Le.toLowerCase():(tt=Ee.getAttributeNode(Le))&&tt.specified?tt.value:null}),R}(O);z.find=ve,z.expr=ve.selectors,z.expr[":"]=z.expr.pseudos,z.uniqueSort=z.unique=ve.uniqueSort,z.text=ve.getText,z.isXMLDoc=ve.isXML,z.contains=ve.contains;var ze=function(T,R,V){for(var K=[],le=V!==void 0;(T=T[R])&&T.nodeType!==9;)if(T.nodeType===1){if(le&&z(T).is(V))break;K.push(T)}return K},je=function(T,R){for(var V=[];T;T=T.nextSibling)T.nodeType===1&&T!==R&&V.push(T);return V},Te=z.expr.match.needsContext,Xe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ze=/^.[^:#\[\.,]*$/;z.filter=function(T,R,V){var K=R[0];return V&&(T=":not("+T+")"),R.length===1&&K.nodeType===1?z.find.matchesSelector(K,T)?[K]:[]:z.find.matches(T,z.grep(R,function(le){return le.nodeType===1}))},z.fn.extend({find:function(T){var R,V=this.length,K=[],le=this;if(typeof T!="string")return this.pushStack(z(T).filter(function(){for(R=0;R<V;R++)if(z.contains(le[R],this))return!0}));for(R=0;R<V;R++)z.find(T,le[R],K);return K=this.pushStack(V>1?z.unique(K):K),K.selector=this.selector?this.selector+" "+T:T,K},filter:function(T){return this.pushStack(r(this,T||[],!1))},not:function(T){return this.pushStack(r(this,T||[],!0))},is:function(T){return!!r(this,typeof T=="string"&&Te.test(T)?z(T):T||[],!1).length}});var Ce,Fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(z.fn.init=function(T,R,V){var K,le;if(!T)return this;if(V=V||Ce,typeof T=="string"){if(!(K=T[0]==="<"&&T[T.length-1]===">"&&T.length>=3?[null,T,null]:Fe.exec(T))||!K[1]&&R)return!R||R.jquery?(R||V).find(T):this.constructor(R).find(T);if(K[1]){if(R=R instanceof z?R[0]:R,z.merge(this,z.parseHTML(K[1],R&&R.nodeType?R.ownerDocument||R:ye,!0)),Xe.test(K[1])&&z.isPlainObject(R))for(K in R)z.isFunction(this[K])?this[K](R[K]):this.attr(K,R[K]);return this}return le=ye.getElementById(K[2]),le&&le.parentNode&&(this.length=1,this[0]=le),this.context=ye,this.selector=T,this}return T.nodeType?(this.context=this[0]=T,this.length=1,this):z.isFunction(T)?V.ready!==void 0?V.ready(T):T(z):(T.selector!==void 0&&(this.selector=T.selector,this.context=T.context),z.makeArray(T,this))}).prototype=z.fn,Ce=z(ye);var Ge=/^(?:parents|prev(?:Until|All))/,Qe={children:!0,contents:!0,next:!0,prev:!0};z.fn.extend({has:function(T){var R=z(T,this),V=R.length;return this.filter(function(){for(var K=0;K<V;K++)if(z.contains(this,R[K]))return!0})},closest:function(T,R){for(var V,K=0,le=this.length,de=[],be=Te.test(T)||typeof T!="string"?z(T,R||this.context):0;K<le;K++)for(V=this[K];V&&V!==R;V=V.parentNode)if(V.nodeType<11&&(be?be.index(V)>-1:V.nodeType===1&&z.find.matchesSelector(V,T))){de.push(V);break}return this.pushStack(de.length>1?z.uniqueSort(de):de)},index:function(T){return T?typeof T=="string"?_e.call(z(T),this[0]):_e.call(this,T.jquery?T[0]:T):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(T,R){return this.pushStack(z.uniqueSort(z.merge(this.get(),z(T,R))))},addBack:function(T){return this.add(T==null?this.prevObject:this.prevObject.filter(T))}}),z.each({parent:function(T){var R=T.parentNode;return R&&R.nodeType!==11?R:null},parents:function(T){return ze(T,"parentNode")},parentsUntil:function(T,R,V){return ze(T,"parentNode",V)},next:function(T){return d(T,"nextSibling")},prev:function(T){return d(T,"previousSibling")},nextAll:function(T){return ze(T,"nextSibling")},prevAll:function(T){return ze(T,"previousSibling")},nextUntil:function(T,R,V){return ze(T,"nextSibling",V)},prevUntil:function(T,R,V){return ze(T,"previousSibling",V)},siblings:function(T){return je((T.parentNode||{}).firstChild,T)},children:function(T){return je(T.firstChild)},contents:function(T){return T.contentDocument||z.merge([],T.childNodes)}},function(T,R){z.fn[T]=function(V,K){var le=z.map(this,R,V);return T.slice(-5)!=="Until"&&(K=V),K&&typeof K=="string"&&(le=z.filter(K,le)),this.length>1&&(Qe[T]||z.uniqueSort(le),Ge.test(T)&&le.reverse()),this.pushStack(le)}});var it=/\S+/g;z.Callbacks=function(T){T=typeof T=="string"?i(T):z.extend({},T);var R,V,K,le,de=[],be=[],Oe=-1,He=function(){for(le=T.once,K=R=!0;be.length;Oe=-1)for(V=be.shift();++Oe<de.length;)de[Oe].apply(V[0],V[1])===!1&&T.stopOnFalse&&(Oe=de.length,V=!1);T.memory||(V=!1),R=!1,le&&(de=V?[]:"")},$e={add:function(){return de&&(V&&!R&&(Oe=de.length-1,be.push(V)),function nt(j){z.each(j,function(me,Je){z.isFunction(Je)?T.unique&&$e.has(Je)||de.push(Je):Je&&Je.length&&z.type(Je)!=="string"&&nt(Je)})}(arguments),V&&!R&&He()),this},remove:function(){return z.each(arguments,function(nt,j){for(var me;(me=z.inArray(j,de,me))>-1;)de.splice(me,1),me<=Oe&&Oe--}),this},has:function(nt){return nt?z.inArray(nt,de)>-1:de.length>0},empty:function(){return de&&(de=[]),this},disable:function(){return le=be=[],de=V="",this},disabled:function(){return!de},lock:function(){return le=be=[],V||(de=V=""),this},locked:function(){return!!le},fireWith:function(nt,j){return le||(j=j||[],j=[nt,j.slice?j.slice():j],be.push(j),R||He()),this},fire:function(){return $e.fireWith(this,arguments),this},fired:function(){return!!K}};return $e},z.extend({Deferred:function(T){var R=[["resolve","done",z.Callbacks("once memory"),"resolved"],["reject","fail",z.Callbacks("once memory"),"rejected"],["notify","progress",z.Callbacks("memory")]],V="pending",K={state:function(){return V},always:function(){return le.done(arguments).fail(arguments),this},then:function(){var de=arguments;return z.Deferred(function(be){z.each(R,function(Oe,He){var $e=z.isFunction(de[Oe])&&de[Oe];le[He[1]](function(){var nt=$e&&$e.apply(this,arguments);nt&&z.isFunction(nt.promise)?nt.promise().progress(be.notify).done(be.resolve).fail(be.reject):be[He[0]+"With"](this===K?be.promise():this,$e?[nt]:arguments)})}),de=null}).promise()},promise:function(de){return de!=null?z.extend(de,K):K}},le={};return K.pipe=K.then,z.each(R,function(de,be){var Oe=be[2],He=be[3];K[be[1]]=Oe.add,He&&Oe.add(function(){V=He},R[1^de][2].disable,R[2][2].lock),le[be[0]]=function(){return le[be[0]+"With"](this===le?K:this,arguments),this},le[be[0]+"With"]=Oe.fireWith}),K.promise(le),T&&T.call(le,le),le},when:function(T){var R,V,K,le=0,de=P.call(arguments),be=de.length,Oe=be!==1||T&&z.isFunction(T.promise)?be:0,He=Oe===1?T:z.Deferred(),$e=function(nt,j,me){return function(Je){j[nt]=this,me[nt]=arguments.length>1?P.call(arguments):Je,me===R?He.notifyWith(j,me):--Oe||He.resolveWith(j,me)}};if(be>1)for(R=new Array(be),V=new Array(be),K=new Array(be);le<be;le++)de[le]&&z.isFunction(de[le].promise)?de[le].promise().progress($e(le,V,R)).done($e(le,K,de)).fail(He.reject):--Oe;return Oe||He.resolveWith(K,de),He.promise()}});var ct;z.fn.ready=function(T){return z.ready.promise().done(T),this},z.extend({isReady:!1,readyWait:1,holdReady:function(T){T?z.readyWait++:z.ready(!0)},ready:function(T){(T===!0?--z.readyWait:z.isReady)||(z.isReady=!0,T!==!0&&--z.readyWait>0||(ct.resolveWith(ye,[z]),z.fn.triggerHandler&&(z(ye).triggerHandler("ready"),z(ye).off("ready"))))}}),z.ready.promise=function(T){return ct||(ct=z.Deferred(),ye.readyState==="complete"||ye.readyState!=="loading"&&!ye.documentElement.doScroll?O.setTimeout(z.ready):(ye.addEventListener("DOMContentLoaded",l),O.addEventListener("load",l))),ct.promise(T)},z.ready.promise();var gt=function(T,R,V,K,le,de,be){var Oe=0,He=T.length,$e=V==null;if(z.type(V)==="object"){le=!0;for(Oe in V)gt(T,R,Oe,V[Oe],!0,de,be)}else if(K!==void 0&&(le=!0,z.isFunction(K)||(be=!0),$e&&(be?(R.call(T,K),R=null):($e=R,R=function(nt,j,me){return $e.call(z(nt),me)})),R))for(;Oe<He;Oe++)R(T[Oe],V,be?K:K.call(T[Oe],Oe,R(T[Oe],V)));return le?T:$e?R.call(T):He?R(T[0],V):de},Rt=function(T){return T.nodeType===1||T.nodeType===9||!+T.nodeType};g.uid=1,g.prototype={register:function(T,R){var V=R||{};return T.nodeType?T[this.expando]=V:Object.defineProperty(T,this.expando,{value:V,writable:!0,configurable:!0}),T[this.expando]},cache:function(T){if(!Rt(T))return{};var R=T[this.expando];return R||(R={},Rt(T)&&(T.nodeType?T[this.expando]=R:Object.defineProperty(T,this.expando,{value:R,configurable:!0}))),R},set:function(T,R,V){var K,le=this.cache(T);if(typeof R=="string")le[R]=V;else for(K in R)le[K]=R[K];return le},get:function(T,R){return R===void 0?this.cache(T):T[this.expando]&&T[this.expando][R]},access:function(T,R,V){var K;return R===void 0||R&&typeof R=="string"&&V===void 0?(K=this.get(T,R),K!==void 0?K:this.get(T,z.camelCase(R))):(this.set(T,R,V),V!==void 0?V:R)},remove:function(T,R){var V,K,le,de=T[this.expando];if(de!==void 0){if(R===void 0)this.register(T);else for(z.isArray(R)?K=R.concat(R.map(z.camelCase)):(le=z.camelCase(R),R in de?K=[R,le]:(K=le,K=K in de?[K]:K.match(it)||[])),V=K.length;V--;)delete de[K[V]];(R===void 0||z.isEmptyObject(de))&&(T.nodeType?T[this.expando]=void 0:delete T[this.expando])}},hasData:function(T){var R=T[this.expando];return R!==void 0&&!z.isEmptyObject(R)}};var ut=new g,mt=new g,Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Et=/[A-Z]/g;z.extend({hasData:function(T){return mt.hasData(T)||ut.hasData(T)},data:function(T,R,V){return mt.access(T,R,V)},removeData:function(T,R){mt.remove(T,R)},_data:function(T,R,V){return ut.access(T,R,V)},_removeData:function(T,R){ut.remove(T,R)}}),z.fn.extend({data:function(T,R){var V,K,le,de=this[0],be=de&&de.attributes;if(T===void 0){if(this.length&&(le=mt.get(de),de.nodeType===1&&!ut.get(de,"hasDataAttrs"))){for(V=be.length;V--;)be[V]&&(K=be[V].name,K.indexOf("data-")===0&&(K=z.camelCase(K.slice(5)),y(de,K,le[K])));ut.set(de,"hasDataAttrs",!0)}return le}return typeof T=="object"?this.each(function(){mt.set(this,T)}):gt(this,function(Oe){var He,$e;if(de&&Oe===void 0){if((He=mt.get(de,T)||mt.get(de,T.replace(Et,"-$&").toLowerCase()))!==void 0||($e=z.camelCase(T),(He=mt.get(de,$e))!==void 0)||(He=y(de,$e,void 0))!==void 0)return He}else $e=z.camelCase(T),this.each(function(){var nt=mt.get(this,$e);mt.set(this,$e,Oe),T.indexOf("-")>-1&&nt!==void 0&&mt.set(this,T,Oe)})},null,R,arguments.length>1,null,!0)},removeData:function(T){return this.each(function(){mt.remove(this,T)})}}),z.extend({queue:function(T,R,V){var K;if(T)return R=(R||"fx")+"queue",K=ut.get(T,R),V&&(!K||z.isArray(V)?K=ut.access(T,R,z.makeArray(V)):K.push(V)),K||[]},dequeue:function(T,R){R=R||"fx";var V=z.queue(T,R),K=V.length,le=V.shift(),de=z._queueHooks(T,R),be=function(){z.dequeue(T,R)};le==="inprogress"&&(le=V.shift(),K--),le&&(R==="fx"&&V.unshift("inprogress"),delete de.stop,le.call(T,be,de)),!K&&de&&de.empty.fire()},_queueHooks:function(T,R){var V=R+"queueHooks";return ut.get(T,V)||ut.access(T,V,{empty:z.Callbacks("once memory").add(function(){ut.remove(T,[R+"queue",V])})})}}),z.fn.extend({queue:function(T,R){var V=2;return typeof T!="string"&&(R=T,T="fx",V--),arguments.length<V?z.queue(this[0],T):R===void 0?this:this.each(function(){var K=z.queue(this,T,R);z._queueHooks(this,T),T==="fx"&&K[0]!=="inprogress"&&z.dequeue(this,T)})},dequeue:function(T){return this.each(function(){z.dequeue(this,T)})},clearQueue:function(T){return this.queue(T||"fx",[])},promise:function(T,R){var V,K=1,le=z.Deferred(),de=this,be=this.length,Oe=function(){--K||le.resolveWith(de,[de])};for(typeof T!="string"&&(R=T,T=void 0),T=T||"fx";be--;)(V=ut.get(de[be],T+"queueHooks"))&&V.empty&&(K++,V.empty.add(Oe));return Oe(),le.promise(R)}});var Kt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xt=new RegExp("^(?:([+-])=|)("+Kt+")([a-z%]*)$","i"),Ut=["Top","Right","Bottom","Left"],jt=function(T,R){return T=R||T,z.css(T,"display")==="none"||!z.contains(T.ownerDocument,T)},or=/^(?:checkbox|radio)$/i,dr=/<([\w:-]+)/,Xt=/^$|\/(?:java|ecma)script/i,Wt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Wt.optgroup=Wt.option,Wt.tbody=Wt.tfoot=Wt.colgroup=Wt.caption=Wt.thead,Wt.th=Wt.td;var $=/<|&#?\w+;/;(function(){var T=ye.createDocumentFragment(),R=T.appendChild(ye.createElement("div")),V=ye.createElement("input");V.setAttribute("type","radio"),V.setAttribute("checked","checked"),V.setAttribute("name","t"),R.appendChild(V),Ne.checkClone=R.cloneNode(!0).cloneNode(!0).lastChild.checked,R.innerHTML="<textarea>x</textarea>",Ne.noCloneChecked=!!R.cloneNode(!0).lastChild.defaultValue})();var ce=/^key/,N=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Q=/^([^.]*)(?:\.(.+)|)/;z.event={global:{},add:function(T,R,V,K,le){var de,be,Oe,He,$e,nt,j,me,Je,pt,vt,Ct=ut.get(T);if(Ct)for(V.handler&&(de=V,V=de.handler,le=de.selector),V.guid||(V.guid=z.guid++),(He=Ct.events)||(He=Ct.events={}),(be=Ct.handle)||(be=Ct.handle=function(Lt){return z!==void 0&&z.event.triggered!==Lt.type?z.event.dispatch.apply(T,arguments):void 0}),R=(R||"").match(it)||[""],$e=R.length;$e--;)Oe=Q.exec(R[$e])||[],Je=vt=Oe[1],pt=(Oe[2]||"").split(".").sort(),Je&&(j=z.event.special[Je]||{},Je=(le?j.delegateType:j.bindType)||Je,j=z.event.special[Je]||{},nt=z.extend({type:Je,origType:vt,data:K,handler:V,guid:V.guid,selector:le,needsContext:le&&z.expr.match.needsContext.test(le),namespace:pt.join(".")},de),(me=He[Je])||(me=He[Je]=[],me.delegateCount=0,j.setup&&j.setup.call(T,K,pt,be)!==!1||T.addEventListener&&T.addEventListener(Je,be)),j.add&&(j.add.call(T,nt),nt.handler.guid||(nt.handler.guid=V.guid)),le?me.splice(me.delegateCount++,0,nt):me.push(nt),z.event.global[Je]=!0)},remove:function(T,R,V,K,le){var de,be,Oe,He,$e,nt,j,me,Je,pt,vt,Ct=ut.hasData(T)&&ut.get(T);if(Ct&&(He=Ct.events)){for(R=(R||"").match(it)||[""],$e=R.length;$e--;)if(Oe=Q.exec(R[$e])||[],Je=vt=Oe[1],pt=(Oe[2]||"").split(".").sort(),Je){for(j=z.event.special[Je]||{},Je=(K?j.delegateType:j.bindType)||Je,me=He[Je]||[],Oe=Oe[2]&&new RegExp("(^|\\.)"+pt.join("\\.(?:.*\\.|)")+"(\\.|$)"),be=de=me.length;de--;)nt=me[de],!le&&vt!==nt.origType||V&&V.guid!==nt.guid||Oe&&!Oe.test(nt.namespace)||K&&K!==nt.selector&&(K!=="**"||!nt.selector)||(me.splice(de,1),nt.selector&&me.delegateCount--,j.remove&&j.remove.call(T,nt));be&&!me.length&&(j.teardown&&j.teardown.call(T,pt,Ct.handle)!==!1||z.removeEvent(T,Je,Ct.handle),delete He[Je])}else for(Je in He)z.event.remove(T,Je+R[$e],V,K,!0);z.isEmptyObject(He)&&ut.remove(T,"handle events")}},dispatch:function(T){T=z.event.fix(T);var R,V,K,le,de,be=[],Oe=P.call(arguments),He=(ut.get(this,"events")||{})[T.type]||[],$e=z.event.special[T.type]||{};if(Oe[0]=T,T.delegateTarget=this,!$e.preDispatch||$e.preDispatch.call(this,T)!==!1){for(be=z.event.handlers.call(this,T,He),R=0;(le=be[R++])&&!T.isPropagationStopped();)for(T.currentTarget=le.elem,V=0;(de=le.handlers[V++])&&!T.isImmediatePropagationStopped();)T.rnamespace&&!T.rnamespace.test(de.namespace)||(T.handleObj=de,T.data=de.data,(K=((z.event.special[de.origType]||{}).handle||de.handler).apply(le.elem,Oe))!==void 0&&(T.result=K)===!1&&(T.preventDefault(),T.stopPropagation()));return $e.postDispatch&&$e.postDispatch.call(this,T),T.result}},handlers:function(T,R){var V,K,le,de,be=[],Oe=R.delegateCount,He=T.target;if(Oe&&He.nodeType&&(T.type!=="click"||isNaN(T.button)||T.button<1)){for(;He!==this;He=He.parentNode||this)if(He.nodeType===1&&(He.disabled!==!0||T.type!=="click")){for(K=[],V=0;V<Oe;V++)de=R[V],le=de.selector+" ",K[le]===void 0&&(K[le]=de.needsContext?z(le,this).index(He)>-1:z.find(le,this,null,[He]).length),K[le]&&K.push(de);K.length&&be.push({elem:He,handlers:K})}}return Oe<R.length&&be.push({elem:this,handlers:R.slice(Oe)}),be},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(T,R){return T.which==null&&(T.which=R.charCode!=null?R.charCode:R.keyCode),T}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(T,R){var V,K,le,de=R.button;return T.pageX==null&&R.clientX!=null&&(V=T.target.ownerDocument||ye,K=V.documentElement,le=V.body,T.pageX=R.clientX+(K&&K.scrollLeft||le&&le.scrollLeft||0)-(K&&K.clientLeft||le&&le.clientLeft||0),T.pageY=R.clientY+(K&&K.scrollTop||le&&le.scrollTop||0)-(K&&K.clientTop||le&&le.clientTop||0)),T.which||de===void 0||(T.which=1&de?1:2&de?3:4&de?2:0),T}},fix:function(T){if(T[z.expando])return T;var R,V,K,le=T.type,de=T,be=this.fixHooks[le];for(be||(this.fixHooks[le]=be=N.test(le)?this.mouseHooks:ce.test(le)?this.keyHooks:{}),K=be.props?this.props.concat(be.props):this.props,T=new z.Event(de),R=K.length;R--;)V=K[R],T[V]=de[V];return T.target||(T.target=ye),T.target.nodeType===3&&(T.target=T.target.parentNode),be.filter?be.filter(T,de):T},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==n()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===n()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&z.nodeName(this,"input"))return this.click(),!1},_default:function(T){return z.nodeName(T.target,"a")}},beforeunload:{postDispatch:function(T){T.result!==void 0&&T.originalEvent&&(T.originalEvent.returnValue=T.result)}}}},z.removeEvent=function(T,R,V){T.removeEventListener&&T.removeEventListener(R,V)},z.Event=function(T,R){if(!(this instanceof z.Event))return new z.Event(T,R);T&&T.type?(this.originalEvent=T,this.type=T.type,this.isDefaultPrevented=T.defaultPrevented||T.defaultPrevented===void 0&&T.returnValue===!1?m:c):this.type=T,R&&z.extend(this,R),this.timeStamp=T&&T.timeStamp||z.now(),this[z.expando]=!0},z.Event.prototype={constructor:z.Event,isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,isSimulated:!1,preventDefault:function(){var T=this.originalEvent;this.isDefaultPrevented=m,T&&!this.isSimulated&&T.preventDefault()},stopPropagation:function(){var T=this.originalEvent;this.isPropagationStopped=m,T&&!this.isSimulated&&T.stopPropagation()},stopImmediatePropagation:function(){var T=this.originalEvent;this.isImmediatePropagationStopped=m,T&&!this.isSimulated&&T.stopImmediatePropagation(),this.stopPropagation()}},z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(T,R){z.event.special[T]={delegateType:R,bindType:R,handle:function(V){var K,le=this,de=V.relatedTarget,be=V.handleObj;return de&&(de===le||z.contains(le,de))||(V.type=be.origType,K=be.handler.apply(this,arguments),V.type=R),K}}}),z.fn.extend({on:function(T,R,V,K){return s(this,T,R,V,K)},one:function(T,R,V,K){return s(this,T,R,V,K,1)},off:function(T,R,V){var K,le;if(T&&T.preventDefault&&T.handleObj)return K=T.handleObj,z(T.delegateTarget).off(K.namespace?K.origType+"."+K.namespace:K.origType,K.selector,K.handler),this;if(typeof T=="object"){for(le in T)this.off(le,R,T[le]);return this}return R!==!1&&typeof R!="function"||(V=R,R=void 0),V===!1&&(V=c),this.each(function(){z.event.remove(this,T,V,R)})}});var oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,we=/<script|<style|<link/i,J=/checked\s*(?:[^=]|=\s*.checked.)/i,Se=/^true\/(.*)/,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;z.extend({htmlPrefilter:function(T){return T.replace(oe,"<$1></$2>")},clone:function(T,R,V){var K,le,de,be,Oe=T.cloneNode(!0),He=z.contains(T.ownerDocument,T);if(!(Ne.noCloneChecked||T.nodeType!==1&&T.nodeType!==11||z.isXMLDoc(T)))for(be=u(Oe),de=u(T),K=0,le=de.length;K<le;K++)D(de[K],be[K]);if(R)if(V)for(de=de||u(T),be=be||u(Oe),K=0,le=de.length;K<le;K++)C(de[K],be[K]);else C(T,Oe);return be=u(Oe,"script"),be.length>0&&f(be,!He&&u(T,"script")),Oe},cleanData:function(T){for(var R,V,K,le=z.event.special,de=0;(V=T[de])!==void 0;de++)if(Rt(V)){if(R=V[ut.expando]){if(R.events)for(K in R.events)le[K]?z.event.remove(V,K):z.removeEvent(V,K,R.handle);V[ut.expando]=void 0}V[mt.expando]&&(V[mt.expando]=void 0)}}}),z.fn.extend({domManip:S,detach:function(T){return x(this,T,!0)},remove:function(T){return x(this,T)},text:function(T){return gt(this,function(R){return R===void 0?z.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=R)})},null,T,arguments.length)},append:function(){return S(this,arguments,function(T){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&v(this,T).appendChild(T)})},prepend:function(){return S(this,arguments,function(T){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var R=v(this,T);R.insertBefore(T,R.firstChild)}})},before:function(){return S(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this)})},after:function(){return S(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this.nextSibling)})},empty:function(){for(var T,R=0;(T=this[R])!=null;R++)T.nodeType===1&&(z.cleanData(u(T,!1)),T.textContent="");return this},clone:function(T,R){return T=T!=null&&T,R=R??T,this.map(function(){return z.clone(this,T,R)})},html:function(T){return gt(this,function(R){var V=this[0]||{},K=0,le=this.length;if(R===void 0&&V.nodeType===1)return V.innerHTML;if(typeof R=="string"&&!we.test(R)&&!Wt[(dr.exec(R)||["",""])[1].toLowerCase()]){R=z.htmlPrefilter(R);try{for(;K<le;K++)V=this[K]||{},V.nodeType===1&&(z.cleanData(u(V,!1)),V.innerHTML=R);V=0}catch{}}V&&this.empty().append(R)},null,T,arguments.length)},replaceWith:function(){var T=[];return S(this,arguments,function(R){var V=this.parentNode;z.inArray(this,T)<0&&(z.cleanData(u(this)),V&&V.replaceChild(R,this))},T)}}),z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(T,R){z.fn[T]=function(V){for(var K,le=[],de=z(V),be=de.length-1,Oe=0;Oe<=be;Oe++)K=Oe===be?this:this.clone(!0),z(de[Oe])[R](K),Ae.apply(le,K.get());return this.pushStack(le)}});var We,et={HTML:"block",BODY:"block"},lt=/^margin/,ht=new RegExp("^("+Kt+")(?!px)[a-z%]+$","i"),ft=function(T){var R=T.ownerDocument.defaultView;return R&&R.opener||(R=O),R.getComputedStyle(T)},bt=function(T,R,V,K){var le,de,be={};for(de in R)be[de]=T.style[de],T.style[de]=R[de];le=V.apply(T,K||[]);for(de in R)T.style[de]=be[de];return le},Bt=ye.documentElement;(function(){function T(){be.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",be.innerHTML="",Bt.appendChild(de);var Oe=O.getComputedStyle(be);R=Oe.top!=="1%",le=Oe.marginLeft==="2px",V=Oe.width==="4px",be.style.marginRight="50%",K=Oe.marginRight==="4px",Bt.removeChild(de)}var R,V,K,le,de=ye.createElement("div"),be=ye.createElement("div");be.style&&(be.style.backgroundClip="content-box",be.cloneNode(!0).style.backgroundClip="",Ne.clearCloneStyle=be.style.backgroundClip==="content-box",de.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",de.appendChild(be),z.extend(Ne,{pixelPosition:function(){return T(),R},boxSizingReliable:function(){return V==null&&T(),V},pixelMarginRight:function(){return V==null&&T(),K},reliableMarginLeft:function(){return V==null&&T(),le},reliableMarginRight:function(){var Oe,He=be.appendChild(ye.createElement("div"));return He.style.cssText=be.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",He.style.marginRight=He.style.width="0",be.style.width="1px",Bt.appendChild(de),Oe=!parseFloat(O.getComputedStyle(He).marginRight),Bt.removeChild(de),be.removeChild(He),Oe}}))})();var zt=/^(none|table(?!-c[ea]).+)/,Vt={position:"absolute",visibility:"hidden",display:"block"},qt={letterSpacing:"0",fontWeight:"400"},Zt=["Webkit","O","Moz","ms"],Ft=ye.createElement("div").style;z.extend({cssHooks:{opacity:{get:function(T,R){if(R){var V=X(T,"opacity");return V===""?"1":V}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(T,R,V,K){if(T&&T.nodeType!==3&&T.nodeType!==8&&T.style){var le,de,be,Oe=z.camelCase(R),He=T.style;if(R=z.cssProps[Oe]||(z.cssProps[Oe]=W(Oe)||Oe),be=z.cssHooks[R]||z.cssHooks[Oe],V===void 0)return be&&"get"in be&&(le=be.get(T,!1,K))!==void 0?le:He[R];de=typeof V,de==="string"&&(le=xt.exec(V))&&le[1]&&(V=p(T,R,le),de="number"),V!=null&&V===V&&(de==="number"&&(V+=le&&le[3]||(z.cssNumber[Oe]?"":"px")),Ne.clearCloneStyle||V!==""||R.indexOf("background")!==0||(He[R]="inherit"),be&&"set"in be&&(V=be.set(T,V,K))===void 0||(He[R]=V))}},css:function(T,R,V,K){var le,de,be,Oe=z.camelCase(R);return R=z.cssProps[Oe]||(z.cssProps[Oe]=W(Oe)||Oe),be=z.cssHooks[R]||z.cssHooks[Oe],be&&"get"in be&&(le=be.get(T,!0,V)),le===void 0&&(le=X(T,R,K)),le==="normal"&&R in qt&&(le=qt[R]),V===""||V?(de=parseFloat(le),V===!0||isFinite(de)?de||0:le):le}}),z.each(["height","width"],function(T,R){z.cssHooks[R]={get:function(V,K,le){if(K)return zt.test(z.css(V,"display"))&&V.offsetWidth===0?bt(V,Vt,function(){return G(V,R,le)}):G(V,R,le)},set:function(V,K,le){var de,be=le&&ft(V),Oe=le&&F(V,R,le,z.css(V,"boxSizing",!1,be)==="border-box",be);return Oe&&(de=xt.exec(K))&&(de[3]||"px")!=="px"&&(V.style[R]=K,K=z.css(V,R)),U(V,K,Oe)}}}),z.cssHooks.marginLeft=ee(Ne.reliableMarginLeft,function(T,R){if(R)return(parseFloat(X(T,"marginLeft"))||T.getBoundingClientRect().left-bt(T,{marginLeft:0},function(){return T.getBoundingClientRect().left}))+"px"}),z.cssHooks.marginRight=ee(Ne.reliableMarginRight,function(T,R){if(R)return bt(T,{display:"inline-block"},X,[T,"marginRight"])}),z.each({margin:"",padding:"",border:"Width"},function(T,R){z.cssHooks[T+R]={expand:function(V){for(var K=0,le={},de=typeof V=="string"?V.split(" "):[V];K<4;K++)le[T+Ut[K]+R]=de[K]||de[K-2]||de[0];return le}},lt.test(T)||(z.cssHooks[T+R].set=U)}),z.fn.extend({css:function(T,R){return gt(this,function(V,K,le){var de,be,Oe={},He=0;if(z.isArray(K)){for(de=ft(V),be=K.length;He<be;He++)Oe[K[He]]=z.css(V,K[He],!1,de);return Oe}return le!==void 0?z.style(V,K,le):z.css(V,K)},T,R,arguments.length>1)},show:function(){return ie(this,!0)},hide:function(){return ie(this)},toggle:function(T){return typeof T=="boolean"?T?this.show():this.hide():this.each(function(){jt(this)?z(this).show():z(this).hide()})}}),z.Tween=ne,ne.prototype={constructor:ne,init:function(T,R,V,K,le,de){this.elem=T,this.prop=V,this.easing=le||z.easing._default,this.options=R,this.start=this.now=this.cur(),this.end=K,this.unit=de||(z.cssNumber[V]?"":"px")},cur:function(){var T=ne.propHooks[this.prop];return T&&T.get?T.get(this):ne.propHooks._default.get(this)},run:function(T){var R,V=ne.propHooks[this.prop];return this.options.duration?this.pos=R=z.easing[this.easing](T,this.options.duration*T,0,1,this.options.duration):this.pos=R=T,this.now=(this.end-this.start)*R+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),V&&V.set?V.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(T){var R;return T.elem.nodeType!==1||T.elem[T.prop]!=null&&T.elem.style[T.prop]==null?T.elem[T.prop]:(R=z.css(T.elem,T.prop,""),R&&R!=="auto"?R:0)},set:function(T){z.fx.step[T.prop]?z.fx.step[T.prop](T):T.elem.nodeType!==1||T.elem.style[z.cssProps[T.prop]]==null&&!z.cssHooks[T.prop]?T.elem[T.prop]=T.now:z.style(T.elem,T.prop,T.now+T.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(T){T.elem.nodeType&&T.elem.parentNode&&(T.elem[T.prop]=T.now)}},z.easing={linear:function(T){return T},swing:function(T){return .5-Math.cos(T*Math.PI)/2},_default:"swing"},z.fx=ne.prototype.init,z.fx.step={};var Ot,ir,ar=/^(?:toggle|show|hide)$/,vr=/queueHooks$/;z.Animation=z.extend(fe,{tweeners:{"*":[function(T,R){var V=this.createTween(T,R);return p(V.elem,T,xt.exec(R),V),V}]},tweener:function(T,R){z.isFunction(T)?(R=T,T=["*"]):T=T.match(it);for(var V,K=0,le=T.length;K<le;K++)V=T[K],fe.tweeners[V]=fe.tweeners[V]||[],fe.tweeners[V].unshift(R)},prefilters:[H],prefilter:function(T,R){R?fe.prefilters.unshift(T):fe.prefilters.push(T)}}),z.speed=function(T,R,V){var K=T&&typeof T=="object"?z.extend({},T):{complete:V||!V&&R||z.isFunction(T)&&T,duration:T,easing:V&&R||R&&!z.isFunction(R)&&R};return K.duration=z.fx.off?0:typeof K.duration=="number"?K.duration:K.duration in z.fx.speeds?z.fx.speeds[K.duration]:z.fx.speeds._default,K.queue!=null&&K.queue!==!0||(K.queue="fx"),K.old=K.complete,K.complete=function(){z.isFunction(K.old)&&K.old.call(this),K.queue&&z.dequeue(this,K.queue)},K},z.fn.extend({fadeTo:function(T,R,V,K){return this.filter(jt).css("opacity",0).show().end().animate({opacity:R},T,V,K)},animate:function(T,R,V,K){var le=z.isEmptyObject(T),de=z.speed(R,V,K),be=function(){var Oe=fe(this,z.extend({},T),de);(le||ut.get(this,"finish"))&&Oe.stop(!0)};return be.finish=be,le||de.queue===!1?this.each(be):this.queue(de.queue,be)},stop:function(T,R,V){var K=function(le){var de=le.stop;delete le.stop,de(V)};return typeof T!="string"&&(V=R,R=T,T=void 0),R&&T!==!1&&this.queue(T||"fx",[]),this.each(function(){var le=!0,de=T!=null&&T+"queueHooks",be=z.timers,Oe=ut.get(this);if(de)Oe[de]&&Oe[de].stop&&K(Oe[de]);else for(de in Oe)Oe[de]&&Oe[de].stop&&vr.test(de)&&K(Oe[de]);for(de=be.length;de--;)be[de].elem!==this||T!=null&&be[de].queue!==T||(be[de].anim.stop(V),le=!1,be.splice(de,1));!le&&V||z.dequeue(this,T)})},finish:function(T){return T!==!1&&(T=T||"fx"),this.each(function(){var R,V=ut.get(this),K=V[T+"queue"],le=V[T+"queueHooks"],de=z.timers,be=K?K.length:0;for(V.finish=!0,z.queue(this,T,[]),le&&le.stop&&le.stop.call(this,!0),R=de.length;R--;)de[R].elem===this&&de[R].queue===T&&(de[R].anim.stop(!0),de.splice(R,1));for(R=0;R<be;R++)K[R]&&K[R].finish&&K[R].finish.call(this);delete V.finish})}}),z.each(["toggle","show","hide"],function(T,R){var V=z.fn[R];z.fn[R]=function(K,le,de){return K==null||typeof K=="boolean"?V.apply(this,arguments):this.animate(ge(R,!0),K,le,de)}}),z.each({slideDown:ge("show"),slideUp:ge("hide"),slideToggle:ge("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(T,R){z.fn[T]=function(V,K,le){return this.animate(R,V,K,le)}}),z.timers=[],z.fx.tick=function(){var T,R=0,V=z.timers;for(Ot=z.now();R<V.length;R++)(T=V[R])()||V[R]!==T||V.splice(R--,1);V.length||z.fx.stop(),Ot=void 0},z.fx.timer=function(T){z.timers.push(T),T()?z.fx.start():z.timers.pop()},z.fx.interval=13,z.fx.start=function(){ir||(ir=O.setInterval(z.fx.tick,z.fx.interval))},z.fx.stop=function(){O.clearInterval(ir),ir=null},z.fx.speeds={slow:600,fast:200,_default:400},z.fn.delay=function(T,R){return T=z.fx&&z.fx.speeds[T]||T,R=R||"fx",this.queue(R,function(V,K){var le=O.setTimeout(V,T);K.stop=function(){O.clearTimeout(le)}})},function(){var T=ye.createElement("input"),R=ye.createElement("select"),V=R.appendChild(ye.createElement("option"));T.type="checkbox",Ne.checkOn=T.value!=="",Ne.optSelected=V.selected,R.disabled=!0,Ne.optDisabled=!V.disabled,T=ye.createElement("input"),T.value="t",T.type="radio",Ne.radioValue=T.value==="t"}();var St,sr=z.expr.attrHandle;z.fn.extend({attr:function(T,R){return gt(this,z.attr,T,R,arguments.length>1)},removeAttr:function(T){return this.each(function(){z.removeAttr(this,T)})}}),z.extend({attr:function(T,R,V){var K,le,de=T.nodeType;if(de!==3&&de!==8&&de!==2)return T.getAttribute===void 0?z.prop(T,R,V):(de===1&&z.isXMLDoc(T)||(R=R.toLowerCase(),le=z.attrHooks[R]||(z.expr.match.bool.test(R)?St:void 0)),V!==void 0?V===null?void z.removeAttr(T,R):le&&"set"in le&&(K=le.set(T,V,R))!==void 0?K:(T.setAttribute(R,V+""),V):le&&"get"in le&&(K=le.get(T,R))!==null?K:(K=z.find.attr(T,R),K??void 0))},attrHooks:{type:{set:function(T,R){if(!Ne.radioValue&&R==="radio"&&z.nodeName(T,"input")){var V=T.value;return T.setAttribute("type",R),V&&(T.value=V),R}}}},removeAttr:function(T,R){var V,K,le=0,de=R&&R.match(it);if(de&&T.nodeType===1)for(;V=de[le++];)K=z.propFix[V]||V,z.expr.match.bool.test(V)&&(T[K]=!1),T.removeAttribute(V)}}),St={set:function(T,R,V){return R===!1?z.removeAttr(T,V):T.setAttribute(V,V),V}},z.each(z.expr.match.bool.source.match(/\w+/g),function(T,R){var V=sr[R]||z.find.attr;sr[R]=function(K,le,de){var be,Oe;return de||(Oe=sr[le],sr[le]=be,be=V(K,le,de)!=null?le.toLowerCase():null,sr[le]=Oe),be}});var oi=/^(?:input|select|textarea|button)$/i,Br=/^(?:a|area)$/i;z.fn.extend({prop:function(T,R){return gt(this,z.prop,T,R,arguments.length>1)},removeProp:function(T){return this.each(function(){delete this[z.propFix[T]||T]})}}),z.extend({prop:function(T,R,V){var K,le,de=T.nodeType;if(de!==3&&de!==8&&de!==2)return de===1&&z.isXMLDoc(T)||(R=z.propFix[R]||R,le=z.propHooks[R]),V!==void 0?le&&"set"in le&&(K=le.set(T,V,R))!==void 0?K:T[R]=V:le&&"get"in le&&(K=le.get(T,R))!==null?K:T[R]},propHooks:{tabIndex:{get:function(T){var R=z.find.attr(T,"tabindex");return R?parseInt(R,10):oi.test(T.nodeName)||Br.test(T.nodeName)&&T.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ne.optSelected||(z.propHooks.selected={get:function(T){var R=T.parentNode;return R&&R.parentNode&&R.parentNode.selectedIndex,null},set:function(T){var R=T.parentNode;R&&(R.selectedIndex,R.parentNode&&R.parentNode.selectedIndex)}}),z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){z.propFix[this.toLowerCase()]=this});var Fr=/[\t\r\n\f]/g;z.fn.extend({addClass:function(T){var R,V,K,le,de,be,Oe,He=0;if(z.isFunction(T))return this.each(function($e){z(this).addClass(T.call(this,$e,re(this)))});if(typeof T=="string"&&T){for(R=T.match(it)||[];V=this[He++];)if(le=re(V),K=V.nodeType===1&&(" "+le+" ").replace(Fr," ")){for(be=0;de=R[be++];)K.indexOf(" "+de+" ")<0&&(K+=de+" ");Oe=z.trim(K),le!==Oe&&V.setAttribute("class",Oe)}}return this},removeClass:function(T){var R,V,K,le,de,be,Oe,He=0;if(z.isFunction(T))return this.each(function($e){z(this).removeClass(T.call(this,$e,re(this)))});if(!arguments.length)return this.attr("class","");if(typeof T=="string"&&T){for(R=T.match(it)||[];V=this[He++];)if(le=re(V),K=V.nodeType===1&&(" "+le+" ").replace(Fr," ")){for(be=0;de=R[be++];)for(;K.indexOf(" "+de+" ")>-1;)K=K.replace(" "+de+" "," ");Oe=z.trim(K),le!==Oe&&V.setAttribute("class",Oe)}}return this},toggleClass:function(T,R){var V=typeof T;return typeof R=="boolean"&&V==="string"?R?this.addClass(T):this.removeClass(T):z.isFunction(T)?this.each(function(K){z(this).toggleClass(T.call(this,K,re(this),R),R)}):this.each(function(){var K,le,de,be;if(V==="string")for(le=0,de=z(this),be=T.match(it)||[];K=be[le++];)de.hasClass(K)?de.removeClass(K):de.addClass(K);else T!==void 0&&V!=="boolean"||(K=re(this),K&&ut.set(this,"__className__",K),this.setAttribute&&this.setAttribute("class",K||T===!1?"":ut.get(this,"__className__")||""))})},hasClass:function(T){var R,V,K=0;for(R=" "+T+" ";V=this[K++];)if(V.nodeType===1&&(" "+re(V)+" ").replace(Fr," ").indexOf(R)>-1)return!0;return!1}});var ni=/\r/g,ai=/[\x20\t\r\n\f]+/g;z.fn.extend({val:function(T){var R,V,K,le=this[0];{if(arguments.length)return K=z.isFunction(T),this.each(function(de){var be;this.nodeType===1&&(be=K?T.call(this,de,z(this).val()):T,be==null?be="":typeof be=="number"?be+="":z.isArray(be)&&(be=z.map(be,function(Oe){return Oe==null?"":Oe+""})),(R=z.valHooks[this.type]||z.valHooks[this.nodeName.toLowerCase()])&&"set"in R&&R.set(this,be,"value")!==void 0||(this.value=be))});if(le)return(R=z.valHooks[le.type]||z.valHooks[le.nodeName.toLowerCase()])&&"get"in R&&(V=R.get(le,"value"))!==void 0?V:(V=le.value,typeof V=="string"?V.replace(ni,""):V??"")}}}),z.extend({valHooks:{option:{get:function(T){var R=z.find.attr(T,"value");return R??z.trim(z.text(T)).replace(ai," ")}},select:{get:function(T){for(var R,V,K=T.options,le=T.selectedIndex,de=T.type==="select-one"||le<0,be=de?null:[],Oe=de?le+1:K.length,He=le<0?Oe:de?le:0;He<Oe;He++)if(V=K[He],(V.selected||He===le)&&(Ne.optDisabled?!V.disabled:V.getAttribute("disabled")===null)&&(!V.parentNode.disabled||!z.nodeName(V.parentNode,"optgroup"))){if(R=z(V).val(),de)return R;be.push(R)}return be},set:function(T,R){for(var V,K,le=T.options,de=z.makeArray(R),be=le.length;be--;)K=le[be],(K.selected=z.inArray(z.valHooks.option.get(K),de)>-1)&&(V=!0);return V||(T.selectedIndex=-1),de}}}}),z.each(["radio","checkbox"],function(){z.valHooks[this]={set:function(T,R){if(z.isArray(R))return T.checked=z.inArray(z(T).val(),R)>-1}},Ne.checkOn||(z.valHooks[this].get=function(T){return T.getAttribute("value")===null?"on":T.value})});var Wr=/^(?:focusinfocus|focusoutblur)$/;z.extend(z.event,{trigger:function(T,R,V,K){var le,de,be,Oe,He,$e,nt,j=[V||ye],me=Ie.call(T,"type")?T.type:T,Je=Ie.call(T,"namespace")?T.namespace.split("."):[];if(de=be=V=V||ye,V.nodeType!==3&&V.nodeType!==8&&!Wr.test(me+z.event.triggered)&&(me.indexOf(".")>-1&&(Je=me.split("."),me=Je.shift(),Je.sort()),He=me.indexOf(":")<0&&"on"+me,T=T[z.expando]?T:new z.Event(me,typeof T=="object"&&T),T.isTrigger=K?2:3,T.namespace=Je.join("."),T.rnamespace=T.namespace?new RegExp("(^|\\.)"+Je.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,T.result=void 0,T.target||(T.target=V),R=R==null?[T]:z.makeArray(R,[T]),nt=z.event.special[me]||{},K||!nt.trigger||nt.trigger.apply(V,R)!==!1)){if(!K&&!nt.noBubble&&!z.isWindow(V)){for(Oe=nt.delegateType||me,Wr.test(Oe+me)||(de=de.parentNode);de;de=de.parentNode)j.push(de),be=de;be===(V.ownerDocument||ye)&&j.push(be.defaultView||be.parentWindow||O)}for(le=0;(de=j[le++])&&!T.isPropagationStopped();)T.type=le>1?Oe:nt.bindType||me,$e=(ut.get(de,"events")||{})[T.type]&&ut.get(de,"handle"),$e&&$e.apply(de,R),($e=He&&de[He])&&$e.apply&&Rt(de)&&(T.result=$e.apply(de,R),T.result===!1&&T.preventDefault());return T.type=me,K||T.isDefaultPrevented()||nt._default&&nt._default.apply(j.pop(),R)!==!1||!Rt(V)||He&&z.isFunction(V[me])&&!z.isWindow(V)&&(be=V[He],be&&(V[He]=null),z.event.triggered=me,V[me](),z.event.triggered=void 0,be&&(V[He]=be)),T.result}},simulate:function(T,R,V){var K=z.extend(new z.Event,V,{type:T,isSimulated:!0});z.event.trigger(K,null,R)}}),z.fn.extend({trigger:function(T,R){return this.each(function(){z.event.trigger(T,R,this)})},triggerHandler:function(T,R){var V=this[0];if(V)return z.event.trigger(T,R,V,!0)}}),z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(T,R){z.fn[R]=function(V,K){return arguments.length>0?this.on(R,null,V,K):this.trigger(R)}}),z.fn.extend({hover:function(T,R){return this.mouseenter(T).mouseleave(R||T)}}),Ne.focusin="onfocusin"in O,Ne.focusin||z.each({focus:"focusin",blur:"focusout"},function(T,R){var V=function(K){z.event.simulate(R,K.target,z.event.fix(K))};z.event.special[R]={setup:function(){var K=this.ownerDocument||this,le=ut.access(K,R);le||K.addEventListener(T,V,!0),ut.access(K,R,(le||0)+1)},teardown:function(){var K=this.ownerDocument||this,le=ut.access(K,R)-1;le?ut.access(K,R,le):(K.removeEventListener(T,V,!0),ut.remove(K,R))}}});var kr=O.location,Lr=z.now(),Pr=/\?/;z.parseJSON=function(T){return JSON.parse(T+"")},z.parseXML=function(T){var R;if(!T||typeof T!="string")return null;try{R=new O.DOMParser().parseFromString(T,"text/xml")}catch{R=void 0}return R&&!R.getElementsByTagName("parsererror").length||z.error("Invalid XML: "+T),R};var Yr=/#.*$/,Rr=/([?&])_=[^&]*/,si=/^(.*?):[ \t]*([^\r\n]*)$/gm,ci=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,li=/^(?:GET|HEAD)$/,Kr=/^\/\//,Nr={},Or={},Xr="*/".concat("*"),jr=ye.createElement("a");jr.href=kr.href,z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kr.href,type:"GET",isLocal:ci.test(kr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":z.parseJSON,"text xml":z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(T,R){return R?xe(xe(T,z.ajaxSettings),R):xe(z.ajaxSettings,T)},ajaxPrefilter:se(Nr),ajaxTransport:se(Or),ajax:function(T,R){function V(Mt,Gt,xr,$r){var gr,hr,fr,pr,Qt,rr=Gt;_t!==2&&(_t=2,Oe&&O.clearTimeout(Oe),K=void 0,de=$r||"",yt.readyState=Mt>0?4:0,gr=Mt>=200&&Mt<300||Mt===304,xr&&(pr=Me(j,yt,xr)),pr=Be(j,pr,yt,gr),gr?(j.ifModified&&(Qt=yt.getResponseHeader("Last-Modified"),Qt&&(z.lastModified[le]=Qt),(Qt=yt.getResponseHeader("etag"))&&(z.etag[le]=Qt)),Mt===204||j.type==="HEAD"?rr="nocontent":Mt===304?rr="notmodified":(rr=pr.state,hr=pr.data,fr=pr.error,gr=!fr)):(fr=rr,!Mt&&rr||(rr="error",Mt<0&&(Mt=0))),yt.status=Mt,yt.statusText=(Gt||rr)+"",gr?pt.resolveWith(me,[hr,rr,yt]):pt.rejectWith(me,[yt,rr,fr]),yt.statusCode(Ct),Ct=void 0,$e&&Je.trigger(gr?"ajaxSuccess":"ajaxError",[yt,j,gr?hr:fr]),vt.fireWith(me,[yt,rr]),$e&&(Je.trigger("ajaxComplete",[yt,j]),--z.active||z.event.trigger("ajaxStop")))}typeof T=="object"&&(R=T,T=void 0),R=R||{};var K,le,de,be,Oe,He,$e,nt,j=z.ajaxSetup({},R),me=j.context||j,Je=j.context&&(me.nodeType||me.jquery)?z(me):z.event,pt=z.Deferred(),vt=z.Callbacks("once memory"),Ct=j.statusCode||{},Lt={},Yt={},_t=0,It="canceled",yt={readyState:0,getResponseHeader:function(Mt){var Gt;if(_t===2){if(!be)for(be={};Gt=si.exec(de);)be[Gt[1].toLowerCase()]=Gt[2];Gt=be[Mt.toLowerCase()]}return Gt??null},getAllResponseHeaders:function(){return _t===2?de:null},setRequestHeader:function(Mt,Gt){var xr=Mt.toLowerCase();return _t||(Mt=Yt[xr]=Yt[xr]||Mt,Lt[Mt]=Gt),this},overrideMimeType:function(Mt){return _t||(j.mimeType=Mt),this},statusCode:function(Mt){var Gt;if(Mt)if(_t<2)for(Gt in Mt)Ct[Gt]=[Ct[Gt],Mt[Gt]];else yt.always(Mt[yt.status]);return this},abort:function(Mt){var Gt=Mt||It;return K&&K.abort(Gt),V(0,Gt),this}};if(pt.promise(yt).complete=vt.add,yt.success=yt.done,yt.error=yt.fail,j.url=((T||j.url||kr.href)+"").replace(Yr,"").replace(Kr,kr.protocol+"//"),j.type=R.method||R.type||j.method||j.type,j.dataTypes=z.trim(j.dataType||"*").toLowerCase().match(it)||[""],j.crossDomain==null){He=ye.createElement("a");try{He.href=j.url,He.href=He.href,j.crossDomain=jr.protocol+"//"+jr.host!=He.protocol+"//"+He.host}catch{j.crossDomain=!0}}if(j.data&&j.processData&&typeof j.data!="string"&&(j.data=z.param(j.data,j.traditional)),he(Nr,j,R,yt),_t===2)return yt;$e=z.event&&j.global,$e&&z.active++==0&&z.event.trigger("ajaxStart"),j.type=j.type.toUpperCase(),j.hasContent=!li.test(j.type),le=j.url,j.hasContent||(j.data&&(le=j.url+=(Pr.test(le)?"&":"?")+j.data,delete j.data),j.cache===!1&&(j.url=Rr.test(le)?le.replace(Rr,"$1_="+Lr++):le+(Pr.test(le)?"&":"?")+"_="+Lr++)),j.ifModified&&(z.lastModified[le]&&yt.setRequestHeader("If-Modified-Since",z.lastModified[le]),z.etag[le]&&yt.setRequestHeader("If-None-Match",z.etag[le])),(j.data&&j.hasContent&&j.contentType!==!1||R.contentType)&&yt.setRequestHeader("Content-Type",j.contentType),yt.setRequestHeader("Accept",j.dataTypes[0]&&j.accepts[j.dataTypes[0]]?j.accepts[j.dataTypes[0]]+(j.dataTypes[0]!=="*"?", "+Xr+"; q=0.01":""):j.accepts["*"]);for(nt in j.headers)yt.setRequestHeader(nt,j.headers[nt]);if(j.beforeSend&&(j.beforeSend.call(me,yt,j)===!1||_t===2))return yt.abort();It="abort";for(nt in{success:1,error:1,complete:1})yt[nt](j[nt]);if(K=he(Or,j,R,yt)){if(yt.readyState=1,$e&&Je.trigger("ajaxSend",[yt,j]),_t===2)return yt;j.async&&j.timeout>0&&(Oe=O.setTimeout(function(){yt.abort("timeout")},j.timeout));try{_t=1,K.send(Lt,V)}catch(Mt){if(!(_t<2))throw Mt;V(-1,Mt)}}else V(-1,"No Transport");return yt},getJSON:function(T,R,V){return z.get(T,R,V,"json")},getScript:function(T,R){return z.get(T,void 0,R,"script")}}),z.each(["get","post"],function(T,R){z[R]=function(V,K,le,de){return z.isFunction(K)&&(de=de||le,le=K,K=void 0),z.ajax(z.extend({url:V,type:R,dataType:de,data:K,success:le},z.isPlainObject(V)&&V))}}),z._evalUrl=function(T){return z.ajax({url:T,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},z.fn.extend({wrapAll:function(T){var R;return z.isFunction(T)?this.each(function(V){z(this).wrapAll(T.call(this,V))}):(this[0]&&(R=z(T,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&R.insertBefore(this[0]),R.map(function(){for(var V=this;V.firstElementChild;)V=V.firstElementChild;return V}).append(this)),this)},wrapInner:function(T){return z.isFunction(T)?this.each(function(R){z(this).wrapInner(T.call(this,R))}):this.each(function(){var R=z(this),V=R.contents();V.length?V.wrapAll(T):R.append(T)})},wrap:function(T){var R=z.isFunction(T);return this.each(function(V){z(this).wrapAll(R?T.call(this,V):T)})},unwrap:function(){return this.parent().each(function(){z.nodeName(this,"body")||z(this).replaceWith(this.childNodes)}).end()}}),z.expr.filters.hidden=function(T){return!z.expr.filters.visible(T)},z.expr.filters.visible=function(T){return T.offsetWidth>0||T.offsetHeight>0||T.getClientRects().length>0};var pi=/%20/g,di=/\[\]$/,Gr=/\r?\n/g,ui=/^(?:submit|button|image|reset|file)$/i,_r=/^(?:input|select|textarea|keygen)/i;z.param=function(T,R){var V,K=[],le=function(de,be){be=z.isFunction(be)?be():be??"",K[K.length]=encodeURIComponent(de)+"="+encodeURIComponent(be)};if(R===void 0&&(R=z.ajaxSettings&&z.ajaxSettings.traditional),z.isArray(T)||T.jquery&&!z.isPlainObject(T))z.each(T,function(){le(this.name,this.value)});else for(V in T)ke(V,T[V],R,le);return K.join("&").replace(pi,"+")},z.fn.extend({serialize:function(){return z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var T=z.prop(this,"elements");return T?z.makeArray(T):this}).filter(function(){var T=this.type;return this.name&&!z(this).is(":disabled")&&_r.test(this.nodeName)&&!ui.test(T)&&(this.checked||!or.test(T))}).map(function(T,R){var V=z(this).val();return V==null?null:z.isArray(V)?z.map(V,function(K){return{name:R.name,value:K.replace(Gr,`\r
`)}}):{name:R.name,value:V.replace(Gr,`\r
`)}}).get()}}),z.ajaxSettings.xhr=function(){try{return new O.XMLHttpRequest}catch{}};var Jr={0:200,1223:204},Mr=z.ajaxSettings.xhr();Ne.cors=!!Mr&&"withCredentials"in Mr,Ne.ajax=Mr=!!Mr,z.ajaxTransport(function(T){var R,V;if(Ne.cors||Mr&&!T.crossDomain)return{send:function(K,le){var de,be=T.xhr();if(be.open(T.type,T.url,T.async,T.username,T.password),T.xhrFields)for(de in T.xhrFields)be[de]=T.xhrFields[de];T.mimeType&&be.overrideMimeType&&be.overrideMimeType(T.mimeType),T.crossDomain||K["X-Requested-With"]||(K["X-Requested-With"]="XMLHttpRequest");for(de in K)be.setRequestHeader(de,K[de]);R=function(Oe){return function(){R&&(R=V=be.onload=be.onerror=be.onabort=be.onreadystatechange=null,Oe==="abort"?be.abort():Oe==="error"?typeof be.status!="number"?le(0,"error"):le(be.status,be.statusText):le(Jr[be.status]||be.status,be.statusText,(be.responseType||"text")!=="text"||typeof be.responseText!="string"?{binary:be.response}:{text:be.responseText},be.getAllResponseHeaders()))}},be.onload=R(),V=be.onerror=R("error"),be.onabort!==void 0?be.onabort=V:be.onreadystatechange=function(){be.readyState===4&&O.setTimeout(function(){R&&V()})},R=R("abort");try{be.send(T.hasContent&&T.data||null)}catch(Oe){if(R)throw Oe}},abort:function(){R&&R()}}}),z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(T){return z.globalEval(T),T}}}),z.ajaxPrefilter("script",function(T){T.cache===void 0&&(T.cache=!1),T.crossDomain&&(T.type="GET")}),z.ajaxTransport("script",function(T){if(T.crossDomain){var R,V;return{send:function(K,le){R=z("<script>").prop({charset:T.scriptCharset,src:T.url}).on("load error",V=function(de){R.remove(),V=null,de&&le(de.type==="error"?404:200,de.type)}),ye.head.appendChild(R[0])},abort:function(){V&&V()}}}});var zr=[],qr=/(=)\?(?=&|$)|\?\?/;z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var T=zr.pop()||z.expando+"_"+Lr++;return this[T]=!0,T}}),z.ajaxPrefilter("json jsonp",function(T,R,V){var K,le,de,be=T.jsonp!==!1&&(qr.test(T.url)?"url":typeof T.data=="string"&&(T.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&qr.test(T.data)&&"data");if(be||T.dataTypes[0]==="jsonp")return K=T.jsonpCallback=z.isFunction(T.jsonpCallback)?T.jsonpCallback():T.jsonpCallback,be?T[be]=T[be].replace(qr,"$1"+K):T.jsonp!==!1&&(T.url+=(Pr.test(T.url)?"&":"?")+T.jsonp+"="+K),T.converters["script json"]=function(){return de||z.error(K+" was not called"),de[0]},T.dataTypes[0]="json",le=O[K],O[K]=function(){de=arguments},V.always(function(){le===void 0?z(O).removeProp(K):O[K]=le,T[K]&&(T.jsonpCallback=R.jsonpCallback,zr.push(K)),de&&z.isFunction(le)&&le(de[0]),de=le=void 0}),"script"}),z.parseHTML=function(T,R,V){if(!T||typeof T!="string")return null;typeof R=="boolean"&&(V=R,R=!1),R=R||ye;var K=Xe.exec(T),le=!V&&[];return K?[R.createElement(K[1])]:(K=b([T],R,le),le&&le.length&&z(le).remove(),z.merge([],K.childNodes))};var Zr=z.fn.load;z.fn.load=function(T,R,V){if(typeof T!="string"&&Zr)return Zr.apply(this,arguments);var K,le,de,be=this,Oe=T.indexOf(" ");return Oe>-1&&(K=z.trim(T.slice(Oe)),T=T.slice(0,Oe)),z.isFunction(R)?(V=R,R=void 0):R&&typeof R=="object"&&(le="POST"),be.length>0&&z.ajax({url:T,type:le||"GET",dataType:"html",data:R}).done(function(He){de=arguments,be.html(K?z("<div>").append(z.parseHTML(He)).find(K):He)}).always(V&&function(He,$e){be.each(function(){V.apply(this,de||[He.responseText,$e,He])})}),this},z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(T,R){z.fn[R]=function(V){return this.on(R,V)}}),z.expr.filters.animated=function(T){return z.grep(z.timers,function(R){return T===R.elem}).length},z.offset={setOffset:function(T,R,V){var K,le,de,be,Oe,He,$e,nt=z.css(T,"position"),j=z(T),me={};nt==="static"&&(T.style.position="relative"),Oe=j.offset(),de=z.css(T,"top"),He=z.css(T,"left"),$e=(nt==="absolute"||nt==="fixed")&&(de+He).indexOf("auto")>-1,$e?(K=j.position(),be=K.top,le=K.left):(be=parseFloat(de)||0,le=parseFloat(He)||0),z.isFunction(R)&&(R=R.call(T,V,z.extend({},Oe))),R.top!=null&&(me.top=R.top-Oe.top+be),R.left!=null&&(me.left=R.left-Oe.left+le),"using"in R?R.using.call(T,me):j.css(me)}},z.fn.extend({offset:function(T){if(arguments.length)return T===void 0?this:this.each(function(be){z.offset.setOffset(this,T,be)});var R,V,K=this[0],le={top:0,left:0},de=K&&K.ownerDocument;if(de)return R=de.documentElement,z.contains(R,K)?(le=K.getBoundingClientRect(),V=Re(de),{top:le.top+V.pageYOffset-R.clientTop,left:le.left+V.pageXOffset-R.clientLeft}):le},position:function(){if(this[0]){var T,R,V=this[0],K={top:0,left:0};return z.css(V,"position")==="fixed"?R=V.getBoundingClientRect():(T=this.offsetParent(),R=this.offset(),z.nodeName(T[0],"html")||(K=T.offset()),K.top+=z.css(T[0],"borderTopWidth",!0),K.left+=z.css(T[0],"borderLeftWidth",!0)),{top:R.top-K.top-z.css(V,"marginTop",!0),left:R.left-K.left-z.css(V,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var T=this.offsetParent;T&&z.css(T,"position")==="static";)T=T.offsetParent;return T||Bt})}}),z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(T,R){var V=R==="pageYOffset";z.fn[T]=function(K){return gt(this,function(le,de,be){var Oe=Re(le);if(be===void 0)return Oe?Oe[R]:le[de];Oe?Oe.scrollTo(V?Oe.pageXOffset:be,V?be:Oe.pageYOffset):le[de]=be},T,K,arguments.length)}}),z.each(["top","left"],function(T,R){z.cssHooks[R]=ee(Ne.pixelPosition,function(V,K){if(K)return K=X(V,R),ht.test(K)?z(V).position()[R]+"px":K})}),z.each({Height:"height",Width:"width"},function(T,R){z.each({padding:"inner"+T,content:R,"":"outer"+T},function(V,K){z.fn[K]=function(le,de){var be=arguments.length&&(V||typeof le!="boolean"),Oe=V||(le===!0||de===!0?"margin":"border");return gt(this,function(He,$e,nt){var j;return z.isWindow(He)?He.document.documentElement["client"+T]:He.nodeType===9?(j=He.documentElement,Math.max(He.body["scroll"+T],j["scroll"+T],He.body["offset"+T],j["offset"+T],j["client"+T])):nt===void 0?z.css(He,$e,Oe):z.style(He,$e,nt,Oe)},R,be?le:void 0,be,null)}})}),z.fn.extend({bind:function(T,R,V){return this.on(T,null,R,V)},unbind:function(T,R){return this.off(T,null,R)},delegate:function(T,R,V,K){return this.on(R,T,V,K)},undelegate:function(T,R,V){return arguments.length===1?this.off(T,"**"):this.off(R,T||"**",V)},size:function(){return this.length}}),z.fn.andSelf=z.fn.addBack,typeof q=="function"&&q.amd&&q("jquery",[],function(){return z});var gi=O.jQuery,hi=O.$;return z.noConflict=function(T){return O.$===z&&(O.$=hi),T&&O.jQuery===z&&(O.jQuery=gi),z},o||(O.jQuery=O.$=z),z}),q("browser",["require","jquery"],function(O){var o=O("jquery"),w={IS_IE8:navigator.userAgent.match(/MSIE 8.0/i)!==null,IS_IE9:navigator.userAgent.match(/MSIE 9.0/i)!==null,IS_IE:navigator.userAgent.match(/MSIE/i)!==null,IS_EDGE:navigator.userAgent.match(/Edge/i)!==null,IS_IPAD:navigator.userAgent.match(/iPad/i)!==null,IS_MOBILE:navigator.userAgent.match(/Mobile|Android/i)!==null,IS_ANDROID:navigator.userAgent.match(/Android/i)!==null,IS_IOS:navigator.userAgent.match(/(iPad|iPhone|iPod)/i)!==null||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,IS_CHROME:navigator.userAgent.match(/Chrome/i)!==null,IS_FIREFOX:navigator.userAgent.match(/Firefox/i)!==null,IS_SAFARI:navigator.userAgent.match(/^((?!chrome|android).)*safari/i)!==null,IS_APPLE:navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)!==null,IS_WINDOWS:navigator.platform.match(/(Win32)/i)!==null,IS_TOUCH:navigator.userAgent.match(/Touch/i)!==null,IS_KINDLE:navigator.userAgent.match(/Kindle/i)!==null||navigator.userAgent.match(/Silk/i)!==null,IS_BRAILLENOTE:navigator.userAgent.match(/KeyWeb/i)!==null,IS_IN_IFRAME:window.parent!==window};return w.IS_TABLET=w.IS_IPAD||w.IS_ANDROID||w.IS_KINDLE,w.IS_TOUCH_DEVICE=w.SHOULD_NOT_AUTOFOCUS=w.IS_IOS||w.IS_ANDROID||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i),w.IOS_VERSION=function(){var r=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return r?[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3]||0,10)]:null}(),w.MAC_VERSION=function(){var r=navigator.appVersion.match(/OS X (\d+)_(\d+)_?(\d+)?/);return r?[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3]||0,10)]:null}(),w.CHROME_VERSION=function(){var r=navigator.appVersion.match(/Chrom(e|ium)\/([0-9]+)\.([0-9]+)\.?([0-9]+)?/);return r?[parseInt(r[2],10),parseInt(r[3],10),parseInt(r[4]||0,10)]:null}(),w.SUPPORTS_INPUTMODE=function(){var r=w.IOS_VERSION,d=w.MAC_VERSION,i=w.CHROME_VERSION;return r&&r[0]>=13||w.IS_IOS&&!r&&d&&(d[0]>10||d[0]===10&&d[1]>=15)||w.IS_ANDROID&&i&&i[0]>=76}(),w.SUPPORTS_TRANSLATE3D=!1,o(document).ready(function(){var r,d,i=document.createElement("p"),l={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(i,null);for(var g in l)if(i.style[g]!==void 0){if(i.style[g]="translate3d(1px,1px,1px)",!(d=window.getComputedStyle(i)))return;r=d.getPropertyValue(l[g])}document.body.removeChild(i),w.SUPPORTS_TRANSLATE3D=r!==void 0&&r.length>0&&r!=="none"}),w.translateRule=function(r,d){return w.SUPPORTS_TRANSLATE3D?"translate3d("+r+(r?"px":"")+","+d+(d?"px":"")+",0)":"translate("+r+(r?"px":"")+","+d+(d?"px":"")+")"},w.SUPPORTS_CANVAS=function(){var r=document.createElement("canvas");return!(!r.getContext||!r.getContext("2d"))}(),w}),q("testbridge",["require"],function(O){function o(){window.consoleOverride=!0;var r=window.console.log;window.console.log=function(){for(var d=[],i=0;i<arguments.length;i++)d.push(arguments[i]);r.apply(window.console,[].concat([d.join(" ")],d))}}var w={ready:function(){try{window.TestBridge=w,parent.USING_SELENIUM&&o()}catch{}}};return w}),function(){function O(){}function o($){var ce=C.call(arguments,1);return function(){return $.apply(this,ce)}}function w($,ce){if(!ce)throw new Error("prayer failed: "+$)}function r($){w("a direction was passed",$===S||$===x)}function d(){ee||(ee=!0,setTimeout(i))}function i(){ee=!1,X={}}function l($,ce){var N=$[S];if(N)for(;N!==$[x][x];N=N[x]){var Q=ce(N);if(Q===!1)break}}function g($,ce,N){var Q=$[S];if(!Q)return ce;for(;Q!==$[x][x];Q=Q[x])ce=N(ce,Q);return ce}function y($,ce,N){w("a parent is always present",$),w("leftward is properly set up",function(){return ce?ce[x]===N&&ce.parent===$:$.ends[S]===N}()),w("rightward is properly set up",function(){return N?N[S]===ce&&N.parent===$:$.ends[x]===ce}())}function p(){window.console&&console.warn(`You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:

    MathQuill = MathQuill.getInterface(1);
    // now MathQuill.MathField() works like it used to

See also the "\`dev\` branch (2014\u20132015) \u2192 v0.10.0 Migration Guide" at
  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide`)}function u($){return p(),Xt($)}function f($){function ce(J){if(!J||!J.nodeType)return null;var Se=W.getNodeOfElement(B(J).children(".dcg-mq-root-block")[0]),De=Se&&Se.controller;return De?Q[De.KIND_OF_MQ](De):null}function N(J,Se){Se&&Se.handlers&&(Se.handlers={fns:Se.handlers,APIClasses:Q});for(var De in Se)if(Se.hasOwnProperty(De)){var We=Se[De],et=H[De];J[De]=et?et(We):We}}if(!(re<=$&&$<=se))throw"Only interface versions between "+re+" and "+se+" supported. You specified: "+$;var Q={};ce.L=S,ce.R=x,ce.saneKeyboardEvents=Me,ce.config=function(J){return N(te.p,J),this},ce.registerEmbed=function(J,Se){if(!/^[a-z][a-z0-9]*$/i.test(J))throw"Embed name must start with letter and be only letters and digits";fe[J]=Se};var oe=Q.AbstractMathQuill=D(pe,function(J){J.init=function(Se){this.__controller=Se,this.__options=Se.options,this.id=Se.id,this.data=Se.data},J.__mathquillify=function(Se){var De=this.__controller,We=De.root,et=De.container;De.createTextarea();var lt=et.addClass(Se).contents().detach();We.jQ=B('<span class="dcg-mq-root-block"/>').appendTo(et),W.linkElementByBlockId(We.jQ[0],We.id),this.latex(lt.text()),this.revert=function(){return et.empty().unbind(".mathquill").removeClass("dcg-mq-editable-field dcg-mq-math-mode dcg-mq-text-mode").append(lt)}},J.config=function(Se){return N(this.__options,Se),this},J.el=function(){return this.__controller.container[0]},J.text=function(){return this.__controller.exportText()},J.mathspeak=function(){return this.__controller.exportMathSpeak()},J.latex=function(Se){return arguments.length>0?(this.__controller.renderLatexMath(Se),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},J.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?dcg-mq-cursor( dcg-mq-blink)?"?>.?<\/span>/i,"").replace(/ dcg-mq-hasCursor|dcg-mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},J.reflow=function(){return this.__controller.root.postOrder(function(Se){Se.reflow()}),this}});ce.prototype=oe.prototype,Q.EditableField=D(oe,function(J,Se){J.__mathquillify=function(){return Se.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},J.focus=function(){return this.__controller.textarea.focus(),this.__controller.scrollHoriz(),this},J.blur=function(){return this.__controller.textarea.blur(),this},J.write=function(De){return this.__controller.writeLatex(De),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},J.cmd=function(De){var We=this.__controller.notify(),et=We.cursor;if(/^\\[a-z]+$/i.test(De)){De=De.slice(1);var lt=F[De];lt&&(De=lt(De),et.selection&&De.replaces(et.replaceSelection()),De.createLeftOf(et.show()))}else et.parent.write(et,De);return We.scrollHoriz(),We.blurred&&et.hide().parent.blur(),this},J.select=function(){var De=this.__controller;for(De.notify("move").cursor.insAtRightEnd(De.root);De.cursor[S];)De.selectLeft();return this},J.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},J.moveToDirEnd=function(De){return this.__controller.notify("move").cursor.insAtDirEnd(De,this.__controller.root),this},J.moveToLeftEnd=function(){return this.moveToDirEnd(S)},J.moveToRightEnd=function(){return this.moveToDirEnd(x)},J.keystroke=function(De,We){for(var De=De.replace(/^\s+|\s+$/g,"").split(/\s+/),et=0;et<De.length;et+=1)this.__controller.keystroke(De[et],We||{preventDefault:O});return this},J.typedText=function(De){for(var We=0;We<De.length;We+=1)this.__controller.typedText(De.charAt(We));return this},J.dropEmbedded=function(De,We,et){var lt=De-B(window).scrollLeft(),ht=We-B(window).scrollTop(),ft=document.elementFromPoint(lt,ht);this.__controller.seek(B(ft),De,We),dr().setOptions(et).createLeftOf(this.__controller.cursor)},J.setAriaLabel=function(De){return this.__controller.ariaLabel=De&&typeof De=="string"&&De!=""?De:"Math Input",this},J.getAriaLabel=function(){return this.__controller.ariaLabel||"Math Input"},J.setAriaPostLabel=function(De,We){var et=this.__controller;return De&&typeof De=="string"&&De!=""?(De!==et.ariaPostLabel&&typeof We=="number"&&(this.ariaAlertTimeout&&clearTimeout(this.ariaAlertTimeout),this.ariaAlertTimeout=setTimeout(function(){B(document.activeElement).closest(B(et.container)).length&&ke.alert(this.mathspeak().trim()+" "+De.trim())}.bind(this),We)),et.ariaPostLabel=De):(this.ariaAlertTimeout&&clearTimeout(this.ariaAlertTimeout),et.ariaPostLabel=""),this},J.getAriaPostLabel=function(){return this.__controller.ariaPostLabel||""},J.clickAt=function(De,We,et){et=et||document.elementFromPoint(De,We);var lt=this.__controller,ht=lt.root;return v.contains(ht.jQ[0],et)||(et=ht.jQ[0]),lt.seek(B(et),De+pageXOffset,We+pageYOffset),lt.blurred&&this.focus(),this},J.ignoreNextMousedown=function(De){return this.__controller.cursor.options.ignoreNextMousedown=De,this}}),ce.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"},ce.EditableField.prototype=Q.EditableField.prototype;for(var we in ge)(function(J,Se){var De=Q[J]=Se(Q);ce[J]=function(We,et){var lt=ce(We);if(lt instanceof De||!We||!We.nodeType)return lt;var ht=Y(De.RootBlock(),B(We),te());return ht.KIND_OF_MQ=J,De(ht).__mathquillify(et,$)},ce[J].prototype=De.prototype})(we,ge[we]);return ce}function b($){for(var ce="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" "),N=0;N<ce.length;N+=1)(function(Q){$[Q]=function(oe){this.controller.handle(Q,oe)}})(ce[N]);$.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}function m($){var ce=this.parent,N=$;do{if(N[x])return $.insLeftOf(ce);N=N.parent.parent}while(N!==ce);$.insRightOf(ce)}function c($,ce){$.jQadd=function(){ce.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")}}function n($,Q,N){var Q=Q||$,oe=Ut[$],we=Ut[Q];G[$]=o(xt,S,$,oe,Q,we),G[oe]=o(xt,x,$,oe,Q,we),jt[$]=jt[oe]=N}var s,v=window.jQuery,A=Math.min,M=Math.max;if(!v)throw"MathQuill requires jQuery 1.5.2+ to be loaded first";var C=[].slice,D=function($,ce,N){function Q(J){return typeof J=="object"}function oe(J){return typeof J=="function"}function we(){}return function J(Se,De){function We(){var bt=new et;return oe(bt.init)&&bt.init.apply(bt,arguments),bt}function et(){}De===void 0&&(De=Se,Se=Object),We.Bare=et;var lt,ht=we.prototype=Se.prototype,ft=et.prototype=We.prototype=We.p=new we;return ft.constructor=We,We.extend=function(bt){return J(We,bt)},(We.open=function(bt){if(lt={},oe(bt)?lt=bt.call(We,ft,ht,We,Se):Q(bt)&&(lt=bt),Q(lt))for(var Bt in lt)ce.call(lt,Bt)&&(ft[Bt]=lt[Bt]);return oe(ft.init)||(ft.init=Se),We})(De)}}(0,{}.hasOwnProperty),S=-1,x=1,B=D(v,function($){$.insDirOf=function(ce,N){return ce===S?this.insertBefore(N.first()):this.insertAfter(N.last())},$.insAtDirEnd=function(ce,N){return ce===S?this.prependTo(N):this.appendTo(N)}}),Z=D(function($){$.parent=0,$[S]=0,$[x]=0,$.init=function(ce,N,Q){this.parent=ce,this[S]=N,this[x]=Q},this.copy=function(ce){return Z(ce.parent,ce[S],ce[x])}}),X={},ee=!1,W=D(function($){function ce(){return N+=1}$[S]=0,$[x]=0,$.parent=0;var N=0;this.getNodeOfElement=function(Q){if(Q){if(!Q.nodeType)throw new Error("must pass an HTMLElement to Node.getNodeOfElement");return Q.mqBlockNode||Q.mqCmdNode}},this.linkElementByBlockId=function(Q,oe){W.linkElementByBlockNode(Q,X[oe])},this.linkElementByBlockNode=function(Q,oe){Q.mqBlockNode=oe},this.linkElementByCmdNode=function(Q,oe){Q.mqCmdNode=oe},$.init=function(){this.id=ce(),X[N]=this,d(),this.ends={},this.ends[S]=0,this.ends[x]=0},$.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},$.jQ=B(),$.jQadd=function(Q){return this.jQ=this.jQ.add(Q)},$.jQize=function(Q){function oe(J){if(J.getAttribute){var Se=J.getAttribute("mathquill-command-id");if(Se){J.removeAttribute("mathquill-command-id");var De=X[Se];De.jQadd(J),W.linkElementByCmdNode(J,De)}var We=J.getAttribute("mathquill-block-id");if(We){J.removeAttribute("mathquill-block-id");var et=X[We];et.jQadd(J),W.linkElementByBlockNode(J,et)}}for(J=J.firstChild;J;J=J.nextSibling)oe(J)}for(var Q=B(Q||this.html()),we=0;we<Q.length;we+=1)oe(Q[we]);return Q},$.createDir=function(Q,oe){r(Q);var we=this;return we.jQize(),we.jQ.insDirOf(Q,oe.jQ),oe[Q]=we.adopt(oe.parent,oe[S],oe[x]),we},$.createLeftOf=function(Q){return this.createDir(S,Q)},$.selectChildren=function(Q,oe){return ne(Q,oe)},$.bubble=function(Q){for(var oe=this;oe&&Q(oe)!==!1;oe=oe.parent);return this},$.postOrder=function(Q){return function oe(we){we.eachChild(oe),Q(we)}(this),this},$.isEmpty=function(){return this.ends[S]===0&&this.ends[x]===0},$.isEmptyParens=function(){return!!this.isEmpty()&&!!this.parent&&this.parent.ctrlSeq==="\\left("},$.isStyleBlock=function(){return!1},$.children=function(){return U(this.ends[S],this.ends[x])},$.eachChild=function(Q){return l(this.ends,Q),this},$.foldChildren=function(Q,oe){return g(this.ends,Q,oe)},$.withDirAdopt=function(Q,oe,we,J){return U(this,this).withDirAdopt(Q,oe,we,J),this},$.adopt=function(Q,oe,we){return U(this,this).adopt(Q,oe,we),this},$.disown=function(){return U(this,this).disown(),this},$.remove=function(){return this.jQ.remove(),this.disown()},$.isParentSimpleSubscript=function(){return!!this.parent&&this.parent.parent instanceof gt&&!!this.parent.jQ.hasClass("dcg-mq-sub")},$.finalizeTree=function(){},$.contactWeld=function(){},$.blur=function(){},$.intentionalBlur=function(){},$.reflow=function(){},$.registerInnerField=function(){}}),U=D(function($){$.init=function(ce,N,Q){if(Q===s&&(Q=S),r(Q),w("no half-empty fragments",!ce==!N),this.ends={},ce){w("withDir is passed to Fragment",ce instanceof W),w("oppDir is passed to Fragment",N instanceof W),w("withDir and oppDir have the same parent",ce.parent===N.parent),this.ends[Q]=ce,this.ends[-Q]=N;var oe=this.fold([],function(we,J){return we.push.apply(we,J.jQ.get()),we});this.jQ=this.jQ.add(oe)}},$.jQ=B(),$.withDirAdopt=function(ce,N,Q,oe){return ce===S?this.adopt(N,Q,oe):this.adopt(N,oe,Q)},$.adopt=function(ce,N,Q){y(ce,N,Q);var oe=this;oe.disowned=!1;var we=oe.ends[S];if(!we)return this;var J=oe.ends[x];return N||(ce.ends[S]=we),Q?Q[S]=J:ce.ends[x]=J,oe.ends[x][x]=Q,oe.each(function(Se){Se[S]=N,Se.parent=ce,N&&(N[x]=Se),N=Se}),oe},$.disown=function(){var ce=this,N=ce.ends[S];if(!N||ce.disowned)return ce;ce.disowned=!0;var Q=ce.ends[x],oe=N.parent;return y(oe,N[S],N),y(oe,Q,Q[x]),N[S]?N[S][x]=Q[x]:oe.ends[S]=Q[x],Q[x]?Q[x][S]=N[S]:oe.ends[x]=N[S],ce},$.remove=function(){return this.jQ.remove(),this.disown()},$.each=function(ce){return l(this.ends,ce),this},$.fold=function(ce,N){return g(this.ends,ce,N)}}),F={},G={},ie=D(Z,function($){$.init=function(ce,N,Q){this.controller=Q,this.parent=ce,this.options=N;var oe=this.jQ=this._jQ=B('<span class="dcg-mq-cursor">&#8203;</span>');this.blink=function(){oe.toggleClass("dcg-mq-blink")},this.upDownCache={}},$.show=function(){return this.jQ=this._jQ.removeClass("dcg-mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[x]?this.selection&&this.selection.ends[S][S]===this[S]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[x].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},$.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=B(),this},$.withDirInsertAt=function(ce,N,Q,oe){var we=this.parent;this.parent=N,this[ce]=Q,this[-ce]=oe,we!==N&&we.blur&&we.blur(this)},$.insDirOf=function(ce,N){return r(ce),this.jQ.insDirOf(ce,N.jQ),this.withDirInsertAt(ce,N.parent,N[ce],N),this.parent.jQ.addClass("dcg-mq-hasCursor"),this},$.insLeftOf=function(ce){return this.insDirOf(S,ce)},$.insRightOf=function(ce){return this.insDirOf(x,ce)},$.insAtDirEnd=function(ce,N){return r(ce),this.jQ.insAtDirEnd(ce,N.jQ),this.withDirInsertAt(ce,N,0,N.ends[ce]),N.focus(),this},$.insAtLeftEnd=function(ce){return this.insAtDirEnd(S,ce)},$.insAtRightEnd=function(ce){return this.insAtDirEnd(x,ce)},$.jumpUpDown=function(ce,N){var Q=this;Q.upDownCache[ce.id]=Z.copy(Q);var oe=Q.upDownCache[N.id];if(oe)oe[x]?Q.insLeftOf(oe[x]):Q.insAtRightEnd(oe.parent);else{var we=Q.offset().left;N.seek(we,Q)}ke.queue(N,!0)},$.offset=function(){var ce=this,N=ce.jQ.removeClass("dcg-mq-cursor").offset();return ce.jQ.addClass("dcg-mq-cursor"),N},$.unwrapGramp=function(){var ce=this.parent.parent,N=ce.parent,Q=ce[x],oe=this,we=ce[S];if(ce.disown().eachChild(function(J){J.isEmpty()||(J.children().adopt(N,we,Q).each(function(Se){Se.jQ.insertBefore(ce.jQ.first())}),we=J.ends[x])}),!this[x])if(this[S])this[x]=this[S][x];else for(;!this[x];){if(this.parent=this.parent[x],!this.parent){this[x]=ce[x],this.parent=N;break}this[x]=this.parent.ends[S]}this[x]?this.insLeftOf(this[x]):this.insAtRightEnd(N),ce.jQ.remove(),ce[S].siblingDeleted&&ce[S].siblingDeleted(oe.options,x),ce[x].siblingDeleted&&ce[x].siblingDeleted(oe.options,S)},$.startSelection=function(){for(var ce=this.anticursor=Z.copy(this),N=ce.ancestors={},Q=ce;Q.parent;Q=Q.parent)N[Q.parent.id]=Q},$.endSelection=function(){delete this.anticursor},$.select=function(){var ce=this.anticursor;if(this[S]===ce[S]&&this.parent===ce.parent)return!1;for(var N=this;N.parent;N=N.parent)if(N.parent.id in ce.ancestors){var Q=N.parent;break}w("cursor and anticursor in the same tree",Q);var oe,we,J=ce.ancestors[Q.id],Se=x;if(N[S]!==J){for(var De=N;De;De=De[x])if(De[x]===J[x]){Se=S,oe=N,we=J;break}}return Se===x&&(oe=J,we=N),oe instanceof Z&&(oe=oe[x]),we instanceof Z&&(we=we[S]),this.hide().selection=Q.selectChildren(oe,we),this.insDirOf(Se,this.selection.ends[Se]),this.selectionChanged(),!0},$.resetToEnd=function(ce){this.clearSelection();var N=ce.root;this[x]=0,this[S]=N.ends[x],this.parent=N},$.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},$.deleteSelection=function(){this.selection&&(this[S]=this.selection.ends[S][S],this[x]=this.selection.ends[x][x],this.selection.remove(),this.selectionChanged(),delete this.selection)},$.replaceSelection=function(){var ce=this.selection;return ce&&(this[S]=ce.ends[S][S],this[x]=ce.ends[x][x],delete this.selection),ce}}),ne=D(U,function($,ce){$.init=function(){ce.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="dcg-mq-selection"></span>').parent()},$.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),ce.adopt.apply(this,arguments)},$.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},$.join=function(N,Q){var oe=Q||"";return this.fold("",function(we,J){return we+oe+J[N]()})}}),Y=D(function($){$.init=function(N,Q,oe){this.id=N.id,this.data={},this.root=N,this.container=Q,this.options=oe,this.ariaLabel="Math Input",this.ariaPostLabel="",N.controller=this,this.cursor=N.cursor=ie(N,oe,this)},$.handle=function(N,Q){var oe=this.options.handlers;if(oe&&oe.fns[N]){var we=oe.APIClasses[this.KIND_OF_MQ](this);Q===S||Q===x?oe.fns[N](Q,we):oe.fns[N](we)}};var ce=[];this.onNotify=function(N){ce.push(N)},$.notify=function(){for(var N=0;N<ce.length;N+=1)ce[N].apply(this.cursor,arguments);return this}}),ge={},te=D(),H={},pe=D(),fe={};u.prototype=pe.p,u.VERSION="vv1.5",u.interfaceVersion=function($){if($!==1)throw"Only interface version 1 supported. You specified: "+$;return p=function(){window.console&&console.warn(`You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:

    MathQuill = MathQuill.getInterface(1);
    // now MathQuill.MathField() works like it used to

See also the "\`dev\` branch (2014\u20132015) \u2192 v0.10.0 Migration Guide" at
  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide`)},p(),u},u.getInterface=f;var re=f.MIN=1,se=f.MAX=2;u.noConflict=function(){return window.MathQuill=he,u};var he=window.MathQuill;window.MathQuill=u;var xe=D(function($,ce,N){function Q(Se,De){throw Se=Se?"'"+Se+"'":"EOF","Parse Error: "+De+" at "+Se}$.init=function(Se){this._=Se},$.parse=function(Se){function De(We,et){return et}return this.skip(J)._(""+Se,De,Q)},$.or=function(Se){w("or is passed a parser",Se instanceof N);var De=this;return N(function(We,et,lt){function ht(ft){return Se._(We,et,lt)}return De._(We,et,ht)})},$.then=function(Se){var De=this;return N(function(We,et,lt){function ht(ft,bt){var Bt=Se instanceof N?Se:Se(bt);return w("a parser is returned",Bt instanceof N),Bt._(ft,et,lt)}return De._(We,ht,lt)})},$.many=function(){var Se=this;return N(function(De,We,et){function lt(bt,Bt){return De=bt,ft.push(Bt),!0}function ht(){return!1}for(var ft=[];Se._(De,lt,ht););return We(De,ft)})},$.times=function(Se,De){arguments.length<2&&(De=Se);var We=this;return N(function(et,lt,ht){function ft(Ft,Ot){return Vt.push(Ot),et=Ft,!0}function bt(Ft,Ot){return zt=Ot,et=Ft,!1}function Bt(Ft,Ot){return!1}for(var zt,Vt=[],qt=!0,Zt=0;Zt<Se;Zt+=1)if(!(qt=We._(et,ft,bt)))return ht(et,zt);for(;Zt<De&&qt;Zt+=1)qt=We._(et,ft,Bt);return lt(et,Vt)})},$.result=function(Se){return this.then(we(Se))},$.atMost=function(Se){return this.times(0,Se)},$.atLeast=function(Se){var De=this;return De.times(Se).then(function(We){return De.many().map(function(et){return We.concat(et)})})},$.map=function(Se){return this.then(function(De){return we(Se(De))})},$.skip=function(Se){return this.then(function(De){return Se.result(De)})};var oe=(this.string=function(Se){var De=Se.length,We="expected '"+Se+"'";return N(function(et,lt,ht){var ft=et.slice(0,De);return ft===Se?lt(et.slice(De),ft):ht(et,We)})},this.regex=function(Se){w("regexp parser is anchored",Se.toString().charAt(1)==="^");var De="expected "+Se;return N(function(We,et,lt){var ht=Se.exec(We);if(ht){var ft=ht[0];return et(We.slice(ft.length),ft)}return lt(We,De)})}),we=N.succeed=function(Se){return N(function(De,We){return We(De,Se)})},J=(N.fail=function(Se){return N(function(De,We,et){return et(De,Se)})},N.letter=oe(/^[a-z]/i),N.letters=oe(/^[a-z]*/i),N.digit=oe(/^[0-9]/),N.digits=oe(/^[0-9]*/),N.whitespace=oe(/^\s+/),N.optWhitespace=oe(/^\s*/),N.any=N(function(Se,De,We){return Se?De(Se.slice(1),Se.charAt(0)):We(Se,"expected any character")}),N.all=N(function(Se,De,We){return De("",Se)}),N.eof=N(function(Se,De,We){return Se?We(Se,"expected EOF"):De(Se,Se)}))}),Me=function(){function $(N){var Q,oe=N.which||N.keyCode,we=ce[oe],J=[];return N.ctrlKey&&J.push("Ctrl"),N.originalEvent&&N.originalEvent.metaKey&&J.push("Meta"),N.altKey&&J.push("Alt"),N.shiftKey&&J.push("Shift"),Q=we||String.fromCharCode(oe),J.length||we?(J.push(Q),J.join("-")):Q}var ce={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"};return function(N,Q){function oe(St){ar=St,clearTimeout(qt),qt=setTimeout(St)}function we(St){oe(function(sr){ar=O,clearTimeout(qt),St(sr)})}function J(){try{Ot[0].select()}catch{}}function Se(St){ar(),ar=O,clearTimeout(qt),Ot.val(St),St&&J(),vr=!!St}function De(){var St=Ot[0];return"selectionStart"in St&&St.selectionStart!==St.selectionEnd}function We(){Q.options&&Q.options.overrideKeystroke?Q.options.overrideKeystroke($(Zt),Zt):Q.keystroke($(Zt),Zt)}function et(St){Zt=St,Ft=null,vr&&we(function(sr){sr&&sr.type==="focusout"||J()}),We()}function lt(St){if(!St||!St.originalEvent)return!1;switch(St.originalEvent.key){case"ArrowRight":case"ArrowLeft":case"ArrowDown":case"ArrowUp":return!0}return!1}function ht(St){Zt&&Ft&&We(),Ft=St,lt(St)||oe(bt)}function ft(St){Zt&&!Ft&&(lt(St)||oe(bt))}function bt(){if(!De()){var St=Ot.val();St.length===1?(Ot.val(""),Q.options&&Q.options.overrideTypedText?Q.options.overrideTypedText(St):Q.typedText(St)):St&&J()}}function Bt(){Zt=null,Ft=null,ar=O,clearTimeout(qt),Ot.val("")}function zt(St){Ot.focus(),oe(Vt)}function Vt(){var St=Ot.val();Ot.val(""),St&&Q.paste(St)}var qt,Zt=null,Ft=null,Ot=v(N),ir=v(Q.container||Ot),ar=O;ir.bind("keydown keypress input keyup paste",function(St){ar(St)});var vr=!1;return Q.options&&Q.options.disableCopyPaste?ir.bind({keydown:et,keypress:ht,keyup:ft,focusout:Bt,copy:function(St){St.preventDefault()},cut:function(St){St.preventDefault()},paste:function(St){St.preventDefault()}}):ir.bind({keydown:et,keypress:ht,keyup:ft,focusout:Bt,cut:function(){we(function(){Q.cut()})},copy:function(){we(function(){Q.copy()})},paste:zt}),{select:Se}}}(),Be=D(function($){$.init=function(){this.jQ=v([]),v(document).ready(function(){var ce=".dcg-mq-aria-alert";v(ce).length||v("body").append("<p aria-live='assertive' aria-atomic='true' class='dcg-mq-aria-alert'></p>"),this.jQ=v(ce)}.bind(this)),this.items=[],this.msg=""},$.queue=function(ce,N){return ce instanceof W&&(ce=N?ce.parent&&ce.parent.ariaLabel&&ce.ariaLabel==="block"?ce.parent.ariaLabel+" "+ce.mathspeak():ce.ariaLabel?ce.ariaLabel+" "+ce.mathspeak():ce.mathspeak():ce.mathspeak()),this.items.push(ce),this},$.queueDirOf=function(ce){return r(ce),this.queue(ce===S?"before":"after")},$.queueDirEndOf=function(ce){return r(ce),this.queue(ce===S?"beginning of":"end of")},$.alert=function(ce){return ce&&this.queue(ce),this.items.length&&(this.msg=this.items.join(" ").replace(/ +(?= )/g,"").trim(),this.jQ.empty().text(this.msg)),this.clear()},$.clear=function(){return this.items.length=0,this}}),ke=Be();Y.open(function($){$.aria=ke,$.exportMathSpeak=function(){return this.root.mathspeak()}}),Y.open(function($,ce){$.exportText=function(){return this.root.foldChildren("",function(N,Q){return N+Q.text()})}}),Y.open(function($){this.onNotify(function(ce){if(ce==="edit"||ce==="replace"||ce===s){var N=this.controller;if(!N||!N.options.enableDigitGrouping||N.blurred!==!1)return;N.disableGroupingForSeconds(1)}}),$.disableGroupingForSeconds=function(ce){clearTimeout(this.__disableGroupingTimeout);var N=this.root.jQ;ce===0?N.removeClass("dcg-mq-suppress-grouping"):(N.addClass("dcg-mq-suppress-grouping"),this.__disableGroupingTimeout=setTimeout(function(){N.removeClass("dcg-mq-suppress-grouping")},1e3*ce))},$.focusBlurEvents=function(){function ce(){clearTimeout(oe),Se.selection&&Se.selection.jQ.addClass("dcg-mq-blur"),N(),Q()}function N(){Se.hide().parent.blur(),we.container.removeClass("dcg-mq-focused"),B(window).unbind("blur",ce),we.options&&we.options.resetCursorOnBlur&&Se.resetToEnd(we)}function Q(){var De=(we.ariaLabel+": "+J.mathspeak()+" "+we.ariaPostLabel).trim();ke.jQ.empty(),we.textarea.attr("aria-label",De),we.container.attr("aria-label",De)}var oe,we=this,J=we.root,Se=we.cursor;we.textarea.focus(function(){Q(),we.blurred=!1,clearTimeout(oe),we.container.addClass("dcg-mq-focused"),Se.parent||Se.insAtRightEnd(J),Se.selection?(Se.selection.jQ.removeClass("dcg-mq-blur"),we.selectionChanged()):Se.show(),we.setOverflowClasses()}).blur(function(){we.textareaSelectionTimeout&&(clearTimeout(we.textareaSelectionTimeout),we.textareaSelectionTimeout=s),we.disableGroupingForSeconds(0),we.blurred=!0,oe=setTimeout(function(){J.postOrder(function(De){De.intentionalBlur()}),Se.clearSelection().endSelection(),N(),Q(),we.scrollHoriz()}),B(window).bind("blur",ce)}),Q(),we.blurred=!0,Se.hide().parent.blur()}}),Y.open(function($){$.keystroke=function(ce,N){this.cursor.parent.keystroke(ce,N,this)}}),W.open(function($){$.keystroke=function(ce,N,Q){var oe=Q.cursor;switch(ce){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":Q.ctrlDeleteDir(S);break;case"Shift-Backspace":case"Backspace":Q.backspace();break;case"Esc":case"Tab":return void Q.escapeDir(x,ce,N);case"Shift-Tab":case"Shift-Esc":return void Q.escapeDir(S,ce,N);case"End":Q.notify("move").cursor.insAtRightEnd(oe.parent),ke.queue("end of").queue(oe.parent,!0);break;case"Ctrl-End":Q.notify("move").cursor.insAtRightEnd(Q.root),ke.queue("end of").queue(Q.ariaLabel).queue(Q.root).queue(Q.ariaPostLabel);break;case"Shift-End":for(;oe[x];)Q.selectRight();break;case"Ctrl-Shift-End":for(;oe[x]||oe.parent!==Q.root;)Q.selectRight();break;case"Home":Q.notify("move").cursor.insAtLeftEnd(oe.parent),ke.queue("beginning of").queue(oe.parent,!0);break;case"Ctrl-Home":Q.notify("move").cursor.insAtLeftEnd(Q.root),ke.queue("beginning of").queue(Q.ariaLabel).queue(Q.root).queue(Q.ariaPostLabel);break;case"Shift-Home":for(;oe[S];)Q.selectLeft();break;case"Ctrl-Shift-Home":for(;oe[S]||oe.parent!==Q.root;)Q.selectLeft();break;case"Left":Q.moveLeft();break;case"Shift-Left":Q.selectLeft();break;case"Ctrl-Left":break;case"Right":Q.moveRight();break;case"Shift-Right":Q.selectRight();break;case"Ctrl-Right":break;case"Up":Q.moveUp();break;case"Down":Q.moveDown();break;case"Shift-Up":if(oe[S])for(;oe[S];)Q.selectLeft();else Q.selectLeft();case"Shift-Down":if(oe[x])for(;oe[x];)Q.selectRight();else Q.selectRight();case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":Q.ctrlDeleteDir(x);break;case"Shift-Del":case"Del":Q.deleteForward();break;case"Meta-A":case"Ctrl-A":for(Q.notify("move").cursor.insAtRightEnd(Q.root);oe[S];)Q.selectLeft();break;case"Ctrl-Alt-Up":oe.parent.parent&&oe.parent.parent instanceof W?ke.queue(oe.parent.parent):ke.queue("nothing above");break;case"Ctrl-Alt-Down":oe.parent&&oe.parent instanceof W?ke.queue(oe.parent):ke.queue("block is empty");break;case"Ctrl-Alt-Left":oe.parent.parent&&oe.parent.parent.ends&&oe.parent.parent.ends[S]&&oe.parent.parent.ends[S]instanceof W?ke.queue(oe.parent.parent.ends[S]):ke.queue("nothing to the left");break;case"Ctrl-Alt-Right":oe.parent.parent&&oe.parent.parent.ends&&oe.parent.parent.ends[x]&&oe.parent.parent.ends[x]instanceof W?ke.queue(oe.parent.parent.ends[x]):ke.queue("nothing to the right");break;case"Ctrl-Alt-Shift-Down":oe.selection?ke.queue(oe.selection.join("mathspeak"," ").trim()+" selected"):ke.queue("nothing selected");break;case"Ctrl-Alt-=":case"Ctrl-Alt-Shift-Right":Q.ariaPostLabel.length?ke.queue(Q.ariaPostLabel):ke.queue("no answer");break;default:return}ke.alert(),N.preventDefault(),Q.scrollHoriz()},$.moveOutOf=$.moveTowards=$.deleteOutOf=$.deleteTowards=$.unselectInto=$.selectOutOf=$.selectTowards=function(){w("overridden or never called on this node")}}),Y.open(function($){function ce(N,Q){var oe=N.notify("upDown").cursor,we=Q+"Into",J=Q+"OutOf";return oe[x][we]?oe.insAtLeftEnd(oe[x][we]):oe[S][we]?oe.insAtRightEnd(oe[S][we]):oe.parent.bubble(function(Se){var De=Se[J];if(De&&(typeof De=="function"&&(De=Se[J](oe)),De instanceof W&&oe.jumpUpDown(Se,De),De!==!0))return!1}),N}this.onNotify(function(N){N!=="move"&&N!=="upDown"||this.show().clearSelection()}),$.escapeDir=function(N,Q,oe){r(N);var we=this.cursor;if(we.parent!==this.root&&oe.preventDefault(),we.parent!==this.root)return we.parent.moveOutOf(N,we),ke.alert(),this.notify("move")},H.leftRightIntoCmdGoes=function(N){if(N&&N!=="up"&&N!=="down")throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+N+'"';return N},$.moveDir=function(N){r(N);var Q=this.cursor,oe=Q.options.leftRightIntoCmdGoes;return Q.selection?Q.insDirOf(N,Q.selection.ends[N]):Q[N]?Q[N].moveTowards(N,Q,oe):Q.parent.moveOutOf(N,Q,oe),this.notify("move")},$.moveLeft=function(){return this.moveDir(S)},$.moveRight=function(){return this.moveDir(x)},$.moveUp=function(){return ce(this,"up")},$.moveDown=function(){return ce(this,"down")},this.onNotify(function(N){N!=="upDown"&&(this.upDownCache={})}),this.onNotify(function(N){N==="edit"&&this.show().deleteSelection()}),$.deleteDir=function(N){r(N);var Q=this.cursor,oe=Q[N],we=Q.parent.parent;if(oe&&oe instanceof W)oe.sides?ke.queue(oe.parent.chToCmd(oe.sides[-N].ch).mathspeak({createdLeftOf:Q})):oe.blocks||oe.parent.ctrlSeq==="\\text"||ke.queue(oe);else if(we&&we instanceof W)if(we.sides)ke.queue(we.parent.chToCmd(we.sides[N].ch).mathspeak({createdLeftOf:Q}));else if(we.blocks&&we.mathspeakTemplate)if(we.upInto&&we.downInto)ke.queue(we.mathspeakTemplate[1]);else{var J=we.mathspeakTemplate,Se=N===S?J[0]:J[J.length-1];ke.queue(Se)}else ke.queue(we);var De=Q.selection;return this.notify("edit"),De||(Q[N]?Q[N].deleteTowards(N,Q):Q.parent.deleteOutOf(N,Q)),Q[S].siblingDeleted&&Q[S].siblingDeleted(Q.options,x),Q[x].siblingDeleted&&Q[x].siblingDeleted(Q.options,S),Q.parent.bubble(function(We){We.reflow()}),this},$.ctrlDeleteDir=function(N){r(N);var Q=this.cursor;if(!Q[N]||Q.selection)return this.deleteDir(N);this.notify("edit");var oe;return oe=N===S?U(Q.parent.ends[S],Q[S]):U(Q[x],Q.parent.ends[x]),ke.queue(oe),oe.remove(),Q.insAtDirEnd(N,Q.parent),Q[S].siblingDeleted&&Q[S].siblingDeleted(Q.options,x),Q[x].siblingDeleted&&Q[x].siblingDeleted(Q.options,S),Q.parent.bubble(function(we){we.reflow()}),this},$.backspace=function(){return this.deleteDir(S)},$.deleteForward=function(){return this.deleteDir(x)},this.onNotify(function(N){N!=="select"&&this.endSelection()}),$.selectDir=function(N){var Q=this.notify("select").cursor,oe=Q.selection;r(N),Q.anticursor||Q.startSelection();var we=Q[N];we?oe&&oe.ends[N]===we&&Q.anticursor[-N]!==we?we.unselectInto(N,Q):we.selectTowards(N,Q):Q.parent.selectOutOf(N,Q),Q.clearSelection(),Q.select()||Q.show(),Q.selection&&ke.clear().queue(Q.selection.join("mathspeak"," ").trim()+" selected")},$.selectLeft=function(){return this.selectDir(S)},$.selectRight=function(){return this.selectDir(x)}});var Re=function(){function $(Ft){var Ot=_e();return Ft.adopt(Ot,0,0),Ot}function ce(Ft){for(var Ot=Ft[0]||_e(),ir=1;ir<Ft.length;ir+=1)Ft[ir].children().adopt(Ot,Ot.ends[x],0);return Ot}var N=xe.string,Q=xe.regex,oe=xe.letter,we=xe.digit,J=xe.any,Se=xe.optWhitespace,De=xe.succeed,We=xe.fail,et=oe.map(function(Ft){return z(Ft)}),lt=we.map(function(Ft){return Ie(Ft)}),ht=Q(/^[^${}\\_^]/).map(function(Ft){return ue(Ft)}),ft=Q(/^[^\\a-eg-zA-Z]/).or(N("\\").then(Q(/^[a-z]+/i).or(Q(/^\s+/).result(" ")).or(J))).then(function(Ft){var Ot=F[Ft];return Ot?Ot(Ft).parser():We("unknown command: \\"+Ft)}),bt=ft.or(et).or(lt).or(ht),Bt=N("{").then(function(){return Vt}).skip(N("}")),zt=Se.then(Bt.or(bt.map($))),Vt=zt.many().map(ce).skip(Se),qt=N("[").then(zt.then(function(Ft){return Ft.join("latex")!=="]"?De(Ft):We()}).many().map(ce).skip(Se)).skip(N("]")),Zt=Vt;return Zt.block=zt,Zt.optBlock=qt,Zt}();Y.open(function($,ce){$.cleanLatex=function(N){return N.replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},$.exportLatex=function(){return this.cleanLatex(this.root.latex())},$.writeLatex=function(N){var Q=this.notify("edit").cursor,oe=xe.all,we=xe.eof,J=Re.skip(we).or(oe.result(!1)).parse(N);return J&&!J.isEmpty()&&(J.children().adopt(Q.parent,Q[S],Q[x]),J.jQize().insertBefore(Q.jQ),Q[S]=J.ends[x],J.finalizeInsert(Q.options,Q),J.ends[x][x].siblingCreated&&J.ends[x][x].siblingCreated(Q.options,S),J.ends[S][S].siblingCreated&&J.ends[S][S].siblingCreated(Q.options,x),Q.parent.bubble(function(Se){Se.reflow()})),this},$.classifyLatexForEfficientUpdate=function(N){if(typeof N=="string"){var Q=N.match(/-?[0-9.]+$/g);return Q&&Q.length===1?{latex:N,prefix:N.substr(0,N.length-Q[0].length),digits:Q[0]}:void 0}},$.renderLatexMathEfficiently=function(N){var Q,oe,we=this.classifyLatexForEfficientUpdate(N);if(!we||(Q=this.exportLatex(),!(oe=this.classifyLatexForEfficientUpdate(Q))||oe.prefix!==we.prefix))return!1;var J=this.root,Se=oe.digits,De=we.digits,We=!1,et=!1;Se[0]==="-"&&(We=!0,Se=Se.substr(1)),De[0]==="-"&&(et=!0,De=De.substr(1));for(var lt=this.root.ends[x],ht=[],ft=Se.length-1;ft>=0;ft--){if(lt.ctrlSeq!==Se[ft]||lt.parent!==J)return!1;ht.unshift(lt),lt=lt[S]}if(We&&!et){var bt=lt;if(bt.ctrlSeq!=="-"||bt[x]!==ht[0]||bt.parent!==J||bt[S]&&bt[S].parent!==J)return!1;ht[0][S]=bt[S],J.ends[S]===bt&&(J.ends[S]=ht[0]),bt[S]&&(bt[S][x]=ht[0]),bt.jQ.remove()}if(!We&&et){var Bt=Te("-"),zt=document.createElement("span");zt.textContent="-",Bt.jQ=B(zt),ht[0][S]&&(ht[0][S][x]=Bt),J.ends[S]===ht[0]&&(J.ends[S]=Bt),Bt.parent=J,Bt[S]=ht[0][S],Bt[x]=ht[0],ht[0][S]=Bt,Bt.contactWeld(),Bt.jQ.insertBefore(ht[0].jQ)}var Vt=Math.min(Se.length,De.length);for(ft=0;ft<Vt;ft++){var qt=De[ft];lt=ht[ft],lt.ctrlSeq!==qt&&(lt.ctrlSeq=qt,lt.jQ[0].textContent=qt,lt.mathspeakName=qt)}if(Se.length>De.length)for(lt=ht[De.length-1],J.ends[x]=lt,lt[x]=0,ft=Se.length-1;ft>=Vt;ft--)ht[ft].jQ.remove();if(De.length>Se.length){var Zt=document.createDocumentFragment();for(ft=Vt;ft<De.length;ft++){var Ft=document.createElement("span");Ft.className="dcg-mq-digit",Ft.textContent=De[ft];var Ot=Ie(De[ft]);Ot.parent=J,Ot.jQ=B(Ft),Zt.appendChild(Ft),Ot[S]=J.ends[x],Ot[x]=0,Ot[S][x]=Ot,J.ends[x]=Ot}J.jQ[0].appendChild(Zt)}var ir=this.exportLatex();if(ir!==N)return console.warn("tried updating latex efficiently but did not work. Attempted: "+N+" but wrote: "+ir),!1;this.cursor.resetToEnd(this);var ar=J.ends[x];return ar.fixDigitGrouping&&ar.fixDigitGrouping(this.cursor.options),!0},$.renderLatexMathFromScratch=function(N){var Q=this.root,oe=this.cursor,we=xe.all,J=xe.eof,Se=Re.skip(J).or(we.result(!1)).parse(N);Q.ends[S]=Q.ends[x]=0,Se&&Se.children().adopt(Q,0,0);var De=Q.jQ;if(Se){var We=Se.join("html");De.html(We),Q.jQize(De.children()),Q.finalizeInsert(oe.options)}else De.empty();var et=this.ariaLabel&&this.ariaLabel!=="Math Input"?this.ariaLabel+": ":"";this.container.attr("aria-label",et+Q.mathspeak().trim()),delete oe.selection,oe.insAtRightEnd(Q)},$.renderLatexMath=function(N){this.notify("replace"),this.renderLatexMathEfficiently(N)||this.renderLatexMathFromScratch(N)},$.renderLatexText=function(N){var Q=this.root,oe=this.cursor;Q.jQ.children().slice(1).remove(),Q.ends[S]=Q.ends[x]=0,delete oe.selection,oe.show().insAtRightEnd(Q);var we=xe.regex,J=xe.string,Se=xe.eof,De=xe.all,We=J("$").then(Re).skip(J("$").or(Se)).map(function(Bt){var zt=RootMathCommand(oe);zt.createBlocks();var Vt=zt.ends[S];return Bt.children().adopt(Vt,0,0),zt}),et=J("\\$").result("$"),lt=et.or(we(/^[^$]/)).map(ue),ht=We.or(lt).many(),ft=ht.skip(Se).or(De.result(!1)).parse(N);if(ft){for(var bt=0;bt<ft.length;bt+=1)ft[bt].adopt(Q,Q.ends[x],0);Q.jQize().appendTo(Q.jQ),Q.finalizeInsert(oe.options)}}}),Y.open(function($){te.p.ignoreNextMousedown=O;var ce;this.onNotify(function(N){N!=="edit"&&N!=="replace"||ce&&ce.cursor===this&&ce.cb()}),$.delegateMouseEvents=function(){var N=this.root.jQ;this.container.bind("mousedown.mathquill",function(Q){function oe(qt){zt=B(qt.target)}function we(qt){ht.anticursor||ht.startSelection(),lt.seek(zt,qt.pageX,qt.pageY).cursor.select(),ht.selection&&ke.clear().queue(ht.selection.join("mathspeak")+" selected").alert(),zt=s}function J(qt){We.unbind("mousemove",oe),B(qt.target.ownerDocument).unbind("mousemove",we).unbind("mouseup",De),ce=s}function Se(){lt.editable?(ht.show(),ke.queue(ht.parent).alert()):bt.detach()}function De(qt){ht.blink=ft,ht.selection||Se(),J(qt)}var We=B(Q.target).closest(".dcg-mq-root-block"),et=W.getNodeOfElement(We[0])||W.getNodeOfElement(N[0]),lt=et.controller,ht=lt.cursor,ft=ht.blink,bt=lt.textareaSpan,Bt=lt.textarea;if(Q.preventDefault(),Q.target.unselectable=!0,!ht.options.ignoreNextMousedown(Q)){ht.options.ignoreNextMousedown=O;var zt,Vt;ce={cursor:ht,cb:function(){Vt=!0,ht.blink=ft,ht.clearSelection(),Se(),J(Q)}},lt.blurred&&(lt.editable||We.prepend(bt),Bt.focus(),Vt)||(ht.blink=O,lt.seek(B(Q.target),Q.pageX,Q.pageY).cursor.startSelection(),We.mousemove(oe),B(Q.target.ownerDocument).mousemove(we).mouseup(De))}})}}),Y.open(function($){$.seek=function(ce,N,Q){for(var oe,we=this.notify("select").cursor,J=ce&&ce[0];J&&!(oe=W.getNodeOfElement(J));)J=J.parentElement;return oe||(oe=this.root),we.clearSelection().show(),oe.seek(N,we),this.scrollHoriz(),this}}),Y.open(function($){$.setOverflowClasses=function(){var ce=this.root.jQ[0],N=!1,Q=!1;if(!this.blurred){var oe=ce.getBoundingClientRect().width,we=ce.scrollWidth,J=ce.scrollLeft;N=we>oe+J,Q=J>0}ce.classList.contains("dcg-mq-editing-overflow-right")!==N&&ce.classList.toggle("dcg-mq-editing-overflow-right"),ce.classList.contains("dcg-mq-editing-overflow-left")!==Q&&ce.classList.toggle("dcg-mq-editing-overflow-left")},$.scrollHoriz=function(){var ce=this.cursor,N=ce.selection,Q=this.root.jQ[0].getBoundingClientRect();if(!ce.jQ[0]&&!N)return void this.root.jQ.stop().animate({scrollLeft:0},100,function(){this.setOverflowClasses()}.bind(this));if(N){var oe=N.jQ[0].getBoundingClientRect(),we=oe.left-(Q.left+20),J=oe.right-(Q.right-20);if(N.ends[S]===ce[x])if(we<0)var Se=we;else{if(!(J>0))return;if(oe.left-J<Q.left+20)var Se=we;else var Se=J}else if(J>0)var Se=J;else{if(!(we<0))return;if(oe.right-we>Q.right-20)var Se=J;else var Se=we}}else{var De=ce.jQ[0].getBoundingClientRect().left;if(De>Q.right-20)var Se=De-(Q.right-20);else{if(!(De<Q.left+20))return;var Se=De-(Q.left+20)}}var We=this.root.jQ[0];Se<0&&We.scrollLeft===0||Se>0&&We.scrollWidth<=We.scrollLeft+Q.width||this.root.jQ.stop().animate({scrollLeft:"+="+Se},100,function(){this.setOverflowClasses()}.bind(this))}}),Y.open(function($){te.p.substituteTextarea=function(){return B("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true/>")[0]},$.createTextarea=function(){var ce=this.textareaSpan=B('<span class="dcg-mq-textarea"></span>'),N=this.options.substituteTextarea();if(!N.nodeType)throw"substituteTextarea() must return a DOM element, got "+N;N=this.textarea=B(N).appendTo(ce);var Q=this;Q.cursor.selectionChanged=function(){Q.selectionChanged()}},$.selectionChanged=function(){var ce=this;ce.textareaSelectionTimeout===s&&(ce.textareaSelectionTimeout=setTimeout(function(){ce.setTextareaSelection()}))},$.setTextareaSelection=function(){this.textareaSelectionTimeout=s;var ce="";this.cursor.selection&&(ce=this.cleanLatex(this.cursor.selection.join("latex")),this.options.statelessClipboard&&(ce="$"+ce+"$")),this.selectFn(ce)},$.staticMathTextareaEvents=function(){function ce(){J.detach(),N.blurred=!0}var N=this,Q=N.root,oe=N.cursor,we=N.textarea,J=N.textareaSpan;this.container.prepend('<span aria-hidden="true" class="dcg-mq-selectable">$'+N.exportLatex()+"$</span>"),N.blurred=!0,we.bind("cut paste",!1),N.options.disableCopyPaste?we.bind("copy",!1):we.bind("copy",function(){N.setTextareaSelection()}),we.focus(function(){N.blurred=!1}).blur(function(){oe.selection&&oe.selection.clear(),setTimeout(ce)}),N.selectFn=function(et){we.val(et),et&&we.select()};var Se=N&&N.ariaLabel!=="Math Input"?N.ariaLabel+": ":"";N.container.attr("aria-label",Se+Q.mathspeak().trim());var De=navigator.userAgent||navigator.vendor||window.opera,We=/iPad|iPhone|iPod/.test(De)&&!window.Stream;navigator.appVersion.indexOf("Mac")!==-1&&!We||N.container.attr("role","math")},te.p.substituteKeyboardEvents=Me,$.editablesTextareaEvents=function(){var ce=this,N=ce.textarea,Q=ce.textareaSpan,oe=this.options.substituteKeyboardEvents(N,this);this.selectFn=function(we){oe.select(we)},this.container.prepend(Q),this.focusBlurEvents()},$.typedText=function(ce){if(ce===`
`)return this.handle("enter");var N=this.notify().cursor;N.parent.write(N,ce),this.scrollHoriz()},$.cut=function(){var ce=this,N=ce.cursor;N.selection&&setTimeout(function(){ce.notify("edit"),N.parent.bubble(function(Q){Q.reflow()}),ce.options&&ce.options.onCut&&ce.options.onCut()})},$.copy=function(){this.setTextareaSelection()},$.paste=function(ce){this.options.statelessClipboard&&(ce=ce.slice(0,1)==="$"&&ce.slice(-1)==="$"?ce.slice(1,-1):"\\text{"+ce+"}"),this.writeLatex(ce).cursor.show(),this.scrollHoriz(),this.options&&this.options.onPaste&&this.options.onPaste()}});var Ve=D(W,function($,ce){$.finalizeInsert=function(N,Q){var oe=this;oe.postOrder(function(we){we.finalizeTree(N)}),oe.postOrder(function(we){we.contactWeld(Q)}),oe.postOrder(function(we){we.blur()}),oe.postOrder(function(we){we.reflow()}),oe[x].siblingCreated&&oe[x].siblingCreated(N,S),oe[S].siblingCreated&&oe[S].siblingCreated(N,x),oe.bubble(function(we){we.reflow()})}}),ye=D(Ve,function($,ce){$.init=function(N,Q,oe){var we=this;ce.init.call(we),we.ctrlSeq||(we.ctrlSeq=N),Q&&(we.htmlTemplate=Q),oe&&(we.textTemplate=oe)},$.replaces=function(N){N.disown(),this.replacedFragment=N},$.isEmpty=function(){return this.foldChildren(!0,function(N,Q){return N&&Q.isEmpty()})},$.parser=function(){var N=Re.block,Q=this;return N.times(Q.numBlocks()).map(function(oe){Q.blocks=oe;for(var we=0;we<oe.length;we+=1)oe[we].adopt(Q,Q.ends[x],0);return Q})},$.createLeftOf=function(N){var Q=this,oe=Q.replacedFragment;Q.createBlocks(),ce.createLeftOf.call(Q,N),oe&&(oe.adopt(Q.ends[S],0,0),oe.jQ.appendTo(Q.ends[S].jQ)),Q.finalizeInsert(N.options),Q.placeCursor(N)},$.createBlocks=function(){for(var N=this,Q=N.numBlocks(),oe=N.blocks=Array(Q),we=0;we<Q;we+=1)(oe[we]=_e()).adopt(N,N.ends[x],0)},$.placeCursor=function(N){N.insAtRightEnd(this.foldChildren(this.ends[S],function(Q,oe){return Q.isEmpty()?Q:oe}))},$.moveTowards=function(N,Q,oe){var we=oe&&this[oe+"Into"];Q.insAtDirEnd(-N,we||this.ends[-N]),ke.queueDirEndOf(-N).queue(Q.parent,!0)},$.deleteTowards=function(N,Q){this.isEmpty()?Q[N]=this.remove()[N]:this.moveTowards(N,Q,null)},$.selectTowards=function(N,Q){Q[-N]=this,Q[N]=this[N]},$.selectChildren=function(){return ne(this,this)},$.unselectInto=function(N,Q){Q.insAtDirEnd(-N,Q.anticursor.ancestors[this.id])},$.seek=function(N,Q){function oe(De){var We={};return We[S]=De.jQ.offset().left,We[x]=We[S]+De.jQ.outerWidth(),We}var we=this,J=oe(we);if(N<J[S])return Q.insLeftOf(we);if(N>J[x])return Q.insRightOf(we);var Se=J[S];we.eachChild(function(De){var We=oe(De);return N<We[S]?(N-Se<We[S]-N?De[S]?Q.insAtRightEnd(De[S]):Q.insLeftOf(we):Q.insAtLeftEnd(De),!1):N>We[x]?void(De[x]?Se=We[x]:J[x]-N<N-We[x]?Q.insRightOf(we):Q.insAtRightEnd(De)):(De.seek(N,Q),!1)})},$.numBlocks=function(){var N=this.htmlTemplate.match(/&\d+/g);return N?N.length:0},$.html=function(){var N=this,Q=N.blocks,oe=" mathquill-command-id="+N.id,we=N.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);w("no unmatched angle brackets",we.join("")===this.htmlTemplate);for(var J=0,Se=we[0];Se;J+=1,Se=we[J])if(Se.slice(-2)==="/>")we[J]=Se.slice(0,-2)+oe+' aria-hidden="true"/>';else if(Se.charAt(0)==="<"){w("not an unmatched top-level close tag",Se.charAt(1)!=="/"),we[J]=Se.slice(0,-1)+oe+' aria-hidden="true">';var De=1;do J+=1,Se=we[J],w("no missing close tags",Se),Se.slice(0,2)==="</"?De-=1:Se.charAt(0)==="<"&&Se.slice(-2)!=="/>"&&(De+=1);while(De>0)}return we.join("").replace(/>&(\d+)/g,function(We,et){return" mathquill-block-id="+Q[et].id+' aria-hidden="true">'+Q[et].join("html")})},$.latex=function(){return this.foldChildren(this.ctrlSeq,function(N,Q){return N+"{"+(Q.latex()||" ")+"}"})},$.textTemplate=[""],$.text=function(){var N=this,Q=0;return N.foldChildren(N.textTemplate[Q],function(oe,we){Q+=1;var J=we.text();return oe&&N.textTemplate[Q]==="("&&J[0]==="("&&J.slice(-1)===")"?oe+J.slice(1,-1)+N.textTemplate[Q]:oe+J+(N.textTemplate[Q]||"")})},$.mathspeakTemplate=[],$.mathspeak=function(){var N=this,Q=0;return N.foldChildren(N.mathspeakTemplate[Q]||"Start"+N.ctrlSeq+" ",function(oe,we){return Q+=1,oe+" "+we.mathspeak()+" "+(N.mathspeakTemplate[Q]+" "||"End"+N.ctrlSeq+" ")})}}),P=D(ye,function($,ce){$.init=function(N,Q,oe,we){!oe&&N&&(oe=N.replace(/^\\/,"")),this.mathspeakName=we||oe,ce.init.call(this,N,Q,[oe])},$.parser=function(){return xe.succeed(this)},$.numBlocks=function(){return 0},$.replaces=function(N){N.remove()},$.createBlocks=O,$.moveTowards=function(N,Q){Q.jQ.insDirOf(N,this.jQ),Q[-N]=this,Q[N]=this[N],ke.queue(this)},$.deleteTowards=function(N,Q){Q[N]=this.remove()[N]},$.seek=function(N,Q){N-this.jQ.offset().left<this.jQ.outerWidth()/2?Q.insLeftOf(this):Q.insRightOf(this)},$.latex=function(){return this.ctrlSeq},$.text=function(){return this.textTemplate.join("")},$.mathspeak=function(){return this.mathspeakName},$.placeCursor=O,$.isEmpty=function(){return!0}}),ue=D(P,function($,ce){$.init=function(N,Q,oe){ce.init.call(this,N,"<span>"+(Q||N)+"</span>",s,oe)}}),Ae=D(P,function($,ce){$.init=function(N,Q,oe,we){ce.init.call(this,N,'<span class="dcg-mq-binary-operator">'+Q+"</span>",oe,we)}}),_e=D(Ve,function($,ce){$.join=function(N){return this.foldChildren("",function(Q,oe){return Q+oe[N]()})},$.html=function(){return this.join("html")},$.latex=function(){return this.join("latex")},$.text=function(){return this.ends[S]===this.ends[x]&&this.ends[S]!==0?this.ends[S].text():this.join("text")},$.mathspeak=function(){var N="",Q={};return this.controller&&(Q=this.controller.options.autoOperatorNames),this.foldChildren([],function(oe,we){if(we.isPartOfOperator)N+=we.mathspeak();else{if(N!==""){if(Q!=={}&&Q._maxLength>0){var J=Q[N.toLowerCase()];typeof J=="string"&&(N=J)}oe.push(N+" "),N=""}var Se=we.mathspeak(),De=we.ctrlSeq;isNaN(De)&&(Se=" "+Se,De!=="."&&(Se+=" ")),oe.push(Se)}return oe}).join("").replace(/ +(?= )/g,"")},$.ariaLabel="block",$.keystroke=function(N,Q,oe){return!oe.options.spaceBehavesLikeTab||N!=="Spacebar"&&N!=="Shift-Spacebar"?ce.keystroke.apply(this,arguments):(Q.preventDefault(),void oe.escapeDir(N==="Shift-Spacebar"?S:x,N,Q))},$.moveOutOf=function(N,Q,oe){oe&&this.parent[oe+"Into"]||!this[N]?(Q.insDirOf(N,this.parent),ke.queueDirOf(N).queue(this.parent)):(Q.insAtDirEnd(-N,this[N]),ke.queueDirEndOf(-N).queue(Q.parent,!0))},$.selectOutOf=function(N,Q){Q.insDirOf(N,this.parent)},$.deleteOutOf=function(N,Q){Q.unwrapGramp()},$.seek=function(N,Q){var oe=this.ends[x];if(!oe||oe.jQ.offset().left+oe.jQ.outerWidth()<N)return Q.insAtRightEnd(this);if(N<this.ends[S].jQ.offset().left)return Q.insAtLeftEnd(this);for(;N<oe.jQ.offset().left;)oe=oe[S];return oe.seek(N,Q)},$.chToCmd=function(N,Q){var oe;return N.match(/^[a-eg-zA-Z]$/)?z(N):/^\d$/.test(N)?Ie(N):Q&&Q.typingSlashWritesDivisionSymbol&&N==="/"?F["\xF7"](N):Q&&Q.typingAsteriskWritesTimesSymbol&&N==="*"?F["\xD7"](N):Q&&Q.typingPercentWritesPercentOf&&N==="%"?F.percentof(N):(oe=G[N]||F[N])?oe(N):ue(N)},$.write=function(N,Q){var oe=this.chToCmd(Q,N.options);N.selection&&oe.replaces(N.replaceSelection()),oe.createLeftOf(N.show()),Q==="/"?ke.alert("over"):ke.alert(oe.mathspeak({createdLeftOf:N}))},$.focus=function(){return this.jQ.addClass("dcg-mq-hasCursor"),this.jQ.removeClass("dcg-mq-empty"),this},$.blur=function(){return this.jQ.removeClass("dcg-mq-hasCursor"),this.isEmpty()&&(this.jQ.addClass("dcg-mq-empty"),this.isEmptyParens()&&this.jQ.addClass("dcg-mq-empty-parens")),this}});ge.StaticMath=function($){return D($.AbstractMathQuill,function(ce,N){this.RootBlock=_e,ce.__mathquillify=function(Q,oe){return this.config(Q),N.__mathquillify.call(this,"dcg-mq-math-mode"),this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents(),this},ce.init=function(){N.init.apply(this,arguments);var Q=this.innerFields=[];this.__controller.root.postOrder(function(oe){oe.registerInnerField(Q,$.MathField)})},ce.latex=function(){var Q=N.latex.apply(this,arguments);if(arguments.length>0){var oe=this.innerFields=[];this.__controller.root.postOrder(function(we){we.registerInnerField(oe,$.MathField)})}return Q},ce.setAriaLabel=function(Q){this.__controller.ariaLabel=typeof Q=="string"?Q:"";var oe=this.__controller.ariaLabel!=="Math Input"?this.__controller.ariaLabel+": ":"";return this.__controller.container.attr("aria-label",oe+this.__controller.root.mathspeak().trim()),this},ce.getAriaLabel=function(){return this.__controller.ariaLabel||""}})};var qe=D(_e,b);ge.MathField=function($){return D($.EditableField,function(ce,N){this.RootBlock=qe,ce.__mathquillify=function(Q,oe){return this.config(Q),oe>1&&(this.__controller.root.reflow=O),N.__mathquillify.call(this,"dcg-mq-editable-field dcg-mq-math-mode"),delete this.__controller.root.reflow,this}})};var Ye=D(P,function($,ce){$.finalizeTree=$.siblingDeleted=$.siblingCreated=function(N,Q){Q!==S&&this[x]instanceof Ye||this.fixDigitGrouping(N)},$.fixDigitGrouping=function(N){if(N.enableDigitGrouping){var Q=this,oe=this,we=0,J=[],Se=Q;do if(/^[0-9]$/.test(Se.ctrlSeq))Q=Se;else if(Se.ctrlSeq==="\\ ")Q=Se,we+=1;else{if(Se.ctrlSeq!==".")break;Q=Se,J.push(Se)}while(Se=Q[S]);for(;Se=oe[x];)if(/^[0-9]$/.test(Se.ctrlSeq))oe=Se;else if(Se.ctrlSeq==="\\ ")oe=Se,we+=1;else{if(Se.ctrlSeq!==".")break;oe=Se,J.push(Se)}for(;oe!==Q&&Q.ctrlSeq==="\\ ";)Q=Q[x],we-=1;for(;oe!==Q&&oe.ctrlSeq==="\\ ";)oe=oe[S],we-=1;(Q!==oe||Q.ctrlSeq!=="\\ ")&&(we>0||J.length>1?this.removeGroupingBetween(Q,oe):J[0]?(J[0]!==Q&&this.addGroupingBetween(J[0][S],Q),J[0]!==oe&&this.removeGroupingBetween(J[0][x],oe)):this.addGroupingBetween(oe,Q))}},$.removeGroupingBetween=function(N,Q){var oe=N;do if(oe.setGroupingClass(s),oe===Q)break;while(oe=oe[x])},$.addGroupingBetween=function(N,Q){for(var J=N,oe=0,we=0,J=N;J&&(we+=1,J!==Q);)J=J[S];var Se=we%3;Se===0&&(Se=3);for(var J=N;J;){oe+=1;var De=s;if(we>=4&&(oe===we?De="dcg-mq-group-leading-"+Se:oe%3==0&&oe!==we&&(De="dcg-mq-group-start"),De||(De="dcg-mq-group-other")),J.setGroupingClass(De),J===Q)break;J=J[S]}},$.setGroupingClass=function(N){this._groupingClass!==N&&(this._groupingClass&&this.jQ.removeClass(this._groupingClass),N&&this.jQ.addClass(N),this._groupingClass=N)}}),Ie=D(Ye,function($,ce){$.init=function(N,Q,oe){ce.init.call(this,N,'<span class="dcg-mq-digit">'+(Q||N)+"</span>",s,oe)},$.createLeftOf=function(N){N.options.autoSubscriptNumerals&&N.parent!==N.parent.parent.sub&&(N[S]instanceof Ne&&N[S].isItalic!==!1||N[S]instanceof gt&&N[S][S]instanceof Ne&&N[S][S].isItalic!==!1)?(F._().createLeftOf(N),ce.createLeftOf.call(this,N),N.insRightOf(N.parent.parent)):ce.createLeftOf.call(this,N)},$.mathspeak=function(N){if(N&&N.createdLeftOf){var Q=N.createdLeftOf;if(Q.options.autoSubscriptNumerals&&Q.parent!==Q.parent.parent.sub&&(Q[S]instanceof Ne&&Q[S].isItalic!==!1||Q[S]instanceof gt&&Q[S][S]instanceof Ne&&Q[S][S].isItalic!==!1))return"Subscript "+ce.mathspeak.call(this)+" Baseline"}return ce.mathspeak.apply(this,arguments)}}),Ne=D(P,function($,ce){$.init=function(N,Q){ce.init.call(this,N,"<var>"+(Q||N)+"</var>")},$.text=function(){var N=this.ctrlSeq;return this.isPartOfOperator?N[0]=="\\"?N=N.slice(1,N.length):N[N.length-1]==" "&&(N=N.slice(0,-1)):(!this[S]||this[S]instanceof Ne||this[S]instanceof Ae||this[S].ctrlSeq==="\\ "||(N="*"+N),!this[x]||this[x]instanceof Ae||this[x]instanceof gt||(N+="*")),N},$.mathspeak=function(){var N=this.ctrlSeq;return this.isPartOfOperator||N.length!==1?ce.mathspeak.call(this):'"'+N+'"'}});te.p.autoCommands={_maxLength:0},H.autoCommands=function($){if(!/^[a-z]+(?: [a-z]+)*$/i.test($))throw'"'+$+'" not a space-delimited list of only letters';for(var ce=$.split(" "),N={},Q=0,oe=0;oe<ce.length;oe+=1){var we=ce[oe];if(we.length<2)throw'autocommand "'+we+'" not minimum length of 2';if(F[we]===kt)throw'"'+we+'" is a built-in operator name';N[we]=1,Q=M(Q,we.length)}return N._maxLength=Q,N},te.p.autoParenthesizedFunctions={_maxLength:0},H.autoParenthesizedFunctions=function($){if(!/^[a-z]+(?: [a-z]+)*$/i.test($))throw'"'+$+'" not a space-delimited list of only letters';for(var ce=$.split(" "),N={},Q=0,oe=0;oe<ce.length;oe+=1){var we=ce[oe];if(we.length<2)throw'autocommand "'+we+'" not minimum length of 2';N[we]=1,Q=M(Q,we.length)}return N._maxLength=Q,N};var z=D(Ne,function($,ce){function N(Q){return!Q||Q.ctrlSeq==="."||Q instanceof Ae||Q instanceof Rt}$.init=function(Q){return ce.init.call(this,this.letter=Q)},$.checkAutoCmds=function(Q){var oe=Q.options.autoCommands,we=oe._maxLength;if(we>0){for(var J="",Se=this,De=0;Se instanceof z&&Se.ctrlSeq===Se.letter&&De<we;)J=Se.letter+J,Se=Se[S],De+=1;for(;J.length;){if(oe.hasOwnProperty(J)){for(var De=1,Se=this;De<J.length;De+=1,Se=Se[S]);return U(Se,this).remove(),Q[S]=Se[S],F[J](J).createLeftOf(Q)}J=J.slice(1)}}},$.autoParenthesize=function(Q){var oe=Q.parent.ends[x];if(!(oe&&oe instanceof xt&&oe.ctrlSeq==="\\left("||this.isParentSimpleSubscript())){for(var we="",J=this,Se=0,De=Q.options.autoParenthesizedFunctions,We=De._maxLength,et=Q.options.autoOperatorNames;J instanceof z&&Se<We;)we=J.letter+we,J=J[S],Se+=1;for(;we.length;){if(De.hasOwnProperty(we)&&et.hasOwnProperty(we))return Q.parent.write(Q,"(");we=we.slice(1)}}},$.createLeftOf=function(Q){ce.createLeftOf.apply(this,arguments),this.checkAutoCmds(Q),this.autoParenthesize(Q)},$.italicize=function(Q){return this.isItalic=Q,this.isPartOfOperator=!Q,this.jQ.toggleClass("dcg-mq-operator-name",!Q),this},$.finalizeTree=$.siblingDeleted=$.siblingCreated=function(Q,oe){oe!==S&&this[x]instanceof z||this.autoUnItalicize(Q)},$.autoUnItalicize=function(Q){var oe=Q.autoOperatorNames;if(oe._maxLength!==0&&!this.isParentSimpleSubscript()){for(var we=this.letter,J=this[S];J instanceof z;J=J[S])we=J.letter+we;for(var Se=this[x];Se instanceof z;Se=Se[x])we+=Se.letter;U(J[x]||this.parent.ends[S],Se[S]||this.parent.ends[x]).each(function(qt){qt.italicize(!0).jQ.removeClass("dcg-mq-first dcg-mq-last dcg-mq-followed-by-supsub"),qt.ctrlSeq=qt.letter});e:for(var De=0,We=J[x]||this.parent.ends[S];De<we.length;De+=1,We=We[x])for(var et=A(oe._maxLength,we.length-De);et>0;et-=1){var lt=we.slice(De,De+et);if(oe.hasOwnProperty(lt)){for(var ht=0,ft=We;ht<et;ht+=1,ft=ft[x]){ft.italicize(!1);var bt=ft}var Bt=Pe.hasOwnProperty(lt);if(We.ctrlSeq=(Bt?"\\":"\\operatorname{")+We.ctrlSeq,bt.ctrlSeq+=Bt?" ":"}",rt.hasOwnProperty(lt)&&bt[S][S][S].jQ.addClass("dcg-mq-last"),N(We[S])||We.jQ.addClass("dcg-mq-first"),!N(bt[x]))if(bt[x]instanceof gt){var zt=bt[x],Vt=zt.siblingCreated=zt.siblingDeleted=function(){zt.jQ.toggleClass("dcg-mq-after-operator-name",!(zt[x]instanceof xt))};Vt()}else bt.jQ.toggleClass("dcg-mq-last",!(bt[x]instanceof xt));De+=et-1,We=bt;continue e}}}}}),Pe={},ot=te.p.autoOperatorNames={_maxLength:9},rt={limsup:1,liminf:1,projlim:1,injlim:1};(function(){for(var $="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),ce=0;ce<$.length;ce+=1)Pe[$[ce]]=ot[$[ce]]=1;for(var N="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" "),ce=0;ce<N.length;ce+=1)Pe[N[ce]]=1;for(var Q="sin cos tan sec cosec csc cotan cot ctg".split(" "),ce=0;ce<Q.length;ce+=1)ot[Q[ce]]=ot["arc"+Q[ce]]=ot[Q[ce]+"h"]=ot["ar"+Q[ce]+"h"]=ot["arc"+Q[ce]+"h"]=1;for(var oe="gcf hcf lcm proj span".split(" "),ce=0;ce<oe.length;ce+=1)ot[oe[ce]]=1})(),H.autoOperatorNames=function($){if(typeof $!="string")throw'"'+$+'" not a space-delimited list';if(!/^[a-z\|\-]+(?: [a-z\|\-]+)*$/i.test($))throw'"'+$+'" not a space-delimited list of letters or "|"';for(var ce=$.split(" "),N={},Q=0,oe=0;oe<ce.length;oe+=1){var we=ce[oe];if(we.length<2)throw'"'+we+'" not minimum length of 2';if(we.indexOf("|")<0)N[we]=we,Q=M(Q,we.length);else{var J=we.split("|");if(J.length>2)throw'"'+we+'" has more than 1 mathspeak delimiter';if(J[0].length<2)throw'"'+we[0]+'" not minimum length of 2';N[J[0]]=J[1].replace(/-/g," "),Q=M(Q,J[0].length)}}return N._maxLength=Q,N};var kt=D(P,function($,ce){$.init=function(N){this.ctrlSeq=N},$.createLeftOf=function(N){for(var Q=this.ctrlSeq,oe=0;oe<Q.length;oe+=1)z(Q.charAt(oe)).createLeftOf(N)},$.parser=function(){for(var N=this.ctrlSeq,Q=_e(),oe=0;oe<N.length;oe+=1)z(N.charAt(oe)).adopt(Q,Q.ends[x],0);return xe.succeed(Q.children())}});for(var ve in ot)ot.hasOwnProperty(ve)&&(F[ve]=kt);F.operatorname=D(ye,function($){$.createLeftOf=O,$.numBlocks=function(){return 1},$.parser=function(){return Re.block.map(function(ce){var N=!0,Q="",oe=ce.children();return oe.each(function(we){we instanceof z?Q+=we.letter:N=!1}),N&&Q==="ans"?F[Q](Q):oe})}}),F.f=D(z,function($,ce){$.init=function(){P.p.init.call(this,this.letter="f",'<var class="dcg-mq-f">f</var>')},$.italicize=function(N){return this.jQ.html("f").toggleClass("dcg-mq-f",N),ce.italicize.apply(this,arguments)}}),F[" "]=F.space=D(Ye,function($,ce){$.init=function(){ce.init.call(this,"\\ ","<span>&nbsp;</span>"," ")}}),F["."]=D(Ye,function($,ce){$.init=function(){ce.init.call(this,".",'<span class="dcg-mq-digit">.</span>',".")}}),F["'"]=F.prime=o(ue,"'","&prime;","prime"),F["\u2033"]=F.dprime=o(ue,"\u2033","&Prime;","double prime"),F.backslash=o(ue,"\\backslash ","\\","backslash"),G["\\"]||(G["\\"]=F.backslash),F.$=o(ue,"\\$","$","dollar"),F.square=o(ue,"\\square ","\u25A1","square"),F.mid=o(ue,"\\mid ","\u2223","mid");var ze=D(P,function($,ce){$.init=function(N,Q){ce.init.call(this,N,'<span class="dcg-mq-nonSymbola">'+(Q||N)+"</span>")}});F["@"]=ze,F["&"]=o(ze,"\\&","&amp;","and"),F["%"]=D(ze,function($,ce){$.init=function(){ce.init.call(this,"\\%","%","percent")},$.parser=function(){var N=xe.optWhitespace,Q=xe.string;return N.then(Q("\\operatorname{of}").map(function(){return F.percentof()})).or(ce.parser.call(this))}}),F["\u2225"]=F.parallel=o(ue,"\\parallel ","&#x2225;","parallel"),F["\u2226"]=F.nparallel=o(ue,"\\nparallel ","&#x2226;","not parallel"),F["\u27C2"]=F.perp=o(ue,"\\perp ","&#x27C2;","perpendicular"),F.alpha=F.beta=F.gamma=F.delta=F.zeta=F.eta=F.theta=F.iota=F.kappa=F.mu=F.nu=F.xi=F.rho=F.sigma=F.tau=F.chi=F.psi=F.omega=D(Ne,function($,ce){$.init=function(N){ce.init.call(this,"\\"+N+" ","&"+N+";")}}),F.phi=o(Ne,"\\phi ","&#981;","phi"),F.phiv=F.varphi=o(Ne,"\\varphi ","&phi;","phi"),F.epsilon=o(Ne,"\\epsilon ","&#1013;","epsilon"),F.epsiv=F.varepsilon=o(Ne,"\\varepsilon ","&epsilon;","epsilon"),F.piv=F.varpi=o(Ne,"\\varpi ","&piv;","piv"),F.sigmaf=F.sigmav=F.varsigma=o(Ne,"\\varsigma ","&sigmaf;","sigma"),F.thetav=F.vartheta=F.thetasym=o(Ne,"\\vartheta ","&thetasym;","theta"),F.upsilon=F.upsi=o(Ne,"\\upsilon ","&upsilon;","upsilon"),F.gammad=F.Gammad=F.digamma=o(Ne,"\\digamma ","&#989;","gamma"),F.kappav=F.varkappa=o(Ne,"\\varkappa ","&#1008;","kappa"),F.rhov=F.varrho=o(Ne,"\\varrho ","&#1009;","rho"),F.pi=F.\u03C0=o(ze,"\\pi ","&pi;","pi"),F.lambda=o(ze,"\\lambda ","&lambda;","lambda"),F.Upsilon=F.Upsi=F.upsih=F.Upsih=o(P,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>',"capital upsilon"),F.Gamma=F.Delta=F.Theta=F.Lambda=F.Xi=F.Pi=F.Sigma=F.Phi=F.Psi=F.Omega=F.forall=D(ue,function($,ce){$.init=function(N){ce.init.call(this,"\\"+N+" ","&"+N+";")}});var je=D(ye,function($){$.init=function(ce){this.latex=ce},$.createLeftOf=function(ce){var N=Re.parse(this.latex);N.children().adopt(ce.parent,ce[S],ce[x]),ce[S]=N.ends[x],N.jQize().insertBefore(ce.jQ),N.finalizeInsert(ce.options,ce),N.ends[x][x].siblingCreated&&N.ends[x][x].siblingCreated(ce.options,S),N.ends[S][S].siblingCreated&&N.ends[S][S].siblingCreated(ce.options,x),ce.parent.bubble(function(Q){Q.reflow()})},$.mathspeak=function(){return Re.parse(this.latex).mathspeak()},$.parser=function(){var ce=Re.parse(this.latex).children();return xe.succeed(ce)}});F["\u2070"]=o(je,"^0"),F["\xB9"]=o(je,"^1"),F["\xB2"]=o(je,"^2"),F["\xB3"]=o(je,"^3"),F["\u2074"]=o(je,"^4"),F["\u2075"]=o(je,"^5"),F["\u2076"]=o(je,"^6"),F["\u2077"]=o(je,"^7"),F["\u2078"]=o(je,"^8"),F["\u2079"]=o(je,"^9"),F["\xBC"]=o(je,"\\frac14"),F["\xBD"]=o(je,"\\frac12"),F["\xBE"]=o(je,"\\frac34"),F["\u221A"]=o(je,"\\sqrt{}");var Te=D(Ae,function($){$.init=ue.prototype.init,$.contactWeld=$.siblingCreated=$.siblingDeleted=function(ce,N){function Q(oe){return oe[S]?oe[S]instanceof Ae||/^(\\ )|[,;:\(\[]$/.test(oe[S].ctrlSeq)?"":"dcg-mq-binary-operator":oe.parent&&oe.parent.parent&&oe.parent.parent.isStyleBlock()?Q(oe.parent.parent):""}if(N!==x)return this.jQ[0].className=Q(this),this}});F["+"]=o(Te,"+","+","plus"),F["\u2212"]=F["\u2014"]=F["\u2013"]=F["-"]=o(Te,"-","&minus;","minus"),F["\xB1"]=F.pm=F.plusmn=F.plusminus=o(Te,"\\pm ","&plusmn;","plus-or-minus"),F.mp=F.mnplus=F.minusplus=o(Te,"\\mp ","&#8723;","minus-or-plus"),G["*"]=F.sdot=F.cdot=o(Ae,"\\cdot ","&middot;","*","times");var Xe=D(Ae,function($,ce){$.init=function(N,Q){this.data=N,this.strict=Q;var oe=Q?"Strict":"";ce.init.call(this,N["ctrlSeq"+oe],N["html"+oe],N["text"+oe],N["mathspeak"+oe])},$.swap=function(N){this.strict=N;var Q=N?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+Q],this.jQ.html(this.data["html"+Q]),this.textTemplate=[this.data["text"+Q]],this.mathspeakName=this.data["mathspeak"+Q]},$.deleteTowards=function(N,Q){if(N===S&&!this.strict)return this.swap(!0),void this.bubble(function(oe){oe.reflow()});ce.deleteTowards.apply(this,arguments)}}),Ze={ctrlSeq:"\\le ",html:"&le;",text:"\u2264",mathspeak:"less than or equal to",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<",mathspeakStrict:"less than"},Ce={ctrlSeq:"\\ge ",html:"&ge;",text:"\u2265",mathspeak:"greater than or equal to",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">",mathspeakStrict:"greater than"};F["<"]=F.lt=o(Xe,Ze,!0),F[">"]=F.gt=o(Xe,Ce,!0),F["\u2264"]=F.le=F.leq=o(Xe,Ze,!1),F["\u2265"]=F.ge=F.geq=o(Xe,Ce,!1),F.infty=F.infin=F.infinity=o(ue,"\\infty ","&infin;","infinity"),F["\u2260"]=F.ne=F.neq=o(Ae,"\\ne ","&ne;","not equal");var Fe=D(Ae,function($,ce){$.init=function(){ce.init.call(this,"=","=","=","equals")},$.createLeftOf=function(N){if(N[S]instanceof Xe&&N[S].strict)return N[S].swap(!1),void N[S].bubble(function(Q){Q.reflow()});ce.createLeftOf.apply(this,arguments)}});F["="]=Fe,F["\xD7"]=F.times=o(Ae,"\\times ","&times;","[x]","times"),F["\xF7"]=F.div=F.divide=F.divides=o(Ae,"\\div ","&divide;","[/]","over");var Ge=D(Ae,function($,ce){$.init=function(){ce.init.call(this,"\\sim ","~","~","tilde")},$.createLeftOf=function(N){if(N[S]instanceof Ge){var Q=N[S];return N[S]=Q[S],Q.remove(),Qe().createLeftOf(N),void N[S].bubble(function(oe){oe.reflow()})}ce.createLeftOf.apply(this,arguments)}}),Qe=D(Ae,function($,ce){$.init=function(){ce.init.call(this,"\\approx ","&approx;","\u2248","approximately equal")},$.deleteTowards=function(N,Q){if(N===S){var oe=Q[S];return U(oe,this).remove(),Q[S]=oe[S],Ge().createLeftOf(Q),void Q[S].bubble(function(we){we.reflow()})}ce.deleteTowards.apply(this,arguments)}});G["~"]=F.sim=Ge,F["\u2248"]=F.approx=Qe;var it={sqrt:{html:'<svg preserveAspectRatio="none" viewBox="0 0 32 54"><path d="M0 33 L7 27 L12.5 47 L13 47 L30 0 L32 0 L13 54 L11 54 L4.5 31 L0 33" /></svg>'},"|":{width:".4em",html:'<svg preserveAspectRatio="none" viewBox="0 0 10 54"><path d="M4.4 0 L4.4 54 L5.6 54 L5.6 0" /></svg>'},"[":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="0 0 11 24"><path d="M8 0 L3 0 L3 24 L8 24 L8 23 L4 23 L4 1 L8 1" /></svg>'},"]":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="0 0 11 24"><path d="M3 0 L8 0 L8 24 L3 24 L3 23 L7 23 L7 1 L3 1" /></svg>'},"(":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="3 0 106 186"><path d="M85 0 A61 101 0 0 0 85 186 L75 186 A75 101 0 0 1 75 0" /></svg>'},")":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="3 0 106 186"><path d="M24 0 A61 101 0 0 1 24 186 L34 186 A75 101 0 0 0 34 0" /></svg>'},"{":{width:".7em",html:'<svg preserveAspectRatio="none" viewBox="10 0 210 350"><path d="M170 0 L170 6 A47 52 0 0 0 123 60 L123 127 A35 48 0 0 1 88 175 A35 48 0 0 1 123 223 L123 290 A47 52 0 0 0 170 344 L170 350 L160 350 A58 49 0 0 1 102 301 L103 220 A45 40 0 0 0 58 180 L58 170 A45 40 0 0 0 103 130 L103 49 A58 49 0 0 1 161 0" /></svg>'},"}":{width:".7em",html:'<svg preserveAspectRatio="none" viewBox="10 0 210 350"><path d="M60 0 L60 6 A47 52 0 0 1 107 60 L107 127 A35 48 0 0 0 142 175 A35 48 0 0 0 107 223 L107 290 A47 52 0 0 1 60 344 L60 350 L70 350 A58 49 0 0 0 128 301 L127 220 A45 40 0 0 1 172 180 L172 170 A45 40 0 0 1 127 130 L127 49 A58 49 0 0 0 70 0" /></svg>'},"&#8741;":{width:".7em",html:'<svg preserveAspectRatio="none" viewBox="0 0 10 54"><path d="M3.2 0 L3.2 54 L4 54 L4 0 M6.8 0 L6.8 54 L6 54 L6 0" /></svg>'},"&lang;":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="0 0 10 54"><path d="M6.8 0 L3.2 27 L6.8 54 L7.8 54 L4.2 27 L7.8 0" /></svg>'},"&rang;":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="0 0 10 54"><path d="M3.2 0 L6.8 27 L3.2 54 L2.2 54 L5.8 27 L2.2 0" /></svg>'}},ct=D(ye,function($,ce){$.init=function(N,Q,oe,we){ce.init.call(this,N,"<"+Q+" "+oe+">&0</"+Q+">"),$.ariaLabel=we||N.replace(/^\\/,""),$.mathspeakTemplate=["Start"+$.ariaLabel+",","End"+$.ariaLabel]}});F.mathrm=o(ct,"\\mathrm","span",'class="dcg-mq-roman dcg-mq-font"',"Roman Font"),F.mathit=o(ct,"\\mathit","i",'class="dcg-mq-font"',"Italic Font"),F.mathbf=o(ct,"\\mathbf","b",'class="dcg-mq-font"',"Bold Font"),F.mathsf=o(ct,"\\mathsf","span",'class="dcg-mq-sans-serif dcg-mq-font"',"Serif Font"),F.mathtt=o(ct,"\\mathtt","span",'class="dcg-mq-monospace dcg-mq-font"',"Math Text"),F.underline=o(ct,"\\underline","span",'class="dcg-mq-non-leaf dcg-mq-underline"',"Underline"),F.overline=F.bar=o(ct,"\\overline","span",'class="dcg-mq-non-leaf dcg-mq-overline"',"Overline"),F.overrightarrow=o(ct,"\\overrightarrow","span",'class="dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-right"',"Over Right Arrow"),F.overleftarrow=o(ct,"\\overleftarrow","span",'class="dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-left"',"Over Left Arrow"),F.overleftrightarrow=o(ct,"\\overleftrightarrow ","span",'class="dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-leftright"',"Over Left and Right Arrow"),F.overarc=o(ct,"\\overarc","span",'class="dcg-mq-non-leaf dcg-mq-overarc"',"Over Arc");var gt=(F.textcolor=D(ye,function($,ce){$.setColor=function(N){this.color=N,this.htmlTemplate='<span class="dcg-mq-textcolor" style="color:'+N+'">&0</span>'},$.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},$.parser=function(){var N=this,Q=xe.optWhitespace,oe=xe.string,we=xe.regex;return Q.then(oe("{")).then(we(/^[#\w\s.,()%-]*/)).skip(oe("}")).then(function(J){return N.setColor(J),ce.parser.call(N)})},$.isStyleBlock=function(){return!0}}),F.class=D(ye,function($,ce){$.parser=function(){var N=this,Q=xe.string,oe=xe.regex;return xe.optWhitespace.then(Q("{")).then(oe(/^[-\w\s\\\xA0-\xFF]*/)).skip(Q("}")).then(function(we){return N.cls=we||"",N.htmlTemplate='<span class="dcg-mq-class '+we+'">&0</span>',ce.parser.call(N)})},$.latex=function(){return"\\class{"+this.cls+"}{"+this.blocks[0].latex()+"}"},$.isStyleBlock=function(){return!0}}),D(ye,function($,ce){$.ctrlSeq="_{...}^{...}",$.createLeftOf=function(N){if(this.replacedFragment||N[S]||!N.options.supSubsRequireOperand)return ce.createLeftOf.apply(this,arguments)},$.contactWeld=function(N){for(var Q=S;Q;Q=Q===S&&x)if(this[Q]instanceof gt){for(var oe="sub";oe;oe=oe==="sub"&&"sup"){var we=this[oe],J=this[Q][oe];if(we){if(J)if(we.isEmpty())var Se=Z(J,0,J.ends[S]);else{we.jQ.children().insAtDirEnd(-Q,J.jQ);var De=we.children().disown(),Se=Z(J,De.ends[x],J.ends[S]);Q===S?De.adopt(J,J.ends[x],0):De.adopt(J,0,J.ends[S])}else this[Q].addBlock(we.disown());this.placeCursor=function(We,et){return function(lt){lt.insAtDirEnd(-Q,We||et)}}(J,we)}}this.remove(),N&&N[S]===this&&(Q===x&&Se?Se[S]?N.insRightOf(Se[S]):N.insAtLeftEnd(Se.parent):N.insRightOf(this[Q]));break}},te.p.charsThatBreakOutOfSupSub="",$.finalizeTree=function(){this.ends[S].write=function(N,Q){if(N.options.autoSubscriptNumerals&&this===this.parent.sub){if(Q==="_")return;var oe=this.chToCmd(Q,N.options);return oe instanceof P?N.deleteSelection():N.clearSelection().insRightOf(this.parent),oe.createLeftOf(N.show()),void ke.queue("Baseline").alert(oe.mathspeak({createdLeftOf:N}))}N[S]&&!N[x]&&!N.selection&&N.options.charsThatBreakOutOfSupSub.indexOf(Q)>-1&&(N.insRightOf(this.parent),ke.queue("Baseline")),_e.p.write.apply(this,arguments)}},$.moveTowards=function(N,Q,oe){Q.options.autoSubscriptNumerals&&!this.sup?Q.insDirOf(N,this):ce.moveTowards.apply(this,arguments)},$.deleteTowards=function(N,Q){if(Q.options.autoSubscriptNumerals&&this.sub){var oe=this.sub.ends[-N];oe instanceof P?oe.remove():oe&&oe.deleteTowards(N,Q.insAtDirEnd(-N,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(S,Q.insAtLeftEnd(this.sub)),this.sup&&Q.insDirOf(-N,this))}else ce.deleteTowards.apply(this,arguments)},$.latex=function(){function N(Q,oe){var we=oe&&oe.latex();return oe?Q+"{"+(we||" ")+"}":""}return N("_",this.sub)+N("^",this.sup)},$.addBlock=function(N){this.supsub==="sub"?(this.sup=this.upInto=this.sub.upOutOf=N,N.adopt(this,this.sub,0).downOutOf=this.sub,N.jQ=B('<span class="dcg-mq-sup"/>').append(N.jQ.children()).prependTo(this.jQ),W.linkElementByBlockNode(N.jQ[0],N)):(this.sub=this.downInto=this.sup.downOutOf=N,N.adopt(this,0,this.sup).upOutOf=this.sup,N.jQ=B('<span class="dcg-mq-sub"></span>').append(N.jQ.children()).appendTo(this.jQ.removeClass("dcg-mq-sup-only")),W.linkElementByBlockNode(N.jQ[0],N),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var Q=0;Q<2;Q+=1)(function(oe,we,J,Se){oe[we].deleteOutOf=function(De,We){if(We.insDirOf(this[De]?-De:De,this.parent),!this.isEmpty()){var et=this.ends[De];this.children().disown().withDirAdopt(De,We.parent,We[De],We[-De]).jQ.insDirOf(-De,We.jQ),We[-De]=et}oe.supsub=J,delete oe[we],delete oe[Se+"Into"],oe[J][Se+"OutOf"]=m,delete oe[J].deleteOutOf,we==="sub"&&B(oe.jQ.addClass("dcg-mq-sup-only")[0].lastChild).remove(),this.remove()}})(this,"sub sup".split(" ")[Q],"sup sub".split(" ")[Q],"down up".split(" ")[Q])}}));F.subscript=F._=D(gt,function($,ce){$.supsub="sub",$.htmlTemplate='<span class="dcg-mq-supsub dcg-mq-non-leaf"><span class="dcg-mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',$.textTemplate=["_"],$.mathspeakTemplate=["Subscript,",", Baseline"],$.ariaLabel="subscript",$.finalizeTree=function(){this.downInto=this.sub=this.ends[S],this.sub.upOutOf=m,ce.finalizeTree.call(this)}}),F.superscript=F.supscript=F["^"]=D(gt,function($,ce){$.supsub="sup",$.htmlTemplate='<span class="dcg-mq-supsub dcg-mq-non-leaf dcg-mq-sup-only"><span class="dcg-mq-sup">&0</span></span>',$.textTemplate=["^"],$.mathspeakTemplate=["Superscript,",", Baseline"],$.ariaLabel="superscript",$.finalizeTree=function(){this.upInto=this.sup=this.ends[x],this.sup.downOutOf=m,ce.finalizeTree.call(this)}});var Rt=D(ye,function($,ce){$.init=function(N,Q,oe){$.ariaLabel=oe||ctrlSeq.replace(/^\\/,"");var we='<span class="dcg-mq-large-operator dcg-mq-non-leaf"><span class="dcg-mq-to"><span>&1</span></span><big>'+Q+'</big><span class="dcg-mq-from"><span>&0</span></span></span>';P.prototype.init.call(this,N,we)},$.createLeftOf=function(N){ce.createLeftOf.apply(this,arguments),N.options.sumStartsWithNEquals&&(z("n").createLeftOf(N),Fe().createLeftOf(N))},$.latex=function(){function N(Q){return"{"+(Q||" ")+"}"}return this.ctrlSeq+"_"+N(this.ends[S].latex())+"^"+N(this.ends[x].latex())},$.mathspeak=function(){return"Start "+this.ariaLabel+" from "+this.ends[S].mathspeak()+" to "+this.ends[x].mathspeak()+", end "+this.ariaLabel+", "},$.parser=function(){for(var N=xe.string,Q=xe.optWhitespace,oe=xe.succeed,we=Re.block,J=this,Se=J.blocks=[_e(),_e()],De=0;De<Se.length;De+=1)Se[De].adopt(J,J.ends[x],0);return Q.then(N("_").or(N("^"))).then(function(We){var et=Se[We==="_"?0:1];return we.then(function(lt){return lt.children().adopt(et,et.ends[x],0),oe(J)})}).many().result(J)},$.finalizeTree=function(){this.ends[S].ariaLabel="lower bound",this.ends[x].ariaLabel="upper bound",this.downInto=this.ends[S],this.upInto=this.ends[x],this.ends[S].upOutOf=this.ends[x],this.ends[x].downOutOf=this.ends[S]}});F["\u2211"]=F.sum=F.summation=o(Rt,"\\sum ","&sum;","sum"),F["\u220F"]=F.prod=F.product=o(Rt,"\\prod ","&prod;","product"),F.coprod=F.coproduct=o(Rt,"\\coprod ","&#8720;","co product"),F["\u222B"]=F.int=F.integral=D(Rt,function($,ce){$.init=function(){$.ariaLabel="integral",P.prototype.init.call(this,"\\int ",'<span class="dcg-mq-int dcg-mq-non-leaf"><big>&int;</big><span class="dcg-mq-supsub dcg-mq-non-leaf"><span class="dcg-mq-sup"><span class="dcg-mq-sup-inner">&1</span></span><span class="dcg-mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>',"integral")},$.createLeftOf=ye.p.createLeftOf});var ut=F.frac=F.dfrac=F.cfrac=F.fraction=D(ye,function($,ce){$.ctrlSeq="\\frac",$.htmlTemplate='<span class="dcg-mq-fraction dcg-mq-non-leaf"><span class="dcg-mq-numerator">&0</span><span class="dcg-mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',$.textTemplate=["(",")/(",")"],$.finalizeTree=function(){this.upInto=this.ends[x].upOutOf=this.ends[S],this.downInto=this.ends[S].downOutOf=this.ends[x],this.ends[S].ariaLabel="numerator",this.ends[x].ariaLabel="denominator",this.getFracDepth()>1?this.mathspeakTemplate=["StartNestedFraction,","NestedOver",", EndNestedFraction"]:this.mathspeakTemplate=["StartFraction,","Over",", EndFraction"]},$.mathspeak=function(N){return N&&N.createdLeftOf?N.createdLeftOf.parent.mathspeak():ce.mathspeak.apply(this,arguments)},$.getFracDepth=function(){var N=function(Q,oe){return Q instanceof W&&Q.ctrlSeq&&Q.ctrlSeq.toLowerCase().search("frac")>=0&&(oe+=1),Q.parent?N(Q.parent,oe):oe};return N(this,0)}}),mt=F.over=G["/"]=D(ut,function($,ce){$.createLeftOf=function(N){if(!this.replacedFragment){var Q=N[S];if(!N.options.typingSlashCreatesNewFraction)for(;Q&&!(Q instanceof Ae||Q instanceof(F.text||O)||Q instanceof Rt||Q.ctrlSeq==="\\ "||/^[,;:]$/.test(Q.ctrlSeq));)Q=Q[S];Q instanceof Rt&&Q[x]instanceof gt&&(Q=Q[x],Q[x]instanceof gt&&Q[x].ctrlSeq!=Q.ctrlSeq&&(Q=Q[x])),Q!==N[S]&&(this.replaces(U(Q[x]||N.parent.ends[S],N[S])),N[S]=Q)}ce.createLeftOf.call(this,N)}});F.ans=D(P,function($,ce){$.init=function(N){ce.init.call(this,"\\operatorname{ans}",'<span class="dcg-mq-ans">ans</span>',"ans")}}),F.percent=F.percentof=D(P,function($,ce){$.init=function(){ce.init.call(this,"\\%\\operatorname{of}",'<span class="dcg-mq-nonSymbola dcg-mq-operator-name">% of </span>',"percent of")}});var Nt=F.sqrt=D(ye,function($,ce){$.ctrlSeq="\\sqrt",$.htmlTemplate='<span class="dcg-mq-non-leaf dcg-mq-sqrt-container"><span class="dcg-mq-scaled dcg-mq-sqrt-prefix">'+it.sqrt.html+'</span><span class="dcg-mq-non-leaf dcg-mq-sqrt-stem">&0</span></span>',$.textTemplate=["sqrt(",")"],$.mathspeakTemplate=["StartRoot,",", EndRoot"],$.ariaLabel="root",$.parser=function(){return Re.optBlock.then(function(N){return Re.block.map(function(Q){var oe=Et();return oe.blocks=[N,Q],N.adopt(oe,0,0),Q.adopt(oe,N,0),oe})}).or(ce.parser.call(this))}}),Et=(F.hat=D(ye,function($,ce){$.ctrlSeq="\\hat",$.htmlTemplate='<span class="dcg-mq-non-leaf"><span class="dcg-mq-hat-prefix">^</span><span class="dcg-mq-hat-stem">&0</span></span>',$.textTemplate=["hat(",")"]}),F.nthroot=D(Nt,function($,ce){$.htmlTemplate='<span class="dcg-mq-nthroot-container dcg-mq-non-leaf"><sup class="dcg-mq-nthroot dcg-mq-non-leaf">&0</sup><span class="dcg-mq-scaled dcg-mq-sqrt-container"><span class="dcg-mq-sqrt-prefix dcg-mq-scaled">'+it.sqrt.html+'</span><span class="dcg-mq-sqrt-stem dcg-mq-non-leaf">&1</span></span></span>',$.textTemplate=["sqrt[","](",")"],$.latex=function(){return"\\sqrt["+this.ends[S].latex()+"]{"+this.ends[x].latex()+"}"},$.mathspeak=function(){var N=this.ends[S].mathspeak(),Q=this.ends[x].mathspeak();return this.ends[S].ariaLabel="Index",this.ends[x].ariaLabel="Radicand",N==="3"?"Start Cube Root, "+Q+", End Cube Root":"Root Index "+N+", Start Root, "+Q+", End Root"}})),Kt=(F.cbrt=D(Et,function($,ce){$.createLeftOf=function(N){ce.createLeftOf.apply(this,arguments),Ie("3").createLeftOf(N),N.controller.moveRight()}}),D(ye,function($,ce){$.init=function(N,Q,oe){var we='<span class="dcg-mq-non-leaf"><span class="dcg-mq-diacritic-above">'+Q+'</span><span class="dcg-mq-diacritic-stem">&0</span></span>';ce.init.call(this,N,we,oe)}}));F.vec=o(Kt,"\\vec","&rarr;",["vec(",")"]),F.tilde=o(Kt,"\\tilde","~",["tilde(",")"]);var xt=D(D(ye,c),function($,ce){$.init=function(N,Q,oe,we,J){ce.init.call(this,"\\left"+we,s,[Q,oe]),this.side=N,this.sides={},this.sides[S]={ch:Q,ctrlSeq:we},this.sides[x]={ch:oe,ctrlSeq:J}},$.numBlocks=function(){return 1},$.html=function(){var N=this.getSymbol(S),Q=this.getSymbol(x);return this.htmlTemplate='<span class="dcg-mq-non-leaf dcg-mq-bracket-container"><span style="width:'+N.width+'" class="dcg-mq-scaled dcg-mq-bracket-l dcg-mq-paren'+(this.side===x?" dcg-mq-ghost":"")+'">'+N.html+'</span><span style="margin-left:'+N.width+";margin-right:"+Q.width+'" class="dcg-mq-bracket-middle dcg-mq-non-leaf">&0</span><span style="width:'+Q.width+'" class="dcg-mq-scaled dcg-mq-bracket-r dcg-mq-paren'+(this.side===S?" dcg-mq-ghost":"")+'">'+Q.html+"</span></span>",ce.html.call(this)},$.getSymbol=function(N){return it[this.sides[N||x].ch]||{width:"0",html:""}},$.latex=function(){return"\\left"+this.sides[S].ctrlSeq+this.ends[S].latex()+"\\right"+this.sides[x].ctrlSeq},$.mathspeak=function(N){var Q=this.sides[S].ch,oe=this.sides[x].ch;if(Q==="|"&&oe==="|")this.mathspeakTemplate=["StartAbsoluteValue,",", EndAbsoluteValue"],this.ariaLabel="absolute value";else{if(N&&N.createdLeftOf&&this.side){var we="";return this.side===S?we=this.textTemplate[0]:this.side===x&&(we=this.textTemplate[1]),(this.side===S?"left ":"right ")+jt[we]}this.mathspeakTemplate=["left "+jt[Q]+",",", right "+jt[oe]],this.ariaLabel=jt[Q]+" block"}return ce.mathspeak.call(this)},$.matchBrack=function(N,Q,oe){return oe instanceof xt&&oe.side&&oe.side!==-Q&&(!N.restrictMismatchedBrackets||Ut[this.sides[this.side].ch]===oe.sides[oe.side].ch||{"(":"]","[":")"}[this.sides[S].ch]===oe.sides[x].ch)&&oe},$.closeOpposing=function(N){N.side=0,N.sides[this.side]=this.sides[this.side];var Q=N.delimjQs.eq(this.side===S?0:1).removeClass("dcg-mq-ghost");this.replaceBracket(Q,this.side)},$.createLeftOf=function(N){if(!this.replacedFragment){var Q=N.options;if(this.sides[S].ch==="|")var oe=this.matchBrack(Q,x,N[x])||this.matchBrack(Q,S,N[S])||this.matchBrack(Q,0,N.parent.parent);else var oe=this.matchBrack(Q,-this.side,N[-this.side])||this.matchBrack(Q,-this.side,N.parent.parent)}if(oe){var we=this.side=-oe.side;this.closeOpposing(oe),oe===N.parent.parent&&N[we]&&U(N[we],N.parent.ends[we],-we).disown().withDirAdopt(-we,oe.parent,oe,oe[we]).jQ.insDirOf(we,oe.jQ),oe.bubble(function(J){J.reflow()})}else oe=this,we=oe.side,oe.replacedFragment?oe.side=0:N[-we]&&(oe.replaces(U(N[-we],N.parent.ends[-we],we)),N[-we]=0),ce.createLeftOf.call(oe,N);we===S?N.insAtLeftEnd(oe.ends[S]):N.insRightOf(oe)},$.placeCursor=O,$.unwrap=function(){this.ends[S].children().disown().adopt(this.parent,this,this[x]).jQ.insertAfter(this.jQ),this.remove()},$.deleteSide=function(N,Q,oe){var we=this.parent,J=this[N],Se=we.ends[N];if(N===this.side)return this.unwrap(),void(J?oe.insDirOf(-N,J):oe.insAtDirEnd(N,we));var De=oe.options,We=!this.side;if(this.side=-N,this.matchBrack(De,N,this.ends[S].ends[this.side])){this.closeOpposing(this.ends[S].ends[this.side]);var et=this.ends[S].ends[N];this.unwrap(),et.siblingCreated&&et.siblingCreated(oe.options,N),J?oe.insDirOf(-N,J):oe.insAtDirEnd(N,we)}else{if(this.matchBrack(De,N,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(Q&&We)return this.unwrap(),void(J?oe.insDirOf(-N,J):oe.insAtDirEnd(N,we));this.sides[N]={ch:Ut[this.sides[this.side].ch],ctrlSeq:Ut[this.sides[this.side].ctrlSeq]};var lt=this.delimjQs.removeClass("dcg-mq-ghost").eq(N===S?0:1).addClass("dcg-mq-ghost");this.replaceBracket(lt,N)}if(J){var et=this.ends[S].ends[N];U(J,Se,-N).disown().withDirAdopt(-N,this.ends[S],et,0).jQ.insAtDirEnd(N,this.ends[S].jQ.removeClass("dcg-mq-empty")),et.siblingCreated&&et.siblingCreated(oe.options,N),oe.insDirOf(-N,J)}else Q?oe.insDirOf(N,this):oe.insAtDirEnd(N,this.ends[S])}},$.replaceBracket=function(N,Q){var oe=this.getSymbol(Q);N.html(oe.html).css("width",oe.width),Q===S?N.next().css("margin-left",oe.width):N.prev().css("margin-right",oe.width)},$.deleteTowards=function(N,Q){this.deleteSide(-N,!1,Q)},$.finalizeTree=function(){this.ends[S].deleteOutOf=function(N,Q){this.parent.deleteSide(N,!0,Q)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(this.side===S?1:0).removeClass("dcg-mq-ghost"),this.side=0}},$.siblingCreated=function(N,Q){Q===-this.side&&this.finalizeTree()}}),Ut={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "},jt={"&lang;":"angle-bracket","&rang;":"angle-bracket","|":"pipe"};n("(",null,"parenthesis"),n("[",null,"bracket"),n("{","\\{","brace"),F.langle=o(xt,S,"&lang;","&rang;","\\langle ","\\rangle "),F.rangle=o(xt,x,"&lang;","&rang;","\\langle ","\\rangle "),G["|"]=o(xt,S,"|","|","|","|"),F.lVert=o(xt,S,"&#8741;","&#8741;","\\lVert ","\\rVert "),F.rVert=o(xt,x,"&#8741;","&#8741;","\\lVert ","\\rVert "),F.left=D(ye,function($){$.parser=function(){var ce=xe.regex,N=xe.string,Q=(xe.succeed,xe.optWhitespace);return Q.then(ce(/^(?:[([|]|\\\{|\\langle\b|\\lVert\b)/)).then(function(oe){var we=oe.replace(/^\\/,"");return oe=="\\langle"&&(we="&lang;",oe+=" "),oe=="\\lVert"&&(we="&#8741;",oe+=" "),Re.then(function(J){return N("\\right").skip(Q).then(ce(/^(?:[\])|]|\\\}|\\rangle\b|\\rVert\b)/)).map(function(Se){var De=Se.replace(/^\\/,"");Se=="\\rangle"&&(De="&rang;",Se+=" "),Se=="\\rVert"&&(De="&#8741;",Se+=" ");var We=xt(0,we,De,oe,Se);return We.blocks=[J],J.adopt(We,0,0),We})})})}}),F.right=D(ye,function($){$.parser=function(){return xe.fail("unmatched \\right")}});var or=F.binom=F.binomial=D(D(ye,c),function($,ce){var N=it["("],Q=it[")"];$.ctrlSeq="\\binom",$.htmlTemplate='<span class="dcg-mq-non-leaf dcg-mq-bracket-container"><span style="width:'+N.width+'" class="dcg-mq-paren dcg-mq-bracket-l dcg-mq-scaled">'+N.html+'</span><span style="margin-left:'+N.width+"; margin-right:"+Q.width+';" class="dcg-mq-non-leaf dcg-mq-bracket-middle"><span class="dcg-mq-array dcg-mq-non-leaf"><span>&0</span><span>&1</span></span></span><span style="width:'+Q.width+'" class="dcg-mq-paren dcg-mq-bracket-r dcg-mq-scaled">'+Q.html+"</span></span>",$.textTemplate=["choose(",",",")"],$.mathspeakTemplate=["StartBinomial,","Choose",", EndBinomial"],$.ariaLabel="binomial"});F.choose=D(or,function($){$.createLeftOf=mt.prototype.createLeftOf}),F.editable=F.MathQuillMathField=D(ye,function($,ce){$.ctrlSeq="\\MathQuillMathField",$.htmlTemplate='<span class="dcg-mq-editable-field"><span class="dcg-mq-root-block">&0</span></span>',$.parser=function(){var N=this,Q=xe.string,oe=xe.regex,we=xe.succeed;return Q("[").then(oe(/^[a-z][a-z0-9]*/i)).skip(Q("]")).map(function(J){N.name=J}).or(we()).then(ce.parser.call(N))},$.finalizeTree=function(N){var Q=Y(this.ends[S],this.jQ,N);Q.KIND_OF_MQ="MathField",Q.editable=!0,Q.createTextarea(),Q.editablesTextareaEvents(),Q.cursor.insAtRightEnd(Q.root),b(Q.root)},$.registerInnerField=function(N,Q){N.push(N[this.name]=Q(this.ends[S].controller))},$.latex=function(){return this.ends[S].latex()},$.text=function(){return this.ends[S].text()}});var dr=F.embed=D(P,function($,ce){$.setOptions=function(N){function Q(){return""}return this.text=N.text||Q,this.htmlTemplate=N.htmlString||"",this.latex=N.latex||Q,this},$.parser=function(){var N=this,Q=xe.string,oe=xe.regex,we=xe.succeed;return Q("{").then(oe(/^[a-z][a-z0-9]*/i)).skip(Q("}")).then(function(J){return Q("[").then(oe(/^[-\w\s]*/)).skip(Q("]")).or(we()).map(function(Se){return N.setOptions(fe[J](Se))})})}}),Xt=f(1);for(var Wt in Xt)(function($,ce){typeof ce=="function"?(u[$]=function(){return p(),ce.apply(this,arguments)},u[$].prototype=ce.prototype):u[$]=ce})(Wt,Xt[Wt])}(),q("mathquill_src",["jquery"],function(){}),q("text",{load:function(O){throw new Error("Dynamic load not allowed: "+O)}}),q("lib/inject-css",["require","underscore"],function(O){function o(i,l){var g=r[i];if(!g){g=document.createElement("style"),r[i]=g;var y=w.sortedIndex(d,i),p=r[d[y]];p?document.head.insertBefore(g,p):document.head.appendChild(g),d.splice(y,0,i)}g.textContent=l}var w=O("underscore"),r={},d=[];return o}),q("vendor/css",{}),q("lib/prefix-css",["require","vendor/css"],function(O){function o(y,p){if(p){var u="."+p;return w(u),r(y,u)}return y}function w(y){if(!/\.-?[_a-zA-Z]+[_a-zA-Z0-9-]*/.test(y))throw new Error("Illegal css selector prefix "+y)}function r(y,p){var u=g.parse(y),f=Object.assign({},u,{stylesheet:d(u.stylesheet,p)});return g.stringify(f)}function d(y,p){return Object.assign({},y,{rules:i(y.rules,p)})}function i(y,p){return y.map(function(u){return u.rules?Object.assign({},u,{rules:i(u.rules,p)}):u.selectors?Object.assign({},u,{selectors:l(u.selectors,p)}):u})}function l(y,p){for(var u=[],f=0;f<y.length;f++){var b=y[f];if(b==="html")u.push(b);else if(/dcg(-mq)?-aria-alert/.test(b))u.push(b);else if(/^html body( |$)/.test(b))u.push("html"+p+" body"+b.slice(9)),u.push("html body "+p+b.slice(9));else{if(/^html/.test(b))throw new Error("Cannot correctly prefix selector "+b);u.push(p+" "+b)}}return u}var g=O("vendor/css");return o}),q("loadcss",{load:function(O){throw new Error("Dynamic load not allowed: "+O)}}),q("loadcss!Symbola-basic",function(){}),q("loadcss!vendor_css/mathquill/mathquill-basic",function(){}),q("toplevel/mathquill",["require","testbridge","mathquill_src","loadcss!Symbola-basic","loadcss!vendor_css/mathquill/mathquill-basic"],function(O){return O("testbridge"),O("mathquill_src"),O("loadcss!Symbola-basic"),O("loadcss!vendor_css/mathquill/mathquill-basic"),window.MathQuill.noConflict()}),q("lib/parse-query-params",["require","exports"],function(O,o){Object.defineProperty(o,"__esModule",{value:!0}),o.getQueryParams=function(){var w="";try{w=location.search,w[0]=="?"&&(w=w.slice(1))}catch{}for(var r=w.split("&"),d={},i=0,l=r;i<l.length;i++){var g=l[i],y=g.split("=");y.length==2?d[y[0]]=decodeURIComponent(y[1]):d[y[0]]=!0}return d}}),q("config",["require","exports","core/lib/deepCopy","lib/parse-query-params"],function(O,o,w,r){function d(m){return l[m]}function i(){return w.default(l)}Object.defineProperty(o,"__esModule",{value:!0});var l={},g=r.getQueryParams();if(typeof k<"u"&&k.config)for(var y in k.config)k.config.hasOwnProperty(y)&&(g[y]=k.config[y]);var p=function(m){return g.hasOwnProperty(m)},u=function(m){l[m]=p(m)},f=function(m){l[m]=!p("no"+m)};u("testing"),u("maintenance"),u("disableScrollFix"),u("nativeOnscreenKeypad"),u("hidden"),u("disableMouseInteractions"),u("advancedStyling"),u("authorIDE"),u("clickableObjects"),u("outofdom"),g.lang&&(l.lang=g.lang),g.fontSize&&(l.fontSize=g.fontSize),g.backgroundColor&&(l.backgroundColor="#"+g.backgroundColor),g.textColor&&(l.textColor="#"+g.textColor),l.no_navigation_warning=p("noconcat")||p("testing"),l.previewMessage="You're previewing some new accessibility features.",l.previewFeedbackUrl="mailto:feedback@desmos.com";var b=location&&location.hostname==="preview.desmos.com";l.previewMode=p("previewMode")||b,u("lockViewport"),u("administerSecretFolders"),u("clickableObjects"),u("degreeMode"),u("clearIntoDegreeMode"),u("plaidMode"),u("editOnWeb"),u("crossOriginSaveTest"),u("showResetButtonOnGraphpaper"),u("transparentBackground"),f("links"),f("trace"),u("expressionsCollapsed"),u("invertedColors"),u("projectorMode"),f("images"),f("folders"),f("settingsMenu"),f("expressionsTopbar"),f("zoomButtons"),f("keypad"),f("graphpaper"),f("expressions"),f("expressionsTopbar"),f("settingsMenu"),f("branding"),f("pointsOfInterest"),f("plotSingleVariableImplicitEquations"),f("plotImplicits"),f("plotInequalities"),f("notes"),f("sliders"),u("pauseWhenOffscreen"),u("worksheetSVG"),u("sciKeypad"),u("4fnKeypad"),u("ans"),p("braille")&&(l.braille=!0),f("qwertyKeyboard"),u("restrictedFunctions"),f("functionDefinition"),u("singleExpression"),u("restrictedEditing"),u("replaceCommaWith10Exp"),u("replaceRoundWithReciprocal"),p("typingAsteriskWritesTimesSymbol")&&(l.typingAsteriskWritesTimesSymbol=!0),f("labels"),u("bare-i18n"),f("distributions"),l["4fnKeypad"]?u("decimalToFraction"):f("decimalToFraction"),u("3d"),p("exponentButtonForSquareRoot")?l.additionalFunctions=["exponent"]:g.additionalFunctions&&typeof g.additionalFunctions=="string"&&(l.additionalFunctions=g.additionalFunctions.split(",")),o.get=d,o.all=i}),q("mathquill",["require","browser","jquery","toplevel/mathquill","config"],function(O){var o=O("browser"),w=O("jquery"),r=O("toplevel/mathquill").getInterface(1),d=O("config"),i=["erf|error-function","TTest|t-test ttest|t-test TScore|t-score tscore|t-score","iTTest|independent-t-test ittest|independent-t-test IndependentTTest","TScore|t-score Tscore|t-score tscore|t-score","normaldist|normal-distribution tdist|t-distribution poissondist|poisson-distribution","binomialdist|binomial-distribution","uniformdist|uniform-distribution","pdf cdf random inverseCdf inversecdf","histogram dotplot boxplot","pdf cdf","histogram dotplot boxplot"].join(" "),l=["cube sphere cone dodecahedron octahedron tetrahedron"].join(" ");return r.config({leftRightIntoCmdGoes:"up",sumStartsWithNEquals:!0,supSubsRequireOperand:!0,charsThatBreakOutOfSupSub:"+-=<>*",autoCommands:"alpha beta sqrt theta phi pi tau nthroot cbrt sum prod int ans percent infinity infty",autoSubscriptNumerals:!0,restrictMismatchedBrackets:!0,typingPercentWritesPercentOf:!0,substituteTextarea:function(){return o.IS_IOS||o.IS_ANDROID?w('<span class="dcg-mathquill-input-span" tabindex=0 role="textbox" style="display:inline-block;height:1px;width:1px">')[0]:o.IS_WINDOWS&&o.IS_TOUCH?w("<textarea readonly>").on("keydown",function(){this.readOnly=!1,this.select()}).on("blur",function(){this.readOnly=!0})[0]:w("<textarea>")[0]},autoOperatorNames:["exp|exponent ln|natural-log log","total length mean median quantile quartile nCr nPr stats","stdev|standard-deviation stddev|standard-deviation","stdDev|standard-deviation stdevp|standard-deviation-population","stddevp|standard-deviation-population stdDevP|standard-deviation-population mad var|variance","varp|variance-population variance cov|co-variance corr|correlation spearman","lcm mcm gcd mcd gcf mod ceil|ceiling floor round abs|absolute-value min max sign|signum signum","sin|sine cos|cosine tan|tangent csc|co-secant sec|secant cot|co-tangent","sinh|hyperbolic-sine cosh|hyperbolic-cosine tanh|hyperbolic-tangent csch|hyperbolic-co-secant","sech|hyperbolic-secant coth|hyperbolic-co-tangent","arcsin|arc-sine arccos|arc-cosine arctan|arc-tangent arccsc|arc-co-secant arcsec|arc-secant","arccot|arc-co-tangent","arcsinh|hyperbolic-arc-sine arccosh|hyperbolic-arc-cosine arctanh|hyperbolic-arc-co-tangent","arccsch|hyperbolic-arc-co-secant arcsech|hyperbolic-arc-secant","arccoth|hyperbolic-arc-co-tangent","polygon","distance midpoint",i,d.get("3d")?l:""].filter(function(g){return!!g}).join(" "),resetCursorOnBlur:!0,enableDigitGrouping:!0})}),q("graphing/clipping",["require","exports","core/types/graphmode"],function(O,o,w){function r(f,b,m,c){var n=[],s=b.xmin,v=b.ymin,A=b.xmax-b.xmin,M=b.ymax-b.ymin,C=m.width,D=m.height,S=C/A,x=-D/M,B=f.length;if(c===o.Y_EQUALS)for(var Z=0;Z<B;Z+=2){var X=(f[Z]-s)*S-.5,ee=(f[Z+1]-v)*x+D-.5;n.push(X,ee)}else if(c===o.X_EQUALS)for(var Z=0;Z<B;Z+=2){var X=(f[Z+1]-s)*S-.5,ee=(f[Z]-v)*x+D-.5;n.push(X,ee)}else if(c===o.POLAR_RADIAN_EQUALITY)for(var Z=0;Z<f.length;Z+=2){var W=f[Z],U=f[Z+1],X=(U*Math.cos(W)-s)*S-.5,ee=(U*Math.sin(W)-v)*x+D-.5;n.push(X,ee)}else if(c===o.POLAR_RADIAN_INEQUALITY)for(var Z=0;Z<f.length;Z+=2){var W=f[Z],U=f[Z+1];U<0&&(U=0);var X=(U*Math.cos(W)-s)*S-.5,ee=(U*Math.sin(W)-v)*x+D-.5;n.push(X,ee)}else if(c===o.POLAR_DEGREE_EQUALITY)for(var Z=0;Z<f.length;Z+=2){var W=f[Z]*Math.PI/180,U=f[Z+1],X=(U*Math.cos(W)-s)*S-.5,ee=(U*Math.sin(W)-v)*x+D-.5;n.push(X,ee)}else if(c===o.POLAR_DEGREE_INEQUALITY)for(var Z=0;Z<f.length;Z+=2){var W=f[Z]*Math.PI/180,U=f[Z+1];U<0&&(U=0);var X=(U*Math.cos(W)-s)*S-.5,ee=(U*Math.sin(W)-v)*x+D-.5;n.push(X,ee)}return n}function d(f,b){return l(f,b,o.ALL,!0)}function i(f,b,m,c){var n,s,v,A,M=[];c?(s=f[0],v=f[1],n=2,(A=b(s,v))&&M.push(s,v)):(s=f[f.length-2],v=f[f.length-1],n=0,A=b(s,v));for(var C=n;C<f.length;C+=2){var D=s,S=v,x=A;s=f[C],v=f[C+1],A=b(s,v),(A||x)&&(A&&x&&M.push(s,v),A&&!x&&(Array.prototype.push.apply(M,m(s,v,D,S)),M.push(s,v)),!A&&x&&Array.prototype.push.apply(M,m(D,S,s,v)))}return M}function l(f,b,m,c){var n=b.xmin,s=b.xmax,v=b.ymin,A=b.ymax,M=function(W,U){return W>=n},C=function(W,U){return W<=s},D=function(W,U){return U>=v},S=function(W,U){return U<=A},x=function(W,U,F,G){return W=W,U=U,F=F,G=G,[n,U+(G-U)*(n-W)/(F-W)]},B=function(W,U,F,G){return W=W,U=U,F=F,G=G,[s,U+(G-U)*(s-W)/(F-W)]},Z=function(W,U,F,G){return W=W,U=U,F=F,G=G,[W+(F-W)*(v-U)/(G-U),v]},X=function(W,U,F,G){return W=W,U=U,F=F,G=G,[W+(F-W)*(A-U)/(G-U),A]},ee=f;return m&o.LEFT&&(ee=i(f,M,x,c)),m&o.BOTTOM&&(ee=i(ee,D,Z,c)),m&o.RIGHT&&(ee=i(ee,C,B,c)),m&o.TOP&&(ee=i(ee,S,X,c)),ee}function g(f,b){return l(f,b,o.ALL,!1)}function y(f,b,m){var c=[],n=f[0],s=n+m,v=[];c.push(v);for(var A=0;A<f.length;A+=2){var M=f[A],C=f[A+1];if(C<0&&(C=0),M>=s){for(v=[],c.push(v),n=f[A-2],s=n;M>=s;)s+=m;A-=4}else v.push(M,C)}if(b===0)for(var A=0;A<c.length;A++)c[A].push(0,0);else for(var D=m/16,S=b,A=0;A<c.length;A++){var x=c[A];n=x[0],s=x[x.length-2];for(var M=s;M>n;M-=D)x.push(M,S);x.push(n,S)}return c}function p(f,b){return f=f.slice(),f.push(f[f.length-2],b),f.push(f[0],b),[f]}function u(f,b,m){switch(f){case w.X:return o.X_EQUALS;case w.IMPLICIT:case w.PARAMETRIC:case w.Y:return o.Y_EQUALS;case w.POLAR:return m.degreeMode?b?o.POLAR_DEGREE_INEQUALITY:o.POLAR_DEGREE_EQUALITY:b?o.POLAR_RADIAN_INEQUALITY:o.POLAR_RADIAN_EQUALITY}}Object.defineProperty(o,"__esModule",{value:!0}),o.TOP=1,o.BOTTOM=2,o.LEFT=4,o.RIGHT=8,o.ALL=15,o.X=12,o.Y=3,o.POLAR_RADIAN_EQUALITY=1,o.POLAR_RADIAN_INEQUALITY=2,o.POLAR_DEGREE_EQUALITY=3,o.POLAR_DEGREE_INEQUALITY=4,o.Y_EQUALS=5,o.X_EQUALS=6,o.mapSegmentToCanvas=r,o.clipStrokeEdges=d,o.clipFillEdge=i,o.clipFillEdges=l,o.clipAllFillEdges=g,o.computePolarFill=y,o.computeCartesianFill=p,o.getClippingGraphType=u}),q("core/lib/color-helpers",["require","exports"],function(O,o){function w(y){return r(y)?(y.match(/^#([A-Fa-f0-9]{3})$/g)&&(y="#"+y[1]+y[1]+y[2]+y[2]+y[3]+y[3]),y.toLowerCase()):y}function r(y){return typeof y=="string"&&(y.match(/^#([A-Fa-f0-9]{3})$/g)||y.match(/^#([A-Fa-f0-9]{6})$/g))}function d(y,p){if(y=w(y),!r(y))return y;p>1&&(p=1),p<-1&&(p=-1);var u=parseInt(y.slice(1),16),f=p<0?0:255,b=p<0?-1*p:p,m=u>>16,c=u>>8&255,n=255&u;return"#"+(16777216+65536*(Math.round((f-m)*b)+m)+256*(Math.round((f-c)*b)+c)+(Math.round((f-n)*b)+n)).toString(16).slice(1)}function i(y){if(y=w(y),!r(y))return y;var p="0123456789abcdef";return"#"+y.slice(1).split("").map(function(u){return p[15-p.indexOf(u)]}).join("")}function l(y){if(y=y.replace(/#/,""),y.length===3)var p=parseInt(y.slice(0,1)+y.slice(0,1),16),u=parseInt(y.slice(1,2)+y.slice(1,2),16),f=parseInt(y.slice(2,3)+y.slice(2,3),16);else if(y.length===6)var p=parseInt(y.slice(0,2),16),u=parseInt(y.slice(2,4),16),f=parseInt(y.slice(4,6),16);else var p=0,u=0,f=0;return{r:p,g:u,b:f}}function g(y,p){var u=/(rgba\([\d]+\,\ ?[\d]+\,\ ?[\d]+\,\ ?)[\d.]+(\))/;return y.match(u)?y.replace(u,"$1"+p+"$2"):y}Object.defineProperty(o,"__esModule",{value:!0}),o.normalizeColor=w,o.isValidHexColor=r,o.shadeColor=d,o.invertColor=i,o.parseHex=l,o.mutateOpacity=g,o.colors={RED:"#c74440",BLUE:"#2d70b3",GREEN:"#388c46",PURPLE:"#6042a6",ORANGE:"#fa7e19",BLACK:"#000000",GRAY:"#aaaaaa"}}),q("expressions/colors",["require","exports","core/lib/color-helpers"],function(O,o,w){function r(d,i){switch(i){case w.colors.RED:return d.t("red");case w.colors.BLUE:return d.t("blue");case w.colors.GREEN:return d.t("green");case w.colors.PURPLE:return d.t("purple");case w.colors.ORANGE:return d.t("orange");case w.colors.BLACK:return d.t("black");case w.colors.GRAY:return d.t("gray");default:return d.t("color unknown")}}Object.defineProperty(o,"__esModule",{value:!0}),o.RED=w.colors.RED,o.BLUE=w.colors.BLUE,o.GREEN=w.colors.GREEN,o.PURPLE=w.colors.PURPLE,o.ORANGE=w.colors.ORANGE,o.BLACK=w.colors.BLACK,o.all=[o.RED,o.BLUE,o.GREEN,o.PURPLE,o.ORANGE,o.BLACK],o.getColorName=r}),q("lib/console",["require","exports","console"],function(O,o,w){Object.defineProperty(o,"__esModule",{value:!0}),o.log=w.log,o.warn=w.warn}),q("graphing-calc/api/sanitize-expression",["require","exports","core/types/styles","core/lib/dragmode","core/types/label-sizes","core/types/label-orientations","core/lib/number-to-latex","lib/console"],function(O,o,w,r,d,i,l,g){function y(U,F){for(var G in F)if(F.hasOwnProperty(G)&&F[G]===U)return!0;return!1}function p(U){return y(U,o.SanitizedPointStyle)}function u(U){return y(U,o.SanitizedLineStyle)}function f(U){return y(U,o.SanitizedDragMode)}function b(U){return y(U,o.SanitizedColumnMode)}function m(U){return y(U,o.SanitizedLabelSize)}function c(U){return y(U,o.SanitizedLabelOrientation)}function n(U){return{id:U.id,type:U.type,columns:U.columns.map(s)}}function s(U){return{id:U.id,latex:U.latex,color:U.color,hidden:U.hidden,pointStyle:U.pointStyle,lineStyle:U.lineStyle,points:U.points,lines:U.lines,dragMode:U.dragMode,values:U.values.slice()}}function v(U){var F=["latex","color","lineStyle","pointStyle","fillOpacity","points","lines","fill","hidden","secret","dragMode","label","showLabel","labelSize","labelOrientation","verticalLabel","interactiveLabel"],G={id:U.id,type:U.type};return F.forEach(function(ie){U.hasOwnProperty(ie)&&(G[ie]=U[ie])}),U.hasOwnProperty("parametricDomain")&&(G.parametricDomain={min:U.parametricDomain.min,max:U.parametricDomain.max}),U.hasOwnProperty("polarDomain")&&(G.polarDomain={min:U.polarDomain.min,max:U.polarDomain.max}),U.hasOwnProperty("domain")&&(G.domain={min:U.domain.min,max:U.domain.max}),U.slider&&(U.slider.hardMin&&(G.sliderBounds=G.sliderBounds||{},G.sliderBounds.min=U.slider.min),U.slider.hardMax&&(G.sliderBounds=G.sliderBounds||{},G.sliderBounds.max=U.slider.max),U.slider.step&&(G.sliderBounds=G.sliderBounds||{},G.sliderBounds.step=U.slider.step)),G}function A(U){return{id:U.id,type:U.type,hidden:U.hidden,secret:U.secret}}function M(U){return{id:U.id,type:U.type,hidden:U.hidden,secret:U.secret}}function C(U){return{id:U.id,type:U.type,secret:U.secret}}function D(U){switch(U.type){case"expression":return v(U);case"table":return n(U);case"folder":return M(U);case"image":return A(U);case"text":return C(U);default:return U}}function S(U,F){return U.hasOwnProperty("id")?U.id+"":F.generateId()}function x(U,F){var G={type:"expression",id:S(U,F)};return G.type="expression",G.id=S(U,F),U.hasOwnProperty("latex")&&(G.latex=U.latex+""),U.hasOwnProperty("color")&&(G.color=U.color+""),U.hasOwnProperty("points")&&(G.points=!!U.points),U.hasOwnProperty("lines")&&(G.lines=!!U.lines),U.hasOwnProperty("style")&&(g.warn("As of API v1.1 the 'style' property is deprecated and has been split into 'pointStyle' and 'lineStyle'."),p(U.style)?G.pointStyle=U.style:u(U.style)?G.lineStyle=U.style:g.warn("Invalid style: '"+U.style+"'.")),U.hasOwnProperty("pointStyle")&&(p(U.pointStyle)?G.pointStyle=U.pointStyle:g.warn("Invalid pointStyle: '"+U.pointStyle+"'.")),U.hasOwnProperty("lineStyle")&&(u(U.lineStyle)?G.lineStyle=U.lineStyle:g.warn("Invalid lineStyle: '"+U.lineStyle+"'.")),U.hasOwnProperty("hidden")&&(G.hidden=!!U.hidden),U.hasOwnProperty("secret")&&(G.secret=!!U.secret),U.hasOwnProperty("sliderBounds")&&U.sliderBounds&&(G.slider={min:l.default(U.sliderBounds.min),max:l.default(U.sliderBounds.max),step:l.default(U.sliderBounds.step)},G.slider.min&&(G.slider.hardMin=!0),G.slider.max&&(G.slider.hardMax=!0)),U.hasOwnProperty("parametricDomain")&&U.parametricDomain?(G.parametricDomain={min:l.default(U.parametricDomain.min),max:l.default(U.parametricDomain.max)},U.hasOwnProperty("domain")&&g.warn("Both 'parametricDomain' and the deprecated 'domain' property were specified. Using 'parametricDomain'.")):U.hasOwnProperty("domain")&&(g.warn("The 'domain' property is deprecated.Use 'parametricDomain' to specify the domain for parametric functions"),G.parametricDomain={min:l.default(U.domain.min),max:l.default(U.domain.max)}),U.hasOwnProperty("polarDomain")&&U.polarDomain&&(G.polarDomain={min:l.default(U.polarDomain.min),max:l.default(U.polarDomain.max)}),U.hasOwnProperty("dragMode")&&(f(U.dragMode)?G.dragMode=U.dragMode:g.warn("Invalid dragMode: '"+U.dragMode+"'.")),U.hasOwnProperty("label")&&(G.label=U.label+""),U.hasOwnProperty("showLabel")&&(G.showLabel=!!U.showLabel),U.hasOwnProperty("labelSize")&&(m(U.labelSize)?G.labelSize=U.labelSize:g.warn("Invalid labelSize: "+U.labelSize)),U.hasOwnProperty("labelOrientation")&&(c(U.labelOrientation)?G.labelOrientation=U.labelOrientation:g.warn("Invalid labelOrientation: "+U.labelOrientation)),U.hasOwnProperty("fill")&&(G.fill=!!U.fill),U.hasOwnProperty("fillOpacity")&&(G.fillOpacity=""+U.fillOpacity),G}function B(U,F){var G={id:S(U,F)};return U.hasOwnProperty("latex")&&(G.latex=U.latex+""),U.hasOwnProperty("color")&&(G.color=U.color+""),U.hasOwnProperty("hidden")&&(G.hidden=!!U.hidden),U.hasOwnProperty("points")&&(G.points=!!U.points),U.hasOwnProperty("lines")&&(G.lines=!!U.lines),U.hasOwnProperty("values")&&U.values&&(G.values=U.values.map(function(ie){return ie+""})),U.hasOwnProperty("columnMode")&&(g.warn("As of API v1.1 the 'columnMode' property is deprecated and has been split into individual 'points' and 'lines' properties."),U.columnMode===o.SanitizedColumnMode.POINTS_AND_LINES?(G.points=!0,G.lines=!0):U.columnMode===o.SanitizedColumnMode.LINES?(G.points=!1,G.lines=!0):(G.points=!0,G.lines=!1),G.lines&&!G.points&&U.hasOwnProperty("dragMode")&&U.dragMode!==r.DragMode.NONE&&(g.warn("A 'lines' value of true and 'points' value of false is only compatible with a dragMode of 'NONE'. Proceeding by setting 'points' to true."),G.points=!0),b(U.columnMode)&&g.warn("Invalid columnMode: '"+U.columnMode+"'.")),U.hasOwnProperty("dragMode")&&(f(U.dragMode)?G.dragMode=U.dragMode===r.DragMode.AUTO?r.DragMode.NONE:U.dragMode:g.warn("Invalid dragMode: '"+U.dragMode+"'.")),G}function Z(U,F){var G={type:"table",id:S(U,F)};return U.hasOwnProperty("columns")&&U.columns&&(G.columns=U.columns.map(function(ie){return B(ie,F)})),G}function X(U,F){var G={type:"folder",id:S(U,F)};return U.hasOwnProperty("hidden")&&(G.hidden=!!U.hidden),G}function ee(U,F){var G={type:"image",id:S(U,F)};return U.hasOwnProperty("hidden")&&(G.hidden=!!U.hidden),G}function W(U,F,G){var ie=U.type;if(F&&ie&&ie!==F)return void g.warn("Cannot change type of expression from '"+F+"' to '"+ie+"'.");switch(ie){case void 0:case"expression":return x(U,G);case"image":return ee(U,G);case"table":return Z(U,G);case"folder":return X(U,G);default:return F?void g.warn("Cannot modify expressions of type: '"+F+"' through the API."):void g.warn("Invalid expression type: '"+ie+"'.")}}Object.defineProperty(o,"__esModule",{value:!0}),o.SanitizedPointStyle={OPEN:w.PointStyle.OPEN,CROSS:w.PointStyle.CROSS,POINT:w.PointStyle.POINT},o.SanitizedLineStyle={SOLID:w.LineStyle.SOLID,DASHED:w.LineStyle.DASHED,DOTTED:w.LineStyle.DOTTED},o.SanitizedDragMode={NONE:r.DragMode.NONE,AUTO:r.DragMode.AUTO,X:r.DragMode.X,Y:r.DragMode.Y,XY:r.DragMode.XY},o.SanitizedColumnMode={POINTS:"POINTS",LINES:"LINES",POINTS_AND_LINES:"POINTS_AND_LINES"},o.SanitizedLabelSize={SMALL:d.LabelSize.SMALL,MEDIUM:d.LabelSize.MEDIUM,LARGE:d.LabelSize.LARGE},o.SanitizedLabelOrientation={ABOVE:i.LabelOrientation.ABOVE,BELOW:i.LabelOrientation.BELOW,DEFAULT:i.LabelOrientation.DEFAULT,LEFT:i.LabelOrientation.LEFT,RIGHT:i.LabelOrientation.RIGHT},o.sanitizeItem=D,o.validateItem=W}),q("core/graphing-calc/json/graph-settings",["require","exports","tslib"],function(O,o,w){function r(g){return g in i}Object.defineProperty(o,"__esModule",{value:!0});var d;(function(g){g.NONE="NONE",g.POSITIVE="POSITIVE",g.BOTH="BOTH"})(d=o.AxisArrowModes||(o.AxisArrowModes={}));var i={showGrid:!0,showXAxis:!0,showYAxis:!0,xAxisStep:0,yAxisStep:0,xAxisMinorSubdivisions:0,yAxisMinorSubdivisions:0,xAxisArrowMode:d.NONE,yAxisArrowMode:d.NONE,xAxisLabel:"",yAxisLabel:"",xAxisNumbers:!0,yAxisNumbers:!0,polarMode:!1,polarNumbers:!0,degreeMode:!1,randomSeed:"",restrictGridToFirstQuadrant:!1},l={squareAxes:!0};o.DefaultGraphSettings=w.__assign(w.__assign({},i),l),o.publicGraphSettings=Object.keys(i),o.isGraphSetting=r}),q("main/font_sizes",["require","exports"],function(O,o){Object.defineProperty(o,"__esModule",{value:!0}),o.VERY_SMALL=9,o.SMALL=12,o.MEDIUM=16,o.LARGE=20,o.VERY_LARGE=24}),function(O){var o=function(r,d,i){var l,g,y=document.createElement("img");if(y.onerror=d,y.onload=function(){!g||i&&i.noRevoke||o.revokeObjectURL(g),d&&d(o.scale(y,i))},o.isInstanceOf("Blob",r)||o.isInstanceOf("File",r))l=g=o.createObjectURL(r),y._type=r.type;else{if(typeof r!="string")return!1;l=r,i&&i.crossOrigin&&(y.crossOrigin=i.crossOrigin)}return l?(y.src=l,y):o.readFile(r,function(p){var u=p.target;u&&u.result?y.src=u.result:d&&d(p)})},w=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;o.isInstanceOf=function(r,d){return Object.prototype.toString.call(d)==="[object "+r+"]"},o.transformCoordinates=function(){},o.getTransformedOptions=function(r){return r},o.renderImageToCanvas=function(r,d,i,l,g,y,p,u,f,b){return r.getContext("2d").drawImage(d,i,l,g,y,p,u,f,b),r},o.hasCanvasOption=function(r){return r.canvas||r.crop},o.scale=function(r,d){d=d||{};var i,l,g,y,p,u,f,b,m,c=document.createElement("canvas"),n=r.getContext||o.hasCanvasOption(d)&&c.getContext,s=r.naturalWidth||r.width,v=r.naturalHeight||r.height,A=s,M=v,C=function(){var S=Math.max((g||A)/A,(y||M)/M);S>1&&(A=Math.ceil(A*S),M=Math.ceil(M*S))},D=function(){var S=Math.min((i||A)/A,(l||M)/M);S<1&&(A=Math.ceil(A*S),M=Math.ceil(M*S))};return n&&(d=o.getTransformedOptions(d),f=d.left||0,b=d.top||0,d.sourceWidth?(p=d.sourceWidth,d.right!==void 0&&d.left===void 0&&(f=s-p-d.right)):p=s-f-(d.right||0),d.sourceHeight?(u=d.sourceHeight,d.bottom!==void 0&&d.top===void 0&&(b=v-u-d.bottom)):u=v-b-(d.bottom||0),A=p,M=u),i=d.maxWidth,l=d.maxHeight,g=d.minWidth,y=d.minHeight,n&&i&&l&&d.crop?(A=i,M=l,m=p/u-i/l,m<0?(u=l*p/i,d.top===void 0&&d.bottom===void 0&&(b=(v-u)/2)):m>0&&(p=i*u/l,d.left===void 0&&d.right===void 0&&(f=(s-p)/2))):((d.contain||d.cover)&&(g=i=i||g,y=l=l||y),d.cover?(D(),C()):(C(),D())),n?(c.width=A,c.height=M,o.transformCoordinates(c,d),o.renderImageToCanvas(c,r,f,b,p,u,0,0,A,M)):(r.width=A,r.height=M,r)},o.createObjectURL=function(r){return!!w&&w.createObjectURL(r)},o.revokeObjectURL=function(r){return!!w&&w.revokeObjectURL(r)},o.readFile=function(r,d,i){if(window.FileReader){var l=new FileReader;if(l.onload=l.onerror=d,i=i||"readAsDataURL",l[i])return l[i](r),l}return!1},typeof q=="function"&&q.amd?q("vendor/load-image/load-image",[],function(){return o}):O.loadImage=o}(this),function(O){typeof q=="function"&&q.amd?q("vendor/load-image/load-image-orientation",["./load-image"],O):O(window.loadImage)}(function(O){var o=O.hasCanvasOption;O.hasCanvasOption=function(w){return o(w)||w.orientation},O.transformCoordinates=function(w,r){var d=w.getContext("2d"),i=w.width,l=w.height,g=r.orientation;if(g)switch(g>4&&(w.width=l,w.height=i),g){case 2:d.translate(i,0),d.scale(-1,1);break;case 3:d.translate(i,l),d.rotate(Math.PI);break;case 4:d.translate(0,l),d.scale(1,-1);break;case 5:d.rotate(.5*Math.PI),d.scale(1,-1);break;case 6:d.rotate(.5*Math.PI),d.translate(0,-l);break;case 7:d.rotate(.5*Math.PI),d.translate(i,-l),d.scale(-1,1);break;case 8:d.rotate(-.5*Math.PI),d.translate(-i,0)}},O.getTransformedOptions=function(w){if(!w.orientation||w.orientation===1)return w;var r,d={};for(r in w)w.hasOwnProperty(r)&&(d[r]=w[r]);switch(w.orientation){case 2:d.left=w.right,d.right=w.left;break;case 3:d.left=w.right,d.top=w.bottom,d.right=w.left,d.bottom=w.top;break;case 4:d.top=w.bottom,d.bottom=w.top;break;case 5:d.left=w.top,d.top=w.left,d.right=w.bottom,d.bottom=w.right;break;case 6:d.left=w.top,d.top=w.right,d.right=w.bottom,d.bottom=w.left;break;case 7:d.left=w.bottom,d.top=w.right,d.right=w.top,d.bottom=w.left;break;case 8:d.left=w.bottom,d.top=w.left,d.right=w.top,d.bottom=w.right}return w.orientation>4&&(d.maxWidth=w.maxHeight,d.maxHeight=w.maxWidth,d.minWidth=w.minHeight,d.minHeight=w.minWidth,d.sourceWidth=w.sourceHeight,d.sourceHeight=w.sourceWidth),d}}),function(O){typeof q=="function"&&q.amd?q("vendor/load-image/load-image-meta",["./load-image"],O):O(window.loadImage)}(function(O){var o=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);O.blobSlice=o&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},O.metaDataParsers={jpeg:{65505:[]}},O.parseMetaData=function(w,r,d){d=d||{};var i=this,l=d.maxMetaDataSize||262144,g={};window.DataView&&w&&w.size>=12&&w.type==="image/jpeg"&&O.blobSlice&&O.readFile(O.blobSlice.call(w,0,l),function(y){var p,u,f,b,m=y.target.result,c=new DataView(m),n=2,s=c.byteLength-4,v=n;if(c.getUint16(0)===65496){for(;n<s&&((p=c.getUint16(n))>=65504&&p<=65519||p===65534);){if(u=c.getUint16(n+2)+2,n+u>c.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(f=O.metaDataParsers.jpeg[p])for(b=0;b<f.length;b+=1)f[b].call(i,c,n,u,g,d);n+=u,v=n}!d.disableImageHead&&v>6&&(m.slice?g.imageHead=m.slice(0,v):g.imageHead=new Uint8Array(m).subarray(0,v))}else console.log("Invalid JPEG file: Missing JPEG marker.");r(g)},"readAsArrayBuffer")||r(g)}}),function(O){typeof q=="function"&&q.amd?q("vendor/load-image/load-image-ios",["./load-image"],O):O(window.loadImage)}(function(O){if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var o=O.renderImageToCanvas;O.detectSubsampling=function(w){var r,d;return w.width*w.height>1048576&&(r=document.createElement("canvas"),r.width=r.height=1,d=r.getContext("2d"),d.drawImage(w,1-w.width,0),d.getImageData(0,0,1,1).data[3]===0)},O.detectVerticalSquash=function(w,r){var d,i,l,g,y,p=w.naturalHeight||w.height,u=document.createElement("canvas"),f=u.getContext("2d");for(r&&(p/=2),u.width=1,u.height=p,f.drawImage(w,0,0),d=f.getImageData(0,0,1,p).data,i=0,l=p,g=p;g>i;)y=d[4*(g-1)+3],y===0?l=g:i=g,g=l+i>>1;return g/p||1},O.renderImageToCanvas=function(w,r,d,i,l,g,y,p,u,f){if(r._type==="image/jpeg"){var b,m,c,n,s=w.getContext("2d"),v=document.createElement("canvas"),A=v.getContext("2d");if(v.width=1024,v.height=1024,s.save(),b=O.detectSubsampling(r),b&&(d/=2,i/=2,l/=2,g/=2),m=O.detectVerticalSquash(r,b),b||m!==1){for(i*=m,u=Math.ceil(1024*u/l),f=Math.ceil(1024*f/g/m),p=0,n=0;n<g;){for(y=0,c=0;c<l;)A.clearRect(0,0,1024,1024),A.drawImage(r,d,i,l,g,-c,-n,l,g),s.drawImage(v,0,0,1024,1024,y,p,u,f),c+=1024,y+=u;n+=1024,p+=f}return s.restore(),w}}return o(w,r,d,i,l,g,y,p,u,f)}}}),function(O){typeof q=="function"&&q.amd?q("vendor/load-image/load-image-exif",["./load-image","./load-image-meta"],O):O(window.loadImage)}(function(O){O.ExifMap=function(){return this},O.ExifMap.prototype.map={Orientation:274},O.ExifMap.prototype.get=function(o){return this[o]||this[this.map[o]]},O.getExifThumbnail=function(o,w,r){var d,i,l;if(!r||w+r>o.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(d=[],i=0;i<r;i+=1)l=o.getUint8(w+i),d.push((l<16?"0":"")+l.toString(16));return"data:image/jpeg,%"+d.join("%")},O.exifTagTypes={1:{getValue:function(o,w){return o.getUint8(w)},size:1},2:{getValue:function(o,w){return String.fromCharCode(o.getUint8(w))},size:1,ascii:!0},3:{getValue:function(o,w,r){return o.getUint16(w,r)},size:2},4:{getValue:function(o,w,r){return o.getUint32(w,r)},size:4},5:{getValue:function(o,w,r){return o.getUint32(w,r)/o.getUint32(w+4,r)},size:8},9:{getValue:function(o,w,r){return o.getInt32(w,r)},size:4},10:{getValue:function(o,w,r){return o.getInt32(w,r)/o.getInt32(w+4,r)},size:8}},O.exifTagTypes[7]=O.exifTagTypes[1],O.getExifValue=function(o,w,r,d,i,l){var g,y,p,u,f,b,m=O.exifTagTypes[d];if(!m)return void console.log("Invalid Exif data: Invalid tag type.");if(g=m.size*i,(y=g>4?w+o.getUint32(r+8,l):r+8)+g>o.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(i===1)return m.getValue(o,y,l);for(p=[],u=0;u<i;u+=1)p[u]=m.getValue(o,y+u*m.size,l);if(m.ascii){for(f="",u=0;u<p.length&&(b=p[u])!=="\0";u+=1)f+=b;return f}return p},O.parseExifTag=function(o,w,r,d,i){var l=o.getUint16(r,d);i.exif[l]=O.getExifValue(o,w,r,o.getUint16(r+2,d),o.getUint32(r+4,d),d)},O.parseExifTags=function(o,w,r,d,i){var l,g,y;if(r+6>o.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(l=o.getUint16(r,d),(g=r+2+12*l)+4>o.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(y=0;y<l;y+=1)this.parseExifTag(o,w,r+2+12*y,d,i);return o.getUint32(g,d)},O.parseExifData=function(o,w,r,d,i){if(!i.disableExif){var l,g,y,p=w+10;if(o.getUint32(w+4)===1165519206){if(p+8>o.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(o.getUint16(w+8)!==0)return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(o.getUint16(p)){case 18761:l=!0;break;case 19789:l=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(o.getUint16(p+2,l)!==42)return void console.log("Invalid Exif data: Missing TIFF marker.");g=o.getUint32(p+4,l),d.exif=new O.ExifMap,g=O.parseExifTags(o,p,p+g,l,d),g&&!i.disableExifThumbnail&&(y={exif:{}},g=O.parseExifTags(o,p,p+g,l,y),y.exif[513]&&(d.exif.Thumbnail=O.getExifThumbnail(o,p+y.exif[513],y.exif[514]))),d.exif[34665]&&!i.disableExifSub&&O.parseExifTags(o,p,p+d.exif[34665],l,d),d.exif[34853]&&!i.disableExifGps&&O.parseExifTags(o,p,p+d.exif[34853],l,d)}}},O.metaDataParsers.jpeg[65505].push(O.parseExifData)}),function(O){typeof q=="function"&&q.amd?q("vendor/load-image/load-image-exif-map",["./load-image","./load-image-exif"],O):O(window.loadImage)}(function(O){O.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},O.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},O.ExifMap.prototype.getText=function(o){var w=this.get(o);switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[o][w];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(w[0],w[1],w[2],w[3]);case"ComponentsConfiguration":return this.stringValues[o][w[0]]+this.stringValues[o][w[1]]+this.stringValues[o][w[2]]+this.stringValues[o][w[3]];case"GPSVersionID":return w[0]+"."+w[1]+"."+w[2]+"."+w[3]}return String(w)},function(o){var w,r=o.tags,d=o.map;for(w in r)r.hasOwnProperty(w)&&(d[r[w]]=w)}(O.ExifMap.prototype),O.ExifMap.prototype.getAll=function(){var o,w,r={};for(o in this)this.hasOwnProperty(o)&&(w=this.tags[o])&&(r[w]=this.getText(w));return r}}),q("loadImage",["require","vendor/load-image/load-image-orientation","vendor/load-image/load-image-meta","vendor/load-image/load-image-ios","vendor/load-image/load-image-exif","vendor/load-image/load-image-exif-map","vendor/load-image/load-image"],function(O){return O("vendor/load-image/load-image-orientation"),O("vendor/load-image/load-image-meta"),O("vendor/load-image/load-image-ios"),O("vendor/load-image/load-image-exif"),O("vendor/load-image/load-image-exif-map"),O("vendor/load-image/load-image")}),q("expressions/image_file_to_data_url",["require","exports","loadImage"],function(O,o,w){function r(g,y){for(var p,u=[.92,.86,.8,.7,.6,.5,.4,.3,.2,.1],f=0;f<u.length;f++)if(p=g.toDataURL("image/jpeg",u[f]),p.length<y)return p;return p}function d(g,y){for(var p,u=g.toDataURL().length,f=g.width,b=g.height,m=document.createElement("canvas"),c=0;c<2;c++){var n=Math.sqrt(y/u);if(f=Math.round(n*f),b=Math.round(n*b),m.height=b,m.width=f,m.getContext("2d").drawImage(g,0,0,f,b),p=m.toDataURL(),(u=p.length)<y)return p}return p}function i(g){for(var y=g.getContext("2d"),p=y.getImageData(0,0,g.width,g.height).data,u=3;u<p.length;u+=4)if(p[u]!==255)return!0;return!1}function l(g,y){var p={orientation:!0,canvas:!0,maxWidth:1600,maxHeight:1600};w(g,function(u){if(!u.toDataURL)return void y(!0);var f;if(g.type==="image/jpeg")f=r(u,2e5);else if(f=u.toDataURL(),f.length>2e5){var b=f.length>.75*u.width*u.height,m=b&&!i(u);f=m?r(u,2e5):d(u,2e5)}y(null,f)},p)}Object.defineProperty(o,"__esModule",{value:!0}),o.imageFileToDataURL=l}),q("lib/i18n",["require","exports","config","jquery","underscore","lib/console"],function(O,o,w,r,d,i){function l(C,D){s=C||"",v=D||{},A={}}function g(C){for(var D,S=/(__[^_]+__)/g,x=[];(D=S.exec(C))!==null;)x.push({index:D.index,text:D[0]});C=C.replace(/[a-z]/gi,"\u2666");for(var B=C.split(""),Z=0;Z<x.length;Z++)for(var X=x[Z].index,ee=x[Z].text,W=0;W<ee.length;W++)B[X+W]=ee[W];return B.join("")}function y(C,D,S){var x,B=S!==void 0?S:s;A[B]||(A[B]=u([B]));for(var Z=0,X=A[B];Z<X.length;Z++){var ee=X[Z];if(v.hasOwnProperty(ee)&&v[ee][C]){x=v[ee][C];break}}if(x||(x=C!==void 0?C:""),w.get("bare-i18n")&&(x=g(x)),D)for(var W in D)D.hasOwnProperty(W)&&(x=x.split("__"+W+"__").join(D[W]));return x}function p(C,D){return y(C,D)}function u(C){var D=[];return d.each(C,function(S){if(S&&typeof S=="string"){var x=S.split("-")[0];D.push(S),D.push(x),d.each(o.enabled_languages,function(B,Z){Z.split("-")[0]===x&&B.useAsRoot&&D.push(Z)})}}),D}function f(){for(var C=u([w.get("lang"),navigator.userLanguage,navigator.language]),D=0;D<C.length;D++){var S=C[D];if(m(S))return S}return"en"}function b(){return s}function m(C){return o.enabled_languages.hasOwnProperty(C)||d.contains(M,C)}function c(C){var D=r.Deferred();if(typeof k>"u")return D.reject(),D.promise();if(k.supportedLanguages.indexOf(C)>=0||C==="en")return l(C,k.locales),D.resolve(!0),D.promise();if(!m(C)){var S=C.indexOf("-")!==-1?C.split("-")[0]:C;for(var x in o.enabled_languages)if(x.indexOf("-")!==-1){var B=x.split("-")[0];if(S===B&&o.enabled_languages[x].useAsRoot){C=x;break}}}return r.get("/api/v1/calculator/language/"+C,function(Z){k.locales||(k.locales={}),k.supportedLanguages||(k.supportedLanguages=[]),k.locales[C]=Z[C],k.supportedLanguages.push(C),l(C,k.locales),D.resolve(!0)}).fail(function(Z){Z.status===404&&i.warn(C+" is not an available language."),D.reject()}),D.promise()}function n(C,D){if(C==null)return"";if(typeof C=="string")return C;if(typeof C=="number")return""+C;var S,x=C.vars;if(x){S={};for(var B in x)x.hasOwnProperty(B)&&(S[B]=n(x[B],D))}return y(C.msg,S,D)}Object.defineProperty(o,"__esModule",{value:!0}),o.locales=function(){return typeof k<"u"&&k.locales?k.locales:{}}();var s="",v={},A={};o.enabled_languages={en:{displayName:"English (US)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"en-GB":{displayName:"English (GB)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"es-ES":{displayName:"Espa\xF1ol (Espa\xF1a)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ES-ES.pdf",useAsRoot:!0},ru:{displayName:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_RU.pdf",useAsRoot:!1},da:{displayName:"Dansk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},de:{displayName:"Deutsch",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_DE.pdf",useAsRoot:!1},"pt-BR":{displayName:"Portugu\xEAs (Brasil)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"pt-PT":{displayName:"Portugu\xEAs (Portugal)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ca:{displayName:"Catal\xE0",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},fr:{displayName:"Fran\xE7ais",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_FR.pdf",useAsRoot:!1},it:{displayName:"Italiano",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_IT.pdf",useAsRoot:!1},is:{displayName:"\xCDslenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},nl:{displayName:"Nederlands",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},no:{displayName:"Norsk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"sv-SE":{displayName:"Svenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},hr:{displayName:"Hrvatski",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},hu:{displayName:"Magyar",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},cs:{displayName:"\u010Ce\u0161tina",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},tr:{displayName:"T\xFCrk\xE7e",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_TR.pdf",useAsRoot:!1},sl:{displayName:"Sloven\u0161\u010Dina",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_SL.pdf",useAsRoot:!1},lt:{displayName:"Lietuvi\u0173",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},pl:{displayName:"Polski",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_PL.pdf",useAsRoot:!1},ro:{displayName:"Rom\xE2n\u0103",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},id:{displayName:"Bahasa Indonesia",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},vi:{displayName:"Ti\u1EBFng Vi\u1EC7t",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_VI.pdf",useAsRoot:!1},el:{displayName:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_EL.pdf",useAsRoot:!1},"sr-CS":{displayName:"SRPSKI",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},bg:{displayName:"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_BG.pdf",useAsRoot:!1},mk:{displayName:"\u041C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},uk:{displayName:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ka:{displayName:"\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},th:{displayName:"\u0E20\u0E32\u0E29\u0E32\u0E44\u0E17\u0E22",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"zh-CN":{displayName:"\u7B80\u4F53\u4E2D\u6587",useAsRoot:!0,userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-CN.pdf"},"zh-TW":{displayName:"\u7E41\u9AD4\u4E2D\u6587",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-TW.pdf",useAsRoot:!1},ko:{displayName:"\uD55C\uAD6D\uC5B4",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ja:{displayName:"\u65E5\u672C\u8A9E",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_JA.pdf",useAsRoot:!1}};var M=["sr","hy-AM","bn","eu","he","hi","ar","fi","kk","ml-IN","tr","fa"];o.init=l,o.t=y,o.raw=p,o.detectLanguage=f,o.currentLanguage=b,o.fetchLanguage=c,o.unpack=n,l(f(),o.locales)}),q("underscore_model",["require","underscore","pjs"],function(O){var o=O("underscore");return{UnderscoreModel:O("pjs")(function(w){var r=0,d="guid_"+Math.round(1e6*Math.random())+"_"+new Date().getTime()+"_";w.init=function(){this.__observers={},this.__eventObservers={},this.__oldProperties={},this.__propertyComparators={},this.guid=d+ ++r},w.unobserveAll=function(){this.__observers={},this.__eventObservers={}},w.getProperty=function(i){return this[i]},w.getOldProperty=function(i){return this.__oldProperties[i]},w.setProperty=function(i,l){var g=this[i];this[i]=l;var y=this.__propertyComparators[i];if(y){if(y(g,l))return}else if(o.isEqual(g,l))return;this.__oldProperties[i]=g,this.notifyPropertyChange(i)},w.setProperties=function(i){for(var l in i)i.hasOwnProperty(l)&&this.setProperty(l,i[l])},w.setPropertyComparator=function(i,l){this.__propertyComparators[i]=l},w.notifyPropertyChange=function(i){this.__callObservers(this.__observers,i,this)},w.observe=function(i,l){this.__addObservers(this.__observers,i,l)},w.unobserve=function(i){this.__removeObservers(this.__observers,i)},w.observeAndSync=function(i,l){this.observe(i,l);for(var g=i.split(" "),y=0;y<g.length;y++){var p=g[y].split("."),u=p[0];this.hasOwnProperty(u)&&l(u,this)}},w.triggerEvent=function(i,l){this.__callObservers(this.__eventObservers,i,l)},w.observeEvent=function(i,l){this.__addObservers(this.__eventObservers,i,l)},w.unobserveEvent=function(i){this.__removeObservers(this.__eventObservers,i)},w.__callObservers=function(i,l,g){var y=i[l];if(y)for(var p=0;p<y.length;p++)y[p].callback(l,g)},w.__removeObservers=function(i,l){for(var g=l.split(" "),y=0;y<g.length;y++){var p=g[y].split("."),u=p[0],f=p[1];if(u&&f){var b=i[u],m=[];if(!b)continue;for(var c=0;c<b.length;c++){var n=b[c];n.namespace!==f&&m.push(n)}i[u]=m}else if(u)delete i[u];else if(f)for(u in i)i.hasOwnProperty(u)&&this.__removeObservers(i,u+"."+f)}},w.__addObservers=function(i,l,g){for(var y=l.split(" "),p=0;p<y.length;p++){var u=y[p].split("."),f=u[0];if(!f)throw"Must supply a property to observe";var b=u[1],m={namespace:b,callback:g},c=i[f];c?c.push(m):i[f]=[m]}}})}}),q("main/graph_settings",["require","pjs","underscore","underscore_model","core/graphing-calc/json/graph-settings","console","core/graphing-calc/json/graph-settings","core/lib/color-helpers"],function(O){var o=O("pjs"),w=O("underscore"),r=O("underscore_model").UnderscoreModel,d=O("core/graphing-calc/json/graph-settings").AxisArrowModes,i=O("console"),l=O("core/graphing-calc/json/graph-settings").DefaultGraphSettings,g=O("core/lib/color-helpers"),y=o(r,function(p,u,f){p.init=function(){function m(v,A,M){function C(){s.setProperty(v,s.config.projectorMode?M:A)}s.cloneProperties.push(v),s.config.observe("projectorMode",C),C()}function c(v,A,M,C,D){function S(){var x;x=s.config.projectorMode?s.highlight?D:C:s.highlight?M:A,s.setProperty(v,x)}s.cloneProperties.push(v),s.observe("highlight",S),s.config.observe("projectorMode",S),S()}u.init.call(this),this.stateProperties=[],this.cloneProperties=[],this.config=new r;for(var n in l)l.hasOwnProperty(n)&&this.addStateProperty(n,l[n]);this.labelHangingColor="rgba(150,150,150,1)",this.lastChangedAxis="x";var s=this;m("labelSize",14,19),m("majorAxisOpacity",.4,1),m("minorAxisOpacity",.12,.25),m("axisOpacity",.9,.9),m("axisLineWidth",1.5,2),m("axisLineOffset",.25,0),m("pixelsPerLabel",80,120),c("curveOpacity",.7,1,.7,1),m("globalCurveColor",void 0,void 0),m("disableFill",!1,!1),c("graphLineWidth",2.5,3.5,5,7),c("pointLineWidth",9,11,15,17)},p.addStateProperty=function(m,c){this[m]=c,this.stateProperties.push(m),this.cloneProperties.push(m)},f.fromObject=function(m){var c=y();return c.cloneProperties.forEach(function(n){m.hasOwnProperty(n)&&c.setProperty(n,m[n])}),c},p.registerCallbacks=function(m,c){var n=this,s=function(){m.redrawAllLayers()};this.stateProperties.forEach(function(v){n.observe(v,s)}),this.config.observe("backgroundColor",s),this.config.observe("textColor",s),this.config.observe("invertedColors",s),this.observe("squareAxes",function(){m.viewportController.enforceSquareAxes()}),this.observe("backgroundColor",function(){m.redrawAllLayers()}),this.observe("textColor",function(){m.redrawAllLayers()}),this.config.observe("enableTabindex",function(){m.redrawAllLayers()}),this.config.observeAndSync("projectorMode",function(){m.redrawAllLayers()})};var b=function(m,c){var n;switch(m){case"xAxisMinorSubdivisions":case"yAxisMinorSubdivisions":n=Math.round(Math.min(Math.max(0,c),5)),c!==n&&i.warn("minorSubdivisions must be an integer between 0 and 5. You provided "+c+", which we changed to "+n+".");break;case"degreeMode":case"projectorMode":case"showGrid":case"showXAxis":case"showYAxis":case"xAxisNumbers":case"yAxisNumbers":case"polarNumbers":case"enableTabindex":case"invertedColors":n=c!=="false"&&!!c,c!==n&&i.warn(m+" must be a Boolean. You provided "+c+" ("+typeof c+"), which we changed to "+n+" ("+typeof n+").");break;case"xAxisStep":case"yAxisStep":n=parseFloat(c),isFinite(c)||(n=0,i.warn(m+" must be a number. You provided "+c+", which we changed to "+n+"."));break;case"yAxisMinorSubdivisions":n=Math.round(Math.min(Math.max(0,c),5)),c!==n&&i.warn("minorSubdivisions must be an integer between 0 and 5. You provided "+c+", which we changed to "+n+".");break;case"xAxisArrowMode":case"yAxisArrowMode":n=d[c],n!==c&&(n=d.NONE,i.warn(`unknown AxisArrowMode. Allowed values are: 
`+w.keys(d).join(`
`)));break;case"xAxisLabel":case"yAxisLabel":n=c,typeof c!="string"&&(n="",i.warn(m+" must be a string. you provided a "+typeof c+"."));break;case"randomSeed":n=c,typeof c!="string"&&(n=""+c,i.warn("randomSeed must be a string. you provided a "+typeof c+"."));break;case"backgroundColor":n=c,typeof c!="string"&&(n="",i.warn(m+" must be a string. you provided a "+typeof c+".")),n||(n="#fff"),n[0]!=="#"&&(n="#"+n);break;case"textColor":n=c,typeof c!="string"&&(n="",i.warn(m+" must be a string. you provided a "+typeof c+".")),n||(n="#000"),n[0]!=="#"&&(n="#"+n);break;case"fontSize":n=c,typeof c!="number"&&(n=parseInt(n,10),i.warn("fontSize must be a number. Attempted to convert "+c+" to "+n+"."));break;case"language":n=c,typeof c!="string"&&(n="",i.warn(m+" must be a string. you provided a "+typeof c+".")),typeof k<"u"&&k.supportedLanguages.indexOf(c)<0&&c!=="en"&&(n="en",i.warn(c+" is not currently an available language."));break;default:n=c}return n};p._validateSettings=function(m){var c={},n=!1;for(var s in m)this.stateProperties.indexOf(s)>=0?c[s]=b(s,m[s]):(i.warn('Invalid graph setting "'+s+'".'),n=!0);return n&&i.warn(`Available graph settings are: 
`+this.stateProperties.join(`
`)),c},p.getBackgroundColor=function(){var m=g.normalizeColor(this.config.backgroundColor||"#fff");return this.config.invertedColors&&m!=="#ffffff"?g.invertColor(m):m},p.getTextColor=function(){var m=g.normalizeColor(this.config.textColor||"#000");return this.config.invertedColors&&m!=="#000000"?g.invertColor(m):m},p.setGraphSettings=function(m){var c=this._validateSettings(m);for(var n in c)c.hasOwnProperty(n)&&(n==="projectorMode"||n==="invertedColors"||n==="fontSize"||n==="language"||n==="backgroundColor"||n==="textColor"?this.config.setProperty(n,c[n]):this.setProperty(n,c[n]))}});return y}),q("scroll_helpers",["require"],function(O){return{scrollVisible:function(o,w,r){var d,i=w.height(),l=o.height(),g=o.offset(),y=w.offset();if(!g||!y)return!1;var p=w[0].scrollTop,u=g.top+p-y.top,f=u-r,b=l+u+r-i;return(d=f>=b?Math.min(Math.max(p,b),f):.5*(f+b))!==p&&(w[0].scrollTop=d,w[0].scrollTop!=p)}}}),q("bugsnag",["require","exports","tslib"],function(O,o,w){function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(m){var c=16*Math.random()|0;return(m=="x"?c:3&c|8).toString(16)})}function d(){return window.Desmos&&window.Desmos.commit}function i(){var m="production";if(location&&location.hostname){var c=location.hostname,n=c.split("."),s=n.slice(0,n.length-2).join(".");n.slice(n.length-2).join(".")==="desmos.com"&&(m=s&&s!=="www"?s:"production")}return m}function l(m){if(!u){var c=0,n=r();u=m({apiKey:"7f7807097671acbc4557e64bbf5eb529",maxBreadcrumbs:40,appVersion:d(),releaseStage:i(),consoleBreadcrumbsEnabled:!1,beforeSend:function(s){if(s.errorClass)for(var v=0,A=b;v<A.length;v++){var M=A[v];if(s.errorClass.indexOf(M)!==-1)return void s.ignore()}if(s.errorMessage)for(var C=0,D=b;C<D.length;C++){var M=D[C];if(s.errorMessage.indexOf(M)!==-1)return void s.ignore()}f&&f(s),s.isIgnored()||(c+=1,s.metaData.errorNumber=c,s.metaData.pageLoadId=n)}})}}function g(m,c){u&&u.notify(m,c)}function y(m,c,n,s){if(c){c=w.__assign({},c);for(var v in c)try{c[v]=JSON.stringify(c[v],null,2)}catch{c[v]="[[could not stringify]]"}}u&&u.leaveBreadcrumb(m,c,n,s)}function p(m){f=m}Object.defineProperty(o,"__esModule",{value:!0});var u,f,b=["UnhandledRejection","lnrAppboy","socratic","MyAppGet","SymBrowser_","mobincube_","_avast_submit","Cannot redefine property: googletag","jcarousel","SyntaxError: Unexpected identifier 'script'","__gCrWeb.autofill.extractForms","BrowseITEXT","Can't find variable: removeAllHighlights","aAttribruteValue.parentNode.getAttribute","vid_mate_check","GetImageTagSrcFromPoint","Can't find variable: didEnterViewPort","tinyMCE is not defined"];o.init=l,o.notify=g,o.leaveBreadcrumb=y,o.setBeforeSendCB=p}),q("tours/trip",["require","jquery","pjs","mathquill","scroll_helpers","bugsnag"],function(O){var o=O("jquery"),w=O("pjs"),r=O("mathquill"),d=O("scroll_helpers"),i=O("bugsnag");return w({init:function(l){this.settings=l,this.__cachedStepName=null},ensureTripBlock:function(){if(!this.$tripBlock){var l=['<div class="trip-block">','<div class="trip-interior">','<a class="trip-close">&times;</a>','<div class="trip-content"></div>',"</div>",'<div class="trip-arrow"></div>',"</div>"].join(""),g=this,y=this.$tripBlock=o(l);y.css({top:"-100px"}),o("body").append(y),y.find(".trip-close").on("dcg-tap",function(p){p.preventDefault(),g.stop()}),this.bindKeyEvents()}},cleanup:function(){return this.unbindKeyEvents(),this.hideTripBlock(),!1},bindKeyEvents:function(){var l=this;o(document).on({"keydown.Trip":function(g){l.keyEvent.call(l,g)}})},unbindKeyEvents:function(){o(document).off("keydown.Trip")},keyEvent:function(l){l.which===27&&this.stop()},stop:function(){this.hideTripBlock(),this.settings.onTripStop()},exitTourBecauseOfError:function(l,g){var y="",p=g;do y=p.selector+y;while(p=p.prevObject);this.stop(),i.notify("TourError: could not find $sel.offset()",{metaData:{message:l,selector:y}})},showTripBlock:function(l){this.ensureTripBlock(),typeof l.sel=="string"&&(l.sel=o(l.sel)),l.sel=l.sel.filter(":visible"),l.scrollContainer&&d.scrollVisible(l.sel,l.scrollContainer,0);var g=this.$tripBlock;g.find(".trip-content").html(l.content),g.toggleClass("trip-hidden",!!l.hidden);var y=l.sel,p=y.outerWidth(),u=y.outerHeight(),f=g.outerWidth(),b=g.outerHeight();if(!y.offset())return void(this.__cachedMissingSelTime?Date.now()-this.__cachedMissingSelTime>1e3&&(l.final?this.stop():this.exitTourBecauseOfError(l.content,y)):this.__cachedMissingSelTime=Date.now());this.__cachedMissingSelTime=void 0,g.removeClass("trip-e trip-s trip-w trip-n");var m=0;switch(l.position){case"e":g.addClass("trip-e"),g.css({left:y.offset().left+p+10,top:y.offset().top-(b-u)/2});break;case"s":g.addClass("trip-s");var c=y.offset().left+(p-f)/2;g.css({left:c,top:y.offset().top+u+10}),c+f>o(window).width()-1&&(m=o(window).width()-1-c-f),c<1&&(m=1-c);break;case"w":g.addClass("trip-w"),g.css({left:y.offset().left-(10+f),top:y.offset().top-(b-u)/2});break;default:g.addClass("trip-n"),g.css({left:y.offset().left+(p-f)/2,top:y.offset().top-10-b})}g.find(".trip-interior").css("transform","translate("+m+"px, 0)"),g.css({display:"inline-block"}),g.find(".trip-math:not(.dcg-mq-math-mode)").each(function(){r.StaticMath(this)})},fadeInTripBlock:function(){this.ensureTripBlock();var l=this.$tripBlock;setTimeout(function(){l.addClass("trip-is-loaded")},0)},hideTripBlock:function(){this.$tripBlock&&this.$tripBlock.removeClass("trip-is-loaded")}})}),q("tours/tour_manager",["require","pjs","./trip"],function(O){var o=O("pjs"),w=O("./trip");return o(function(r,d){r.init=function(){this.tripManager=new w({onTripStop:this.stopTour.bind(this)}),this.currentStep=void 0,this.currentTour=void 0},r._tripLoop=function(){if(clearTimeout(this.__tripLoopTimeout),this.running){var i=this;i._advanceTrip(),i.__tripLoopTimeout=setTimeout(i._tripLoop.bind(i),200)}},r._advanceTrip=function(){var i=this.currentTour.update(),l=new Date().getTime();if(i&&this.currentStep&&i.content!==this.currentStep.content){if(this.currentStep.delayBeforeExit){if(this.throttleTimer&&l-this.throttleTimer<this.currentStep.delayBeforeExit)return;if(!this.throttleTimer)return void(this.throttleTimer=l)}i.delayBeforeEnter&&(this.currentStep=i,this.throttleTimer=l)}if(!(i&&this.currentStep&&i.content===this.currentStep.content&&this.throttleTimer&&l-this.throttleTimer<this.currentStep.delayBeforeEnter)&&(this.throttleTimer=null,i&&!i.doNotUpdate)){if(this.currentStep=i,i.final)return void this.finishTour(i,5);this.tripManager.showTripBlock(i)}},r.updateNow=r._advanceTrip,r.startTour=function(i){this.running||(this.currentTour=i,this.running=!0,this._tripLoop(),this.tripManager.fadeInTripBlock())},r.closingMsg="<b>__endingMessage__</b><br>This message will self-destruct in __seconds__...",r.finishTour=function(i,l){clearTimeout(this.__tripLoopTimeout),this.running=!1;var g=this;if(l<0)return void g.tripManager.stop();i.endingMsg&&(i.content=g.closingMsg.replace("__endingMessage__",i.endingMsg).replace("__seconds__",l)),g.tripManager.showTripBlock(i),setTimeout(function(){g.finishTour(i,l-1)},1e3)},r.stopTour=function(){this.running=!1,this.currentStep=void 0,this.currentTour=void 0}})}),q("lib/named-colors",["require"],function(O){return{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),q("lib/color-distance",["require","underscore","lib/named-colors"],function(O){function o(b){var m=[],c=b.toLowerCase();if(c.slice(0,3)==="rgb")try{m=c.replace(/[^\d,]/g,"").split(",").slice(0,3),m=u.map(m,function(s){return parseInt(s,10)})}catch{r(b)}else if(c[0]==="#"){var n=/^#?([a-f\d])([a-f\d])([a-f\d])$/;c=c.replace(n,function(s,v,A,M){return v+v+A+A+M+M});try{m=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/.exec(c).slice(1),m=u.map(m,function(s){return parseInt(s,16)})}catch{r(b)}}else m=f[c];return w(m)||r(b),{R:m[0],G:m[1],B:m[2]}}function w(b){return!!u.isArray(b)&&b.length===3&&u.every(b,function(m){return Number.isInteger(m)&&m>=0&&m<=255})}function r(b){throw new Error("Invalid color string: "+b)}function d(b){var m=b.R,c=b.G,n=b.B,s=[];return s[0]=.49*m+.31*c+.2*n,s[1]=.17697*m+.8124*c+.01063*n,s[2]=.01*c+.99*n,s=u.map(s,function(v){return v/.17697}),{X:s[0],Y:s[1],Z:s[2]}}function i(b){var m=b.X,c=b.Y,n=b.Z,s=[];return s[0]=116*l(c/100)-16,s[1]=500*(l(m/95.047)-l(c/100)),s[2]=200*(l(c/100)-l(n/108.883)),{L:s[0],a:s[1],b:s[2]}}function l(b){var m=.20689655172413793;return b>Math.pow(m,3)?Math.pow(b,1/3):b/(3*m*m)+4/29}function g(b,m){var c=b.L,n=b.a,s=b.b,v=m.L,A=m.a,M=m.b,C=c-v,D=Math.sqrt(n*n+s*s),S=Math.sqrt(A*A+M*M),x=D-S,B=n-A,Z=s-M,X=Math.sqrt(B*B+Z*Z-x*x),ee=1+.045*D,W=1+.015*D,U=C/1,F=x/(1*ee),G=X/(1*W);return Math.sqrt(U*U+F*F+G*G)}function y(b,m){return g(i(d(o(b))),i(d(o(m))))}function p(b,m){var c=u.map(m,function(s){return y(b,s)}),n=u.min(c);return m[c.indexOf(n)]}var u=O("underscore"),f=O("lib/named-colors");return{str2rgb:o,difference:y,closestColor:p}}),q("core/math/evaluate-single-expression",["require","exports","parser","core/math/builtinframe","core/math/parsenode/constant","core/math/policy"],function(O,o,w,r,d,i){function l(g,y){if(/^\s*(\-|\+)?([0-9]+(\.[0-9]+)?)\s*$/.test(g))return parseFloat(g);var p=Object.create(r);return p.trigAngleMultiplier=d(y?Math.PI/180:1),+w.parse(g).tryGetConcreteTree(i.defaultPolicy,p).asValue()}Object.defineProperty(o,"__esModule",{value:!0}),o.default=l}),q("lib/rounding",["require","exports","core/math/distance"],function(O,o,w){function r(d,i){if(!isFinite(d))return d;if(!isFinite(i))return i;var l=w.mean(d,i);if(d>0!=i>0||d===0||i===0)return 0;var g=d>0?1:-1,y=Math.abs(d).toExponential().split("e"),p=Math.abs(i).toExponential().split("e"),u=y[0],f=p[0],b=y[1],m=p[1];if(m!==b)return g*Math.pow(10,Math.max(parseFloat(b),parseFloat(m)));if(u[0]!==f[0])return parseFloat(l.toPrecision(1));for(var c=1,n=2;n<Math.min(u.length,f.length)&&(c++,u[n]===f[n]);n++);return parseFloat(l.toPrecision(c))}Object.defineProperty(o,"__esModule",{value:!0}),o.shortestDecimalBetween=r}),q("lib/copy-properties",["require","exports","core/lib/deepCopy"],function(O,o,w){function r(d){var i=d.from,l=d.to,g=d.props;for(var y in g)g[y]&&i.hasOwnProperty(y)&&(l[y]=w.default(i[y]))}Object.defineProperty(o,"__esModule",{value:!0}),o.copyProperties=r}),q("graphing-calc/models/expression",["require","exports","parser","core/math/builtinframe","tslib","core/lib/dragmode","core/types/slider-loop-modes","core/types/styles","core/types/label-sizes","core/types/label-orientations","core/math/evaluate-single-expression","lib/rounding","core/lib/deepCopy","lib/copy-properties","./abstract-item","./list","underscore","core/math/expression-types","core/lib/label","core/lib/number-to-latex","core/math/sliders","core/lib/number-to-latex","core/graphing-calc/json/expression","core/math/distribution-spec","core/math/policyGraphing"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n,s,v,A,M,C,D,S,x,B){function Z(j){var me=j.formula;return!!me&&j.controller.isDecimalToFractionEnabled()&&me.hasOwnProperty("constant_value")&&A.canDisplayAsFraction(me.constant_value)}function X(j){return!!j.isGraphable}function ee(j){var me=j.formula;if(!me)return!1;var Je=me.is_evaluable&&me.zero_values&&me.zero_values.length>0&&typeof me.zero_values[0].val!="boolean",pt=Z(j)&&$(j);return Je||pt}function W(j){var me=j.formula;return ee(j)?me.zero_values&&me.zero_values.length?me.zero_values[0].val:me.constant_value:Z(j)?j.formula.constant_value:NaN}function U(j){var me=j.formula.ttest_results;if(me&&isFinite(me.lessThan))return{lessThan:me.lessThan,greaterThan:me.greaterThan,notEqual:me.notEqual}}function F(j){var me=j.formula.stats_results;if(me&&isFinite(me.min))return{min:me.min,q1:me.q1,median:me.median,q3:me.q3,max:me.max}}function G(j,me){if(!isFinite(me))return j;var Je=/=(.*?)([-\.0-9]+)/,pt=j.match(Je);if(!pt||parseFloat(pt[2])===me)return j;var vt=D.numberToDecimalString(me);return j.replace(Je,"=$1"+vt)}function ie(j){return((j.latex||"")+(j.label||"")).split(" ").join("")===""}function ne(j){var me=j.dragMode===i.DragMode.AUTO?j.formula.default_drag_mode:j.dragMode;j.reconciledDragMode=i.reconcileDragMode(me,j.formula.move_strategy),j.interactiveLabel&&j.reconciledDragMode!==i.DragMode.NONE&&ar(j,!1)}function Y(j,me,Je){if(!j.sliderExists)return NaN;var pt=Re(j),vt=Ve(j),Ct=ye(j);if(Je&&Je.overwriteStep!==void 0&&(Ct=Je.overwriteStep),me=C.constrainSliderValueLikeEvaluator({target:me,hardMin:j.slider.hardMin?pt:void 0,hardMax:j.slider.hardMax?vt:void 0,step:Ct}),!Je||!Je.ignoreSoftLimits){if(!j.slider.hardMin&&me<pt)return pt;if(!j.slider.hardMax&&me>vt)return vt}return me}function ge(j,me){if(!j.sliderExists)return NaN;var Je=P(j),pt=Re(j),vt=Ve(j),Ct=ye(j),Lt=Ct||(vt-pt)/20,Yt=0;switch(me){case"min":return Y(j,pt);case"max":return Y(j,vt);case"up":Yt=1;break;case"down":Yt=-1;break;case"bigup":Yt=5;break;case"bigdown":Yt=-5;break;default:return me}for(var _t=Je,It=0;It<20;It++){var yt=It/3*Lt,Mt=Je;if(Yt>0)(Je=Y(j,_t+yt,{overwriteStep:Lt}))>Mt&&(Yt-=1);else{if(!(Yt<0))break;(Je=Y(j,_t-yt,{overwriteStep:Lt}))<Mt&&(Yt+=1)}}return Je}function te(j,me){if(j.sliderExists){j.slider.isPlaying&&Kt(j,!1);var Je=Y(j,me,{ignoreSoftLimits:!0});j.latex=G(j.latex,Je)}}function H(j,me){if(j.sliderExists){j.slider.isPlaying&&Kt(j,!1),xt(j);var Je=ge(j,me);j.latex=G(j.latex,Je)}}function pe(j,me){if(j.sliderExists){j.slider.isPlaying&&Kt(j,!1);var Je=Y(j,me);j.latex=G(j.latex,Je)}}function fe(j,me){if(j.sliderExists){var Je=j.sliderLastTickTime;if(j.sliderLastTickTime=me,Je!==void 0){var pt=me-Je,vt=Re(j),Ct=Ve(j),Lt=ye(j),Yt=j.slider.animationPeriod,_t=j.slider.loopMode;if(isNaN(j.sliderAnimationTargetValue)){var It=P(j);isNaN(It)||(j.sliderAnimationTargetValue=It)}var yt=Lt?Lt/2:0;if(_t===l.SliderLoopMode.LOOP_FORWARD_REVERSE)j.sliderAnimationTargetValue>=Ct?Et(j,{playDirection:-1}):j.sliderAnimationTargetValue<=vt&&Et(j,{playDirection:1});else if(_t===l.SliderLoopMode.LOOP_FORWARD)Et(j,{playDirection:1}),j.sliderAnimationTargetValue>=Ct+yt&&(j.sliderAnimationTargetValue=vt-yt);else if(_t===l.SliderLoopMode.PLAY_ONCE)Et(j,{playDirection:1});else{if(_t!==l.SliderLoopMode.PLAY_INDEFINITELY)throw new Error("Unexpected slider loop mode: "+_t);Et(j,{playDirection:1})}isFinite(pt)||(pt=0);var Mt,Gt;_t===l.SliderLoopMode.PLAY_INDEFINITELY?(Mt=pt/(Yt/4),Lt&&(Mt*=Lt),j.sliderAnimationTargetValue+=Mt,Gt=j.sliderAnimationTargetValue,Lt||(Gt=f.shortestDecimalBetween(Gt-.1*Mt,Gt+.1*Mt)),Gt=Y(j,Gt,{ignoreSoftLimits:!0}),j.latex=G(j.latex,Gt)):(pt=Math.min(pt,Yt/10),Mt=(Ct-vt)*pt/Yt,j.sliderAnimationTargetValue+=Mt*j.slider.playDirection,j.sliderAnimationTargetValue=Math.max(vt-yt,Math.min(Ct+yt,j.sliderAnimationTargetValue)),Gt=j.sliderAnimationTargetValue,Lt||(Gt=f.shortestDecimalBetween(Gt-.1*Mt,Gt+.1*Mt)),Gt=Y(j,Gt),j.latex=G(j.latex,Gt))}}}function re(j,me){j.formula=me,j.loading=!1,j.error=me.error?me.error:"",j.isGraphable=me.is_graphable,j.dependent=me.assignment,j.isTableable=me.is_tableable,j.unresolved=!1,me.is_single_identifier?j.missingVariables=[]:j.missingVariables=me.variables||[],j.__workerSliderLatex=me.raw_slider_latex,me.is_slider?(j.__workerSliderValue=me.constant_value,j.__workerSliderMin=me.slider_min_number,j.__workerSliderMax=me.slider_max_number,j.__workerSliderStep=me.slider_step_number,j.__workerSliderMinValid=me.slider_min_valid,j.__workerSliderMaxValid=me.slider_max_valid,j.__workerSliderStepValid=me.slider_step_valid,j.sliderExists||(j.sliderAnimationTargetValue=P(j),j.sliderDragging=!1,j.sliderExists=!0)):j.sliderExists=!1,j.__workerDomainMin=me.domain_min_number,j.__workerDomainMax=me.domain_max_number,j.__workerDomainMinValid=me.domain_min_valid,j.__workerDomainMaxValid=me.domain_max_valid,j.__workerCDFMinValid=me.cdf_min_valid,j.__workerCDFMaxValid=me.cdf_max_valid,j.__workerFillOpacityValid=me.fill_opacity_valid,j.__workerLineWidthValid=me.line_width_valid,j.__workerCDFEvaluation=me.cdf_evaluation;var Je={};me.is_regression&&(Je=me.regression.parameters,j.residualVariable=me.regression.residualVariable),s.isEqual(j.regressionParameters,Je)||(j.regressionParameters=Je)}function se(j){var me=n.getParentFolderModel(j);me&&me.hidden||j.formula.expression_type&&Br(j)?j.shouldGraph=!1:j.shouldGraph=!j.hidden}function he(j){if(!j.sliderExists||j.latex!==j.__workerSliderLatex)return void(j.cachedDisplayLatex={storedLatex:j.latex,valueLatex:j.latex});var me=j.latex;if(j.cachedDisplayLatex.storedLatex!==me)return void(j.cachedDisplayLatex={storedLatex:j.latex,valueLatex:j.latex});if(isFinite(j.__workerSliderValue)){var Je=j.controller.getFocusLocation();Je&&Je.type==="expression"&&Je.id===j.id||(j.cachedDisplayLatex.valueLatex=G(j.latex,j.__workerSliderValue))}}function xe(j){return j.cachedDisplayLatex.valueLatex}function Me(j){var me=A.value(j);return me.superscript&&me.mantissa?me.mantissa+"^{"+me.superscript+"}":me.string}function Be(j){return j.slider.hardMin?j.slider.min:Me(Re(j))}function ke(j){return j.slider.hardMax?j.slider.max:Me(Ve(j))}function Re(j){if(j.slider.hardMin)return isFinite(j.__workerSliderMin)?j.__workerSliderMin:NaN;var me=j.controller.isDegreeMode(),Je=u.default(j.slider.min,me),pt=P(j),vt=ye(j),Ct=j.slider.hardMax?j.__workerSliderMax:void 0,Lt=-10;if(Je<Lt&&(Lt=Je),pt<Lt&&(Lt=pt),Ct<Lt&&(Lt=Ct),vt){var Yt=C.constrainSliderValueLikeEvaluator({target:Lt,hardMin:void 0,hardMax:Ct,step:vt});Lt=Yt<=Lt?Yt:Yt-vt}return Lt}function Ve(j){if(j.slider.hardMax)return isFinite(j.__workerSliderMax)?j.__workerSliderMax:NaN;var me=j.controller.isDegreeMode(),Je=u.default(j.slider.max,me),pt=P(j),vt=ye(j),Ct=j.slider.hardMin?j.__workerSliderMin:void 0,Lt=10;if(Je>Lt&&(Lt=Je),pt>Lt&&(Lt=pt),Ct>Lt&&(Lt=Ct),vt){var Yt=C.constrainSliderValueLikeEvaluator({target:Lt,hardMin:Ct,hardMax:void 0,step:vt});Lt=Yt>=Lt?Yt:Yt+vt}return Lt}function ye(j){return j.__workerSliderStep}function P(j){return j.latex!==j.__workerSliderLatex?Ut(j.latex):isFinite(j.__workerSliderValue)?j.__workerSliderValue:NaN}function ue(j){return!!j.slider.isPlaying&&j.slider.loopMode===l.SliderLoopMode.PLAY_ONCE&&P(j)>=Ve(j)}function Ae(j,me){return!!j.formula.viz_valids&&!!j.formula.viz_valids[me]}function _e(j,me){return j.vizProps[me]}function qe(j,me,Je){var pt;j.vizProps=d.__assign(d.__assign({},j.vizProps),(pt={},pt[me]=Je,pt))}function Ye(j,me){return j.clickableInfo[me]}function Ie(j,me){return me==="assignment"?!!j.formula.clickableinfo_identifier_valid:me==="expression"&&!!j.formula.clickableinfo_expression_valid}function Ne(j){return j.formula.clickableinfo_latex}function z(j){return j.formula.clickableinfo_identifier}function Pe(j,me,Je){var pt;j.clickableInfo=d.__assign(d.__assign({},j.clickableInfo),(pt={},pt[me]=Je,pt))}function ot(j){return j.clickableInfo.enabled&&$e(j)}function rt(j){return!!j.__workerNeedsDotplotXMode}function kt(j){return!!j.__workerSliderMinValid}function ve(j){return!!j.__workerSliderMaxValid}function ze(j){return!!j.__workerSliderStepValid}function je(j){return isFinite(j.__workerSampledDomainMin)?j.__workerSampledDomainMin:isFinite(j.__workerDomainMin)?j.__workerDomainMin:NaN}function Te(j){return isFinite(j.__workerSampledDomainMax)?j.__workerSampledDomainMax:isFinite(j.__workerDomainMax)?j.__workerDomainMax:NaN}function Xe(j){return!!j.__workerDomainMinValid}function Ze(j){return!!j.__workerDomainMaxValid}function Ce(j,me){var Je=j.cachedViewState;if(me.stripDefaults&&j.parametricDomain.min===""&&j.parametricDomain.max===""||(Je=d.__assign(d.__assign({},Je),{domain:{min:j.parametricDomain.min===""?"0":j.parametricDomain.min,max:j.parametricDomain.max===""?"1":j.parametricDomain.max}})),me.stripDefaults)return S.stripDefaults(Je);if(Je.points===void 0||Je.lines===void 0||Je.fill===void 0){var pt=b.default(Je);return pt.points===void 0&&delete pt.points,pt.lines===void 0&&delete pt.lines,pt.fill===void 0&&delete pt.fill,pt}return Je}function Fe(j){var me=j.cachedViewState;me&&me.folderId===j.folderId&&me.color===j.color&&me.latex===j.latex&&me.parametricDomain===j.parametricDomain&&me.fillOpacity===j.fillOpacity&&me.lineWidth===j.lineWidth&&me.polarDomain===j.polarDomain&&me.showLabel===j.showLabel&&me.cdf===j.cdf&&me.vizProps===j.vizProps&&me.clickableInfo===j.clickableInfo&&me.label===j.label&&me.hidden===j.hidden&&me.secret===j.secret&&me.fill===j.fill&&me.points===j.points&&me.lines===j.lines&&me.lineStyle===j.lineStyle&&me.pointStyle===j.pointStyle&&me.dragMode===j.dragMode&&me.labelSize===j.labelSize&&me.labelOrientation===j.labelOrientation&&me.verticalLabel===j.verticalLabel&&me.suppressTextOutline===j.suppressTextOutline&&me.interactiveLabel===j.interactiveLabel&&me.editableLabelMode===j.editableLabelMode&&me.residualVariable===j.residualVariable&&me.regressionParameters===j.regressionParameters&&me.isLogModeRegression===j.isLogModeRegression&&me.displayEvaluationAsFraction===j.displayEvaluationAsFraction&&me.slider===j.slider||(j.cachedViewState={type:j.type,id:j.id,folderId:j.folderId,color:j.color,latex:j.latex,parametricDomain:j.parametricDomain,fillOpacity:j.fillOpacity,lineWidth:j.lineWidth,polarDomain:j.polarDomain,showLabel:j.showLabel,cdf:j.cdf,vizProps:j.vizProps,clickableInfo:j.clickableInfo,label:j.label,hidden:j.hidden,secret:j.secret,points:j.points,lines:j.lines,lineStyle:j.lineStyle,pointStyle:j.pointStyle,fill:j.fill,dragMode:j.dragMode,labelSize:j.labelSize,labelOrientation:j.labelOrientation,verticalLabel:j.verticalLabel,suppressTextOutline:j.suppressTextOutline,interactiveLabel:j.interactiveLabel,editableLabelMode:j.editableLabelMode,residualVariable:j.residualVariable,regressionParameters:j.regressionParameters,isLogModeRegression:j.isLogModeRegression,displayEvaluationAsFraction:j.displayEvaluationAsFraction,slider:j.slider})}function Ge(j,me){me&&xt(j),j.draggingOnGraphpaper=me}function Qe(j){var me=j.memoizedUndoRedoStateParams,Je=j.cachedViewState,pt=j.preTransientState;if(!me||me.viewState!==Je||me.preTransientState!==pt){j.memoizedUndoRedoStateParams={viewState:Je,preTransientState:pt};var vt;vt=pt?d.__assign(d.__assign({},Je),{latex:pt.latex,slider:d.__assign(d.__assign({},Je.slider),pt.slider)}):d.__assign({},Je),delete vt.regressionParameters,delete vt.residualVariable,j.cachedUndoRedoState=vt}}function it(j,me){var Je=b.default(S.inflateDefaults(j));return d.__assign(d.__assign(d.__assign({},Je),c.DEFAULTS(me)),{loading:!0,labelDropdownOpen:!1,formula:{error:void 0},missingVariables:[],error:void 0,unresolved:!1,color:Je.color||me.getNextColor(),fill:Je.fill,points:Je.points,lines:Je.lines,pointStyle:Je.pointStyle,lineStyle:Je.lineStyle,displayEvaluationAsFraction:Je.displayEvaluationAsFraction,shouldGraph:void 0,sliderDragging:void 0,sliderAnimationTargetValue:void 0,sliderLastTickTime:void 0,draggingOnGraphpaper:!1,cachedUndoRedoState:void 0,cachedParsableState:void 0,cachedViewState:void 0,cachedDisplayLatex:{storedLatex:"",valueLatex:""}})}function ct(j){var me=n.getParentFolderModel(j),Je=!(!me||!me.hidden),pt=j.cachedViewState,vt=j.index,Ct=j.showLabel&&!Je,Lt=j.shouldGraph,Yt=j.slider.hardMin?j.slider.min:"",_t=j.slider.hardMax?j.slider.max:"",It=j.slider.step,yt=j.memoizedParsableStateParams;if(!yt||yt.viewState!==pt||yt.index!==vt||yt.showLabel!==Ct||yt.shouldGraph!==Lt||yt.polarDomainMin!==j.polarDomain.min||yt.polarDomainMax!==j.polarDomain.max||yt.fillOpacity!==j.fillOpacity||yt.lineWidth!==j.lineWidth||yt.parametricDomainMin!==j.parametricDomain.min||yt.parametricDomainMax!==j.parametricDomain.max||yt.sliderMin!==Yt||yt.sliderMax!==_t||yt.sliderStep!==It){j.memoizedParsableStateParams={viewState:pt,index:vt,polarDomainMin:j.polarDomain.min,polarDomainMax:j.polarDomain.max,fillOpacity:j.fillOpacity,lineWidth:j.lineWidth,parametricDomainMin:j.parametricDomain.min,parametricDomainMax:j.parametricDomain.max,sliderMin:Yt,sliderMax:_t,sliderStep:It,showLabel:Ct,shouldGraph:Lt};var Mt=S.computeParsableState(pt);Mt.index=vt,Mt.showLabel=Ct,Mt.shouldGraph=Lt,j.cachedParsableState=Mt}}function gt(j,me){me(j.latex),j.residualVariable&&me(j.residualVariable)}function Rt(j){var me=j.sliderExists&&(j.slider.isPlaying||j.sliderDragging);j.draggingOnGraphpaper||me?j.preTransientState||(j.preTransientState={latex:j.latex,slider:{min:j.slider.min,max:j.slider.max,playDirection:j.slider.playDirection}}):delete j.preTransientState,j.sliderExists&&j.slider.isPlaying||(j.sliderLastTickTime=void 0),c.updateIsHiddenFromUI(j),se(j),ne(j),Fe(j),Qe(j),ct(j),he(j)}function ut(j,me){m.copyProperties({from:me,to:j,props:{id:!1,type:!1,color:!0,folderId:!0,latex:!0,polarDomain:!0,parametricDomain:!0,showLabel:!0,label:!0,cdf:!0,vizProps:!0,clickableInfo:!0,hidden:!0,secret:!0,points:!0,lines:!0,lineStyle:!0,pointStyle:!0,fill:!0,fillOpacity:!0,lineWidth:!0,dragMode:!0,labelSize:!0,labelOrientation:!0,verticalLabel:!0,suppressTextOutline:!0,interactiveLabel:!0,editableLabelMode:!0,residualVariable:!0,regressionParameters:!0,isLogModeRegression:!0,displayEvaluationAsFraction:!0,slider:!0}})}function mt(j,me){me?Et(j,{hardMin:!0,min:me}):Et(j,{hardMin:!1,min:"-10"})}function Nt(j,me){me?Et(j,{hardMax:!0,max:me}):Et(j,{hardMax:!1,max:"10"})}function Et(j,me){j.slider=d.__assign(d.__assign({},j.slider),me)}function Kt(j,me){j&&j.sliderExists&&j.slider.isPlaying!==me&&(Et(j,{isPlaying:me}),me&&(xt(j),j.sliderAnimationTargetValue=P(j)))}function xt(j){if(!j.slider.hardMin){var me=M.default(Re(j));me!==j.slider.min&&Et(j,{min:me})}if(!j.slider.hardMax){var Je=M.default(Ve(j));Je!==j.slider.max&&Et(j,{max:Je})}}function Ut(j){var me=w.parse(j);if(me.type!=="Assignment")return NaN;if(me._expression.type!=="Constant")return NaN;if(!B.PolicyGraphing.validLHS(me._symbol))return NaN;if(r[me._symbol])return NaN;var Je=me._expression.asValue();return typeof Je=="number"?Je:NaN}function jt(j,me){var Je=Ut(me);if(isFinite(Je)){var pt=C.determineWhichLimitsAreCompatibleWithValue({target:Je,step:ye(j),hardMin:j.slider.hardMin?Re(j):void 0,hardMax:j.slider.hardMax?Ve(j):void 0});pt.min||Et(j,{hardMin:!1,min:"-10"}),pt.max||Et(j,{hardMax:!1,max:"10"}),pt.step||Et(j,{step:""})}j.latex=me}function or(j,me){Et(j,{loopMode:me,playDirection:1}),me===l.SliderLoopMode.PLAY_INDEFINITELY&&Et(j,{hardMin:!1,hardMax:!1,min:"",max:""}),j.sliderAnimationTargetValue=Re(j)}function dr(j,me){me&&xt(j),j.sliderDragging=me}function Xt(j,me){Et(j,{step:me})}function Wt(j,me){Et(j,{animationPeriod:me})}function $(j){return j.displayEvaluationAsFraction}function ce(j,me){j.displayEvaluationAsFraction=me}function N(j,me){j.label=me}function Q(j,me){j.showLabel=me}function oe(j,me){j.polarDomain=d.__assign(d.__assign({},j.polarDomain),{min:me})}function we(j,me){j.parametricDomain=d.__assign(d.__assign({},j.parametricDomain),{min:me})}function J(j,me){j.polarDomain=d.__assign(d.__assign({},j.polarDomain),{max:me})}function Se(j,me){j.parametricDomain=d.__assign(d.__assign({},j.parametricDomain),{max:me})}function De(j,me){j.isLogModeRegression=me}function We(j,me){j.color=me}function et(j,me){j.fill=me}function lt(j,me){j.fillOpacity!==me&&(j.fillOpacity=me)}function ht(j,me){j.lineWidth!==me&&(j.lineWidth=me)}function ft(j,me){j.labelDropdownOpen=me}function bt(j,me){j.dragMode!==me&&(j.dragMode=me,me!==i.DragMode.NONE&&(j.pointStyle=g.PointStyle.POINT))}function Bt(j,me){j.points=me}function zt(j,me){j.pointStyle!==me&&(j.pointStyle=me,me!==g.PointStyle.POINT&&(j.dragMode=i.DragMode.NONE))}function Vt(j,me){j.lines=me}function qt(j,me){j.lineStyle!==me&&(j.lineStyle=me)}function Zt(j,me){j.labelSize=me}function Ft(j,me){j.labelOrientation=me}function Ot(j,me){j.verticalLabel=me}function ir(j,me){j.suppressTextOutline=me}function ar(j,me){j.interactiveLabel=me}function vr(j,me){j.editableLabelMode=me}function St(j){return j.editableLabelMode}function sr(j){var me=j.editableLabelMode;return me===S.EditableLabelMode.Math||me===S.EditableLabelMode.Text}function oi(j,me){j.hidden=me,!me&&Br(j)&&(j.lines=j.points=j.fill=void 0)}function Br(j){var me=j.points,Je=j.lines,pt=j.fill,vt=v.getReconciledExpressionProps(j.formula.expression_type,{points:me,lines:Je,fill:pt});return!vt.points&&!vt.lines&&!vt.fill}function Fr(j){return Yr(j)||Rr(j)}function ni(j){return j.polarDomain.min}function ai(j){return j.polarDomain.max}function Wr(j){return j.parametricDomain.min}function kr(j){return j.parametricDomain.max}function Lr(j){return!!j.sliderExists}function Pr(j){return j.formula.expression_type===v.ExpressionType.POLYGON}function Yr(j){return j.formula.expression_type===v.ExpressionType.PARAMETRIC}function Rr(j){return j.formula.expression_type===v.ExpressionType.POLAR}function si(j){return j.formula.expression_type===v.ExpressionType.SINGLE_POINT}function ci(j){return j.formula.expression_type===v.ExpressionType.POINT_LIST}function li(j){return j.formula.expression_type===v.ExpressionType.POINT_LIST||j.formula.expression_type===v.ExpressionType.SINGLE_POINT}function Kr(j){var me=_r(j);return!(!me||me.type!=="visualization"||me.symbol!=="boxplot")}function Nr(j){var me=_r(j);return!(!me||me.type!=="visualization"||me.symbol!=="dotplot")}function Or(j){var me=_r(j);return!(!me||me.type!=="visualization"||me.symbol!=="histogram")}function Xr(j){return Kr(j)||Nr(j)||Or(j)}function jr(j){return j.formula.expression_type===v.ExpressionType.TTEST}function pi(j){return j.formula.expression_type===v.ExpressionType.STATS}function di(j){return!!_r(j)}function Gr(j){var me=_r(j);return!(!me||me.type!=="distribution")}function ui(j){var me=j.formula;return!!me&&!!me.is_discrete_distribution}function _r(j){if(j.controller.areDistributionsEnabled()&&j.latex)return j.cachedParseToplevelFunction&&j.cachedParseToplevelFunction.latex===j.latex||(j.cachedParseToplevelFunction={latex:j.latex,spec:x.parseToplevelFunction(j.latex)}),j.cachedParseToplevelFunction.spec}function Jr(j){return Mr(j)&&Gr(j)}function Mr(j){return!!j.formula.expression_type}function zr(j){return!!j.formula.is_concrete_list}function qr(j){return!!Jr(j)&&!zr(j)&&j.cdf.show}function Zr(j){return j.cdf.min}function gi(j){return j.cdf.max}function hi(j){var me=j.formula.cdf_min_default;return me===-1/0?"-\\infty":isFinite(me)?me+"":"-\\infty"}function T(j){var me=j.formula.cdf_max_default;return me===1/0?"\\infty":isFinite(me)?me+"":"\\infty"}function R(j,me){j.cdf=d.__assign(d.__assign({},j.cdf),{show:me})}function V(j,me){j.cdf=d.__assign(d.__assign({},j.cdf),{min:me})}function K(j,me){j.cdf=d.__assign(d.__assign({},j.cdf),{max:me})}function le(j){return j.__workerCDFMinValid!==!1}function de(j){return j.__workerCDFMaxValid!==!1}function be(j){return j.__workerFillOpacityValid!==!1}function Oe(j){return j.__workerLineWidthValid!==!1}function He(j){return isFinite(j.__workerCDFEvaluation)?j.__workerCDFEvaluation:0}function $e(j){return!!v.isClickableExpressionType(j.formula.expression_type)&&(!j.reconciledDragMode||j.reconciledDragMode===i.DragMode.NONE)}function nt(j){j.showLabel=S.DEFAULTS.showLabel,j.label=S.DEFAULTS.label,j.hidden=S.DEFAULTS.hidden,j.dragMode=S.DEFAULTS.dragMode,j.fill=S.DEFAULTS.fill,j.fillOpacity=S.DEFAULTS.fillOpacity,j.lineWidth=S.DEFAULTS.lineWidth,j.points=S.DEFAULTS.points,j.pointStyle=S.DEFAULTS.pointStyle,j.lines=S.DEFAULTS.lines,j.lineStyle=S.DEFAULTS.lineStyle,j.polarDomain=S.DEFAULTS.polarDomain,j.parametricDomain=S.DEFAULTS.parametricDomain,j.slider=S.SLIDER_DEFAULTS,j.latex="",j.labelSize=y.LabelSize.MEDIUM,j.labelOrientation=p.LabelOrientation.DEFAULT,j.displayEvaluationAsFraction=S.DEFAULTS.displayEvaluationAsFraction,j.verticalLabel=!1,j.suppressTextOutline=!1,j.interactiveLabel=!1,j.editableLabelMode=S.DEFAULTS.editableLabelMode,j.cdf=S.DEFAULTS.cdf,j.vizProps=S.DEFAULTS.vizProps}Object.defineProperty(o,"__esModule",{value:!0}),o.EvaluationLabelOptions={smallCutoff:1e-6,bigCutoff:1e9,digits:12},o.isRationalizableConstant=Z,o.isGraphable=X,o.shouldShowEvaluation=ee,o.getEvaluationValue=W,o.getTTestResults=U,o.getStatsResults=F,o.computeNewSliderLatex=G,o.isEmpty=ie,o.updateReconciledDragMode=ne,o.adjustSliderByMovablePoint=te,o.adjustSliderByKeyboard=H,o.adjustSliderByDraggingThumb=pe,o.tickSliderStep=fe,o.onFormulaUpdate=re,o.computeShouldGraph=se,o.updateDisplayLatex=he,o.getDisplayLatex=xe,o.getDisplaySliderMin=Be,o.getDisplaySliderMax=ke,o.getSliderMin=Re,o.getSliderMax=Ve,o.getSliderStep=ye,o.getSliderValue=P,o.isSliderAtEndOfPlayOnce=ue,o.isVizPropValid=Ae,o.getVizPropLatex=_e,o.setVizProp=qe,o.getClickableInfoPropLatex=Ye,o.isClickableInfoPropValid=Ie,o.getClickableInfoUpdateLatex=Ne,o.getClickableInfoUpdateIdentifier=z,o.setClickableInfoProp=Pe,o.isClickableObject=ot,o.needsDotplotXMode=rt,o.isSliderMinValid=kt,o.isSliderMaxValid=ve,o.isSliderStepValid=ze,o.getDomainMin=je,o.getDomainMax=Te,o.isDomainMinValid=Xe,o.isDomainMaxValid=Ze,o.getState=Ce,o.updateCachedViewState=Fe,o.setIsDraggingOnGrapher=Ge,o.updateCachedUndoRedoState=Qe,o.initModel=it,o.updateCachedParsableState=ct,o.eachLatex=gt,o.onControllerUpdate=Rt,o.restoreState=ut,o.setSliderMin=mt,o.setSliderMax=Nt,o.setSliderIsPlaying=Kt,o.commitSliderSoftLimits=xt,o.extractSliderValueFromLatex=Ut,o.setLatex=jt,o.setSliderLoopMode=or,o.setSliderDragging=dr,o.setSliderStep=Xt,o.setSliderAnimationPeriod=Wt,o.shouldEvaluationDisplayAsFraction=$,o.setEvaluationAsFraction=ce,o.setLabel=N,o.setShowLabel=Q,o.setPolarDomainMin=oe,o.setParametricDomainMin=we,o.setPolarDomainMax=J,o.setParametricDomainMax=Se,o.setLogMode=De,o.setColor=We,o.setFill=et,o.setFillOpacity=lt,o.setLineWidth=ht,o.setLabelDropdownOpen=ft,o.setDragMode=bt,o.setPoints=Bt,o.setPointStyle=zt,o.setLines=Vt,o.setLineStyle=qt,o.setLabelSize=Zt,o.setLabelOrientation=Ft,o.setVerticalLabel=Ot,o.setSuppressTextOutline=ir,o.setInteractiveLabel=ar,o.setEditableLabelMode=vr,o.getEditableLabelMode=St,o.hasEditableLabel=sr,o.setHidden=oi,o.areAllVisibilityPropsOff=Br,o.hasDomain=Fr,o.getPolarDomainMin=ni,o.getPolarDomainMax=ai,o.getParametricDomainMin=Wr,o.getParametricDomainMax=kr,o.hasSlider=Lr,o.isPolygon=Pr,o.isParametric=Yr,o.isPolar=Rr,o.isSinglePoint=si,o.isPointList=ci,o.isPointOrPointList=li,o.isBoxPlot=Kr,o.isDotPlot=Nr,o.isHistogram=Or,o.isVisualization=Xr,o.isTTest=jr,o.isStats=pi,o.isToplevelFunction=di,o.isToplevelDistribution=Gr,o.isDiscreteDistribution=ui,o.parseToplevelFunction=_r,o.shouldShowCDFCheckbox=Jr,o.isPrimaryLatexValid=Mr,o.isListValuedDistribution=zr,o.shouldShowCDFFooter=qr,o.getCDFMin=Zr,o.getCDFMax=gi,o.getCDFMinPlaceholder=hi,o.getCDFMaxPlaceholder=T,o.setShowCDF=R,o.setCDFMin=V,o.setCDFMax=K,o.isCDFMinValid=le,o.isCDFMaxValid=de,o.isFillOpacityValid=be,o.isLineWidthValid=Oe,o.getCDFEvaluation=He,o.isClickableAllowed=$e,o.blankOutExpressionAfterClearingLatex=nt}),q("core/graphing-calc/json/folder",["require","exports","tslib","core/lib/default-spec"],function(O,o,w,r){function d(l){return w.__assign(w.__assign({},o.DEFAULTS),l)}function i(l){return r.stripDefaults(o.DEFAULTS,l)}Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULTS={collapsed:!1,hidden:!1,secret:!1,title:""},o.inflateDefaults=d,o.stripDefaults=i}),q("graphing-calc/models/folder",["require","exports","tslib","core/lib/deepCopy","lib/copy-properties","./abstract-item","./list","core/graphing-calc/json/folder"],function(O,o,w,r,d,i,l,g){function y(A,M){var C=A.cachedViewState;return M.stripDefaults?g.stripDefaults(C):C}function p(A){A.cachedViewState={type:A.type,id:A.id,title:A.title,hidden:A.hidden,collapsed:A.collapsed,secret:A.secret}}function u(A){A.cachedUndoRedoState=A.cachedViewState}function f(A,M){var C=r.default(g.inflateDefaults(A));return w.__assign(w.__assign(w.__assign({},C),i.DEFAULTS(M)),{cachedUndoRedoState:{},cachedViewState:{}})}function b(A){c(A),i.updateIsHiddenFromUI(A),p(A),u(A)}function m(A,M){d.copyProperties({from:M,to:A,props:{id:!1,type:!1,hidden:!0,secret:!0,collapsed:!0,title:!0}})}function c(A){var M=A.controller,C=M.getSelectedItem();A.collapsed?C&&C.type!=="folder"&&C.folderId===A.id?(A.selectedHiddenChild=C,l.setSelected(M.getListModel(),A)):C!==A&&(A.selectedHiddenChild=void 0):(C===A&&A.selectedHiddenChild&&l.setSelected(M.getListModel(),A.selectedHiddenChild),A.selectedHiddenChild=void 0)}function n(A,M){A.collapsed=M}function s(A,M){A.title=M}function v(A,M){A.hidden=M}Object.defineProperty(o,"__esModule",{value:!0}),o.getState=y,o.updateCachedViewState=p,o.updateCachedUndoRedoState=u,o.initModel=f,o.onControllerUpdate=b,o.restoreState=m,o.updateSelectedHiddenChild=c,o.setCollapsed=n,o.setTitle=s,o.setHidden=v}),q("core/graphing-calc/json/text",["require","exports","tslib","core/lib/default-spec"],function(O,o,w,r){function d(l){return w.__assign(w.__assign({},o.DEFAULTS),l)}function i(l){return r.stripDefaults(o.DEFAULTS,l)}Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULTS={folderId:"",text:"",secret:!1},o.inflateDefaults=d,o.stripDefaults=i}),q("graphing-calc/models/text",["require","exports","tslib","./abstract-item","core/lib/deepCopy","lib/copy-properties","core/graphing-calc/json/text"],function(O,o,w,r,d,i,l){function g(c,n){c.text=n}function y(c,n){var s=d.default(l.inflateDefaults(c));return w.__assign(w.__assign(w.__assign({},s),r.DEFAULTS(n)),{cachedUndoRedoState:{},cachedViewState:{}})}function p(c){r.updateIsHiddenFromUI(c),b(c),m(c)}function u(c,n){i.copyProperties({from:n,to:c,props:{id:!1,type:!1,folderId:!0,text:!0,secret:!0}})}function f(c,n){var s=c.cachedViewState;return n.stripDefaults?l.stripDefaults(s):s}function b(c){c.cachedViewState={type:c.type,id:c.id,folderId:c.folderId,text:c.text,secret:c.secret}}function m(c){c.cachedUndoRedoState=c.cachedViewState}Object.defineProperty(o,"__esModule",{value:!0}),o.setText=g,o.initModel=y,o.onControllerUpdate=p,o.restoreState=u,o.getState=f,o.updateCachedViewState=b,o.updateCachedUndoRedoState=m}),q("graphing-calc/models/helper-expression",["require","exports","core/math/evaluationstate","tslib","underscore"],function(O,o,w,r,d){function i(g){return r.__assign(r.__assign({},g),{formula:w.default(),cachedParsableState:{type:"statement",id:g.id,latex:g.latex,shouldGraph:!1}})}function l(g,y,p){y.formula=p;var u,f=y.proxy,b={numericValue:f.numericValue,listValue:f.listValue};p.zero_values&&p.zero_values.length===1&&(u=p.zero_values[0].val),f.numericValue=d.isNumber(u)?u:NaN,f.listValue=d.isArray(u)?u.slice(0):void 0,d.isEqual(f.numericValue,b.numericValue)||g.runAfterDispatch(function(){f.notifyPropertyChange("numericValue")}),d.isEqual(f.listValue,b.listValue)||g.runAfterDispatch(function(){f.notifyPropertyChange("listValue")})}Object.defineProperty(o,"__esModule",{value:!0}),o.init=i,o.onFormulaUpdate=l}),q("core/graphing-calc/json/image",["require","exports","tslib","core/lib/default-spec"],function(O,o,w,r){function d(g){return w.__assign(w.__assign(w.__assign({},o.DEFAULTS),g),{clickableInfo:w.__assign(w.__assign({},o.CLICKABLEINFO_DEFAULTS),g.clickableInfo)})}function i(g){var y=r.stripDefaults(o.DEFAULTS,g),p=r.stripDefaultsAndMaybeReturnUndefined(o.CLICKABLEINFO_DEFAULTS,g.clickableInfo);return p===void 0?delete y.clickableInfo:y.clickableInfo=p,y}function l(g){return{type:"image",id:g.id,center:g.center,angle:g.angle,width:g.width,height:g.height,opacity:g.opacity,clickableInfo:g.clickableInfo,guid:"",index:0,color:"",shouldGraph:g.hidden,showPoints:!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.CLICKABLEINFO_DEFAULTS={enabled:!1,description:"",assignment:"",expression:"",hoveredImage:"",depressedImage:""},o.DEFAULTS={folderId:"",hidden:!1,secret:!1,center:"\\left(0,0\\right)",angle:"0",width:"10",height:"10",opacity:"1",foreground:!1,name:"",clickableInfo:o.CLICKABLEINFO_DEFAULTS},o.inflateDefaults=d,o.stripDefaults=i,o.computeParsableState=l}),q("graphing-calc/models/image",["require","exports","tslib","core/lib/color-helpers","./abstract-item","core/lib/deepCopy","lib/copy-properties","./list","jquery","core/graphing-calc/json/image"],function(O,o,w,r,d,i,l,g,y,p){function u(re,se){re.hidden=se}function f(re,se){re.secret=se}function b(re,se,he){re[se]=he}function m(re,se){return re[se]}function c(re,se){re.name=se}function n(re,se){re.opacity=se}function s(re,se){re.foreground=se}function v(re,se){re.image_url=se}function A(re){var se=p.computeParsableState(re);se.color=re.color,se.index=re.index,se.guid=re.guid,se.shouldGraph=re.shouldGraph,se.showPoints=re.showPoints,re.cachedParsableState=se}function M(re){re.draggingOnGraphpaper?re.preTransientState||(re.preTransientState={center:re.center,angle:re.angle,width:re.width,height:re.height,opacity:re.opacity}):delete re.preTransientState,d.updateIsHiddenFromUI(re);var se=g.getParentFolderModel(re);re.shouldGraph=(!se||!se.hidden)&&!re.hidden,re.showPoints=re.shouldGraph&&g.isItemSelected(re)&&re.loadStatus==="loaded",x(re),Z(re),A(re)}function C(re,se){re.formula=se,re.missingVariables=re.formula.variables||[],re.computed_x=re.formula.dimensions.x,re.computed_y=re.formula.dimensions.y,re.computed_radian_angle=re.formula.dimensions.radianAngle,re.computed_height=re.formula.dimensions.height,re.computed_width=re.formula.dimensions.width,re.computed_opacity=re.formula.dimensions.opacity;var he={center:re.controller.t("Invalid center. Try, for example, (0,0)."),angle:re.controller.t("Invalid angle. Try using any number."),width:re.controller.t("Invalid width. Try using any number."),height:re.controller.t("Invalid height. Try using any number."),opacity:re.controller.t("Invalid opacity. Try using any number.")},xe=[];for(var Me in re.formula.errorMap)re.formula.errorMap[Me]&&xe.push(he[Me]);re.error=xe[0],re.inputErrors={center:!!re.formula.errorMap.center,width:!!re.formula.errorMap.width,height:!!re.formula.errorMap.height,angle:!!re.formula.errorMap.angle,opacity:!!re.formula.errorMap.opacity}}function D(re,se){return!!re.inputErrors&&re.inputErrors[se]}function S(re,se){var he=re.cachedViewState;return se.stripDefaults?p.stripDefaults(he):he}function x(re){var se=re.cachedViewState.clickableInfo,he=!0,xe=!0;if(se&&(se.depressedImage===re.clickableInfo.depressedImage&&(xe=!1),se.hoveredImage===re.clickableInfo.hoveredImage&&(he=!1)),he&&(re.hoveredImageObj&&(y(re.hoveredImageObj).off("load"),delete re.hoveredImageObj),re.clickableInfo.hoveredImage)){re.hoveredImageObj=new Image;var Me=function(){var Ve=re.controller.getGrapher();Ve&&Ve.redrawAllLayers()},Be=function(){};X(re.hoveredImageObj,re.clickableInfo.hoveredImage,Me,Be)}if(xe&&(re.depressedImageObj&&(y(re.depressedImageObj).off("load"),delete re.depressedImageObj),re.clickableInfo.depressedImage)){re.depressedImageObj=new Image;var Me=function(){var P=re.controller.getGrapher();P&&P.redrawAllLayers()},Be=function(){};X(re.depressedImageObj,re.clickableInfo.depressedImage,Me,Be)}if(re.cachedViewState.image_url!==re.image_url){y(re.imageObj).off("load"),re.imageObj=new Image;var ke=function(){re.controller.dispatch({type:"image-load-success",id:re.id})},Re=function(){re.controller.dispatch({type:"image-load-error",id:re.id})};X(re.imageObj,re.image_url,ke,Re)}re.cachedViewState={type:re.type,id:re.id,folderId:re.folderId,image_url:re.image_url,name:re.name,hidden:re.hidden,height:re.height,width:re.width,center:re.center,angle:re.angle,opacity:re.opacity,foreground:re.foreground,secret:re.secret,clickableInfo:re.clickableInfo}}function B(re,se){re.draggingOnGraphpaper=se}function Z(re){var se=re.cachedViewState;re.preTransientState&&(se=w.__assign(w.__assign({},se),re.preTransientState)),re.cachedUndoRedoState=se}function X(re,se,he,xe){y(re).on("load",he).on("error",xe),/^data:/.test(se)||(re.crossOrigin="anonymous"),re.src=se}function ee(re,se){var he=i.default(p.inflateDefaults(re));return w.__assign(w.__assign(w.__assign({},he),d.DEFAULTS(se)),{color:r.colors.BLUE,loadStatus:"loading",failures:0,imageObj:new Image,hoveredImageObj:void 0,depressedImageObj:void 0,shouldGraph:void 0,showPoints:void 0,error:void 0,formula:void 0,missingVariables:[],computed_x:void 0,computed_y:void 0,computed_width:void 0,computed_height:void 0,computed_radian_angle:void 0,computed_opacity:void 0,draggingOnGraphpaper:!1,cachedViewState:{},cachedParsableState:{},cachedUndoRedoState:{}})}function W(re,se){l.copyProperties({from:se,to:re,props:{id:!1,type:!1,image_url:!0,name:!0,folderId:!0,hidden:!0,secret:!0,center:!0,opacity:!0,angle:!0,width:!0,height:!0,foreground:!0,clickableInfo:!0}})}function U(re){for(var se=re.controller,he=re.files,xe=re.id,Me={errors:[],tokens:[]},Be=0;Be<he.length;Be++){var ke=he[Be];ke.type.match("image/*")?Me.tokens.push(F({controller:se,file:ke,id:xe})):Me.errors.push(se.t('The file "__file__" is not an image',{file:ke.name}))}return Me}function F(re){var se=re.controller,he=re.file,xe=re.id,Me=""+fe++;return se.getGraphSettings().config.imageUploadCallback(he,function(Be,ke){setTimeout(function(){if(Be)se.dispatch({type:"image-upload-error",token:Me,error:Be});else{var Re=new Image;X(Re,ke,function(){var Ve=Re.width,ye=Re.height,P=Math.max(Ve,ye)/Math.min(Ve,ye);Ve<ye?(ye=10,Ve=Math.round(10*ye/P)/10):(Ve=10,ye=Math.round(10*Ve/P)/10),se.dispatch({type:"image-upload-success",token:Me,url:ke,width:Ve+"",height:ye+"",name:he.name,id:xe})},function(){se.dispatch({type:"image-upload-error",token:Me,error:""})})}})}),Me}function G(re,se){re.loadStatus=se,se==="loaded"&&(re.failures=0),se==="failed"&&(re.failures+=1)}function ie(re){re.imageObj.src=re.imageObj.src,G(re,"loading")}function ne(re,se){return re.clickableInfo[se]}function Y(re,se){return!!re.formula&&(se==="assignment"?!!re.formula.clickableinfo_identifier_valid:se==="expression"&&!!re.formula.clickableinfo_expression_valid)}function ge(re){if(re.formula)return re.formula.clickableinfo_latex}function te(re){if(re.formula)return re.formula.clickableinfo_identifier}function H(re,se,he){var xe;re.clickableInfo=w.__assign(w.__assign({},re.clickableInfo),(xe={},xe[se]=he,xe))}function pe(re){return re.clickableInfo.enabled}Object.defineProperty(o,"__esModule",{value:!0}),o.setHidden=u,o.setSecret=f,o.setMQAttribute=b,o.getMQAttribute=m,o.setName=c,o.setOpacity=n,o.setForeground=s,o.setImageURL=v,o.updateCachedParsableState=A,o.onControllerUpdate=M,o.onFormulaUpdate=C,o.hasInputError=D,o.getState=S,o.updateCachedViewState=x,o.setIsDraggingOnGrapher=B,o.updateCachedUndoRedoState=Z,o.initModel=ee,o.restoreState=W,o.uploadImages=U;var fe=0;o.uploadImageAndGenerateToken=F,o.setLoadStatus=G,o.retryLoading=ie,o.getClickableInfoPropLatex=ne,o.isClickableInfoPropValid=Y,o.getClickableInfoUpdateLatex=ge,o.getClickableInfoUpdateIdentifier=te,o.setClickableInfoProp=H,o.isClickableObject=pe}),q("graphing-calc/models/list",["require","exports","lib/color-distance","tslib","./expression","./folder","./table","./text","./helper-expression","./image","core/types/graphmode","core/lib/color-helpers","underscore","core/lib/deepCopy"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m){function c(ve){return{controller:ve,__itemModelArray:[],__itemIdToModel:{},__helperIdToModel:{},__anyDependsOnRandomSeed:!1,drawOrder:[],colorIdx:0,expressionAnalysis:{},nextDisplayIndex:1}}function n(ve){for(var ze=0;ze<ve.__itemModelArray.length;ze++){var je=ve.__itemModelArray[ze];if(je.type==="image"&&je.loadStatus==="loading")return!0}return!1}function s(ve){var ze=b.filter(b.values(ve.controller.getColors()),function(Te){return Te!=f.colors.ORANGE}),je=ze[ve.colorIdx];return ve.colorIdx=(ve.colorIdx+1)%ze.length,je}function v(ve,ze){return ve.__itemModelArray[ze]}function A(ve){for(var ze=0;ze<ve.__itemModelArray.length;ze++){var je=ve.__itemModelArray[ze];if(Z(je))return je}}function M(ve){for(var ze=ve.__itemModelArray.length-1;ze>=0;ze--){var je=ve.__itemModelArray[ze];if(Z(je))return je}}function C(ve,ze){var je;do{if(--ze===-1)return;je=v(ve,ze)}while(je&&!Z(je));return je}function D(ve,ze){var je,Te=re(ve);do{if(++ze===Te)return;je=v(ve,ze)}while(je&&!Z(je));return je}function S(ve){if(ve.type!=="folder"&&ve.folderId){var ze=ve.controller.getListModel(),je=ne(ze,ve.folderId);if(je&&je.type==="folder")return je}}function x(ve,ze){var je=ne(ve,ze);if(!je||je.type!=="folder")return 0;for(var Te=0,Xe=ve.__itemModelArray.length,Ze=je.index+1;Ze<Xe;Ze++){var Ce=ve.__itemModelArray[Ze];if(Ce.type==="folder"||Ce.folderId!==ze)break;Te+=1}return Te}function B(ve){if(!ve)return!1;if(ve.secret)return!0;var ze=S(ve);return!(!ze||!ze.secret)}function Z(ve){return!X(ve)}function X(ve){if(!ve||ve.filteredBySearch)return!0;if(ve.controller.isItemBeingDragged(ve.id))return!1;if(!ve.controller.canAdministerSecretFolders()&&B(ve))return!0;var ze=S(ve);return!(!ze||!ze.collapsed||ve.controller.getIDESearchStr())}function ee(ve){return ve.__itemModelArray}function W(ve){return b.values(ve.__helperIdToModel)}function U(ve,ze){for(var je=0;je<ve.__itemModelArray.length;je++){var Te=ve.__itemModelArray[je];switch(Te.type){case"expression":d.eachLatex(Te,ze);break;case"table":l.eachLatex(Te,ze);break;case"image":case"folder":case"text":break;default:return Te}}}function F(ve,ze){for(var je=0;je<ve.__itemModelArray.length;je++)if(ze){var Te=ve.__itemModelArray[je];switch(Te.type){case"expression":Te.filteredBySearch=!0,d.eachLatex(Te,function(Ze){Ze.indexOf(ze)>=0&&(Te.filteredBySearch=!1,Te.folderId&&(ve.__itemIdToModel[Te.folderId].filteredBySearch=!1))});break;case"table":Te.filteredBySearch=!0,l.eachLatex(Te,function(Ze){Ze.indexOf(ze)>=0&&(Te.filteredBySearch=!1,Te.folderId&&(ve.__itemIdToModel[Te.folderId].filteredBySearch=!1))});break;case"image":case"folder":case"text":Te.filteredBySearch=!0;break;default:var Xe=Te;return Xe}}else ve.__itemModelArray[je].filteredBySearch=!1}function G(ve){var ze=[];U(ve,function(Xe){if(Xe.indexOf("~")===-1&&Xe.indexOf("\\sim")===-1)for(var Ze=/_(\d)|_\{(?:\s|\\space)*(\d+)(?:\s|\\space)*\}/g;;){var Ce=Ze.exec(Xe);if(!Ce)break;ze.push(parseInt(Ce[1]||Ce[2],10))}}),ze.sort(function(Xe,Ze){return Xe-Ze});for(var je=1,Te=0;Te<ze.length;Te++)ze[Te]===je&&je++;return je}function ie(ve){var ze=[];b.each(ve.__itemModelArray,function(je){je.type==="table"?b.each(je.columnModels,function(Te){ze.push(Te.id)}):ze.push(je.id)}),ve.drawOrder=ze}function ne(ve,ze){return ve.__itemIdToModel[ze]}function Y(ve,ze){for(var je=[],Te=0;Te<ve.__itemModelArray.length;Te++){var Xe=ve.__itemModelArray[Te];Xe.type==="expression"&&Xe.dependent===ze&&je.push(Xe)}return je}function ge(ve,ze){return ve.__helperIdToModel[ze]}function te(ve,ze){var je=y.init(ze);ve.__helperIdToModel[je.id]=je}function H(ve){ve.__anyDependsOnRandomSeed=!1;for(var ze=0;ze<ve.__itemModelArray.length;ze++){var je=ve.__itemModelArray[ze];if(je&&"formula"in je&&je.formula&&je.formula.depends_on_random_seed)return void(ve.__anyDependsOnRandomSeed=!0)}}function pe(ve){for(var ze=!ve.controller.canAdministerSecretFolders(),je=1,Te=1,Xe=0;Xe<ve.__itemModelArray.length;Xe++){var Ze=ve.__itemModelArray[Xe];Ze.index=Xe,Ze.displayIndex=je,B(Ze)&&(Ze.secretIndex=Te,Te+=1),ze&&B(Ze)||(je+=1)}ve.nextDisplayIndex=je}function fe(ve){ve.__itemModelArray=[],ve.__itemIdToModel={},ve.__helperIdToModel={},ve.__anyDependsOnRandomSeed=!1}function re(ve){return ve.__itemModelArray.length}function se(ve){return ve.nextDisplayIndex===1}function he(ve){for(var ze=[],je=0;je<ve.__itemModelArray.length;je++){var Te=ve.__itemModelArray[je];Te.type==="expression"&&Te.sliderExists&&ze.push(Te)}return ze}function xe(ve){return ve.selectedItem}function Me(ve){return{list:ve.__itemModelArray.map(function(ze){return ze.cachedUndoRedoState})}}function Be(ve,ze){return{list:ve.__itemModelArray.map(function(je){switch(je.type){case"expression":return d.getState(je,ze);case"image":return p.getState(je,ze);case"table":return l.getState(je,ze);case"folder":return i.getState(je,ze);case"text":return g.getState(je,ze);default:return je}})}}function ke(ve){for(var ze=0,je=/^[0-9]+$/,Te=ve.list.length-1;Te>=0;Te--){var Xe=ve.list[Te],Ze=Xe.id;if(je.test(Ze)){var Ce=parseInt(Ze,10);Ce>ze&&(ze=Ce)}if(Xe.type==="table"&&Xe.columns){for(var Fe=Xe.columns.length-1;Fe>=0;Fe--)if(Ze=Xe.columns[Fe].id,je.test(Ze)){var Ce=parseInt(Ze,10);Ce>ze&&(ze=Ce)}}}return ze}function Re(ve,ze,je){je||(je={});var Te,Xe;for(ve.colorIdx=0,fe(ve),ve.expressionAnalysis={},Te=0;Te<ze.list.length;Te++){if(Xe=Ve(ve,ze.list[Te]),je.remapColors&&"color"in Xe&&Xe.color){var Ze=b.values(ve.controller.getColors());b.contains(Ze,Xe.color)||(Xe.color=w.closestColor(Xe.color,Ze))}ve.__itemModelArray.push(Xe),ve.__itemIdToModel[Xe.id]=Xe}pe(ve),ve.nextDisplayIndex===1&&qe(ve,Ve(ve,{type:"expression",id:ve.controller.generateId(),color:ve.controller.getNextColor()}),ve.__itemModelArray.length)}function Ve(ve,ze){switch(ze.type){case"expression":return d.initModel(ze,ve.controller);case"table":return l.initModel(ze,ve.controller);case"image":return p.initModel(ze,ve.controller);case"folder":return i.initModel(ze,ve.controller);case"text":return g.initModel(ze,ve.controller);default:return ze}}function ye(ve,ze){var je,Te,Xe=ve.__itemIdToModel;for(ve.__itemModelArray=[],ve.__itemIdToModel={},je=0;je<ze.list.length;je++){var Ze=ze.list[je];if((Te=Xe[Ze.id])&&Te.type===Ze.type)switch(Te.type){case"expression":if(Ze.type!==Te.type)throw new Error("invalid restoration");d.restoreState(Te,Ze);break;case"table":if(Ze.type!==Te.type)throw new Error("invalid restoration");l.restoreState(Te,Ze);break;case"image":if(Ze.type!==Te.type)throw new Error("invalid restoration");p.restoreState(Te,Ze);break;case"folder":if(Ze.type!==Te.type)throw new Error("invalid restoration");i.restoreState(Te,Ze);break;case"text":if(Ze.type!==Te.type)throw new Error("invalid restoration");g.restoreState(Te,Ze);break;default:return Te}else Te=Ve(ve,Ze);ve.__itemModelArray.push(Te),ve.__itemIdToModel[Te.id]=Te}H(ve),pe(ve)}function P(ve,ze,je){var Te=je[0]&&je[0].tableId,Xe=ne(ve,Te||ze);if(Xe){var Ze;switch(Xe.type){case"expression":var Ce=!1;Xe.__workerNeedsDotplotXMode=!1;for(var Fe=0;Fe<je.length;Fe++){var Ge=je[Fe];Ge.graphMode!==u.Z_3D&&Ge.graphMode!==u.OBJECT3D&&Ge.graphMode!==u.PARAMETRIC_CURVE_3D&&("resolved"in Ge&&!Ge.resolved&&(Ce=!0),Ge.boundingBox&&(Ze||(Ze=[]),Ze.push(Ge.boundingBox)),Ge.needsDotplotXMode&&(Xe.__workerNeedsDotplotXMode=!0))}Xe.unresolved=Ce,Xe.boundingBoxes=Ze;for(var Qe=1/0,it=-1/0,ct=0,gt=je;ct<gt.length;ct++){var Ge=gt[ct];if(Ge.graphMode===u.POLAR){var Rt=Ge.sampledDomain;Rt&&(Qe=Math.min(Qe,Rt.min),it=Math.max(it,Rt.max))}}return isFinite(Qe)&&(Xe.__workerSampledDomainMin=Qe),void(isFinite(it)&&(Xe.__workerSampledDomainMax=it));case"table":for(var Fe=0;Fe<je.length;Fe++){var Ge=je[Fe];Ge.graphMode!==u.Z_3D&&Ge.graphMode!==u.OBJECT3D&&Ge.graphMode!==u.PARAMETRIC_CURVE_3D&&Ge.boundingBox&&(Ze||(Ze=[]),Ze.push(Ge.boundingBox))}return void(Ze&&l.setColumnBoundingBoxes(Xe,ze,Ze));default:return}}}function ue(ve,ze){var je,Te,Xe,Ze=m.default(ve.expressionAnalysis);for(je in ze)if(ze.hasOwnProperty(je)){Xe=ze[je],Te=ne(ve,je);var Ce={isGraphable:!!Xe.is_graphable,isError:!!Xe.error,errorMessage:Xe.error?ve.controller.unpack(Xe.error):void 0};if(Te)switch(Te.type){case"expression":if(d.onFormulaUpdate(Te,Xe),Xe.zero_values&&Xe.zero_values.length===1){var Fe=Xe.zero_values[0].val;b.isNumber(Fe)&&(Ce.evaluation={type:"Number",value:Fe},Ce.evaluationDisplayed=!0),b.isArray(Fe)&&Fe.every(b.isNumber)&&(Ce.evaluation={type:"ListOfNumber",value:Fe.slice()},Ce.evaluationDisplayed=!0)}else Xe.hasOwnProperty("constant_value")&&b.isNumber(Xe.constant_value)&&(Ce.evaluation={type:"Number",value:Xe.constant_value},Ce.evaluationDisplayed=!1);break;case"image":p.onFormulaUpdate(Te,Xe);break;case"table":l.onFormulaUpdate(Te,Xe);break;case"folder":case"text":break;default:var Ge=Te;return Ge}else{var Qe=ge(ve,je);if(!Qe)continue;y.onFormulaUpdate(ve.controller,Qe,Xe)}Ze[je]=Ce}H(ve),ve.expressionAnalysis=Ze}function Ae(ve,ze){ve.selectedItem=ze}function _e(ve,ze,je,Te){if(ze!==je){var Xe=ve.__itemModelArray.splice(ze,Te);ze<je&&(je=je-Te+1),ve.__itemModelArray.splice.apply(ve.__itemModelArray,r.__spreadArrays([je,0],Xe)),pe(ve)}}function qe(ve,ze,je){var Te=String(ze.id);if(ve.__itemIdToModel.hasOwnProperty(Te))throw Error("Item with id '"+Te+"' is already in list");ve.__itemIdToModel[Te]=ze,ve.__itemModelArray.splice(je,0,ze),pe(ve)}function Ye(ve,ze){qe(ve,ze,re(ve))}function Ie(ve,ze){var je=ve.__itemModelArray[ze];if(je.type==="folder"){for(var Te=0,Xe=je.index+1;Xe<ve.__itemModelArray.length;Xe++){var Ze=ve.__itemModelArray[Xe];if(Ze.type==="folder"||Ze.folderId!==je.id)break;Te+=1,rt(Ze)&&Ae(ve,void 0),delete ve.__itemIdToModel[Ze.id],delete ve.expressionAnalysis[je.id]}ve.__itemModelArray.splice(ze,1+Te)}else ve.__itemModelArray.splice(ze,1);rt(je)&&Ae(ve,void 0),delete ve.__itemIdToModel[je.id],delete ve.expressionAnalysis[je.id],H(ve),pe(ve)}function Ne(ve){return ve.__anyDependsOnRandomSeed}function z(ve,ze){var je=ne(ve,ze);je&&Ie(ve,je.index)}function Pe(ve){var ze=xe(ve);if(!ze)return!1;var je=C(ve,ze.index);return!!je&&(Ae(ve,je),je.index===re(ve)-1&&ze.type==="expression"&&d.isEmpty(ze)&&Ie(ve,je.index),!0)}function ot(ve){var ze=xe(ve);if(!ze)return!1;var je=D(ve,ze.index);return!!je&&(Ae(ve,je),!0)}function rt(ve){return ve.controller.getListModel().selectedItem===ve}function kt(ve,ze){ve.dragState=ze}Object.defineProperty(o,"__esModule",{value:!0}),o.init=c,o.areAnyImagesLoading=n,o.getNextColor=s,o.getItemByIndex=v,o.getFirstSelectableItem=A,o.getLastSelectableItem=M,o.findPrevSelectableItem=C,o.findNextSelectableItem=D,o.getParentFolderModel=S,o.getNumberOfItemsInFolder=x,o.isItemSecret=B,o.isItemSelectable=Z,o.isItemHiddenFromUI=X,o.getAllItemModels=ee,o.getAllHelperItemModels=W,o.eachLatex=U,o.filterItemsBySearch=F,o.findAvailableColumnSubscript=G,o.updateDrawOrder=ie,o.getItemById=ne,o.getItemsByIdentifier=Y,o.getHelperExpressionById=ge,o.addHelperExpression=te,o.recomputeAnyItemDependsOnRandomSeed=H,o.reindex=pe,o.removeAllItems=fe,o.getItemCount=re,o.hasNoVisibleExpressions=se,o.getAllModelsWithSliders=he,o.getSelected=xe,o.getUndoRedoState=Me,o.getState=Be,o.getLargestIntegerId=ke,o.setListState=Re,o.modelFromSpec=Ve,o.restoreListState=ye,o.onGraphComputed=P,o.onEvaluatorFormulaUpdates=ue,o.setSelected=Ae,o.moveItemsTo=_e,o.insertItemAtIndex=qe,o.insertItemAtEnd=Ye,o.removeItemAtIndex=Ie,o.anyItemDependsOnRandomSeed=Ne,o.removeItemById=z,o.selectPrevItem=Pe,o.selectNextItem=ot,o.isItemSelected=rt,o.setDragState=kt}),q("graphing-calc/models/abstract-item",["require","exports","./list"],function(O,o,w){function r(){return"abstract_item_"+p++}function d(u){return{guid:r(),controller:u,index:-1,displayIndex:-1,secretIndex:-1,isHiddenFromUI:!0,renderShell:!0}}function i(u,f){u.secret=f}function l(u,f){u.type!=="folder"&&(u.folderId=f)}function g(u){u.isHiddenFromUI=w.isItemHiddenFromUI(u)}function y(u){return u.isHiddenFromUI||u.filteredBySearch?"none":u.renderShell?"shell":"render"}Object.defineProperty(o,"__esModule",{value:!0});var p=0;o.getGUID=r,o.DEFAULTS=d,o.setSecret=i,o.setFolderId=l,o.updateIsHiddenFromUI=g,o.getDisplayState=y}),q("core/graphing-calc/json/table",["require","exports","tslib","core/lib/default-spec","core/types/styles","core/lib/dragmode"],function(O,o,w,r,d,i){function l(p){var u=w.__assign(w.__assign({},o.DEFAULTS),p);return u.columns=u.columns.map(function(f){return w.__assign(w.__assign({},o.COLUMN_DEFAULTS),f)}),u}function g(p){return p=w.__assign(w.__assign({},p),{columns:p.columns.map(function(u){return r.stripDefaults(o.COLUMN_DEFAULTS,u)})}),r.stripDefaults(o.DEFAULTS,p)}function y(p){return{type:"table",id:p.id,columns:p.columns.map(function(u){return w.__assign(w.__assign({},u),{tableId:p.id})})}}Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULTS={folderId:"",secret:!1,columns:[]},o.COLUMN_DEFAULTS={latex:"",color:"",hidden:!1,values:[],points:!0,lines:!1,dragMode:i.DragMode.NONE,pointStyle:d.PointStyle.POINT,lineStyle:d.LineStyle.SOLID},o.inflateDefaults=l,o.stripDefaults=g,o.computeParsableState=y}),q("graphing-calc/models/table",["require","exports","core/math/rational-arithmetic-sequence","tslib","core/types/styles","core/lib/dragmode","./abstract-item","underscore","core/lib/label","core/math/evaluate-single-expression","core/math/distance","core/lib/deepCopy","lib/copy-properties","graphing-calc/models/list","core/graphing-calc/json/table","core/graphing-calc/json/table","core/graphing-calc/json/table"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n,s){function v(Ce,Fe,Ge,Qe){Qe.row=Ce.rowModels[Fe],Qe.row.cells.splice(Ge,0,Qe)}function A(Ce,Fe,Ge){Ce.rowModels[Fe].cells.splice(Ge,1)}function M(Ce){return isFinite(Ce)?y.truncatedLatexLabel(Ce,{digits:8,bigCutoff:1e6,smallCutoff:.001}):"\\mathrm{undefined}"}function C(Ce,Fe,Ge){var Qe=Ce.columnModels[Fe];Qe.error=Ge.error,Qe.discrete=Ge.discrete,Qe.disabled=Ge.dependent,Qe.draggable=!Ge.error&&!Ge.dependent,Qe.packedErrors=[],Qe.computedValues=[];for(var it=Ge.values,ct=it.length-1;ct>=0;ct--){var gt=it[ct];Qe.computedValues[ct]=typeof gt=="number"?M(gt):"",Qe.packedErrors[ct]=gt&&gt.msg?gt:void 0}}function D(Ce){var Fe=ue(Ce);if(Fe){var Ge=S(Ce);if(!Ge)return void(Ce.isExpanded||Pe(Ce,!0));Fe.row>=Ge.min&&Fe.row<Ge.max&&Pe(Ce,!0)}}function S(Ce){if(!Ce.isExpanded){var Fe=Ce.rowModels.length;if(!(Fe<30))return{min:8,max:Fe-5}}}function x(Ce,Fe){var Ge=Ce.columnModels[Fe];return{values:Ce.columns[Fe].values.slice(),dragMode:Ge.dragMode,hidden:Ge.hidden,id:Ge.id,color:Ge.color,points:Ge.points,lines:Ge.lines,pointStyle:Ge.pointStyle,lineStyle:Ge.lineStyle,latex:Ge.latex}}function B(){return"table_guid_"+Xe++}function Z(){return{guid:B(),type:"cell",row:void 0,column:void 0}}function X(Ce){return{type:"row",index:Ce,guid:B(),cells:[]}}function ee(Ce,Fe,Ge,Qe){var it=Ce.columnModels[Fe];it.cells.splice(Ge,0,Qe),Qe.column=it,Ce.columns[it.index].values.splice(Ge,0,"")}function W(Ce,Fe,Ge){var Qe=Ce.columnModels[Fe];Qe.cells.splice(Ge,1),Ce.columns[Qe.index].values.splice(Ge,1)}function U(Ce,Fe,Ge){var Qe=r.__assign(r.__assign({},Ge),{type:"header",guid:B(),index:Fe,error:void 0,table:Ce,color:Ge.color||Ce.controller.getNextColor(),packedErrors:[],computedValues:[],cells:void 0,row:void 0,discrete:void 0,shouldGraph:void 0,disabled:void 0,draggable:void 0});return Qe.cells=Qe.values.map(function(){var it=Z();return it.column=Qe,it}),delete Qe.values,Fe===0&&(Qe.hidden=!0),Qe}function F(Ce){Ce.draggingOnGraphpaper?Ce.preTransientState||(Ce.preTransientState={columns:se(Ce,{stripDefaults:!1}).columns}):delete Ce.preTransientState,l.updateIsHiddenFromUI(Ce);var Fe=m.getParentFolderModel(Ce),Ge=Fe&&Fe.hidden;g.each(Ce.columnModels,function(Qe){Qe.shouldGraph=!Ge&&!Qe.hidden}),he(Ce),Me(Ce),pe(Ce)}function G(Ce,Fe){Ce.formula=Fe;var Ge,Qe=Ce.formula.column_data,it=Ce.columnModels[0].cells.length,ct=Ce.columnModels.length,gt=0;for(Ge=0;Ge<Qe.length;Ge++){var Rt=Qe[Ge].values.length;Rt>gt&&(gt=Rt)}for(Ge=gt-it;Ge>0;Ge--)ie(Ce,it),it++;for(Ge=0;Ge<Qe.length&&Ge<ct;Ge++)C(Ce,Ge,Qe[Ge]);var ut=Ce.columnModels[Ce.columnModels.length-1];ut.disabled=!0,ut.error=void 0}function ie(Ce,Fe){var Ge=X(Fe+1);Ce.rowModels.splice(Fe+1,0,Ge);for(var Qe=Fe+1;Qe<Ce.rowModels.length;Qe++)Ce.rowModels[Qe].index=Qe;for(Qe=0;Qe<Ce.columnModels.length;Qe++){var it=Z();ee(Ce,Qe,Fe,it),v(Ce,Fe+1,Qe,it)}}function ne(Ce,Fe){var Ge=S(Ce);Ge&&Fe===Ge.max-1&&Pe(Ce,!0);for(var Qe=0;Qe<Ce.columnModels.length;Qe++)W(Ce,Qe,Fe);for(Ce.rowModels.splice(Fe+1,1),Qe=Fe+1;Qe<Ce.rowModels.length;Qe++)Ce.rowModels[Qe].index=Qe}function Y(Ce,Fe,Ge){var Qe=r.__assign(r.__assign(r.__assign({},c.COLUMN_DEFAULTS),Ge),{values:Ce.columns[0].values.map(function(){return""})}),it=U(Ce,Fe,Qe);Ce.columnModels.splice(Fe,0,it),Ce.columns.splice(Fe,0,Qe);for(var ct=Fe+1;ct<Ce.columnModels.length;ct++)Ce.columnModels[ct].index=ct;for(v(Ce,0,Fe,it),ct=1;ct<Ce.rowModels.length;ct++)v(Ce,ct,Fe,it.cells[ct-1])}function ge(Ce,Fe){Ce.columns.splice(Fe,1),Ce.columnModels.splice(Fe,1);for(var Ge=Fe;Ge<Ce.columnModels.length;Ge++)Ce.columnModels[Ge].index=Ge;for(Ge=0;Ge<Ce.rowModels.length;Ge++)A(Ce,Ge,Fe)}function te(Ce,Fe){var Ge,Qe=Ce.columnModels.length,it=[];for(Ge=0;Ge<Qe;Ge++)it.push("");var ct=Ce.columns[0].values;if(Fe>1){var gt=Ce.controller.isDegreeMode(),Rt=p.default(ct[0],gt),ut=p.default(ct[1],gt);if(isFinite(Rt)&&isFinite(ut)){var mt=w(Rt,ut);if(mt){var Nt=mt.nstart,Et=Nt/mt.lcm;for(Ge=0;Ge<Fe;Ge++){var Kt=p.default(ct[Ge],gt);if(!u.approx(Kt,Et))return it;Nt+=mt.nstep,Et=Nt/mt.lcm}it[0]=(""+Rt).length<8&&(""+ut).length<8?""+Et:"\\frac{"+Nt+"}{"+mt.lcm+"}"}}}return it}function H(Ce,Fe){for(var Ge=0;Ge<Ce.columnModels.length;Ge++){Fe(Ce.columnModels[Ge].latex);for(var Qe=Ce.columns[Ge],it=0;it<Qe.values.length;it++)Qe.values[it]&&Fe(Qe.values[it])}}function pe(Ce){for(var Fe=s.computeParsableState({type:"table",id:Ce.id,secret:Ce.secret,folderId:Ce.folderId,columns:Ce.columnModels.map(function(Qe){return x(Ce,Qe.index)})}),Ge=0;Ge<Fe.columns.length;Ge++)Fe.columns[Ge].hidden=!Ce.columnModels[Ge].shouldGraph;Ce.cachedParsableState=Fe}function fe(Ce,Fe){return Ce=f.default(Ce),Ce.push(r.__assign(r.__assign({},c.COLUMN_DEFAULTS),{id:Fe,values:Ce[0].values.map(function(){return""})})),Ce.forEach(function(Ge){Ge.values.push("")}),Ce}function re(Ce){return Ce=f.default(Ce),Ce.pop(),Ce.forEach(function(Fe){Fe.values.pop()}),Ce}function se(Ce,Fe){var Ge=r.__assign(r.__assign({},Ce.cachedViewState),{columns:re(Ce.cachedViewState.columns)});return Fe.stripDefaults?n.stripDefaults(Ge):Ge}function he(Ce){var Fe=Ce.columnModels.map(function(Ge,Qe){return x(Ce,Qe)});Ce.cachedViewState={id:Ce.id,type:Ce.type,folderId:Ce.folderId,columns:Fe,secret:Ce.secret}}function xe(Ce,Fe){Ce.draggingOnGraphpaper=Fe}function Me(Ce){var Fe=r.__assign(r.__assign({},Ce.cachedViewState),{columns:re(Ce.cachedViewState.columns)});Ce.preTransientState&&(Fe=r.__assign(r.__assign({},Fe),Ce.preTransientState)),Ce.cachedUndoRedoState=Fe}function Be(Ce,Fe){if(Ce.columnModels.length-1!==Fe.length)return{type:"start-fresh"};if(Ce.columnModels[0].cells.length-1!==Fe[0].values.length)return{type:"start-fresh"};for(var Ge=-1,Qe=Fe.length-1;Qe>=0;Qe--){var it=Ce.columns[Qe],ct=Fe[Qe];if(it.id!==ct.id)return{type:"start-fresh"};for(var gt=it.values,Rt=ct.values,ut=Rt.length-1;ut>=0;ut--)if(gt[ut]!==Rt[ut]&&(Ge===-1&&(Ge=ut),Ge!==ut))return{type:"start-fresh"}}return Ge===-1?{type:"none"}:{type:"edit-row",rowIndex:Ge}}function ke(Ce,Fe){var Ge=Be(Ce,Fe.columns);if(b.copyProperties({from:Fe,to:Ce,props:{id:!1,type:!1,columns:!1,folderId:!0,secret:!0}}),Ge.type==="start-fresh")Ce.columns=fe(Fe.columns,Ce.controller.generateId()),Ve(Ce);else{switch(Ge.type){case"none":break;case"edit-row":for(var Qe=Fe.columns.length-1;Qe>=0;Qe--)ze(Ce,{column:Qe,row:Ge.rowIndex+1},Fe.columns[Qe].values[Ge.rowIndex]);break;default:return Ge}for(var it=0;it<Fe.columns.length;it++)b.copyProperties({from:Fe.columns[it],to:Ce.columnModels[it],props:{id:!1,values:!1,color:!0,latex:!0,hidden:!0,points:!0,lines:!0,dragMode:!0,lineStyle:!0,pointStyle:!0}})}}function Re(Ce,Fe){var Ge=f.default(n.inflateDefaults(Ce)),Qe=r.__assign(r.__assign(r.__assign({},Ge),l.DEFAULTS(Fe)),{columnModels:void 0,rowModels:void 0,formula:void 0,draggingOnGraphpaper:!1,cachedViewState:{},cachedParsableState:{},cachedUndoRedoState:{},isExpanded:!1});Qe.columns=fe(Qe.columns,Fe.generateId());var it,ct=0;for(it=0;it<Qe.columns.length;it++)Qe.columns[it].values||(Qe.columns[it].values=[]),Qe.columns[it].values.length>ct&&(ct=Qe.columns[it].values.length);for(it=0;it<Qe.columns.length;it++)for(var gt=ct-Qe.columns[it].values.length;gt>0;gt--)Qe.columns[it].values.push("");return Ve(Qe),Qe}function Ve(Ce){Ce.columnModels=Ce.columns.map(function(it,ct){return U(Ce,ct,it)}),Ce.rowModels=[X(0)];for(var Fe=0;Fe<Ce.columnModels.length;Fe++)v(Ce,0,Fe,Ce.columnModels[Fe]);for(var Fe=0;Fe<Ce.columnModels[0].cells.length;Fe++){var Ge=X(Fe+1);Ce.rowModels.push(Ge);for(var Qe=0;Qe<Ce.columnModels.length;Qe++)v(Ce,Fe+1,Qe,Ce.columnModels[Qe].cells[Fe])}}function ye(Ce,Fe,Ge){for(var Qe=[],it=Math.min(Fe.length,Ze.length),ct=0;ct<it;ct++)Qe.push({id:Ge.generateId(),latex:y.identifierToLatex(Ze[ct]+"_"+Ce),values:Fe[ct],color:Ge.getNextColor(),hidden:!1,points:!0,lines:!1,dragMode:i.DragMode.NONE,pointStyle:d.PointStyle.POINT,lineStyle:d.LineStyle.SOLID});return{id:Ge.generateId(),type:"table",folderId:"",secret:!1,columns:Qe}}function P(Ce,Fe){var Ge=se(Ce,{stripDefaults:!1});if(!Ge.columns||!Fe.columns)return Fe;for(var Qe=0;Qe<Fe.columns.length;Qe++){var it=Ge.columns[Qe],ct=Fe.columns[Qe];if(it)for(var gt in it)it.hasOwnProperty(gt)&&(ct.hasOwnProperty(gt)||(ct[gt]=it[gt]))}return Fe}function ue(Ce){var Fe=Ce.controller.getFocusLocation();return Fe&&Fe.type==="table"&&Fe.id===Ce.id?Fe.location:void 0}function Ae(Ce,Fe){for(var Ge=0;Ge<Ce.columnModels.length;Ge++){var Qe=Ce.columnModels[Ge];if(Qe.id===Fe)return Qe}}function _e(Ce,Fe,Ge){var Qe=Ae(Ce,Fe);Qe&&(Qe.points=Ge,Ge||(Qe.dragMode=i.DragMode.NONE))}function qe(Ce,Fe,Ge){var Qe=Ae(Ce,Fe);Qe&&(Qe.pointStyle=Ge)}function Ye(Ce,Fe,Ge){var Qe=Ae(Ce,Fe);Qe&&(Qe.lines=Ge)}function Ie(Ce,Fe,Ge){var Qe=Ae(Ce,Fe);Qe&&(Qe.lineStyle=Ge)}function Ne(Ce,Fe,Ge){var Qe=Ae(Ce,Fe);Qe&&(Qe.dragMode=Ge,Ge===i.DragMode.NONE||Qe.points||(Qe.points=!0))}function z(Ce,Fe,Ge){var Qe=Ae(Ce,Fe);Qe&&(Qe.color=Ge)}function Pe(Ce,Fe){Ce.isExpanded=Fe}function ot(Ce,Fe,Ge){var Qe=Ae(Ce,Fe);Qe&&(Qe.hidden=Ge,Ge&&kt(Ce))}function rt(Ce,Fe,Ge){var Qe=Ae(Ce,Fe);Qe&&(Qe.boundingBoxes=Ge,kt(Ce))}function kt(Ce){var Fe=[];Ce.columnModels.forEach(function(Ge){Ge.boundingBoxes&&!Ge.hidden&&(Fe=Fe.concat(Ge.boundingBoxes))}),Ce.boundingBoxes=Fe}function ve(Ce,Fe){var Ge=Ae(Ce,Fe);return!Ge||!Ge.points&&!Ge.lines}function ze(Ce,Fe,Ge){if(Fe.row===0){var Qe=Ce.columnModels[Fe.column].id,it=Ae(Ce,Qe);return it?(it.latex=Ge,void(Fe.column>=Ce.columnModels.length-1&&Y(Ce,Fe.column+1,{id:Ce.controller.generateId(),latex:"",color:Ce.controller.getNextColor()}))):void 0}var ct=Ce.columnModels[Fe.column];Ce.columns[ct.index].values[Fe.row-1]=Ge,Ge!==""&&Fe.row>=Ce.columnModels[0].cells.length&&ie(Ce,Fe.row)}function je(Ce,Fe){return Fe.row<Ce.rowModels.length&&Fe.column<Ce.columnModels.length}function Te(Ce){if(Ce.values){for(var Fe=0,Ge=Ce.values;Fe<Ge.length;Fe++)if(Ge[Fe]!=="")return!1}if(Ce.computedValues){for(var Qe=0,it=Ce.computedValues;Qe<it.length;Qe++)if(it[Qe]!=="")return!1}return!0}Object.defineProperty(o,"__esModule",{value:!0}),o.insertCellToRow=v,o.removeCellFromRow=A,o.formatValueForDisplay=M,o.setColumnComputedValues=C,o.updateIsCollapsedByFocusLocation=D,o.getCollapsedRange=S,o.getColumnState=x;var Xe=0;o.getGUID=B,o.makeCell=Z,o.makeRow=X,o.insertCellToColumn=ee,o.removeCellFromColumn=W,o.makeColumn=U,o.onControllerUpdate=F,o.onFormulaUpdate=G,o.insertBlankRow=ie,o.removeRow=ne,o.insertBlankColumn=Y,o.removeColumn=ge,o.getRowAutoFillValues=te,o.eachLatex=H,o.updateCachedParsableState=pe,o.addBlankRowAndColumn=fe,o.stripBlankRowAndColumn=re,o.getState=se,o.updateCachedViewState=he,o.setIsDraggingOnGrapher=xe,o.updateCachedUndoRedoState=Me,o.computeTableStructureMutation=Be,o.restoreState=ke,o.initModel=Re,o.buildEntireColumnStructure=Ve;var Ze=["x","y","z","u","v","w"];o.makeTableState=ye,o.cloneTableAndExtendWithProperties=P,o.getSelectedCell=ue,o.getColumnModel=Ae,o.setColumnPoints=_e,o.setColumnPointStyle=qe,o.setColumnLines=Ye,o.setColumnLineStyle=Ie,o.setColumnDragMode=Ne,o.setColumnColor=z,o.setExpanded=Pe,o.setColumnHidden=ot,o.setColumnBoundingBoxes=rt,o.mergeBoundingBoxes=kt,o.shouldHideColumn=ve,o.setCellLatex=ze,o.doesCellExist=je,o.isColumnEmpty=Te}),q("main/propagate_selection",["require","graphing-calc/models/table"],function(O){function o(d){var i=d&&d.id;if(d&&d.type==="table"){var l=r.getSelectedCell(d);if(l){var g=d.columnModels[l.column];i=g?g.id:void 0}else i=void 0}if(d&&d.type==="folder"){var y=d.selectedHiddenChild;i=y?y.id:void 0}return i}function w(d,i,l,g){var y=d.getSelectedItem(),p=o(y);return p!==g&&i.select(p),p}var r=O("graphing-calc/models/table");return{getSelectedId:o,propagateSelection:w}}),function(O,o){typeof q=="function"&&q.amd?q("flux",[],o):O.Flux=o()}(this,function(){return function(O){function o(r){if(w[r])return w[r].exports;var d=w[r]={exports:{},id:r,loaded:!1};return O[r].call(d.exports,d,d.exports,o),d.loaded=!0,d.exports}var w={};return o.m=O,o.c=w,o.p="",o(0)}([function(O,o,w){O.exports.Dispatcher=w(1)},function(O,o,w){function r(l,g){if(!(l instanceof g))throw new TypeError("Cannot call a class as a function")}o.__esModule=!0;var d=w(2),i=function(){function l(){r(this,l),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return l.prototype.register=function(g){var y="ID_"+this._lastID++;return this._callbacks[y]=g,y},l.prototype.unregister=function(g){this._callbacks[g]||d(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",g),delete this._callbacks[g]},l.prototype.waitFor=function(g){this._isDispatching||d(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var y=0;y<g.length;y++){var p=g[y];this._isPending[p]?this._isHandled[p]||d(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",p):(this._callbacks[p]||d(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",p),this._invokeCallback(p))}},l.prototype.dispatch=function(g){this._isDispatching&&d(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(g);try{for(var y in this._callbacks)this._isPending[y]||this._invokeCallback(y)}finally{this._stopDispatching()}},l.prototype.isDispatching=function(){return this._isDispatching},l.prototype._invokeCallback=function(g){this._isPending[g]=!0,this._callbacks[g](this._pendingPayload),this._isHandled[g]=!0},l.prototype._startDispatching=function(g){for(var y in this._callbacks)this._isPending[y]=!1,this._isHandled[y]=!1;this._pendingPayload=g,this._isDispatching=!0},l.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},l}();O.exports=i},function(O,o,w){function r(d,i,l,g,y,p,u,f){if(i===void 0)throw new Error("invariant requires an error message argument");if(!d){var b;if(i===void 0)b=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[l,g,y,p,u,f],c=0;b=new Error(i.replace(/%s/g,function(){return m[c++]})),b.name="Invariant Violation"}throw b.framesToPop=1,b}}O.exports=r}])}),q("keys",["require"],function(O){return new function(){var o={8:this.BACKSPACE="Backspace",9:this.TAB="Tab",13:this.ENTER="Enter",16:this.SHIFT="Shift",17:this.CONTROL="Control",18:this.ALT="Alt",20:this.CAPSLOCK="CapsLock",27:this.ESCAPE="Esc",32:this.SPACEBAR="Space",33:this.PAGEUP="PageUp",34:this.PAGEDOWN="PageDown",35:this.END="End",36:this.HOME="Home",37:this.LEFT="Left",38:this.UP="Up",39:this.RIGHT="Right",40:this.DOWN="Down",46:this.DELETE="Del"},w={UIKeyInputUpArrow:this.UP,UIKeyInputDownArrow:this.DOWN,UIKeyInputLeftArrow:this.LEFT,UIKeyInputRightArrow:this.RIGHT,UIKeyInputEscape:this.ESCAPE,UIKeyInputPageUp:this.PAGEUP,UIKeyInputPageDown:this.PAGEDOWN};this.isUndo=function(r){return!r.altKey&&(r.ctrlKey||r.metaKey)&&r.which==90&&!r.shiftKey},this.isRedo=function(r){return!r.altKey&&(r.ctrlKey||r.metaKey)&&(r.which==89||r.which==90&&r.shiftKey)},this.isSelectAll=function(r){return!r.altKey&&(r.ctrlKey||r.metaKey)&&r.which==65},this.isBacktick=function(r){return!(r.altKey||r.ctrlKey||r.metaKey||r.shiftKey||r.which!=192)},this.isHelp=function(r){return!r.altKey&&(r.ctrlKey||r.metaKey)&&r.which==191},this.lookup=function(r){return o[r.which]||w[r.key]},this.lookupChar=function(r){return String.fromCharCode(r.which)}}}),q("loadcss!touchtracking",function(){}),q("touchtracking",["require","jquery","ipad.ghostevents","keys","loadcss!./touchtracking"],function(O){function o(H,pe){var fe=te?{passive:!1}:void 0;document.addEventListener(H,function(re){pe(w.event.fix(re))},fe)}var w=O("jquery"),r=O("ipad.ghostevents"),d=O("keys");O("loadcss!./touchtracking"),window._touchtracking_id_counter==null&&(window._touchtracking_id_counter=0),window._touchtracking_id_counter+=1;var i="touchtracking_id_"+window._touchtracking_id_counter,l=function(H){w(H).addClass("dcg-tap-container"),w(H).addClass(i)},g=function(H){w(H).addClass("dcg-no-touchtracking")};r.evtInScope=function(H){return x(H.target)},r.isGhostEvent=function(H){return!window.PointerEvent&&!(u!==y&&u!==p&&!X())&&H.target!==s&&(!H.target||!w.contains(H.target,s))&&(!s||!w.contains(s,H.target))};var y=1,p=4,u=0,f={},b={},m=[],c=0,n=null,s=null,v=null,A=[],M=function(H){for(var pe=[];H;)pe.push(H),H=H.parentNode;return pe},C=function(H){for(var pe=[],fe=0;fe<H.length;fe++){var re=H[fe];if(pe.push(re),w(re).is(".dcg-tap-container, .dcg-no-touchtracking"))return w(re).is(".dcg-tap-container."+i)?pe:[]}return[]},D=function(H,pe){s=null,u=H,m=M(u===y?pe.originalEvent.touches[0].target:pe.target),w(C(m)).addClass("dcg-depressed").each(function(){var fe=w(this);B(fe)&&fe.addClass("dcg-focus-by-tap")}),w(m).each(function(){var fe=w(this);fe.data({originalScrollTop:fe.scrollTop(),originalScrollLeft:fe.scrollLeft()})}),b={}},S=function(H){return H.is("input, textarea, select")||H.hasClass("dcg-mathquill-input-span")||H.is("[contenteditable=true]")},x=function(H){return!!w(H).closest(".dcg-tap-container, .dcg-no-touchtracking").is(".dcg-tap-container."+i)},B=function(H){return u!==3&&!S(H)&&x(H)},Z=function(H){s=null,w(".dcg-depressed").removeClass("dcg-depressed");var pe=w(document.activeElement);if(B(pe))try{pe.blur()}catch{}if(w(".dcg-focus-by-tap").removeClass("dcg-focus-by-tap"),w(m).each(function(){var ke=w(this),Re=ke.data("originalScrollTop")-ke.scrollTop(),Ve=ke.data("originalScrollLeft")-ke.scrollLeft();(Re||Ve)&&(b.scroll=!0)}),b["dcg-tapstart"]===1&&b["dcg-tapend"]===1&&!b["dcg-tapcancel"]&&!b.scroll){var fe=H.device==="mouse"?H.clientX:H.originalEvent.changedTouches[0].clientX,re=H.device==="mouse"?H.clientY:H.originalEvent.changedTouches[0].clientY;if(H&&!H.device&&fe===0&&re===0){var se=H.target.getBoundingClientRect();fe=(se.left+se.right)/2,re=(se.top+se.bottom)/2,H.device="keyboard"}for(var he=!1,xe=0;xe<m.length&&!he;xe++){var Me,Be=w(m[xe]);if(typeof Be[0].getBoundingClientRect=="function"&&(Me=Be[0].getBoundingClientRect()),Be.attr("tapboundary")==="true"&&(he=!0),!(Me&&(fe<Me.left||re<Me.top||fe>Me.right||re>Me.bottom))){s=Be[0],W("dcg-tap",H,s);break}}}u!==y&&u!==p||(n=setTimeout(function(){n=null,c=new Date().getTime()},1e3)),m=[],u=0},X=function(){return n||new Date().getTime()-c<500},ee=function(H){for(var pe=[],fe=0;fe<H.length;fe++){var re=H[fe];pe.push({identifier:re.identifier,x:re.pageX,y:re.pageY,screenX:re.screenX,screenY:re.screenY,pageX:re.pageX,pageY:re.pageY,clientX:re.clientX,clientY:re.clientY})}return pe},W=function(H,pe,fe){if(H==="dcg-tapstart")f[pe.identifier]={type:H,pageX:pe.originalEvent.changedTouches[0].pageX,pageY:pe.originalEvent.changedTouches[0].pageY};else if(H==="dcg-tapmove"){var re=pe.originalEvent.changedTouches[0],se=f[pe.identifier];if(se&&re.pageX===se.pageX&&re.pageY===se.pageY||(u===y||u===p)&&se&&se.type==="dcg-tapstart"&&Math.abs(se.pageX-re.pageX)+Math.abs(se.pageY-re.pageY)<2)return;f[pe.identifier]={type:H,pageX:pe.originalEvent.changedTouches[0].pageX,pageY:pe.originalEvent.changedTouches[0].pageY}}b[H.toLowerCase()]===void 0?b[H.toLowerCase()]=1:b[H.toLowerCase()]++;var he=w.event.fix(pe.originalEvent);he.type=H,he.device=u===y||u===p?"touch":u===3?"keyboard":"mouse",he.touches=ee(pe.originalEvent.touches),he.changedTouches=ee(pe.originalEvent.changedTouches),he.target=fe||pe.target;var xe=he.device!=="keyboard"&&b["dcg-longhold"]>0;he.wasLongheld=function(){return xe},he.preventTap=function(){b["dcg-tapcancel"]=1},clearTimeout(v),he.type==="dcg-tapstart"&&he.device!=="keyboard"&&he.touches.length===1&&(v=setTimeout(function(){W("dcg-longhold",pe,fe)},500)),he.target&&w.nodeName(he.target,"a")&&he.type==="dcg-tap"&&he.device==="keyboard"&&he.target.click&&he.target.click(),w(he.target).trigger(he)},U=function(H){var pe=m,fe=!!m.length,re=w(".dcg-tap-container."+i+" .dcg-hovered"),se=w.makeArray(re.filter(function(){return x(this)})),he=[],xe=[],Me=[];C(M(H)).forEach(function(ke){fe&&pe.indexOf(ke)===-1||(se.indexOf(ke)===-1&&Me.push(ke),he.push(ke))});for(var Be=0;Be<se.length;Be++)H=se[Be],he.indexOf(H)===-1&&xe.push(H);w(xe).removeClass("dcg-hovered").trigger("tipsyhide"),w(Me).addClass("dcg-hovered").trigger("tipsyshow")},F=function(H){for(var pe=0;pe<A.length;pe++)if(A[pe].pointerId===H)return!0;return!1},G=function(H){for(var pe=0;pe<A.length;pe++)if(A[pe].pointerId===H)return A.splice(pe,1)[0]},ie=function(H){u===0&&D(p,H),U(null),A.push(H.originalEvent),H.originalEvent.identifier=H.originalEvent.pointerId,H.originalEvent.touches=A,H.originalEvent.changedTouches=[H.originalEvent],W("dcg-tapstart",H)},ne=function(H){G(H.originalEvent.pointerId),H.originalEvent.identifier=H.originalEvent.pointerId,H.originalEvent.touches=A,H.originalEvent.changedTouches=[H.originalEvent],W("dcg-tapcancel",H),A.length===0&&Z(H)},Y=function(H){G(H.originalEvent.pointerId),H.originalEvent.identifier=H.originalEvent.pointerId,H.originalEvent.touches=A,H.originalEvent.changedTouches=[H.originalEvent],W("dcg-tapend",H),A.length===0&&Z(H)},ge=function(H){return H.originalEvent.pointerType==="touch"||H.originalEvent.pointerType===2};w(document).on("pointerdown MSPointerDown",function(H){u!==2&&u!==y&&ge(H)&&(F(H.originalEvent.pointerId)||ie(H))}),w(document).on("pointermove MSPointerMove",function(H){u!==2&&u!==y&&ge(H)&&(F(H.originalEvent.pointerId)||ie(H),G(H.originalEvent.pointerId),A.push(H.originalEvent),H.originalEvent.identifier=H.originalEvent.pointerId,H.originalEvent.touches=A,H.originalEvent.changedTouches=[H.originalEvent],W("dcg-tapmove",H))}),w(document).on("pointercancel MSPointerCancel",function(H){if(u===p&&ge(H)&&F(H.originalEvent.pointerId)){ne(H);for(var pe;pe=A.pop();){var H=w.Event(pe,{originalEvent:pe});ne(H)}}}),w(document).on("pointerup MSPointerUp",function(H){if(u===p&&ge(H)&&F(H.originalEvent.pointerId)){Y(H);for(var pe;pe=A.pop();){var H=w.Event(pe,{originalEvent:pe});Y(H)}}});var te=function(){var H=!1;try{var pe=Object.defineProperty({},"passive",{get:function(){H=!0}});window.addEventListener("test",function(){},pe),window.removeEventListener("test",function(){},pe)}catch{}return H}();return o("touchstart",function(H){u!==2&&u!==p&&(u===0&&D(y,H),U(null),W("dcg-tapstart",H))}),o("touchmove",function(H){u===y&&W("dcg-tapmove",H)}),o("touchcancel",function(H){u===y&&(W("dcg-tapcancel",H),H.originalEvent.touches.length===0&&Z(H))}),o("touchend",function(H){u===y&&(W("dcg-tapend",H),H.originalEvent.touches.length===0&&Z(H))}),w(document).on("mousedown",function(H){if(H.button!==1&&H.button!==2){if(u===y||u===p||X())return void(!w(H.target).is("input, textarea, select")&&x(H.target)&&H.preventDefault());D(2,H),H.originalEvent.touches=[H],H.originalEvent.changedTouches=[H],W("dcg-tapstart",H)}}),w(document).ready(function(){w(document).on("mousedown",function(H){var pe=!!w(H.target).closest(".dcg-do-not-blur").length,fe=!!w(H.target).closest(".dcg-do-blur").length;if(pe&&!fe&&x(H.target)){H.preventDefault();try{var re=window.getSelection();if(re.rangeCount===1){var se=re.getRangeAt(0);se.startContainer===se.endContainer&&w(se.startContainer).closest(".dcg-text-selectable").length&&re.removeAllRanges()}}catch{}}})}),w(document).on("mouseleave",function(H){u===0&&(X()||U(null))}),w(document).on("mousemove",function(H){H.button!==1&&H.button!==2&&u!==y&&u!==p&&(X()||(U(H.target),H.originalEvent.touches=[H],H.originalEvent.changedTouches=[H],W("dcg-tapmove",H)))}),w(document).on("mouseup",function(H){H.button!==1&&H.button!==2&&u===2&&(H.originalEvent.touches=[],H.originalEvent.changedTouches=[H],W("dcg-tapend",H),Z(H))}),w(document).on("keydown",function(H){if((d.lookup(H)===d.ENTER||d.lookup(H)===d.SPACEBAR)&&x(H.target)&&u!==3){if(w(H.target).is('a:not([ontap]), button, input, textarea, select, [contenteditable="true"]'))return;H.preventDefault(),D(3,H),H.originalEvent.touches=[H],H.originalEvent.changedTouches=[H],W("dcg-tapstart",H)}}),w(document).on("keyup",function(H){d.lookup(H)!==d.ENTER&&d.lookup(H)!==d.SPACEBAR||!x(H.target)||u===3&&(H.originalEvent.touches=[],H.originalEvent.changedTouches=[H],W("dcg-tapend",H),Z(H))}),{monitor:l,ignore:g,isTapActive:function(){return u!==0},elIsFocusable:S}}),q("lib/conditional_blur",["require","exports","touchtracking","jquery"],function(O,o,w,r){function d(){if(document.activeElement){var i=r(document.activeElement);w.elIsFocusable(i)&&r(document.activeElement).blur()}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=d}),q("lib/state-stack",["require","exports"],function(O,o){Object.defineProperty(o,"__esModule",{value:!0});var w=function(){function r(d){d===void 0&&(d=100),this.clear(),this._sizeLimit=d}return r.prototype.clear=function(){this._stack=[],this._stackPointer=-1},r.prototype.getState=function(){return this._stack[this._stackPointer]},r.prototype.serializeForBugsnag=function(){function d(i){try{return JSON.stringify(i,null,2)}catch{return"[[could not jsonify]]"}}return{currentState:d(this._stack[this._stackPointer]),undoState:d(this._stack[this._stackPointer-1]),redoState:d(this._stack[this._stackPointer+1])}},r.prototype.addState=function(d){this.canRedo()&&this._stack.splice(this._stackPointer+1),this._stack.push(d),this._stack.length>this._sizeLimit&&this._stack.shift(),this._stackPointer=this._stack.length-1},r.prototype.replaceState=function(d){this.canRedo()&&this._stack.splice(this._stackPointer+1),this._stack.length===0?(this._stack.push(d),this._stackPointer=0):this._stack[this._stackPointer]=d},r.prototype.canUndo=function(){return this._stackPointer>0},r.prototype.canRedo=function(){return this._stackPointer<this._stack.length-1},r.prototype.undo=function(){this.canUndo()&&(this._stackPointer-=1)},r.prototype.redo=function(){this.canRedo()&&(this._stackPointer+=1)},r}();o.default=w}),q("graphing/viewport",["require","exports"],function(O,o){function w(d,i){return d*(1-1e-8)+1e-8*i>d&&i-d>1e-300&&i-d<1e300}Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function d(i,l,g,y){i===void 0&&(i=-10),l===void 0&&(l=10),g===void 0&&(g=-10),y===void 0&&(y=10),this.xmin=i,this.xmax=l,this.ymin=g,this.ymax=y}return d.fromObject=function(i){return new d(i.xmin,i.xmax,i.ymin,i.ymax)},d.prototype.toObject=function(){return{xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax}},d.prototype.equals=function(i){return this.xmin===i.xmin&&this.ymin===i.ymin&&this.xmax===i.xmax&&this.ymax===i.ymax},d.prototype.isXValid=function(){return w(this.xmin,this.xmax)},d.prototype.isYValid=function(){return w(this.ymin,this.ymax)},d.prototype.isValid=function(){return this.isXValid()&&this.isYValid()},d.prototype.isSquare=function(i){return Math.abs(i.height-i.width*this.aspectRatio())<1},d.prototype.aspectRatio=function(){return(this.ymax-this.ymin)/(this.xmax-this.xmin)},d.prototype.squareXAxis=function(i){var l=this.xmax-this.xmin,g=this.ymax-this.ymin,y=this.xmin+l/2,p=g/i.height*i.width;return new d(y-p/2,y+p/2,this.ymin,this.ymax)},d.prototype.squareYAxis=function(i){var l=this.xmax-this.xmin,g=this.ymax-this.ymin,y=this.ymin+g/2,p=l/i.width*i.height;return new d(this.xmin,this.xmax,y-p/2,y+p/2)},d.prototype.squareCrop=function(i){return this.aspectRatio()>i.height/i.width?this.squareYAxis(i):this.squareXAxis(i)},d.prototype.polarDiameter=function(){var i=Math.abs(this.xmax),l=Math.abs(this.xmin),g=Math.abs(this.ymax),y=Math.abs(this.ymin);return 1.5*Math.max(i,l,g,y)},d.prototype.largestR=function(){return Math.sqrt(Math.pow(Math.max(-this.xmin,this.xmax),2)+Math.pow(Math.max(-this.ymin,this.ymax),2))},d.prototype.smallestR=function(){return this.xmin<=0&&this.xmax>=0&&this.ymin<=0&&this.ymax>=0?0:this.xmin<=0&&this.xmax>=0?Math.min(Math.abs(this.ymin),Math.abs(this.ymax)):this.ymin<=0&&this.ymax>=0?Math.min(Math.abs(this.xmin),Math.abs(this.xmax)):Math.sqrt(Math.pow(Math.max(this.xmin,-this.xmax),2)+Math.pow(Math.max(this.ymin,-this.ymax),2))},d}();o.Viewport=r}),q("core/graphing-calc/migrations/0",["require"],function(O){function o(u){if(u.type){if(y.hasOwnProperty(u.type))return u.type;throw new Error("Invalid item type: '"+u.type+"'.")}return u.text!==void 0?"text":u.columns!==void 0||u.headings!==void 0?"table":"expression"}function w(u){return u.replace(/\\(total|length|mean|median|quantile|stdev|stddev|stdDev|stdevp|stddevp|stdDevP|var|variance|cov|corr|ceil|floor|round|abs|mod|lcm|mcm|mcd|nCr|nPr|signum|sign|arcsinh|arccosh|arctanh|arccsch|arcsech|arccoth|arccsc|arcsec|arccot)/g,"\\operatorname{$1}")}function r(u){var f={};for(var b in u)u.hasOwnProperty(b)&&(f[b]=b==="latex"?w(u[b]):b==="values"?u[b].map(w):u[b]);return f}function d(u){var f,b=o(u),m={};switch(b){case"expression":for(f in u)u.hasOwnProperty(f)&&(m[f]=f==="latex"?w(u[f]):u[f]);return m.type=b,m;case"table":for(f in u)u.hasOwnProperty(f)&&(m[f]=f==="columns"?u[f].map(r):u[f]);return m.type=b,m;case"image":for(f in u)u.hasOwnProperty(f)&&(m[f]=f==="width"||f==="height"||f==="x"||f==="y"?w(u[f]):u[f]);return m.type=b,m;case"text":case"folder":for(f in u)u.hasOwnProperty(f)&&(m[f]=u[f]);return m.type=b,m}}function i(u){var f={};for(var b in u)u.hasOwnProperty(b)&&b!=="xAxisArrows"&&b!=="yAxisArrows"&&(f[b]=u[b]);return f.xAxisArrowMode=p[u.xAxisArrows||"none"],f.yAxisArrowMode=p[u.yAxisArrows||"none"],f}function l(u){if(u.version)throw new Error("Unexpected version: "+u.version);var f={};return f.graph=i(u.graph),f.expressions={list:u.expressions.list.map(d)},f.version=0,f}var g={NONE:"NONE",POSITIVE:"POSITIVE",BOTH:"BOTH"},y={expression:!0,table:!0,image:!0,folder:!0,text:!0},p={none:g.NONE,both:g.BOTH,positive:g.POSITIVE};return l}),q("core/graphing-calc/migrations/1",["require"],function(O){function o(l){return l.replace(/\\(sech|csch)/g,"\\operatorname{$1}")}function w(l){var g={};for(var y in l)l.hasOwnProperty(y)&&(g[y]=y==="latex"?o(l[y]):y==="values"?l[y].map(o):l[y]);return g}function r(l){var g,y=l.type,p={};switch(y){case"expression":for(g in l)l.hasOwnProperty(g)&&(p[g]=g==="latex"?o(l[g]):l[g]);return p;case"table":for(g in l)l.hasOwnProperty(g)&&(p[g]=g==="columns"?l[g].map(w):l[g]);return p;case"image":for(g in l)l.hasOwnProperty(g)&&(p[g]=g==="width"||g==="height"||g==="x"||g==="y"?o(l[g]):l[g]);return p;case"text":case"folder":for(g in l)l.hasOwnProperty(g)&&(p[g]=l[g]);return p;default:throw new Error("Unexpected expression type: "+y)}}function d(l){if(l.version)throw new Error("Unexpected version: "+l.version);var g={};return g.graph=l.graph,g.expressions={list:l.expressions.list.map(r)},g.version=i,g}var i=1;return d}),q("core/graphing-calc/migrations/2",["require","core/lib/color-helpers"],function(O){function o(m){switch(m){case g:return l.RED;case y:return l.BLUE;case p:return l.GREEN;case u:return l.PURPLE;case f:return l.ORANGE;case b:return l.BLACK;default:return m}}function w(m){var c={};for(var n in m)m.hasOwnProperty(n)&&(c[n]=n==="color"?o(m[n]):m[n]);return c}function r(m){var c,n=m.type,s={};switch(n){case"expression":for(c in m)m.hasOwnProperty(c)&&(s[c]=c==="color"?o(m[c]):m[c]);return s;case"table":for(c in m)m.hasOwnProperty(c)&&(s[c]=c==="columns"?m[c].map(w):m[c]);return s;case"image":case"text":case"folder":for(c in m)m.hasOwnProperty(c)&&(s[c]=m[c]);return s;default:throw new Error("Unexpected expression type: "+n)}}function d(m){if(m.version>1)throw new Error("Unexpected version: "+m.version);var c={};return c.graph=m.graph,c.expressions={list:m.expressions.list.map(r)},c.version=i,c}var i=2,l=O("core/lib/color-helpers").colors,g="#C0504D",y="#4F81BD",p="#9BBB59",u="#8064A2",f="#F79646",b="#000000";return d}),q("core/graphing-calc/migrations/3",["require"],function(O){function o(i){if(typeof i=="string")return i;if(i===void 0)return"";var l=i+"";return l=l.replace(/1e\+?([-\d]+)/,"10^{$1}"),l=l.replace(/([-\d\.]+)e\+?([-\d]+)/,"$1\\cdot 10^{$2}")}function w(i){var l,g=i.type,y={};switch(g){case"expression":for(l in i)i.hasOwnProperty(l)&&(y[l]=l==="sliderMax"||l==="sliderMin"||l==="sliderInterval"?o(i[l]):l==="domain"?{max:o(i[l].max),min:o(i[l].min)}:i[l]);return y.hasOwnProperty("sliderMin")&&y.sliderInterval===void 0&&(y.sliderInterval=""),y;case"image":case"table":case"text":case"folder":for(l in i)i.hasOwnProperty(l)&&(y[l]=i[l]);return y;default:throw new Error("Unexpected expression type: "+g)}}function r(i){if(i.version>2)throw new Error("Unexpected version: "+i.version);var l={};return l.graph=i.graph,l.expressions={list:i.expressions.list.map(w)},l.version=d,l}var d=3;return r}),q("core/graphing-calc/migrations/4",["require"],function(O){function o(l){switch(l){case"point":return"POINT";case"cross":return"CROSS";case"open":return"OPEN";case"normal":return"SOLID";case"dashed":return"DASHED";case"dotted":return"DOTTED";default:return l}}function w(l){var g={};for(var y in l)l.hasOwnProperty(y)&&(g[y]=y==="style"?o(l[y]):l[y]);return g}function r(l){var g,y=l.type,p={};switch(y){case"expression":for(g in l)l.hasOwnProperty(g)&&(p[g]=g==="style"?o(l[g]):l[g]);return p;case"table":for(g in l)l.hasOwnProperty(g)&&(p[g]=g==="columns"?l[g].map(w):l[g]);return p;case"image":case"text":case"folder":for(g in l)l.hasOwnProperty(g)&&(p[g]=l[g]);return p;default:throw new Error("Unexpected expression type: "+y)}}function d(l){if(l.version!==3)throw new Error("Unexpected version: "+l.version);var g={};return g.graph=l.graph,g.expressions={list:l.expressions.list.map(r)},g.version=i,g}var i=4;return d}),q("core/graphing-calc/validate-state",["require","exports","core/lib/deepCopy"],function(O,o,w){function r(p){typeof p.min=="number"&&(p.min=""+p.min),typeof p.max=="number"&&(p.max=""+p.max),typeof p.step=="number"&&(p.step=""+p.step)}function d(p){p.slider&&r(p.slider),typeof p.id!="string"&&(p.id=""+p.id)}function i(p){for(var u,f,b=g(p)+1,m={},c=0,n=p;c<n.length;c++){var s=n[c];if(d(s),s.type==="folder")u=s.id,m[s.id]&&(s.id=""+b,b+=1),f=s.id,m[s.id]=!0,s.hasOwnProperty("folderId")&&delete s.folderId;else{if(u!==void 0&&s.folderId===u?s.folderId=f:(s.folderId&&(s.folderId=""),u=void 0,f=void 0),s.type==="table")for(var v=0,A=s.columns;v<A.length;v++){var M=A[v];m[M.id]&&(M.id=""+b,b+=1),m[M.id]=!0}m[s.id]&&(s.id=""+b,b+=1),m[s.id]=!0}}}function l(p,u){var f=parseFloat(u);return f!==Math.floor(f)?p:Math.max(p,f)}function g(p){for(var u=0,f=0,b=p;f<b.length;f++){var m=b[f];if(u=l(u,m.id),m.type==="table")for(var c=0,n=m.columns;c<n.length;c++){var s=n[c];l(u,s.id)}}return u}function y(p){var u=w.default(p);return i(u.expressions.list),u}Object.defineProperty(o,"__esModule",{value:!0}),o.validateState=y}),q("core/graphing-calc/migrations/back-migration",["require","exports","tslib"],function(O,o,w){function r(i){var l=i.slider;if(l){var g=w.__assign(w.__assign({},l),{loopMode:void 0});return l.loopMode==="PLAY_ONCE"||l.loopMode==="PLAY_INDEFINITELY"?g.newLoopMode=l.loopMode:g.loopMode=l.loopMode,g.loopMode||delete g.loopMode,g}}function d(i){if(i.version!==8)throw new Error("Unexpected version: "+i.version);var l=i.expressions.list.map(function(g){if(g.type==="image"){var y=w.__assign(w.__assign({},g),{stringOpacity:void 0,opacity:void 0});if(g.opacity!==void 0){var p=g.opacity===void 0?NaN:+g.opacity;y.stringOpacity=g.opacity,p>0&&p<1&&(y.opacity=p)}return y.opacity===void 0&&delete y.opacity,y.stringOpacity===void 0&&delete y.stringOpacity,y}if(g.type==="expression"){var y=w.__assign(w.__assign({},g),{stringFillOpacity:void 0,fillOpacity:void 0,slider:r(g)});return y.slider||delete y.slider,delete y.fillOpacity,g.fillOpacity===void 0?delete y.stringFillOpacity:y.stringFillOpacity=g.fillOpacity,y}return g});return{version:7,graph:i.graph,randomSeed:i.randomSeed,expressions:{list:l}}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=d}),q("core/graphing-calc/migrations/5",["require","exports"],function(O,o){function w(g){var y,p={};for(var u in g)if(g.hasOwnProperty(u))switch(y=g[u],u){case"showAxes":p.showXAxis=y,p.showYAxis=y;break;case"showLabels":p.xAxisNumbers=y,p.yAxisNumbers=y,p.polarNumbers=y;break;case"labelXMode":p.xAxisStep=y==="pi"?Math.PI:0;break;case"labelYMode":p.yAxisStep=y==="pi"?Math.PI:0;break;default:p[u]=y}return p}function r(g){var y={};for(var p in g)g.hasOwnProperty(p)&&p!=="showPoints"&&p!=="showLine"&&(y[p]=g[p]);return g.showPoints===void 0&&g.showLine===void 0||(g.showPoints&&g.showLine?y.columnMode="POINTS_AND_LINES":g.showPoints?y.columnMode="POINTS":g.showLine?y.columnMode="LINES":(y.hidden=!0,y.columnMode="POINTS")),y}function d(g){var y,p=g.type,u={};switch(p){case"expression":g.hidden===void 0?g.hasOwnProperty("graphed")?u.hidden=!g.graphed:g.hasOwnProperty("userRequestedGraphing")?u.hidden=g.userRequestedGraphing==="never":u.hidden=!1:u.hidden=g.hidden;for(y in g)g.hasOwnProperty(y)&&y!=="graphed"&&y!=="userRequestedGraphing"&&y!=="hidden"&&y!=="slider"&&(y!=="color"?y!=="style"?y!=="sliderInterval"?u[y]=g[y]:u.sliderInterval=g.sliderInterval==="undefined"?"":g.sliderInterval:u.style=g.style==="normal"?"SOLID":g.style:typeof g.color=="object"?u.color=g.color.value:u.color=g.color);return u;case"table":if(g.headings||g.columns){var f=g.headings?g.headings:g.columns;if(u.columns=f.map(r),g.rows)for(var b=0;b<u.columns.length;b++){var m=u.columns[b];m.values=[];for(var c=0;c<g.rows.length;c++)m.values.push(g.rows[c][b])}}for(y in g)g.hasOwnProperty(y)&&y!=="rows"&&y!=="headings"&&y!=="columns"&&(u[y]=g[y]);return u;case"image":case"text":case"folder":for(y in g)g.hasOwnProperty(y)&&(u[y]=g[y]);return u;default:throw new Error("Unexpected expression type: "+p)}}function i(g){if(g.version!==4)throw new Error("Unexpected version: "+g.version);return{version:l,graph:w(g.graph),expressions:{list:g.expressions.list.map(d)}}}Object.defineProperty(o,"__esModule",{value:!0});var l=5;o.migrateState=i}),q("core/graphing-calc/migrations/6",["require","exports","core/lib/deepCopy","underscore","core/math/sliders","core/math/evaluate-single-expression"],function(O,o,w,r,d,i){function l(s){return!(s.length<2)&&s[0]==="`"&&s[s.length-1]==="`"}function g(s){if(l(s))return{raw:s,parts:[s]};for(var v,A=["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\{[a-zA-Z0-9]+\\}"],M="({"+A.join("})|({")+"})",C=new RegExp(M,"g"),D=[],S=0,x=0;v=C.exec(s);){x=v.index,x>S&&D.push(s.substr(S,x-S));var B=v[0],Z=B.replace(/[{}\$]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");D.push({symbol:Z,str:B}),S=v.index+B.length}return S<s.length&&D.push(s.substr(S)),{raw:s,parts:D}}function y(s){var v={};for(var A in s)if(s.hasOwnProperty(A)&&A!=="style")if(A==="values"&&(v[A]=s[A].map(function(M){return M?""+M:""})),A!=="columnMode"||s.hasOwnProperty("points")||s.hasOwnProperty("lines"))v[A]=s[A];else switch(s[A]){case"LINES":v.points=!1,v.lines=!0;break;case"POINTS_AND_LINES":v.points=!0,v.lines=!0;break;default:v.points=!0,v.lines=!1}return v.hasOwnProperty("pointStyle")||(v.pointStyle="POINT"),v.hasOwnProperty("lineStyle")||(v.lineStyle="SOLID"),v.id=""+v.id,v}function p(s){var v=g(s),A="";return r.each(v.parts,function(M){A+=typeof M=="object"&&M.str?"$"+M.str:M}),A}function u(s,v){var A=s.latex.split("=");if(A.length===2){var M=i.default(A[1],v);if(isFinite(M)){var C=s.slider.hardMin?i.default(s.slider.min||"-10",v):void 0,D=s.slider.hardMax?i.default(s.slider.max||"10",v):void 0,S=s.slider.step?i.default(s.slider.step,v):void 0,x=d.determineWhichLimitsAreCompatibleWithValue({target:M,step:S,hardMin:C,hardMax:D});x.min||(delete s.slider.hardMin,delete s.slider.min),x.max||(delete s.slider.hardMax,delete s.slider.max),x.step||delete s.slider.step}}}function f(s,v,A,M){var C,D=s.type,S={};switch(D){case"folder":for(C in s)s.hasOwnProperty(C)&&(C==="memberIds"||(S[C]=s[C]));break;case"expression":for(C in s)if(s.hasOwnProperty(C))if(C!=="style"||s.hasOwnProperty("pointStyle")||s.hasOwnProperty("lineStyle"))n.hasOwnProperty(C)?(S.slider=S.slider||{},S.slider[n[C]]=s[C]):S[C]=s[C],s.label&&(S.label=p(s.label));else{var x=s[C];r.contains(["POINT","OPEN","CROSS"],x)?(S.pointStyle=x,S.lineStyle="SOLID"):r.contains(["SOLID","DASHED","DOTTED"],x)?(S.pointStyle="POINT",S.lineStyle=x):(S.pointStyle="POINT",S.lineStyle="SOLID")}S.latex&&S.slider&&!S.slider.isPlaying&&u(S,M),S.hasOwnProperty("fillOpacity")||(S.fillOpacity=.4),S.label===!1&&(S.label=""),S.labelSize||(S.labelSize="medium"),S.labelOrientation||(S.labelOrientation="default"),S.verticalLabel||(S.verticalLabel=!1),S.interactiveLabel||(S.interactiveLabel=!1);break;case"image":for(C in s)s.hasOwnProperty(C)&&C!=="x"&&C!=="y"&&(S[C]=s[C]);S.center="\\left("+(s.x||"0")+","+(s.y||"0")+"\\right)",S.angle=s.angle||"0",S.foreground=!!S.foreground;break;case"text":for(C in s)s.hasOwnProperty(C)&&(S[C]=s[C]);break;case"table":for(C in s)s.hasOwnProperty(C)&&(S[C]=C==="columns"?s[C].map(y):s[C]);break;default:throw new Error("Unexpected expression type: "+D)}if(S.id=""+S.id,s.type==="folder")v.folderId=S.id,v.memberIds=s.memberIds,S.folderId="";else{var B=A[S.id];v.memberIds&&v.memberIds[B]?S.folderId=v.folderId:(S.folderId="",v.folderId=void 0,v.memberIds=void 0)}return S}function b(s){for(var v=0,A=/^[0-9]+$/,M=s.length-1;M>=0;M--){var C,D=s[M],S=D.id;if(A.test(S)&&(C=parseInt(S,10))>v&&(v=C),D.type==="table"&&D.columns)for(var x=D.columns.length-1;x>=0;x--)S=D.columns[x].id,A.test(S)&&(C=parseInt(S,10))>v&&(v=C)}return v+1}function m(s){if(s.version!==5)throw new Error("Unexpected version: "+s.version);var v=!(!s.graph||!s.graph.degreeMode),A=s.expressions.list,M=-1,C={},D={},S={};return{version:c,graph:s.graph,expressions:{list:A.map(function(x){return C[x.id]?(M===-1&&(M=b(A)),D[M]=x.id,x=w.default(x),x.id=M+"",M+=1):D[x.id]=x.id,C[x.id]=!0,f(x,S,D,v)})}}}Object.defineProperty(o,"__esModule",{value:!0});var c=6,n={sliderMin:"min",sliderMax:"max",sliderInterval:"step",sliderHardMin:"hardMin",sliderHardMax:"hardMax",sliderAnimationPeriod:"animationPeriod",sliderLoopMode:"loopMode",sliderPlayDirection:"playDirection",sliderIsPlaying:"isPlaying"};o.migrateState=m}),q("core/graphing-calc/migrations/7",["require","exports","tslib"],function(O,o,w){function r(d){if(d.version!==6)throw new Error("Unexpected version: "+d.version);var i=d.expressions.list.map(function(l){if(l.type==="expression"&&l.domain){var g=w.__assign(w.__assign({},l),{parametricDomain:{min:l.domain.min,max:l.domain.max}});return delete g.domain,g}return l});return{version:7,randomSeed:d.randomSeed,graph:d.graph,expressions:{list:i}}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=r}),q("core/lib/random-seed",["require","exports","core/lib/md5"],function(O,o,w){function r(i){return i.length===1?"0"+i:i}function d(){var i=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(i);else{if(typeof msCrypto>"u")return w(Date.now().toString());msCrypto.getRandomValues(i)}return Array.prototype.slice.call(i).map(function(l){return r(l.toString(16))}).join("")}Object.defineProperty(o,"__esModule",{value:!0}),o.default=d}),q("core/graphing-calc/migrations/8",["require","exports","tslib","core/lib/random-seed","core/lib/deepCopy"],function(O,o,w,r,d){function i(u){var f=u.split("_");return f.length===2&&f[1]&&f[1].length===1?f[0]+"_{"+f[1]+"}":u}function l(u){var f=/\\operatorname(?:\{stdev\}p|\{stddev\}p|\{stdDev\}P|\{var\}iance)/g;return u.replace(f,function(b){switch(b){case"\\operatorname{stdev}p":return"\\operatorname{stdevp}";case"\\operatorname{stddev}p":return"\\operatorname{stddevp}";case"\\operatorname{stdDev}P":return"\\operatorname{stdDevP}";case"\\operatorname{var}iance":return"\\operatorname{variance}";default:return""}})}function g(u){return u.columns?w.__assign(w.__assign({},u),{columns:u.columns.map(y)}):u}function y(u){var f=u.latex,b=u.values,m=w.__assign({},u);return f&&(m.latex=l(f),m.latex=i(m.latex)),b&&(m.values=b.map(function(c){return c?l(c):""})),m}function p(u){if(u.version!==7)throw new Error("Unexpected version: "+u.version);var f=u.expressions.list.map(function(b){if(b.type==="image"){var m=w.__assign(w.__assign({},b),{opacity:""});b.hasOwnProperty("stringOpacity")?m.opacity=b.stringOpacity:b.hasOwnProperty("opacity")?m.opacity=b.opacity+"":delete m.opacity,delete m.stringOpacity;for(var c in b)if(c==="x"||c==="y"||c==="width"||c==="height"){var n=b[c];n&&(m[c]=l(n))}return m}if(b.type==="expression"){var m=w.__assign(w.__assign({},b),{fillOpacity:"",lineStyle:"SOLID"});if(b.lineStyle==="SINGLE_PIXEL"?m.lineWidth="1":b.hasOwnProperty("lineStyle")?m.lineStyle=b.lineStyle:delete m.lineStyle,m.hasOwnProperty("lineWidth")||(m.lineWidth=""),typeof b.latex=="string"&&(m.latex=l(b.latex)),b.latex&&(m.latex=l(b.latex)),b.hasOwnProperty("stringFillOpacity")?m.fillOpacity=b.stringFillOpacity:b.hasOwnProperty("fillOpacity")?m.fillOpacity=b.fillOpacity+"":delete m.fillOpacity,m.slider&&b.slider&&b.slider.newLoopMode&&(m.slider=d.default(m.slider),m.slider.loopMode=b.slider.newLoopMode,delete m.slider.newLoopMode),m.residualVariable&&(m.residualVariable=i(m.residualVariable)),m.regressionParameters){m.regressionParameters={};for(var s in b.regressionParameters){var v=i(s),A=b.regressionParameters[s];m.regressionParameters[v]=A}}return m}return b.type==="table"?g(b):b});return{version:8,randomSeed:u.randomSeed||r.default(),graph:u.graph,expressions:{list:f}}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=p}),q("core/graphing-calc/migrate-state",["require","exports","./migrations/0","./migrations/1","./migrations/2","./migrations/3","./migrations/4","core/graphing-calc/validate-state","./migrations/back-migration","./migrations/5","./migrations/6","./migrations/7","./migrations/8"],function(O,o,w,r,d,i,l,g,y,p,u,f,b){function m(s){if(s.version>o.currentVersion)return typeof console<"u"&&console.warn&&console.warn("Loading saved state with version "+s.version+" but last known version is "+o.currentVersion+". States saved in a newer version of the calculator may not load correctly in an older version of the calculator."),g.validateState(s);if(s.hasOwnProperty("version")&&!n[s.version])return typeof console<"u"&&console.warn&&console.warn("State has invalid version "+s.version+". If a version is present, it should be a non-negative integer less than or equal to "+o.currentVersion+"."),g.validateState(s);for(s.hasOwnProperty("version")||(s=n[0](s));s.version<o.currentVersion;)s=n[s.version+1](s);return g.validateState(s)}function c(s){return y.default(m(s))}Object.defineProperty(o,"__esModule",{value:!0});var n=[w,r,d,i,l,p.migrateState,u.migrateState,f.default,b.default];o.persistedVersion=7,o.currentVersion=8,o.migrateToLatest=m,o.migrateToPersisted=c}),q("graphing-calc/models/focus",["require","exports","./expression","./list"],function(O,o,w,r){function d(u,f,b){i(u,l(u,f,b))}function i(u,f){if(u.focusLocation=f,f&&f.type!=="settings"&&f.type!=="editable-label"&&f.type!=="add-item-btn"&&f.type!=="add-expression-btn"&&f.type!=="add-table-btn"&&f.type!=="add-folder-btn"&&f.type!=="add-image-btn"&&f.type!=="edit-list-toggle"){var b=u.getItemModel(f.id);if(f.type==="expression-menu")return void r.setSelected(u.getListModel(),void 0);r.setSelected(u.getListModel(),b),b&&b.type==="expression"&&w.setSliderIsPlaying(b,!1)}}function l(u,f,b){var m=u.getItemModel(f);if(m)switch(m.type){case"expression":return{type:u.isInEditListMode()?"readonly-expression":m.type,id:f};case"folder":case"text":return{type:m.type,id:f};case"table":var c={row:1,column:0},n=!1;return b&&(b.location==="cell"?c={row:b.row,column:b.column}:b==="end"?c={row:m.columnModels[0].cells.length,column:0}:b==="start"?c={row:0,column:0}:b==="container"&&(n=!0)),n?{type:"table-container",id:f}:{type:m.type,id:f,location:c};case"image":return{type:m.type,id:f,location:"name"};default:return m}}function g(u){var f=u.getSelectedItem();if(f&&f.type==="expression")return void d(u,f.id);if(!f||f.type!=="table"||!u.focusLocation){for(var b=u.getFirstFullyVisibleItem(),m=u.getListModel();b&&b.type!=="expression";)b=r.findNextSelectableItem(m,b.index);if(b)return void d(u,b.id);var c=u.createItemModel({type:"expression",id:u.generateId(),color:u.getNextColor()});r.insertItemAtEnd(u.getListModel(),c),d(u,c.id)}}function y(u){var f=u.focusLocation;if(f&&f.type!=="settings"&&f.type!=="editable-label"&&f.type!=="add-item-btn"&&f.type!=="add-expression-btn"&&f.type!=="add-table-btn"&&f.type!=="add-folder-btn"&&f.type!=="add-image-btn"&&f.type!=="edit-list-toggle")return u.getItemModel(f.id)}function p(u,f,b){i(u,{type:"table",id:f,location:b})}Object.defineProperty(o,"__esModule",{value:!0}),o.moveFocusToItem=d,o.setFocusLocation=i,o.computeFocusLocationForItem=l,o.addFocusForKeypad=g,o.getFocusedItem=y,o.focusTableCell=p}),q("graphing-calc/actions/keyboard",["require","exports","browser","lib/conditional_blur","../models/table","../models/focus","../models/list","../models/abstract-item"],function(O,o,w,r,d,i,l,g){function y(s,v,A){var M=s.getItemModel(v);if(M&&M.type==="table"){var C=M,D=d.getSelectedCell(C),S=D?D.row:-1,x=D?D.column:-1,B=C.columnModels,Z=B[0].cells.length,X=B.length,ee=function(ie,ne){ie===-1?p(s):ie>Z?u(s):(ne===-1?(ne=X-1,ie--):ne===X&&(ie++,ne=0),i.focusTableCell(s,v,{row:ie,column:ne}))},W=function(ie){Z>2&&d.removeRow(C,S-1),i.focusTableCell(s,v,{row:ie,column:x})},U=function(ie){x===0||X<=2||(d.removeColumn(C,x),i.focusTableCell(s,v,{row:S,column:ie}))};switch(A){case"Left":ee(S,x-1);break;case"Right":ee(S,x+1);break;case"Up":ee(S-1,x);break;case"Down":ee(S+1,x);break;case"Enter":if(S>=Z)return m(s);if(x>0)return ee(S+1,x);if(S===Z-1){var F=d.getRowAutoFillValues(C,S);d.insertBlankRow(C,S);for(var G=0;G<F.length;G++)d.setCellLatex(C,{row:S+1,column:G},F[G]);return void i.focusTableCell(s,v,{row:S+1,column:x})}d.insertBlankRow(C,S),i.focusTableCell(s,v,{row:S+1,column:x});break;case"Backspace":S===0?x===0?f(s):x===X-1||x===1&&X===3?ee(0,x-1):U(x-1):x!==0?ee(S,x-1):S===Z?ee(S-1,x):W(S-1);break;case"Delete":S===0?x===0?b(s):x<X-1&&U(x):S>=Z||W(S)}}}function p(s){var v=s.getSelectedItem();v&&(s.inAudioTraceMode()||v.index!==0&&(l.selectPrevItem(s.getListModel()),(v=s.getSelectedItem())&&i.moveFocusToItem(s,v.id,"end")))}function u(s){if(!s.inAudioTraceMode()){if(!l.selectNextItem(s.getListModel())&&!s.isInEditListMode()){var v=s.createItemModel({type:"expression",id:s.generateId(),color:s.getNextColor()});l.insertItemAtEnd(s.getListModel(),v),l.setSelected(s.getListModel(),v)}var A=s.getSelectedItem();A&&i.moveFocusToItem(s,A.id,"start")}}function f(s){if(!s.isInEditListMode()){var v=s.getSelectedItem();if(v&&(s.getItemCount()!==1||v.type!=="expression")){var A=v.type==="text",M=l.getParentFolderModel(v);if(M){var C=s.getNumberOfItemsInFolder(M.id);if(v.index===M.index+C)return void g.setFolderId(v,"")}if(c(s),A&&w.IS_IPAD&&w.IS_IN_IFRAME)return void l.setSelected(s.getListModel(),void 0);v=s.getSelectedItem(),v&&i.moveFocusToItem(s,v.id,"end")}}}function b(s){if(!s.isInEditListMode()){var v=s.getSelectedItem();v&&(s.getItemCount()===1&&v.type==="expression"||(n(s),(v=s.getSelectedItem())&&i.moveFocusToItem(s,v.id,"start")))}}function m(s){if(!s.isInEditListMode()){var v=s.getSelectedItem();if(v){if(v.type==="text"&&w.IS_IPAD&&w.IS_IN_IFRAME)return r.default(),void l.setSelected(s.getListModel(),void 0);if((v.type==="expression"||v.type==="image")&&v.missingVariables.length&&s.areSlidersEnabled())return s.createSlidersForItem(v.id,v.missingVariables.concat(""));var A=s.createItemModel({type:"expression",id:s.generateId(),color:s.getNextColor()}),M=v.index+1;v.type==="folder"&&v.collapsed&&(M+=s.getNumberOfItemsInFolder(v.id)),l.insertItemAtIndex(s.getListModel(),A,M),l.setSelected(s.getListModel(),A),v.type!=="folder"||v.collapsed?v.type!=="folder"&&v.folderId&&g.setFolderId(A,v.folderId):g.setFolderId(A,v.id),v=s.getSelectedItem(),v&&i.moveFocusToItem(s,v.id)}}}function c(s){var v=s.getSelectedItem(),A=s.getListModel();if(v){var M=l.findPrevSelectableItem(A,v.index);if(s._removeExpressionSynchronously(v),!M){var C=l.getFirstSelectableItem(A);C&&(M=C)}l.setSelected(A,M)}}function n(s){var v=s.getSelectedItem(),A=s.getListModel();if(v){var M=l.findNextSelectableItem(A,v.index);if(s._removeExpressionSynchronously(v),!M){var C=l.getLastSelectableItem(A);C&&(M=C)}l.setSelected(A,M)}}Object.defineProperty(o,"__esModule",{value:!0}),o.navigateTableByKey=y,o.onUpPressed=p,o.onDownPressed=u,o.onBackspacePressed=f,o.onDeletePressed=b,o.onEnterPressed=m,o.upwardDeleteSelectedExpression=c,o.downwardDeleteSelectedExpression=n}),q("main/expression-zoom-helpers",["require","exports","core/lib/deepCopy"],function(O,o,w){function r(f){switch(f){case"histogram":case"dotplot":return 12;case"boxplot":return 40}return 1/0}function d(f){return f==="boxplot"||f==="dotplot"||f=="histogram"}function i(f){return f==="boxplot"?3:.5}function l(f,b){if(f.type==="dotplot"||f.type==="histogram"){var m=Math.max(1,f.xmax-f.xmin),c=80*m/(f.binWidth?f.binWidth:1),n=.5*(b.screen.width-c)/c;return Math.max(.2,n)}return .5}function g(f){return f=w.default(f),f.xmax<0&&f.xmin<0&&f.xmax/(f.xmin-f.xmax)<1.2&&(f.xmax=0),f.xmax>0&&f.xmin>0&&f.xmin/(f.xmax-f.xmin)<1.2&&(f.xmin=0),f.ymax<0&&f.ymin<0&&f.ymax/(f.ymin-f.ymax)<1.2&&(f.ymax=0),f.ymax>0&&f.ymin>0&&f.ymin/(f.ymax-f.ymin)<1.2&&(f.ymin=0),f}function y(f,b){var m,c,n,s,v=f.type,A=l(f,b),M=i(v);f.xmin===f.xmax&&(f.xmin-=.5,f.xmax+=.5),f.ymin===f.ymax&&(f.ymin-=.5,f.ymax+=.5);var C=f.xmax-f.xmin;m=f.xmin-A*C,c=f.xmax+A*C;var D=f.ymax-f.ymin;if(n=f.ymin-M*D,s=f.ymax+M*D,d(v)){var S=b.screen.height/b.screen.width,x=(c-m)*S;if(x>f.ymax-f.ymin&&x<r(v)*(f.ymax-f.ymin)){var B=.5*(f.ymax+f.ymin);s=B+.5*x,n=B-.5*x}}return{xmin:m,xmax:c,ymin:n,ymax:s}}function p(f,b){var m=u(f,b);if(!m)return!1;var c=b.mapx(m.xmin),n=b.mapx(m.xmax),s=b.mapy(m.ymin),v=b.mapy(m.ymax);return!(Math.abs(c)<=10&&Math.abs(v)<=10&&Math.abs(n-b.screen.width)<=10&&Math.abs(s-b.screen.height)<=10)}function u(f,b){for(var m=1/0,c=-1/0,n=1/0,s=-1/0,v=0,A=f.length,M=0;M<A;M++){var C=g(f[M]);if(isFinite(C.xmax-C.xmin)&&isFinite(C.ymax-C.ymin)){var D=y(C,b);D.xmin<m&&(m=D.xmin),D.xmax>c&&(c=D.xmax),D.ymin<n&&(n=D.ymin),D.ymax>s&&(s=D.ymax)}else v+=1}if(v!==A)return{xmin:m,xmax:c,ymin:n,ymax:s}}Object.defineProperty(o,"__esModule",{value:!0}),o.conditionalExpandViewport=g,o.padViewport=y,o.shouldExpressionZoomFit=p,o.getRecommendedViewportForExpression=u}),q("main/layout-model",["require","exports","browser"],function(O,o,w){function r(i){switch(i){case"letters":return"capitalLetters";case"noQwertyLetters":return"noQwertyCapitalLetters";case"noQwertyCapitalLetters":return"noQwertyLetters";default:return"letters"}}function d(i){return{keypadMinimized:!w.IS_TOUCH_DEVICE,keypadLayout:"mainNumbers",keypadFunctionsTab:"trig",keypadFunctionsOpen:!1,graphSettingsOpen:!1,addExpressionOpen:!1,expressionsVisible:!!i.expressions,inEditListMode:!1,isFileDraggedOver:!1,expressionsHiddenTime:void 0}}Object.defineProperty(o,"__esModule",{value:!0}),o.getShiftedLayoutForCurrentLayout=r,o.defaultLayoutModel=d}),q("main/settings-view-model",["require","exports","tslib","core/lib/label"],function(O,o,w,r){function d(p,u){var f=r.value(p,u),b="";if(f.mantissa)b=f.mantissa.split("\xD7").join("\\cdot")+"^{"+f.superscript+"}";else{var m=f.string.split("/");b=m.length===2?m[0][0]==="-"?"-\\frac{"+m[0].slice(1)+"}{"+m[1]+"}":"\\frac{"+m[0]+"}{"+m[1]+"}":f.string}return b=b.replace(//,"\\pi")}function i(p){return{xmin:d(p.xmin,p.xmax-p.xmin),xmax:d(p.xmax,p.xmax-p.xmin),ymin:d(p.ymin,p.ymax-p.ymin),ymax:d(p.ymax,p.ymax-p.ymin)}}function l(p,u){return p===0?"":d(p,u)}function g(p,u,f){var b=i(p);return w.__assign(w.__assign({},b),{xstep:l(u,p.xmax-p.xmin),ystep:l(f,p.ymax-p.ymin)})}function y(){return{limitLatex:{xmin:"",xmax:"",xstep:"",ymin:"",ymax:"",ystep:""}}}Object.defineProperty(o,"__esModule",{value:!0}),o.formatLatex=d,o.formatViewport=i,o.formatStep=l,o.limitLatex=g,o.defaultSettingsViewModel=y}),function(O,o){if(typeof q=="function"&&q.amd)q("abraham",[],o);else{var w=o();for(var r in w)O[r]=w[r]}}(this,function(){return function(O){function o(r){if(w[r])return w[r].exports;var d=w[r]={i:r,l:!1,exports:{}};return O[r].call(d.exports,d,d.exports,o),d.l=!0,d.exports}var w={};return o.m=O,o.c=w,o.i=function(r){return r},o.d=function(r,d,i){o.o(r,d)||Object.defineProperty(r,d,{configurable:!1,enumerable:!0,get:i})},o.n=function(r){var d=r&&r.__esModule?function(){return r.default}:function(){return r};return o.d(d,"a",d),d},o.o=function(r,d){return Object.prototype.hasOwnProperty.call(r,d)},o.p="",o(o.s=26)}([function(O,o,w){function r(i,l){var g=d.map(i,l);return i.warnings&&(g.warnings=i.warnings),g}Object.defineProperty(o,"__esModule",{value:!0});var d=w(22);o.map=r},function(O,o){function w(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function d(v){if(u===setTimeout)return setTimeout(v,0);if((u===w||!u)&&setTimeout)return u=setTimeout,setTimeout(v,0);try{return u(v,0)}catch{try{return u.call(null,v,0)}catch{return u.call(this,v,0)}}}function i(v){if(f===clearTimeout)return clearTimeout(v);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(v);try{return f(v)}catch{try{return f.call(null,v)}catch{return f.call(this,v)}}}function l(){n&&m&&(n=!1,m.length?c=m.concat(c):s=-1,c.length&&g())}function g(){if(!n){var v=d(l);n=!0;for(var A=c.length;A;){for(m=c,c=[];++s<A;)m&&m[s].run();s=-1,A=c.length}m=null,n=!1,i(v)}}function y(v,A){this.fun=v,this.array=A}function p(){}var u,f,b=O.exports={};(function(){try{u=typeof setTimeout=="function"?setTimeout:w}catch{u=w}try{f=typeof clearTimeout=="function"?clearTimeout:r}catch{f=r}})();var m,c=[],n=!1,s=-1;b.nextTick=function(v){var A=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)A[M-1]=arguments[M];c.push(new y(v,A)),c.length!==1||n||d(g)},y.prototype.run=function(){this.fun.apply(null,this.array)},b.title="browser",b.browser=!0,b.env={},b.argv=[],b.version="",b.versions={},b.on=p,b.addListener=p,b.once=p,b.off=p,b.removeListener=p,b.removeAllListeners=p,b.emit=p,b.prependListener=p,b.prependOnceListener=p,b.listeners=function(v){return[]},b.binding=function(v){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(v){throw new Error("process.chdir is not supported")},b.umask=function(){return 0}},function(O,o,w){function r(m){for(var c=!1,n=0,s="",v="",A=0,M=m;A<M.length;A++){var C=M[A];if(C.type!=="terminal"||!/[A-Za-z]/.test(C.value))break;s+=C.value,n++}return v=s.replace(p,"\\operatorname{$1}"),c=n>0&&v!==s,{modified:c,terminalCount:n,value:v}}function d(m){return f.indexOf(m.toLowerCase())!==-1}function i(m){if(!Array.isArray(m))throw new Error("Operator names must be an array, got "+typeof m);for(var c=0,n=m;c<n.length;c++){var s=n[c];if(typeof s!="string")throw new Error("Operator names must be strings, found "+typeof s)}f=m,g()}function l(){f=u,p=b}function g(){p=y(f)}function y(m){var c=m.sort(function(n,s){return s.length-n.length||s.localeCompare(n)}).join("|");return new RegExp("("+c+")","g")}Object.defineProperty(o,"__esModule",{value:!0});var p,u=["abs","ans","arccosh","arccot","arccoth","arccsc","arccsch","arcsec","arcsech","arcsinh","arctanh","binomialdist","boxplot","cdf","ceil","corr","cov","csch","distance","dotplot","erf","floor","gcf","histogram","IndependentTTest","iTTest","ittest","lcm","length","mad","mcd","mcm","mean","median","midpoint","mod","nCr","normaldist","nPr","pdf","poissondist","polygon","quantile","quartile","random","round","sech","sign","signum","stdDev","stddev","stdDevP","stddevp","stdev","stdevp","tdist","total","TScore","TScore","Tscore","tscore","tscore","TTest","ttest","var","variance","varp"],f=u,b=y(u);o.getAutoOperator=r,o.containsValue=d,o.setOperatorNames=i,o.resetOperatorNames=l},function(O,o,w){function r(n){if(!c.isSixDotCells(n))throw new Error("EncodingError: Expected input to be six-dot unicode braille characters.")}function d(n,s){return r(n),f.default(o.UnicodeBraille.toBrailleAscii(n),s)}function i(n,s){return s&&s.operatorNames?y.setOperatorNames(s.operatorNames):y.resetOperatorNames(),b.map(p.default(n),o.UnicodeBraille.coerceToSixDotCells)}function l(n,s){return r(n),m.default(o.UnicodeBraille.toBrailleAscii(n),s)}function g(n,s){return s&&s.operatorNames?y.setOperatorNames(s.operatorNames):y.resetOperatorNames(),b.map(u.default(n),o.UnicodeBraille.coerceToSixDotCells)}Object.defineProperty(o,"__esModule",{value:!0});var y=w(2),p=w(14),u=w(15),f=w(16),b=w(0),m=w(23),c=w(25);o.nemethToLatex=d,o.latexToNemeth=i,o.uebToLatex=l,o.latexToUeb=g,o.UnicodeBraille={coerceToSixDotCells:c.coerceToSixDotCells,toBrailleAscii:c.toBrailleAscii,toExpandedBrailleAscii:c.toExpandedBrailleAscii},o.version="1.0.3"},function(O,o){},function(O,o,w){(function(r){function d(p,u){for(var f=0,b=p.length-1;b>=0;b--){var m=p[b];m==="."?p.splice(b,1):m===".."?(p.splice(b,1),f++):f&&(p.splice(b,1),f--)}if(u)for(;f--;f)p.unshift("..");return p}function i(p,u){if(p.filter)return p.filter(u);for(var f=[],b=0;b<p.length;b++)u(p[b],b,p)&&f.push(p[b]);return f}var l=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,g=function(p){return l.exec(p).slice(1)};o.resolve=function(){for(var p="",u=!1,f=arguments.length-1;f>=-1&&!u;f--){var b=f>=0?arguments[f]:r.cwd();if(typeof b!="string")throw new TypeError("Arguments to path.resolve must be strings");b&&(p=b+"/"+p,u=b.charAt(0)==="/")}return p=d(i(p.split("/"),function(m){return!!m}),!u).join("/"),(u?"/":"")+p||"."},o.normalize=function(p){var u=o.isAbsolute(p),f=y(p,-1)==="/";return p=d(i(p.split("/"),function(b){return!!b}),!u).join("/"),p||u||(p="."),p&&f&&(p+="/"),(u?"/":"")+p},o.isAbsolute=function(p){return p.charAt(0)==="/"},o.join=function(){var p=Array.prototype.slice.call(arguments,0);return o.normalize(i(p,function(u,f){if(typeof u!="string")throw new TypeError("Arguments to path.join must be strings");return u}).join("/"))},o.relative=function(p,u){function f(A){for(var M=0;M<A.length&&A[M]==="";M++);for(var C=A.length-1;C>=0&&A[C]==="";C--);return M>C?[]:A.slice(M,C-M+1)}p=o.resolve(p).substr(1),u=o.resolve(u).substr(1);for(var b=f(p.split("/")),m=f(u.split("/")),c=Math.min(b.length,m.length),n=c,s=0;s<c;s++)if(b[s]!==m[s]){n=s;break}for(var v=[],s=n;s<b.length;s++)v.push("..");return v=v.concat(m.slice(n)),v.join("/")},o.sep="/",o.delimiter=":",o.dirname=function(p){var u=g(p),f=u[0],b=u[1];return f||b?(b&&(b=b.substr(0,b.length-1)),f+b):"."},o.basename=function(p,u){var f=g(p)[2];return u&&f.substr(-1*u.length)===u&&(f=f.substr(0,f.length-u.length)),f},o.extname=function(p){return g(p)[3]};var y="ab".substr(-1)==="b"?function(p,u,f){return p.substr(u,f)}:function(p,u,f){return u<0&&(u=p.length+u),p.substr(u,f)}}).call(o,w(1))},function(O,o,w){function r(d){if(!d.hash)throw d;return{_diagnostic:{expected:d.hash.expected,message:d.message,text:d.hash.text,token:d.hash.token},location:d.hash.loc}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=r},function(O,o,w){function r(b){return{type:"terminal",value:b}}function d(b){return{type:"command",value:b}}function i(b){return{type:"greek",value:b}}function l(b){return{subscript:b._,superscript:b["^"],type:"level"}}function g(b,m){var c=[],n=b.match(/'+/);if(n!==null)for(var s=n[0].length,v=0;v<s;v++)c.push(d("\\prime"));return f(c,m)}function y(b,m){return{type:"fraction",numerator:b,denominator:m}}function p(b,m){return{name:b,type:"typeform",value:m}}function u(b,m){return{type:"radical",index:m,radicand:b}}function f(){for(var b=[],m=0;m<arguments.length;m++)b[m]=arguments[m];return Array.prototype.concat.apply([],b)}Object.defineProperty(o,"__esModule",{value:!0}),o.terminal=r,o.command=d,o.greek=i,o.level=l,o.processPrimes=g,o.fraction=y,o.typeform=p,o.radical=u,o.group=f},function(O,o){O.exports=function(w){return w.webpackPolyfill||(w.deprecate=function(){},w.paths=[],w.children||(w.children=[]),Object.defineProperty(w,"loaded",{enumerable:!0,get:function(){return w.l}}),Object.defineProperty(w,"id",{enumerable:!0,get:function(){return w.i}}),w.webpackPolyfill=1),w}},function(O,o,w){(function(r,d){var i=function(){function l(){this.yy={}}var g=function(Ie,Ne,z,Pe){for(z=z||{},Pe=Ie.length;Pe--;z[Ie[Pe]]=Ne);return z},y=[1,11],p=[1,12],u=[1,13],f=[1,69],b=[1,70],m=[1,68],c=[1,38],n=[1,39],s=[1,58],v=[1,59],A=[1,60],M=[1,61],C=[1,62],D=[1,63],S=[1,64],x=[1,65],B=[1,66],Z=[1,67],X=[1,40],ee=[1,34],W=[1,35],U=[1,36],F=[1,37],G=[1,41],ie=[1,42],ne=[1,43],Y=[1,44],ge=[1,45],te=[1,46],H=[1,47],pe=[1,48],fe=[1,49],re=[1,50],se=[1,51],he=[1,52],xe=[1,17],Me=[1,53],Be=[1,54],ke=[1,55],Re=[1,56],Ve=[1,57],ye=[5,12,13,14,18,24,25],P=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,81],ue=[1,74],Ae=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,76,77,78,79,81],_e=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81],qe={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,element:6,index_element:7,modified_expression:8,radical:9,primes:10,OPEN_MODEXP:11,MODEXP_UNDER:12,MODEXP_OVER:13,CLOSE_MODEXP:14,RADICAL_INDEX:15,index_group:16,OPEN_RADICAL:17,CLOSE_RADICAL:18,level:19,LEVEL:20,BASELINE:21,frac:22,OPEN_FRAC:23,SLASH:24,CLOSE_FRAC:25,subscript_head:26,number:27,atom:28,command:29,greek:30,letter:31,comma:32,period:33,space:34,operation:35,comparison:36,level_with_comparison:37,ellipsis:38,colon:39,infinity:40,integral:41,factorial:42,ampersand:43,question_mark:44,bracket:45,",":46,".":47,"[":48,"{":49,"(":50,"]":51,"}":52,")":53,LANGLE:54,RANGLE:55,PIPE:56,DOUBLE_PIPE:57,SPACE:58,COMMAND:59,GREEK:60,LETTER:61,CAPITAL_LETTER:62,"+":63,"-":64,CDOT:65,TIMES:66,"*":67,"/":68,DIV:69,PERCENT:70,COMPARISON:71,LEVEL_WITH_COMPARISON:72,ELLIPSIS:73,COLON:74,NUMBER:75,INFINITY:76,INTEGRAL:77,FACTORIAL:78,"&":79,PRIMES:80,"?":81,unknown:82,UNKNOWN:83,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",11:"OPEN_MODEXP",12:"MODEXP_UNDER",13:"MODEXP_OVER",14:"CLOSE_MODEXP",15:"RADICAL_INDEX",17:"OPEN_RADICAL",18:"CLOSE_RADICAL",20:"LEVEL",21:"BASELINE",23:"OPEN_FRAC",24:"SLASH",25:"CLOSE_FRAC",46:",",47:".",48:"[",49:"{",50:"(",51:"]",52:"}",53:")",54:"LANGLE",55:"RANGLE",56:"PIPE",57:"DOUBLE_PIPE",58:"SPACE",59:"COMMAND",60:"GREEK",61:"LETTER",62:"CAPITAL_LETTER",63:"+",64:"-",65:"CDOT",66:"TIMES",67:"*",68:"/",69:"DIV",70:"PERCENT",71:"COMPARISON",72:"LEVEL_WITH_COMPARISON",73:"ELLIPSIS",74:"COLON",75:"NUMBER",76:"INFINITY",77:"INTEGRAL",78:"FACTORIAL",79:"&",80:"PRIMES",81:"?",83:"UNKNOWN"},productions_:[0,[3,2],[3,1],[4,2],[4,1],[6,1],[6,1],[6,2],[6,1],[8,7],[8,6],[8,5],[8,6],[8,5],[8,5],[8,4],[8,4],[8,3],[8,4],[8,4],[8,4],[8,4],[8,3],[8,3],[8,2],[9,5],[9,4],[9,4],[9,3],[9,3],[9,2],[19,1],[19,1],[22,5],[22,4],[22,4],[22,3],[16,2],[16,1],[7,3],[7,2],[7,2],[7,3],[7,2],[7,2],[7,1],[7,1],[7,1],[26,1],[26,1],[26,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[32,1],[33,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[34,1],[29,1],[30,1],[31,1],[31,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[36,1],[37,1],[38,1],[39,1],[27,1],[40,1],[41,1],[42,1],[43,1],[10,1],[44,1],[82,1]],performAction:function(Ie,Ne,z,Pe,ot,rt,kt){var ve=rt.length-1;switch(ot){case 1:return rt[ve-1];case 2:return Pe.group();case 3:case 37:case 41:case 43:case 44:this.$=Pe.group(rt[ve-1],rt[ve]);break;case 4:case 38:this.$=Pe.group(rt[ve]);break;case 7:this.$=Pe.group(rt[ve-1],rt[ve]);break;case 9:this.$=Pe.modified_expression(rt[ve-5],rt[ve-3],rt[ve-1]);break;case 10:this.$=Pe.modified_expression(rt[ve-4],rt[ve-2]);break;case 11:this.$=Pe.modified_expression(rt[ve-3],rt[ve-1]);break;case 12:this.$=Pe.modified_expression(rt[ve-4],Pe.group(),rt[ve-1]);break;case 13:this.$=Pe.modified_expression(rt[ve-3],Pe.group(),rt[ve-1]);break;case 14:this.$=Pe.modified_expression(rt[ve-3],Pe.group(),Pe.group());break;case 15:case 16:this.$=Pe.modified_expression(rt[ve-2],Pe.group());break;case 17:this.$=Pe.modified_expression(rt[ve-1]);break;case 18:case 19:case 22:case 23:case 24:this.$=Pe.modified_expression(Pe.group());break;case 20:case 21:Pe.warnOrError("Multi-level modified expressions are not supported."),this.$=Pe.modified_expression(Pe.group());break;case 25:this.$=Pe.radical(rt[ve-1],rt[ve-3]);break;case 26:this.$=Pe.radical(rt[ve-1],Pe.group());break;case 27:this.$=Pe.radical(Pe.group(),rt[ve-2]);break;case 28:this.$=Pe.radical(Pe.group(),Pe.group());break;case 29:this.$=Pe.radical(rt[ve-1]);break;case 30:this.$=Pe.radical(Pe.group());break;case 31:this.$=Pe.level(rt[ve]);break;case 32:this.$=Pe.baseline();break;case 33:this.$=Pe.fraction(rt[ve-3],rt[ve-1]);break;case 34:this.$=Pe.fraction(rt[ve-2],Pe.group());break;case 35:this.$=Pe.fraction(Pe.group(),rt[ve-1]);break;case 36:this.$=Pe.fraction(Pe.group(),Pe.group());break;case 39:this.$=Pe.group(Pe.simple_subscript(rt[ve-2],rt[ve]),rt[ve-1]);break;case 40:this.$=Pe.simple_subscript(rt[ve-1],rt[ve]);break;case 42:Pe.warnOrError("Illegal use of Nemeth primes"),this.$=Pe.group(Pe.simple_subscript(rt[ve-2],rt[ve-1]),rt[ve]);break;case 67:this.$=Pe.terminal(",");break;case 68:this.$=Pe.terminal(".");break;case 69:this.$=Pe.terminal("[");break;case 70:this.$=Pe.terminal("\\{");break;case 71:this.$=Pe.terminal("(");break;case 72:this.$=Pe.terminal("]");break;case 73:this.$=Pe.terminal("\\}");break;case 74:this.$=Pe.terminal(")");break;case 75:this.$=Pe.terminal("\\langle ");break;case 76:this.$=Pe.terminal("\\rangle ");break;case 77:this.$=Pe.terminal("|");break;case 78:this.$=Pe.terminal("\\|");break;case 79:this.$=Pe.terminal(" ");break;case 80:this.$=Pe.command(rt[ve].toLowerCase());break;case 81:this.$=Pe.terminal(Pe.greek(rt[ve]));break;case 82:this.$=Pe.terminal(rt[ve].toLowerCase());break;case 83:this.$=Pe.terminal(rt[ve].toUpperCase());break;case 84:this.$=Pe.terminal("+");break;case 85:this.$=Pe.terminal("-");break;case 86:this.$=Pe.terminal("\\cdot ");break;case 87:this.$=Pe.terminal("\\times ");break;case 88:this.$=Pe.terminal("*");break;case 89:this.$=Pe.terminal("/");break;case 90:this.$=Pe.terminal("\\div ");break;case 91:this.$=Pe.terminal("\\%");break;case 92:this.$=Pe.comparison(rt[ve].trim());break;case 93:this.$=Pe.level_with_comparison(rt[ve].trim());break;case 94:this.$=Pe.terminal("\\ldots ");break;case 95:this.$=Pe.terminal(":");break;case 96:this.$=Pe.terminal(rt[ve]);break;case 97:this.$=Pe.terminal("\\infty ");break;case 98:this.$=Pe.terminal("\\int ");break;case 99:this.$=Pe.terminal("!");break;case 100:this.$=Pe.terminal("\\&");break;case 101:this.$=Pe.primes(rt[ve]);break;case 102:this.$=Pe.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,11:y,15:p,17:u,19:33,20:f,21:b,22:32,23:m,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},{1:[3]},{5:[1,71]},{1:[2,2]},g(ye,[2,4],{6:4,7:5,8:6,9:7,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,22:32,19:33,4:72,11:y,15:p,17:u,20:f,21:b,23:m,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve}),g(P,[2,5]),g(P,[2,6]),g(P,[2,8],{10:73,80:ue}),g(Ae,[2,45],{10:75,27:76,75:xe,80:ue}),g(P,[2,46],{10:77,80:ue}),g(P,[2,47],{10:78,80:ue}),{4:79,6:4,7:5,8:6,9:7,11:y,12:[1,81],13:[1,80],14:[1,82],15:p,17:u,19:33,20:f,21:b,22:32,23:m,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},{7:85,16:83,17:[1,84],19:33,20:f,21:b,22:32,23:m,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},{4:86,6:4,7:5,8:6,9:7,11:y,15:p,17:u,18:[1,87],19:33,20:f,21:b,22:32,23:m,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},g(_e,[2,48]),g(_e,[2,49]),g(_e,[2,50]),g(_e,[2,96]),g(_e,[2,51]),g(_e,[2,52]),g(_e,[2,53]),g(_e,[2,54]),g(_e,[2,55]),g(_e,[2,56]),g(_e,[2,57]),g(_e,[2,58]),g(_e,[2,59]),g(_e,[2,60]),g(_e,[2,61]),g(_e,[2,62]),g(_e,[2,63]),g(_e,[2,64]),g(_e,[2,65]),g(_e,[2,66]),g(_e,[2,80]),g(_e,[2,81]),g(_e,[2,82]),g(_e,[2,83]),g(_e,[2,67]),g(_e,[2,68]),g(_e,[2,79]),g(_e,[2,84]),g(_e,[2,85]),g(_e,[2,86]),g(_e,[2,87]),g(_e,[2,88]),g(_e,[2,89]),g(_e,[2,90]),g(_e,[2,91]),g(_e,[2,92]),g(_e,[2,93]),g(_e,[2,94]),g(_e,[2,95]),g(_e,[2,97]),g(_e,[2,98]),g(_e,[2,99]),g(_e,[2,100]),g(_e,[2,102]),g(_e,[2,69]),g(_e,[2,70]),g(_e,[2,71]),g(_e,[2,72]),g(_e,[2,73]),g(_e,[2,74]),g(_e,[2,75]),g(_e,[2,76]),g(_e,[2,77]),g(_e,[2,78]),{4:88,6:4,7:5,8:6,9:7,11:y,15:p,17:u,19:33,20:f,21:b,22:32,23:m,24:[1,89],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},g(_e,[2,31]),g(_e,[2,32]),{1:[2,1]},g(ye,[2,3]),g(P,[2,7]),g(P,[2,101]),g(Ae,[2,41],{27:90,75:xe}),g(P,[2,40],{10:91,80:ue}),g(P,[2,43]),g(P,[2,44]),{12:[1,92],13:[1,93],14:[1,94]},{12:[1,95],13:[1,96],14:[1,97]},{12:[1,99],13:[1,98],14:[1,100]},g(P,[2,24]),{17:[1,101]},{4:102,6:4,7:5,8:6,9:7,11:y,15:p,17:u,18:[1,103],19:33,20:f,21:b,22:32,23:m,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},{7:85,16:104,17:[2,38],19:33,20:f,21:b,22:32,23:m,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},{18:[1,105]},g(_e,[2,30]),{24:[1,106]},{4:107,6:4,7:5,8:6,9:7,11:y,15:p,17:u,19:33,20:f,21:b,22:32,23:m,25:[1,108],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},g(P,[2,39]),g(P,[2,42]),{4:109,6:4,7:5,8:6,9:7,11:y,13:[1,110],14:[1,111],15:p,17:u,19:33,20:f,21:b,22:32,23:m,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},{4:112,6:4,7:5,8:6,9:7,11:y,14:[1,113],15:p,17:u,19:33,20:f,21:b,22:32,23:m,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},g(P,[2,17]),{14:[1,114]},{14:[1,115]},g(P,[2,22]),{14:[1,116]},{14:[1,117]},g(P,[2,23]),{4:118,6:4,7:5,8:6,9:7,11:y,15:p,17:u,18:[1,119],19:33,20:f,21:b,22:32,23:m,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},{18:[1,120]},g(_e,[2,28]),{17:[2,37]},g(_e,[2,29]),{4:121,6:4,7:5,8:6,9:7,11:y,15:p,17:u,19:33,20:f,21:b,22:32,23:m,25:[1,122],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},{25:[1,123]},g(_e,[2,36]),{13:[1,124],14:[1,125]},{4:126,6:4,7:5,8:6,9:7,11:y,14:[1,127],15:p,17:u,19:33,20:f,21:b,22:32,23:m,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},g(P,[2,16]),{14:[1,128]},g(P,[2,15]),g(P,[2,18]),g(P,[2,20]),g(P,[2,19]),g(P,[2,21]),{18:[1,129]},g(_e,[2,27]),g(_e,[2,26]),{25:[1,130]},g(_e,[2,34]),g(_e,[2,35]),{4:131,6:4,7:5,8:6,9:7,11:y,14:[1,132],15:p,17:u,19:33,20:f,21:b,22:32,23:m,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:c,47:n,48:s,49:v,50:A,51:M,52:C,53:D,54:S,55:x,56:B,57:Z,58:X,59:ee,60:W,61:U,62:F,63:G,64:ie,65:ne,66:Y,67:ge,68:te,69:H,70:pe,71:fe,72:re,73:se,74:he,75:xe,76:Me,77:Be,78:ke,79:Re,81:Ve},g(P,[2,11]),{14:[1,133]},g(P,[2,14]),g(P,[2,13]),g(_e,[2,25]),g(_e,[2,33]),{14:[1,134]},g(P,[2,10]),g(P,[2,12]),g(P,[2,9])],defaultActions:{3:[2,2],71:[2,1],104:[2,37]},parseError:function(Ie,Ne){if(!Ne.recoverable){var z=new Error(Ie);throw z.hash=Ne,z}this.trace(Ie)},parse:function(Ie){var Ne=this,z=[0],Pe=[null],ot=[],rt=this.table,kt="",ve=0,ze=0,je=0,Te=ot.slice.call(arguments,1),Xe=Object.create(this.lexer),Ze={yy:{}};for(var Ce in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ce)&&(Ze.yy[Ce]=this.yy[Ce]);Xe.setInput(Ie,Ze.yy),Ze.yy.lexer=Xe,Ze.yy.parser=this,Xe.yylloc===void 0&&(Xe.yylloc={});var Fe=Xe.yylloc;ot.push(Fe);var Ge=Xe.options&&Xe.options.ranges;typeof Ze.yy.parseError=="function"?this.parseError=Ze.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Qe,it,ct,gt,Rt,ut,mt,Nt,Et,Kt=function(){var jt;return jt=Xe.lex()||1,typeof jt!="number"&&(jt=Ne.symbols_[jt]||jt),jt},xt={};;){if(ct=z[z.length-1],this.defaultActions[ct]?gt=this.defaultActions[ct]:(Qe!=null||(Qe=Kt()),gt=rt[ct]&&rt[ct][Qe]),gt===void 0||!gt.length||!gt[0]){var Ut="";Et=[];for(ut in rt[ct])this.terminals_[ut]&&ut>2&&Et.push("'"+this.terminals_[ut]+"'");Ut=Xe.showPosition?"Parse error on line "+(ve+1)+`:
`+Xe.showPosition()+`
Expecting `+Et.join(", ")+", got '"+(this.terminals_[Qe]||Qe)+"'":"Parse error on line "+(ve+1)+": Unexpected "+(Qe==1?"end of input":"'"+(this.terminals_[Qe]||Qe)+"'"),this.parseError(Ut,{text:Xe.match,token:this.terminals_[Qe]||Qe,line:Xe.yylineno,loc:Fe,expected:Et})}if(gt[0]instanceof Array&&gt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ct+", token: "+Qe);switch(gt[0]){case 1:z.push(Qe),Pe.push(Xe.yytext),ot.push(Xe.yylloc),z.push(gt[1]),Qe=null,it?(Qe=it,it=null):(ze=Xe.yyleng,kt=Xe.yytext,ve=Xe.yylineno,Fe=Xe.yylloc,je>0);break;case 2:if(mt=this.productions_[gt[1]][1],xt.$=Pe[Pe.length-mt],xt._$={first_line:ot[ot.length-(mt||1)].first_line,last_line:ot[ot.length-1].last_line,first_column:ot[ot.length-(mt||1)].first_column,last_column:ot[ot.length-1].last_column},Ge&&(xt._$.range=[ot[ot.length-(mt||1)].range[0],ot[ot.length-1].range[1]]),(Rt=this.performAction.apply(xt,[kt,ze,ve,Ze.yy,gt[1],Pe,ot].concat(Te)))!==void 0)return Rt;mt&&(z=z.slice(0,-1*mt*2),Pe=Pe.slice(0,-1*mt),ot=ot.slice(0,-1*mt)),z.push(this.productions_[gt[1]][0]),Pe.push(xt.$),ot.push(xt._$),Nt=rt[z[z.length-2]][z[z.length-1]],z.push(Nt);break;case 3:return!0}}return!0}},Ye=function(){return{EOF:1,parseError:function(Ie,Ne){if(!this.yy.parser)throw new Error(Ie);this.yy.parser.parseError(Ie,Ne)},setInput:function(Ie,Ne){return this.yy=Ne||this.yy||{},this._input=Ie,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ie=this._input[0];return this.yytext+=Ie,this.yyleng++,this.offset++,this.match+=Ie,this.matched+=Ie,Ie.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ie},unput:function(Ie){var Ne=Ie.length,z=Ie.split(/(?:\r\n?|\n)/g);this._input=Ie+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ne),this.offset-=Ne;var Pe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1&&(this.yylineno-=z.length-1);var ot=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===Pe.length?this.yylloc.first_column:0)+Pe[Pe.length-z.length].length-z[0].length:this.yylloc.first_column-Ne},this.options.ranges&&(this.yylloc.range=[ot[0],ot[0]+this.yyleng-Ne]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Ie){this.unput(this.match.slice(Ie))},pastInput:function(){var Ie=this.matched.substr(0,this.matched.length-this.match.length);return(Ie.length>20?"...":"")+Ie.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ie=this.match;return Ie.length<20&&(Ie+=this._input.substr(0,20-Ie.length)),(Ie.substr(0,20)+(Ie.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ie=this.pastInput(),Ne=new Array(Ie.length+1).join("-");return Ie+this.upcomingInput()+`
`+Ne+"^"},test_match:function(Ie,Ne){var z,Pe,ot;if(this.options.backtrack_lexer&&(ot={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ot.yylloc.range=this.yylloc.range.slice(0))),Pe=Ie[0].match(/(?:\r\n?|\n).*/g),Pe&&(this.yylineno+=Pe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Pe?Pe[Pe.length-1].length-Pe[Pe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ie[0].length},this.yytext+=Ie[0],this.match+=Ie[0],this.matches=Ie,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ie[0].length),this.matched+=Ie[0],z=this.performAction.call(this,this.yy,this,Ne,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),z)return z;if(this._backtrack){for(var rt in ot)this[rt]=ot[rt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ie,Ne,z,Pe;this._more||(this.yytext="",this.match="");for(var ot=this._currentRules(),rt=0;rt<ot.length;rt++)if((z=this._input.match(this.rules[ot[rt]]))&&(!Ne||z[0].length>Ne[0].length)){if(Ne=z,Pe=rt,this.options.backtrack_lexer){if((Ie=this.test_match(z,ot[rt]))!==!1)return Ie;if(this._backtrack){Ne=!1;continue}return!1}if(!this.options.flex)break}return Ne?(Ie=this.test_match(Ne,ot[Pe]))!==!1&&Ie:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ie=this.next();return Ie||this.lex()},begin:function(Ie){this.conditionStack.push(Ie)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ie){return Ie=this.conditionStack.length-1-Math.abs(Ie||0),Ie>=0?this.conditionStack[Ie]:"INITIAL"},pushState:function(Ie){this.begin(Ie)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Ie,Ne,z,Pe){switch(z){case 0:return this.begin("modexp"),11;case 1:return 21;case 2:return this.begin("modexp"),11;case 3:return 12;case 4:return 13;case 5:return this.popState(),14;case 6:return 63;case 7:return 64;case 8:return 65;case 9:return 66;case 10:return 67;case 11:return 68;case 12:return 69;case 13:return 54;case 14:return 48;case 15:return 49;case 16:return 50;case 17:return 55;case 18:return 51;case 19:return 52;case 20:return 53;case 21:return 57;case 22:return 56;case 23:return 74;case 24:return 70;case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:return 72;case 34:return 71;case 35:case 36:return 72;case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:return 71;case 47:return 73;case 48:return 20;case 49:return 47;case 50:return 21;case 51:return 80;case 52:return 60;case 53:return 15;case 54:return this.begin("radical"),17;case 55:return this.popState(),18;case 56:return 18;case 57:return 77;case 58:return 79;case 59:return 78;case 60:case 61:return 59;case 62:return Ne.yytext=this.matches[1],75;case 63:return 23;case 64:return 24;case 65:return 25;case 66:return Ne.yytext=this.matches[1],62;case 67:return 61;case 68:return 76;case 69:return 81;case 70:return 46;case 71:return 47;case 72:return 58;case 73:return 5;case 74:return 83}},rules:[/^(?:"(?=[^>\]]+%))/,/^(?:")/,/^(?:"(?=[^>\]]+\]|[^>\]]+%))/,/^(?:%)/,/^(?:<)/,/^(?:\])/,/^(?:[+])/,/^(?:[-])/,/^(?:[*])/,/^(?:[@][*])/,/^(?:[@][\#])/,/^(?:[_][\/])/,/^(?:[.][\/])/,/^(?:[.][.][(])/,/^(?:[@][(])/,/^(?:[.][(])/,/^(?:[(])/,/^(?:[.][.][)])/,/^(?:[@][)])/,/^(?:[.][)])/,/^(?:[)])/,/^(?:[\\][\\])/,/^(?:[\\])/,/^(?:[_][3])/,/^(?:[@][0])/,/^(?:[ ][\^;]+[.]K[ ])/,/^(?:[\^;]+[=])/,/^(?:[ ][\^;]+[\/][.]K[ ])/,/^(?:[ ][\^;]+[@][:][@][:][ ])/,/^(?:[ ][\^;]+["]K[:][ ])/,/^(?:[ ][\^;]+[.]1[:][ ])/,/^(?:[ ][\^;]+["]K[ ])/,/^(?:[ ][\^;]+[.]1[ ])/,/^(?:[ ][\^;]+[\/][$][L][ ])/,/^(?:[ ][.]K[ ])/,/^(?:[ ][\^;]+[\/]?[$][L][ ])/,/^(?:[ ][\^;]+[$]P[ ])/,/^(?:[=])/,/^(?:[ ][\/][.]K[ ])/,/^(?:[ ][@][:][@][:][ ])/,/^(?:[ ]["]K[:][ ])/,/^(?:[ ][.]1[:][ ])/,/^(?:[ ]["]K[ ])/,/^(?:[ ][.]1[ ])/,/^(?:[@][:])/,/^(?:[ ][\/]?[$][L][ ])/,/^(?:[ ][$]P[ ])/,/^(?:[ ]['][']['][ ])/,/^(?:[\^;]+)/,/^(?:[.]["])/,/^(?:["])/,/^(?:[']+)/,/^(?:[.][,]?[ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[.]*[<])/,/^(?:[.]*[>])/,/^(?:[.]*\])/,/^(?:[.]*\])/,/^(?:!)/,/^(?:[_]&)/,/^(?:&)/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:#?(\d*\.?\d+))/,/^(?:[,]*[?])/,/^(?:[,]*[\/])/,/^(?:[,]*#)/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,][=])/,/^(?:[_][8])/,/^(?:[,][ ]?)/,/^(?:[.])/,/^(?:[ ])/,/^(?:$)/,/^(?:.)/],conditions:{radical:{rules:[0,1,2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],inclusive:!0},modexp:{rules:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],inclusive:!0},INITIAL:{rules:[2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],inclusive:!0}}}}();return qe.lexer=Ye,l.prototype=qe,qe.Parser=l,new l}();o.parser=i,o.Parser=i.Parser,o.parse=function(){return i.parse.apply(i,arguments)},o.main=function(l){l[1]||(console.log("Usage: "+l[0]+" FILE"),r.exit(1));var g=w(4).readFileSync(w(5).normalize(l[1]),"utf8");return o.parser.parse(g)},d!==void 0&&w.c[w.s]===d&&o.main(r.argv.slice(1))}).call(o,w(1),w(8)(O))},function(O,o,w){(function(r,d){var i=function(){function l(){this.yy={}}var g=function(ve,ze,je,Te){for(je=je||{},Te=ve.length;Te--;je[ve[Te]]=ze);return je},y=[1,15],p=[1,16],u=[1,17],f=[1,36],b=[1,18],m=[1,37],c=[1,38],n=[1,14],s=[1,46],v=[1,47],A=[1,39],M=[1,40],C=[1,41],D=[1,56],S=[1,42],x=[1,43],B=[1,44],Z=[1,45],X=[1,54],ee=[1,55],W=[1,57],U=[1,58],F=[1,59],G=[1,60],ie=[1,61],ne=[1,62],Y=[1,63],ge=[1,64],te=[1,65],H=[1,66],pe=[1,67],fe=[1,68],re=[1,69],se=[1,70],he=[1,71],xe=[1,72],Me=[1,73],Be=[1,74],ke=[1,75],Re=[1,48],Ve=[1,49],ye=[1,50],P=[1,51],ue=[1,52],Ae=[1,76],_e=[1,53],qe=[5,14,18,19,29,52,53,54],Ye=[5,10,13,14,15,18,19,29,52,53,54],Ie=[5,10,13,14,15,17,18,19,21,23,24,28,29,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87],Ne=[1,84],z=[1,85],Pe=[1,86],ot=[10,13,15,17,21,23,24,28,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87],rt={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,expression_group:6,delimited_expression:7,level:8,radical:9,LEVEL:10,basic_token:11,bracketed_expression:12,RADICAL_WITH_INDEX:13,CLOSE_RADICAL:14,RADICAL:15,frac:16,OPEN_FRAC:17,OVER:18,CLOSE_FRAC:19,simple_frac:20,NUMBER:21,NUMBER_FRAC_DENOMINATOR:22,NUMBER_FRAC_NUMERATOR_BAD:23,NUMBER_FRAC_DENOMINATOR_BAD:24,atom:25,lbracket:26,rbracket:27,OPEN_GROUP:28,CLOSE_GROUP:29,command:30,greek:31,letter:32,comma:33,period:34,colon:35,infinity:36,integral:37,factorial:38,ampersand:39,question_mark:40,bracket:41,space:42,operation:43,comparison:44,ellipsis:45,primes:46,",":47,".":48,"[":49,"{":50,"(":51,"]":52,"}":53,")":54,SPACE:55,COMMAND:56,GREEK:57,CAPITAL_LETTER:58,LETTER:59,PIPE:60,DOUBLE_PIPE:61,"+":62,"-":63,CDOT:64,TIMES:65,"*":66,DIV:67,SLASH:68,PERCENT:69,"=":70,NEQ:71,"<":72,">":73,LEQ:74,APPROX:75,GEQ:76,TILDE:77,PARALLEL:78,PERPENDICULAR:79,ELLIPSIS:80,COLON:81,INFINITY:82,INTEGRAL:83,FACTORIAL:84,"&":85,PRIMES:86,"?":87,unknown:88,UNKNOWN:89,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"LEVEL",13:"RADICAL_WITH_INDEX",14:"CLOSE_RADICAL",15:"RADICAL",17:"OPEN_FRAC",18:"OVER",19:"CLOSE_FRAC",21:"NUMBER",22:"NUMBER_FRAC_DENOMINATOR",23:"NUMBER_FRAC_NUMERATOR_BAD",24:"NUMBER_FRAC_DENOMINATOR_BAD",28:"OPEN_GROUP",29:"CLOSE_GROUP",47:",",48:".",49:"[",50:"{",51:"(",52:"]",53:"}",54:")",55:"SPACE",56:"COMMAND",57:"GREEK",58:"CAPITAL_LETTER",59:"LETTER",60:"PIPE",61:"DOUBLE_PIPE",62:"+",63:"-",64:"CDOT",65:"TIMES",66:"*",67:"DIV",68:"SLASH",69:"PERCENT",70:"=",71:"NEQ",72:"<",73:">",74:"LEQ",75:"APPROX",76:"GEQ",77:"TILDE",78:"PARALLEL",79:"PERPENDICULAR",80:"ELLIPSIS",81:"COLON",82:"INFINITY",83:"INTEGRAL",84:"FACTORIAL",85:"&",86:"PRIMES",87:"?",89:"UNKNOWN"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[7,1],[7,1],[8,2],[8,2],[8,2],[9,4],[9,3],[9,3],[9,2],[9,4],[9,3],[9,2],[16,5],[16,4],[16,4],[16,3],[16,2],[20,2],[20,1],[20,1],[11,1],[11,1],[11,1],[6,2],[6,2],[6,1],[6,1],[12,3],[12,2],[12,3],[12,2],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[33,1],[34,1],[26,1],[26,1],[26,1],[27,1],[27,1],[27,1],[42,1],[30,1],[31,1],[32,1],[32,1],[41,1],[41,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[45,1],[35,1],[36,1],[37,1],[38,1],[39,1],[46,1],[40,1],[88,1]],performAction:function(ve,ze,je,Te,Xe,Ze,Ce){var Fe=Ze.length-1;switch(Xe){case 1:return Ze[Fe-1];case 2:return Te.group();case 3:case 35:this.$=Te.group(Ze[Fe-2],Ze[Fe-1],Ze[Fe]);break;case 4:case 6:case 31:case 32:case 36:this.$=Te.group(Ze[Fe-1],Ze[Fe]);break;case 5:case 7:case 33:case 34:this.$=Te.group(Ze[Fe]);break;case 10:case 11:case 12:this.$=Te.basic_level(Ze[Fe-1],Te.group(Ze[Fe]));break;case 13:case 17:this.$=Te.radical(Ze[Fe-1],Te.group(Ze[Fe-2]));break;case 14:case 15:this.$=Te.radical(Te.group(),Te.group(Ze[Fe-1]));break;case 16:this.$=Te.radical(Te.group(),Te.group());break;case 18:this.$=Te.radical(Ze[Fe-1]);break;case 19:this.$=Te.radical(Te.group());break;case 20:this.$=Te.fraction(Ze[Fe-3],Ze[Fe-1]);break;case 21:this.$=Te.fraction(Ze[Fe-2],Te.group());break;case 22:this.$=Te.fraction(Te.group(),Ze[Fe-1]);break;case 23:case 24:this.$=Te.fraction(Te.group(),Te.group());break;case 25:this.$=Te.fraction(Te.group(Te.terminal(Te.to_number(Ze[Fe-1]))),Te.group(Te.terminal(Te.to_number(Ze[Fe]))));break;case 26:this.$=Te.fraction(Te.group(Te.terminal(Te.to_number(Ze[Fe]))),Te.group());break;case 27:this.$=Te.fraction(Te.group(),Te.group(Te.terminal(Te.to_number(Ze[$01]))));break;case 37:this.$=Te.group(Ze[Fe-1]);break;case 38:this.$=Te.group();break;case 39:this.$=Te.terminal(Te.to_number(Ze[Fe]));break;case 57:this.$=Te.terminal(",");break;case 58:this.$=Te.terminal(".");break;case 59:this.$=Te.terminal("[");break;case 60:this.$=Te.terminal("\\{");break;case 61:this.$=Te.terminal("(");break;case 62:this.$=Te.terminal("]");break;case 63:this.$=Te.terminal("\\}");break;case 64:this.$=Te.terminal(")");break;case 65:this.$=Te.terminal(" ");break;case 66:this.$=Te.command("\\"+Ze[Fe].trim().toLowerCase());break;case 67:this.$=Te.terminal(Te.greek(Ze[Fe]));break;case 68:this.$=Te.terminal(Ze[Fe].toUpperCase());break;case 69:this.$=Te.terminal(Ze[Fe].toLowerCase());break;case 70:this.$=Te.terminal("|");break;case 71:this.$=Te.terminal("\\|");break;case 72:this.$=Te.terminal("+");break;case 73:this.$=Te.terminal("-");break;case 74:this.$=Te.terminal("\\cdot ");break;case 75:this.$=Te.terminal("\\times ");break;case 76:this.$=Te.terminal("*");break;case 77:this.$=Te.terminal("\\div ");break;case 78:this.$=Te.terminal("/");break;case 79:this.$=Te.terminal("\\%");break;case 80:this.$=Te.terminal("=");break;case 81:this.$=Te.terminal("\\neq ");break;case 82:this.$=Te.terminal("<");break;case 83:this.$=Te.terminal(">");break;case 84:this.$=Te.terminal("\\leq ");break;case 85:this.$=Te.terminal("\\approx ");break;case 86:this.$=Te.terminal("\\geq ");break;case 87:this.$=Te.terminal("\\sim ");break;case 88:this.$=Te.terminal("\\parallel ");break;case 89:this.$=Te.terminal("\\perp ");break;case 90:this.$=Te.terminal("\\ldots ");break;case 91:this.$=Te.terminal(":");break;case 92:this.$=Te.terminal("\\infty ");break;case 93:this.$=Te.terminal("\\int ");break;case 94:this.$=Te.terminal("!");break;case 95:this.$=Te.terminal("\\&");break;case 96:this.$=Te.primes(Ze[Fe]);break;case 97:this.$=Te.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:8,9:9,10:y,11:6,12:7,13:p,15:u,16:11,17:f,20:12,21:b,23:m,24:c,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e},{1:[3]},{5:[1,77]},{1:[2,2]},g(qe,[2,5],{8:8,9:9,7:78,10:y,13:p,15:u}),g(qe,[2,7],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:79,10:y,13:p,15:u,17:f,21:b,23:m,24:c,28:n,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e}),g(Ye,[2,33],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:80,17:f,21:b,23:m,24:c,28:n,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e}),g(Ye,[2,34],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:81,17:f,21:b,23:m,24:c,28:n,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e}),g(Ie,[2,8]),g(Ie,[2,9]),g(Ie,[2,28]),g(Ie,[2,29]),g(Ie,[2,30]),{4:82,6:4,7:5,8:8,9:9,10:y,11:6,12:7,13:p,15:u,16:11,17:f,20:12,21:b,23:m,24:c,25:10,26:13,27:83,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:s,48:v,49:A,50:M,51:C,52:Ne,53:z,54:Pe,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e},{4:87,6:4,7:5,8:8,9:9,10:y,11:6,12:7,13:p,15:u,16:11,17:f,20:12,21:b,23:m,24:c,25:10,26:13,28:n,29:[1,88],30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e},{9:91,11:89,12:90,13:p,15:u,16:11,17:f,20:12,21:b,23:m,24:c,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e},{11:92,12:93,14:[1,94],16:11,17:f,20:12,21:b,23:m,24:c,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e},{4:95,6:4,7:5,8:8,9:9,10:y,11:6,12:7,13:p,14:[1,96],15:u,16:11,17:f,20:12,21:b,23:m,24:c,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e},g(Ie,[2,39],{22:[1,97]}),g(Ie,[2,40]),g(Ie,[2,41]),g(Ie,[2,42]),g(Ie,[2,43]),g(Ie,[2,44]),g(Ie,[2,45]),g(Ie,[2,46]),g(Ie,[2,47]),g(Ie,[2,48]),g(Ie,[2,49]),g(Ie,[2,50]),g(Ie,[2,51]),g(Ie,[2,52]),g(Ie,[2,53]),g(Ie,[2,54]),g(Ie,[2,55]),g(Ie,[2,56]),{4:98,6:4,7:5,8:8,9:9,10:y,11:6,12:7,13:p,15:u,16:11,17:f,18:[1,99],19:[1,100],20:12,21:b,23:m,24:c,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e},g(Ie,[2,26]),g(Ie,[2,27]),g(ot,[2,59]),g(ot,[2,60]),g(ot,[2,61]),g(Ie,[2,66]),g(Ie,[2,67]),g(Ie,[2,68]),g(Ie,[2,69]),g(Ie,[2,57]),g(Ie,[2,58]),g(Ie,[2,91]),g(Ie,[2,92]),g(Ie,[2,93]),g(Ie,[2,94]),g(Ie,[2,95]),g(Ie,[2,97]),g(Ie,[2,70]),g(Ie,[2,71]),g(Ie,[2,65]),g(Ie,[2,72]),g(Ie,[2,73]),g(Ie,[2,74]),g(Ie,[2,75]),g(Ie,[2,76]),g(Ie,[2,77]),g(Ie,[2,78]),g(Ie,[2,79]),g(Ie,[2,80]),g(Ie,[2,81]),g(Ie,[2,82]),g(Ie,[2,83]),g(Ie,[2,84]),g(Ie,[2,85]),g(Ie,[2,86]),g(Ie,[2,87]),g(Ie,[2,88]),g(Ie,[2,89]),g(Ie,[2,90]),g(Ie,[2,96]),{1:[2,1]},g(qe,[2,4],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:101,10:y,13:p,15:u,17:f,21:b,23:m,24:c,28:n,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e}),g(qe,[2,6]),g(Ye,[2,31]),g(Ye,[2,32]),{27:102,52:Ne,53:z,54:Pe},g(Ie,[2,36]),g(Ie,[2,62]),g(Ie,[2,63]),g(Ie,[2,64]),{29:[1,103]},g(Ie,[2,38]),g(Ie,[2,10]),g(Ie,[2,11]),g(Ie,[2,12]),{4:104,6:4,7:5,8:8,9:9,10:y,11:6,12:7,13:p,14:[1,105],15:u,16:11,17:f,20:12,21:b,23:m,24:c,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e},{4:107,6:4,7:5,8:8,9:9,10:y,11:6,12:7,13:p,14:[1,106],15:u,16:11,17:f,20:12,21:b,23:m,24:c,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e},g(Ie,[2,16]),{14:[1,108]},g(Ie,[2,19]),g(Ie,[2,25]),{18:[1,109]},{4:110,6:4,7:5,8:8,9:9,10:y,11:6,12:7,13:p,15:u,16:11,17:f,19:[1,111],20:12,21:b,23:m,24:c,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e},g(Ie,[2,24]),g(qe,[2,3]),g(Ie,[2,35]),g(Ie,[2,37]),{14:[1,112]},g(Ie,[2,15]),g(Ie,[2,14]),{14:[1,113]},g(Ie,[2,18]),{4:114,6:4,7:5,8:8,9:9,10:y,11:6,12:7,13:p,15:u,16:11,17:f,19:[1,115],20:12,21:b,23:m,24:c,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:s,48:v,49:A,50:M,51:C,55:D,56:S,57:x,58:B,59:Z,60:X,61:ee,62:W,63:U,64:F,65:G,66:ie,67:ne,68:Y,69:ge,70:te,71:H,72:pe,73:fe,74:re,75:se,76:he,77:xe,78:Me,79:Be,80:ke,81:Re,82:Ve,83:ye,84:P,85:ue,86:Ae,87:_e},{19:[1,116]},g(Ie,[2,23]),g(Ie,[2,13]),g(Ie,[2,17]),{19:[1,117]},g(Ie,[2,21]),g(Ie,[2,22]),g(Ie,[2,20])],defaultActions:{3:[2,2],77:[2,1]},parseError:function(ve,ze){if(!ze.recoverable){var je=new Error(ve);throw je.hash=ze,je}this.trace(ve)},parse:function(ve){var ze=this,je=[0],Te=[null],Xe=[],Ze=this.table,Ce="",Fe=0,Ge=0,Qe=0,it=Xe.slice.call(arguments,1),ct=Object.create(this.lexer),gt={yy:{}};for(var Rt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Rt)&&(gt.yy[Rt]=this.yy[Rt]);ct.setInput(ve,gt.yy),gt.yy.lexer=ct,gt.yy.parser=this,ct.yylloc===void 0&&(ct.yylloc={});var ut=ct.yylloc;Xe.push(ut);var mt=ct.options&&ct.options.ranges;typeof gt.yy.parseError=="function"?this.parseError=gt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Nt,Et,Kt,xt,Ut,jt,or,dr,Xt,Wt=function(){var N;return N=ct.lex()||1,typeof N!="number"&&(N=ze.symbols_[N]||N),N},$={};;){if(Kt=je[je.length-1],this.defaultActions[Kt]?xt=this.defaultActions[Kt]:(Nt!=null||(Nt=Wt()),xt=Ze[Kt]&&Ze[Kt][Nt]),xt===void 0||!xt.length||!xt[0]){var ce="";Xt=[];for(jt in Ze[Kt])this.terminals_[jt]&&jt>2&&Xt.push("'"+this.terminals_[jt]+"'");ce=ct.showPosition?"Parse error on line "+(Fe+1)+`:
`+ct.showPosition()+`
Expecting `+Xt.join(", ")+", got '"+(this.terminals_[Nt]||Nt)+"'":"Parse error on line "+(Fe+1)+": Unexpected "+(Nt==1?"end of input":"'"+(this.terminals_[Nt]||Nt)+"'"),this.parseError(ce,{text:ct.match,token:this.terminals_[Nt]||Nt,line:ct.yylineno,loc:ut,expected:Xt})}if(xt[0]instanceof Array&&xt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Kt+", token: "+Nt);switch(xt[0]){case 1:je.push(Nt),Te.push(ct.yytext),Xe.push(ct.yylloc),je.push(xt[1]),Nt=null,Et?(Nt=Et,Et=null):(Ge=ct.yyleng,Ce=ct.yytext,Fe=ct.yylineno,ut=ct.yylloc,Qe>0);break;case 2:if(or=this.productions_[xt[1]][1],$.$=Te[Te.length-or],$._$={first_line:Xe[Xe.length-(or||1)].first_line,last_line:Xe[Xe.length-1].last_line,first_column:Xe[Xe.length-(or||1)].first_column,last_column:Xe[Xe.length-1].last_column},mt&&($._$.range=[Xe[Xe.length-(or||1)].range[0],Xe[Xe.length-1].range[1]]),(Ut=this.performAction.apply($,[Ce,Ge,Fe,gt.yy,xt[1],Te,Xe].concat(it)))!==void 0)return Ut;or&&(je=je.slice(0,-1*or*2),Te=Te.slice(0,-1*or),Xe=Xe.slice(0,-1*or)),je.push(this.productions_[xt[1]][0]),Te.push($.$),Xe.push($._$),dr=Ze[je[je.length-2]][je[je.length-1]],je.push(dr);break;case 3:return!0}}return!0}},kt=function(){return{EOF:1,parseError:function(ve,ze){if(!this.yy.parser)throw new Error(ve);this.yy.parser.parseError(ve,ze)},setInput:function(ve,ze){return this.yy=ze||this.yy||{},this._input=ve,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ve=this._input[0];return this.yytext+=ve,this.yyleng++,this.offset++,this.match+=ve,this.matched+=ve,ve.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ve},unput:function(ve){var ze=ve.length,je=ve.split(/(?:\r\n?|\n)/g);this._input=ve+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ze),this.offset-=ze;var Te=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),je.length-1&&(this.yylineno-=je.length-1);var Xe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:je?(je.length===Te.length?this.yylloc.first_column:0)+Te[Te.length-je.length].length-je[0].length:this.yylloc.first_column-ze},this.options.ranges&&(this.yylloc.range=[Xe[0],Xe[0]+this.yyleng-ze]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(ve){this.unput(this.match.slice(ve))},pastInput:function(){var ve=this.matched.substr(0,this.matched.length-this.match.length);return(ve.length>20?"...":"")+ve.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ve=this.match;return ve.length<20&&(ve+=this._input.substr(0,20-ve.length)),(ve.substr(0,20)+(ve.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ve=this.pastInput(),ze=new Array(ve.length+1).join("-");return ve+this.upcomingInput()+`
`+ze+"^"},test_match:function(ve,ze){var je,Te,Xe;if(this.options.backtrack_lexer&&(Xe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Xe.yylloc.range=this.yylloc.range.slice(0))),Te=ve[0].match(/(?:\r\n?|\n).*/g),Te&&(this.yylineno+=Te.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Te?Te[Te.length-1].length-Te[Te.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ve[0].length},this.yytext+=ve[0],this.match+=ve[0],this.matches=ve,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ve[0].length),this.matched+=ve[0],je=this.performAction.call(this,this.yy,this,ze,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),je)return je;if(this._backtrack){for(var Ze in Xe)this[Ze]=Xe[Ze];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ve,ze,je,Te;this._more||(this.yytext="",this.match="");for(var Xe=this._currentRules(),Ze=0;Ze<Xe.length;Ze++)if((je=this._input.match(this.rules[Xe[Ze]]))&&(!ze||je[0].length>ze[0].length)){if(ze=je,Te=Ze,this.options.backtrack_lexer){if((ve=this.test_match(je,Xe[Ze]))!==!1)return ve;if(this._backtrack){ze=!1;continue}return!1}if(!this.options.flex)break}return ze?(ve=this.test_match(ze,Xe[Te]))!==!1&&ve:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ve=this.next();return ve||this.lex()},begin:function(ve){this.conditionStack.push(ve)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ve){return ve=this.conditionStack.length-1-Math.abs(ve||0),ve>=0?this.conditionStack[ve]:"INITIAL"},pushState:function(ve){this.begin(ve)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(ve,ze,je,Te){switch(je){case 0:return void this.begin("captext");case 1:return 58;case 2:return this.popState(),58;case 3:return 62;case 4:return 63;case 5:return 64;case 6:return 65;case 7:return 66;case 8:return 67;case 9:return 49;case 10:return 50;case 11:return 51;case 12:return 52;case 13:return 53;case 14:return 54;case 15:return 71;case 16:return 74;case 17:return 75;case 18:return 76;case 19:return 70;case 20:return 72;case 21:return 73;case 22:return 77;case 23:return 69;case 24:return 80;case 25:return 13;case 26:return 15;case 27:return 14;case 28:return 10;case 29:return 28;case 30:return 29;case 31:return 83;case 32:return 84;case 33:return 85;case 34:return 17;case 35:return 18;case 36:return 19;case 37:return 78;case 38:return 79;case 39:return 82;case 40:return ze.yytext=this.matches[1],21;case 41:return ze.yytext=this.matches[1],22;case 42:return ze.yytext=this.matches[1],24;case 43:return 68;case 44:return 47;case 45:return 48;case 46:return 86;case 47:return 61;case 48:return 60;case 49:return 81;case 50:case 51:return 56;case 52:return 57;case 53:return ze.yytext=this.matches[1],58;case 54:return 59;case 55:return;case 56:return 87;case 57:return;case 58:return 55;case 59:return 5;case 60:return 89}},rules:[/^(?:([,][,])(?=[A-Z]))/,/^(?:[A-Z](?=[A-Z]))/,/^(?:[A-Z])/,/^(?:["][6])/,/^(?:["][-])/,/^(?:["][4])/,/^(?:["][8])/,/^(?:["][9])/,/^(?:["][\/])/,/^(?:[.][<])/,/^(?:[_][<])/,/^(?:["][<])/,/^(?:[.][>])/,/^(?:[_][>])/,/^(?:["][>])/,/^(?:["][7][@][:])/,/^(?:[_][@][<])/,/^(?:[\^][9])/,/^(?:[_][@][>])/,/^(?:["][7])/,/^(?:[@][<])/,/^(?:[@][>])/,/^(?:[@][9])/,/^(?:[.][0])/,/^(?:[4][4][4])/,/^(?:[%][9])/,/^(?:[%])/,/^(?:[\+])/,/^(?:[95]+(?=.))/,/^(?:[<])/,/^(?:[>])/,/^(?:!)/,/^(?:[6])/,/^(?:[@]&)/,/^(?:[(])/,/^(?:[.][\/])/,/^(?:[)])/,/^(?:#[L])/,/^(?:#-)/,/^(?:#=)/,/^(?:#([A-J4]+))/,/^(?:[\/]([A-J4]+))/,/^(?:[#][\/]([A-J4]+))/,/^(?:[_]?[\/])/,/^(?:[1])/,/^(?:[4])/,/^(?:[7]+)/,/^(?:[_][\\][_][\\])/,/^(?:[_][\\])/,/^(?:[3])/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:[,]?[.][ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,]['])/,/^(?:[8])/,/^(?:[;])/,/^(?:[ ])/,/^(?:$)/,/^(?:.)/],conditions:{captext:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],inclusive:!0},INITIAL:{rules:[0,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],inclusive:!0}}}}();return rt.lexer=kt,l.prototype=rt,rt.Parser=l,new l}();o.parser=i,o.Parser=i.Parser,o.parse=function(){return i.parse.apply(i,arguments)},o.main=function(l){l[1]||(console.log("Usage: "+l[0]+" FILE"),r.exit(1));var g=w(4).readFileSync(w(5).normalize(l[1]),"utf8");return o.parser.parse(g)},d!==void 0&&w.c[w.s]===d&&o.main(r.argv.slice(1))}).call(o,w(1),w(8)(O))},function(O,o,w){function r(f){for(var b=[],m=0;m<f.length;m++){var c=f[m];switch(c.type){case"command":var n=c.value.slice(1).trim();p.hasOwnProperty(c.value)?b.push(g.command(p[c.value])):l.containsValue(n)?b.push(g.typeform("operator_name",d(n))):u[c.value]||b.push(c);break;case"level":var s={subscript:c.subscript&&c.subscript.length>0?r(c.subscript):void 0,superscript:c.superscript&&c.superscript.length>0?r(c.superscript):void 0,type:c.type};(s.subscript||s.superscript)&&b.push(s);break;case"fraction":b.push({denominator:r(c.denominator),numerator:r(c.numerator),type:c.type});break;case"radical":b.push({index:c.index?r(c.index):void 0,radicand:r(c.radicand),type:c.type});break;case"terminal":i(f.slice(m))?(b.push({type:"command",value:"\\ldots"}),m+=2):b.push({type:c.type,value:y.hasOwnProperty(c.value)?y[c.value]:c.value});break;case"typeform":b.push(c);break;case"greek":b.push({type:c.type,value:y.hasOwnProperty(c.value)?y[c.value]:c.value});break;default:throw new Error(`Unexpected item:
`+JSON.stringify({group:f,item:c}))}}return b}function d(f){for(var b=[],m=0,c=f;m<c.length;m++){var n=c[m];b.push(g.terminal(n))}return b}function i(f){for(var b=0,m=0;m<Math.min(3,f.length);m++){var c=f[m];c.type==="terminal"&&c.value==="."&&b++}return b===3}Object.defineProperty(o,"__esModule",{value:!0});var l=w(2),g=w(7),y={"~":"\\ ","\\,":"\\ ","\\:":"\\ ","\\;":"\\ ","\\!":"\\ "},p={"\\Vert":"\\|","\\ge":"\\geq","\\le":"\\leq","\\vert":"|"},u={"\\space":!0};o.default=r},function(O,o,w){function r(g){try{return{isError:!1,value:i.parser.parse(g)}}catch(y){return{isError:!0,error:d.default(y)}}}Object.defineProperty(o,"__esModule",{value:!0});var d=w(6),i=w(13),l=w(7);i.parser.yy=l,o.default=r},function(O,o,w){(function(r,d){var i=function(){function l(){this.yy={}}var g=function(G,ie,ne,Y){for(ne=ne||{},Y=G.length;Y--;ne[G[Y]]=ie);return ne},y=[1,13],p=[1,14],u=[1,15],f=[1,16],b=[1,17],m=[1,21],c=[1,18],n=[1,19],s=[1,20],v=[1,22],A=[1,23],M=[1,28],C=[1,30],D=[1,31],S=[1,32],x=[1,33],B=[1,29],Z=[5,21,27,38],X=[5,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],ee=[5,10,12,13,14,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],W=[5,10,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],U={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,level:6,expression:7,subscript:8,superscript:9,_:10,atom:11,"^":12,"PRIMES^":13,PRIMES:14,delimited_group:15,typeform:16,frac:17,radical:18,LEFT:19,delimiter:20,RIGHT:21,FRAC:22,OPERATOR_NAME:23,MATHRM:24,TEXT:25,RADICAL_OPTARG:26,CLOSE_OPTARG:27,RADICAL:28,curly_group:29,greek:30,command:31,SYMBOL:32,DELIMITER:33,DELIMITER_COMMAND:34,GREEK:35,COMMAND:36,"{":37,"}":38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"_",12:"^",13:"PRIMES^",14:"PRIMES",19:"LEFT",21:"RIGHT",22:"FRAC",23:"OPERATOR_NAME",24:"MATHRM",25:"TEXT",26:"RADICAL_OPTARG",27:"CLOSE_OPTARG",28:"RADICAL",32:"SYMBOL",33:"DELIMITER",34:"DELIMITER_COMMAND",35:"GREEK",36:"COMMAND",37:"{",38:"}"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[6,2],[6,2],[6,1],[6,1],[8,2],[9,2],[9,2],[9,1],[7,1],[7,1],[7,1],[7,1],[7,1],[15,5],[15,4],[17,3],[16,2],[16,2],[16,2],[18,4],[18,3],[18,2],[18,2],[11,1],[11,1],[11,1],[11,1],[11,1],[20,1],[20,1],[30,1],[31,1],[29,3],[29,2]],performAction:function(G,ie,ne,Y,ge,te,H){var pe=te.length-1;switch(ge){case 1:return te[pe-1];case 2:return Y.group();case 3:this.$=Y.group(te[pe-2],te[pe-1],te[pe]);break;case 4:case 6:this.$=Y.group(te[pe-1],te[pe]);break;case 5:case 7:this.$=Y.group(te[pe]);break;case 8:this.$=Y.level({_:Y.group(te[pe-1]),"^":Y.group(te[pe])});break;case 9:this.$=Y.level({_:Y.group(te[pe]),"^":Y.group(te[pe-1])});break;case 10:this.$=Y.level({"^":Y.group(te[pe])});break;case 11:this.$=Y.level({_:Y.group(te[pe])});break;case 12:case 13:this.$=te[pe];break;case 14:this.$=Y.processPrimes(te[pe-1],te[pe]);break;case 15:this.$=Y.processPrimes(te[pe],Y.group());break;case 21:this.$=Y.group(te[pe-3],te[pe-2],te[pe]);break;case 22:this.$=Y.group(te[pe-2],te[pe]);break;case 23:this.$=Y.fraction(Y.group(te[pe-1]),Y.group(te[pe]));break;case 24:this.$=Y.typeform("operator_name",Y.group(te[pe]));break;case 25:this.$=Y.typeform("mathrm",Y.group(te[pe]));break;case 26:this.$=Y.typeform("text",Y.group(te[pe]));break;case 27:this.$=Y.radical(te[pe],Y.group(te[pe-2]));break;case 28:this.$=Y.radical(Y.group(te[pe]),Y.group());break;case 29:case 30:this.$=Y.radical(Y.group(te[pe]));break;case 35:case 36:this.$=Y.terminal(te[pe]);break;case 37:case 39:this.$=Y.command(te[pe]);break;case 38:this.$=Y.greek(te[pe]);break;case 40:this.$=te[pe-1];break;case 41:this.$=Y.group()}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:y,11:12,12:p,13:u,14:f,15:8,16:9,17:10,18:11,19:b,20:25,22:m,23:c,24:n,25:s,26:v,28:A,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},{1:[3]},{5:[1,34]},{1:[2,2]},g(Z,[2,5],{15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,7:35,19:b,22:m,23:c,24:n,25:s,26:v,28:A,32:M,33:C,34:D,35:S,36:x,37:B}),g(Z,[2,7],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,4:36,10:y,12:p,13:u,14:f,19:b,22:m,23:c,24:n,25:s,26:v,28:A,32:M,33:C,34:D,35:S,36:x,37:B}),g(X,[2,11],{9:37,12:p,13:u,14:f}),g(X,[2,10],{8:38,10:y}),g(ee,[2,16]),g(ee,[2,17]),g(ee,[2,18]),g(ee,[2,19]),g(ee,[2,20]),{11:39,20:25,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},{11:40,20:25,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},{11:41,20:25,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},g(W,[2,15]),{20:42,33:C,34:D},{11:43,20:25,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},{11:44,20:25,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},{11:45,20:25,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},{11:46,20:25,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},{4:47,6:4,7:5,8:6,9:7,10:y,11:12,12:p,13:u,14:f,15:8,16:9,17:10,18:11,19:b,20:25,22:m,23:c,24:n,25:s,26:v,27:[1,48],28:A,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},{11:49,17:50,20:25,22:m,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},g(ee,[2,31]),g(ee,[2,32]),g(ee,[2,33]),g(ee,[2,34]),g(ee,[2,35]),{4:51,6:4,7:5,8:6,9:7,10:y,11:12,12:p,13:u,14:f,15:8,16:9,17:10,18:11,19:b,20:25,22:m,23:c,24:n,25:s,26:v,28:A,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B,38:[1,52]},g(ee,[2,36]),g(ee,[2,37]),g(ee,[2,38]),g(ee,[2,39]),{1:[2,1]},g(Z,[2,4],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,4:53,10:y,12:p,13:u,14:f,19:b,22:m,23:c,24:n,25:s,26:v,28:A,32:M,33:C,34:D,35:S,36:x,37:B}),g(Z,[2,6]),g(X,[2,8]),g(X,[2,9]),g([5,12,13,14,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],[2,12]),g(W,[2,13]),g(W,[2,14]),{4:54,6:4,7:5,8:6,9:7,10:y,11:12,12:p,13:u,14:f,15:8,16:9,17:10,18:11,19:b,20:25,21:[1,55],22:m,23:c,24:n,25:s,26:v,28:A,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},g(ee,[2,24]),g(ee,[2,25]),g(ee,[2,26]),{11:56,20:25,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},{27:[1,57]},{11:58,20:25,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},g(ee,[2,29]),g(ee,[2,30]),{38:[1,59]},g(ee,[2,41]),g(Z,[2,3]),{21:[1,60]},{20:61,33:C,34:D},g(ee,[2,23]),{11:62,20:25,29:24,30:26,31:27,32:M,33:C,34:D,35:S,36:x,37:B},g(ee,[2,28]),g(ee,[2,40]),{20:63,33:C,34:D},g(ee,[2,22]),g(ee,[2,27]),g(ee,[2,21])],defaultActions:{3:[2,2],34:[2,1]},parseError:function(G,ie){if(!ie.recoverable){var ne=new Error(G);throw ne.hash=ie,ne}this.trace(G)},parse:function(G){var ie=this,ne=[0],Y=[null],ge=[],te=this.table,H="",pe=0,fe=0,re=0,se=ge.slice.call(arguments,1),he=Object.create(this.lexer),xe={yy:{}};for(var Me in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Me)&&(xe.yy[Me]=this.yy[Me]);he.setInput(G,xe.yy),xe.yy.lexer=he,xe.yy.parser=this,he.yylloc===void 0&&(he.yylloc={});var Be=he.yylloc;ge.push(Be);var ke=he.options&&he.options.ranges;typeof xe.yy.parseError=="function"?this.parseError=xe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Re,Ve,ye,P,ue,Ae,_e,qe,Ye,Ie=function(){var Pe;return Pe=he.lex()||1,typeof Pe!="number"&&(Pe=ie.symbols_[Pe]||Pe),Pe},Ne={};;){if(ye=ne[ne.length-1],this.defaultActions[ye]?P=this.defaultActions[ye]:(Re!=null||(Re=Ie()),P=te[ye]&&te[ye][Re]),P===void 0||!P.length||!P[0]){var z="";Ye=[];for(Ae in te[ye])this.terminals_[Ae]&&Ae>2&&Ye.push("'"+this.terminals_[Ae]+"'");z=he.showPosition?"Parse error on line "+(pe+1)+`:
`+he.showPosition()+`
Expecting `+Ye.join(", ")+", got '"+(this.terminals_[Re]||Re)+"'":"Parse error on line "+(pe+1)+": Unexpected "+(Re==1?"end of input":"'"+(this.terminals_[Re]||Re)+"'"),this.parseError(z,{text:he.match,token:this.terminals_[Re]||Re,line:he.yylineno,loc:Be,expected:Ye})}if(P[0]instanceof Array&&P.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ye+", token: "+Re);switch(P[0]){case 1:ne.push(Re),Y.push(he.yytext),ge.push(he.yylloc),ne.push(P[1]),Re=null,Ve?(Re=Ve,Ve=null):(fe=he.yyleng,H=he.yytext,pe=he.yylineno,Be=he.yylloc,re>0);break;case 2:if(_e=this.productions_[P[1]][1],Ne.$=Y[Y.length-_e],Ne._$={first_line:ge[ge.length-(_e||1)].first_line,last_line:ge[ge.length-1].last_line,first_column:ge[ge.length-(_e||1)].first_column,last_column:ge[ge.length-1].last_column},ke&&(Ne._$.range=[ge[ge.length-(_e||1)].range[0],ge[ge.length-1].range[1]]),(ue=this.performAction.apply(Ne,[H,fe,pe,xe.yy,P[1],Y,ge].concat(se)))!==void 0)return ue;_e&&(ne=ne.slice(0,-1*_e*2),Y=Y.slice(0,-1*_e),ge=ge.slice(0,-1*_e)),ne.push(this.productions_[P[1]][0]),Y.push(Ne.$),ge.push(Ne._$),qe=te[ne[ne.length-2]][ne[ne.length-1]],ne.push(qe);break;case 3:return!0}}return!0}},F=function(){return{EOF:1,parseError:function(G,ie){if(!this.yy.parser)throw new Error(G);this.yy.parser.parseError(G,ie)},setInput:function(G,ie){return this.yy=ie||this.yy||{},this._input=G,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var G=this._input[0];return this.yytext+=G,this.yyleng++,this.offset++,this.match+=G,this.matched+=G,G.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),G},unput:function(G){var ie=G.length,ne=G.split(/(?:\r\n?|\n)/g);this._input=G+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ie),this.offset-=ie;var Y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ne.length-1&&(this.yylineno-=ne.length-1);var ge=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ne?(ne.length===Y.length?this.yylloc.first_column:0)+Y[Y.length-ne.length].length-ne[0].length:this.yylloc.first_column-ie},this.options.ranges&&(this.yylloc.range=[ge[0],ge[0]+this.yyleng-ie]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(G){this.unput(this.match.slice(G))},pastInput:function(){var G=this.matched.substr(0,this.matched.length-this.match.length);return(G.length>20?"...":"")+G.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var G=this.match;return G.length<20&&(G+=this._input.substr(0,20-G.length)),(G.substr(0,20)+(G.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var G=this.pastInput(),ie=new Array(G.length+1).join("-");return G+this.upcomingInput()+`
`+ie+"^"},test_match:function(G,ie){var ne,Y,ge;if(this.options.backtrack_lexer&&(ge={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ge.yylloc.range=this.yylloc.range.slice(0))),Y=G[0].match(/(?:\r\n?|\n).*/g),Y&&(this.yylineno+=Y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Y?Y[Y.length-1].length-Y[Y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+G[0].length},this.yytext+=G[0],this.match+=G[0],this.matches=G,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(G[0].length),this.matched+=G[0],ne=this.performAction.call(this,this.yy,this,ie,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ne)return ne;if(this._backtrack){for(var te in ge)this[te]=ge[te];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var G,ie,ne,Y;this._more||(this.yytext="",this.match="");for(var ge=this._currentRules(),te=0;te<ge.length;te++)if((ne=this._input.match(this.rules[ge[te]]))&&(!ie||ne[0].length>ie[0].length)){if(ie=ne,Y=te,this.options.backtrack_lexer){if((G=this.test_match(ne,ge[te]))!==!1)return G;if(this._backtrack){ie=!1;continue}return!1}if(!this.options.flex)break}return ie?(G=this.test_match(ie,ge[Y]))!==!1&&G:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var G=this.next();return G||this.lex()},begin:function(G){this.conditionStack.push(G)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(G){return G=this.conditionStack.length-1-Math.abs(G||0),G>=0?this.conditionStack[G]:"INITIAL"},pushState:function(G){this.begin(G)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(G,ie,ne,Y){switch(ne){case 0:break;case 1:return this.begin("optarg"),26;case 2:return this.popState(),27;case 3:return 23;case 4:return 24;case 5:return 25;case 6:return 28;case 7:return 22;case 8:return 13;case 9:return 14;case 10:return 12;case 11:return 10;case 12:return 19;case 13:return 21;case 14:return 34;case 15:return 33;case 16:return 37;case 17:return 38;case 18:case 19:case 20:return 32;case 21:case 22:return 35;case 23:return 36;case 24:return 32;case 25:return 5}},rules:[/^(?:\s+)/,/^(?:(\\sqrt)\s*\[)/,/^(?:\])/,/^(?:(\\operatorname))/,/^(?:(\\mathrm))/,/^(?:(\\text))/,/^(?:(\\sqrt))/,/^(?:(\\frac))/,/^(?:'+\^)/,/^(?:'+)/,/^(?:\^)/,/^(?:[_])/,/^(?:(\\left))/,/^(?:(\\right))/,/^(?:(\\langle|\\rangle|\\vert|\\Vert))/,/^(?:\[|\]|\\\{|\\\}|\(|\)|\||\\\|)/,/^(?:\{)/,/^(?:\})/,/^(?:\\(infty))/,/^(?:\\(int))/,/^(?:!)/,/^(?:\\(alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|omicron|pi|rho|sigma|tau|xi|upsilon|phi|chi|psi|omega))/,/^(?:\\(Alpha|Beta|Gamma|Delta|Epsilon|Zeta|Eta|Theta|Iota|Kappa|Lambda|Mu|Nu|Omicron|Pi|Rho|Sigma|Tau|Xi|Upsilon|Phi|Chi|Psi|Omega))/,/^(?:\\[A-Za-z]+)/,/^(?:\\.|.)/,/^(?:$)/],conditions:{optarg:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],inclusive:!0},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],inclusive:!0}}}}();return U.lexer=F,l.prototype=U,U.Parser=l,new l}();o.parser=i,o.Parser=i.Parser,o.parse=function(){return i.parse.apply(i,arguments)},o.main=function(l){l[1]||(console.log("Usage: "+l[0]+" FILE"),r.exit(1));var g=w(4).readFileSync(w(5).normalize(l[1]),"utf8");return o.parser.parse(g)},d!==void 0&&w.c[w.s]===d&&o.main(r.argv.slice(1))}).call(o,w(1),w(8)(O))},function(O,o,w){function r(W){return B.map(x.default(W),function(U){return C(S.default(U))})}function d(W){return/^[a-z]$/.test(W.value)?W.value.toUpperCase():/^[A-Z]$/.test(W.value)?","+W.value:/^[0-9.]$/.test(W.value)||/^[+\-()]$/.test(W.value)?W.value:Z.hasOwnProperty(W.value)?Z[W.value]:"[terminal: "+W.value+"]"}function i(W){return X.hasOwnProperty(W.value)?X[W.value]:W.value.slice(1).toUpperCase()+" "}function l(W){return ee.hasOwnProperty(W.value)?ee[W.value]:W.value.slice(1).toUpperCase()+" "}function g(W){return W.value==="\\space"}function y(W,U){return W.isStartOfLine&&/^-?$/.test(U)||/\s-?$/.test(U)||W.wasFraction}function p(W){return W.value==="\\sum"||W.value==="\\prod"}function u(W,U){if(U>=W.length)return!1;var F=W[U];if(F.type==="terminal"){if(/^[0-9]$/.test(F.value))return!0;if(F.value!=="."||U+1>=W.length)return!1;if(F=W[U+1],F.type==="terminal")return/^[0-9]$/.test(F.value)}return!1}function f(W,U){for(var F="",G=W.levelIndicator,ie=0,ne=!1,Y=0;Y<U.length;Y++){u(U,Y)&&(G===""&&/[A-Z]$/.test(F)?F+=s(G):y(W,F)&&(F+="#"));var ge=U[Y],te=Y<U.length-1?U[Y+1]:null;switch(ge.type!=="level"&&G!==W.levelIndicator&&(M(ge)?G="":(W.wasModifiedExpression&&W.levelIndicator===""?W=A(W,{wasModifiedExpression:!1}):F+=s(W.levelIndicator),G=W.levelIndicator)),ge.type){case"terminal":!W.wasModifiedExpression&&G!==""&&M(ge)?F+=" "+s(G)+d(ge).trim()+" ":F+=d(ge),ge.value==="."&&te&&(te.type==="terminal"&&/^[^_\d,]/.test(d(te))||te.type==="greek")&&(F+='"'),W=A(W,{wasFraction:!1,wasRomanCommand:!1});break;case"command":if(!g(ge)){var H=p(ge);H&&(F+='"'),!H&&G!==""&&M(ge)?F+=" "+s(G)+i(ge).trim()+" ":F+=i(ge),W=A(W,{wasFraction:!1,wasModifiedExpression:H,wasRomanCommand:!0})}break;case"greek":F+=l(ge),W=A(W,{wasFraction:!1});break;case"fraction":var pe=b(W,ge);F+=pe.value,ie=Math.max(ie,pe.fractionLevel),W=A(W,{wasFraction:!0,wasRomanCommand:!1});break;case"radical":var fe=m(W,ge);F+=fe.value,ie=Math.max(ie,fe.fractionLevel),W=A(W,{wasFraction:!1,wasRomanCommand:!1});break;case"level":!W.wasModifiedExpression&&W.wasRomanCommand?(ne=/\s$/.test(F))&&(F=F.replace(/\s$/,"")):ne=!1;var re=F.length>0&&/[A-Za-z]/.test(F[F.length-1])===!0,se=c(W,re,ne,ge);F+=se.value,G=se.levelIndicator,W=A(W,{wasFraction:!1,wasRomanCommand:!1});break;case"typeform":F+=f(W,ge.value).value,ge.name==="operator_name"&&(F+=" "),W=A(W,{wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1})}}return{fractionLevel:ie,levelIndicator:G,value:F}}function b(W,U){W=A(W,{isStartOfLine:!1});for(var F=f(W,U.numerator),G=f(W,U.denominator),ie=Math.max(F.fractionLevel,G.fractionLevel),ne="",Y=0;Y<ie;Y++)ne+=",";var ge=ne+"?"+F.value;return F.levelIndicator!==W.levelIndicator&&(ge+=s(W.levelIndicator)),/\.$/.test(F.value)&&(ge+='"'),ge+=ne+"/"+G.value,G.levelIndicator!==W.levelIndicator&&(ge+=s(W.levelIndicator)),/\.$/.test(G.value)&&(ge+='"'),ge+=ne+"#",{fractionLevel:ie+1,value:ge}}function m(W,U){for(var F=W.radicalLevel,G="",ie="",ne=0;ne<F;ne++)ie+=".";if(U.index){G+=ie+"<";var Y=f(A(W,{isStartOfLine:!1}),U.index);G+=Y.value,/\.$/.test(Y.value)&&(G+='"'),Y.levelIndicator!==W.levelIndicator&&(G+=s(W.levelIndicator)),G+=">"}else G+=ie+">";var ge=f(A(W,{isStartOfLine:!1,radicalLevel:F+1}),U.radicand);return G+=ge.value,/\.$/.test(ge.value)&&(G+='"'),ge.levelIndicator!==W.levelIndicator&&(G+=s(W.levelIndicator)),G+=ie+"]",{fractionLevel:ge.fractionLevel,value:G}}function c(W,U,F,G){var ie=W.levelIndicator,ne="",Y=n(G.superscript);if(ne+=Y,G.subscript){W.wasModifiedExpression&&(ne+="%"),ie=W.levelIndicator+";";var ge=f(A(W,{isStartOfLine:!1,levelIndicator:ie}),G.subscript);U&&/^[0-9]*(\.|\,)?[0-9]+$/.test(ge.value)&&ie.length<=1?ie=W.levelIndicator:!W.wasModifiedExpression&&G.subscript[0]&&G.subscript[0].type!=="level"&&(ne+=s(ie)),ne+=ge.value,/\.$/.test(ge.value)&&(ne+='"')}if(G.superscript){W.wasModifiedExpression&&(ne+="<"),ie=W.levelIndicator+"^";var te=f(A(W,{isStartOfLine:!1,levelIndicator:ie}),G.superscript.slice(Y.length));!W.wasModifiedExpression&&G.superscript[0]&&G.superscript[0].type!=="level"&&te.value!==""&&(ne+=s(ie)),ne+=te.value,/\.$/.test(te.value)&&(ne+='"')}return W.wasModifiedExpression?ne+="]":W.wasRomanCommand&&F&&(ne+=" ",ie=ie.slice(0,ie.length-1)),{levelIndicator:ie,value:ne}}function n(W){var U="";if(W)for(var F=0,G=W;F<G.length;F++){var ie=G[F];if(ie.type!=="command"||ie.value!=="\\prime")break;U+="'"}return U}function s(W){return W||'"'}function v(){return{isStartOfLine:!0,levelIndicator:"",radicalLevel:0,wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1}}function A(W,U){return D(D({},W),U)}function M(W){return(W.type==="terminal"||W.type==="command")&&/^<|>|\=|\\leq?|\\geq?|\\neq?$/.test(W.value)}function C(W){return f(v(),W).value}var D=this&&this.__assign||function(){return D=Object.assign||function(W){for(var U,F=1,G=arguments.length;F<G;F++){U=arguments[F];for(var ie in U)Object.prototype.hasOwnProperty.call(U,ie)&&(W[ie]=U[ie])}return W},D.apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var S=w(11),x=w(12),B=w(0);o.default=r;var Z={"!":"&","*":"@#",",":", ","/":"_/",":":"_3","<":' "K ',"=":" .K ",">":" .1 ","?":"_8","[":"@(","\\ ":" ","\\%":"@0","\\&":"_&","\\,":" ","\\infty":",=","\\int":"!","\\{":".(","\\|":"\\\\","\\}":".)","]":"@)","|":"\\"},X={"\\Vert":"\\\\","\\cdot":"*","\\div":"./","\\ge":" .1: ","\\geq":" .1: ","\\langle":"..(","\\ldots":" ''' ","\\le":' "K: ',"\\leq":' "K: ',"\\ne":" /.K ","\\neq":" /.K ","\\approx":" @:@: ","\\nparallel":" /$L ","\\parallel":" $L ","\\perp":" $P ","\\prime":"'","\\prod":".,P","\\rangle":"..)","\\sim":"@:","\\sum":".,S","\\times":"@*","\\vert":"\\"},ee={"\\Alpha":".,A","\\Beta":".,B","\\Chi":".,&","\\Delta":".,D","\\Epsilon":".,E","\\Eta":".,:","\\Gamma":".,G","\\Iota":".,I","\\Kappa":".,K","\\Lambda":".,L","\\Mu":".,M","\\Nu":".,N","\\Omega":".,W","\\Omicron":".,O","\\Phi":".,F","\\Pi":".,P","\\Psi":".,Y","\\Rho":".,R","\\Sigma":".,S","\\Tau":".,T","\\Theta":".,?","\\Upsilon":".,U","\\Xi":".,X","\\Zeta":".,Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"}},function(O,o,w){function r(F){return X.map(Z.default(F),function(G){return D(B.default(G))})}function d(F,G,ie){var ne="",Y=G.value,ge=ie&&ie.type==="terminal"?ie.value:"";return f(Y,F)&&(ne+=";"),/^[\D]/.test(Y)&&(F=C(F,{wasNumber:!1})),/^[a-z]$/.test(Y)?F.capsLock?(F=C(F,{capsLock:!1}),ne+=",'"+Y.toUpperCase()):ne+=Y.toUpperCase():/^[A-Z]$/.test(Y)?F.capsLock?ne+=Y:/[A-Z]/.test(ge)?(F=C(F,{capsLock:!0}),ne+=",,"+Y):ne+=","+Y:(F=C(F,{capsLock:!1}),/^[0-9.]$/.test(Y)?ne+=p(Y):ee.hasOwnProperty(Y)?ne+=ee[Y]:ne+="[terminal: "+Y+"]"),{value:ne,ctx:F}}function i(F,G){var ie;return ie=W.hasOwnProperty(F.value)?W[F.value]:F.value.slice(1).toUpperCase()+" ",f(ie,G)&&(ie=";"+ie),/^[\D]/.test(ie)&&(G=C(G,{wasNumber:!1})),{value:ie,ctx:G}}function l(F){return U.hasOwnProperty(F.value)?U[F.value]:F.value.slice(1).toUpperCase()+" "}function g(F){return F.value==="\\space"}function y(F,G){if(G<F.length){var ie=F[G];if(ie.type==="terminal"){if(/^\d$/.test(ie.value))return!0;if(ie.value!=="."||G+1>=F.length)return!1;if(ie=F[G+1],ie.type==="terminal")return/^\d$/.test(ie.value)}}return!1}function p(F){for(var G="",ie="A".charCodeAt(0)-1,ne=0,Y=F;ne<Y.length;ne++){var ge=Y[ne];G+=ge===","?"1":ge==="."?"4":ge==="0"?"J":String.fromCharCode(ie+Number(ge))}return G}function u(F,G){for(var ie,ne,Y="",ge=!0,te=0;te<G.length;te++){y(G,te)?(F=C(F,{wasNumber:!0}),ge&&(Y+="#",ge=!1)):ge=!0;var H=G[te];switch(H.type){case"terminal":ie=d(F,H,te<G.length-1?G[te+1]:void 0),F=ie.ctx,Y+=ie.value,Y[Y.length-1]===" "&&(ge=!0);break;case"command":g(H)||(ne=i(H,F),F=ne.ctx,Y+=ne.value,Y[Y.length-1]===" "&&(ge=!0));break;case"greek":Y+=l(H),Y[Y.length-1]===" "&&(ge=!0);break;case"fraction":var pe=b(F,H);Y+=pe.value,F=pe.ctx,ge=!1;break;case"radical":Y+=c(F,H).value,ge=!0;break;case"level":var fe=n(F,H);Y+=fe.value,F=fe.ctx,ge=!0;break;case"typeform":var re=u(F,H.value).value;Y+=re,/(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?/.test(re)&&(Y+=" ")}}return{ctx:F,value:Y}}function f(F,G){return G.wasNumber&&/^[A-Ja-j]/.test(F)}function b(F,G){var ie,ne=u(F,G.numerator),Y=u(F,G.denominator);return m(ne.value)&&m(Y.value)?(F=C(F,{wasNumber:!0}),ie=ne.value+"/"+Y.value.slice(1)):(F=C(F,{wasNumber:!1}),ie="("+ne.value+"./"+Y.value+")"),{ctx:F,value:ie}}function m(F){return/^\#[A-J41]+$/.test(F)}function c(F,G){var ie="%";return G.index&&(ie+=u(F,x.group(x.level({"^":G.index}))).value),ie+=u(F,G.radicand).value+"+",{ctx:F,value:ie}}function n(F,G){var ie="",ne=v(G.superscript);ie+=ne;var Y;if(G.subscript){var ge=u(F,G.subscript);Y=A(G.subscript,ge.value,0)?"<"+s(ge.value)+">":ge.value,F=C(F,{wasNumber:ge.ctx.wasNumber}),Y!==""&&(ie+="5"+Y)}if(G.superscript){var te=u(F,G.superscript.slice(ne.length));Y=A(G.superscript,te.value,ne.length)?"<"+s(te.value)+">":te.value,F=C(F,{wasNumber:te.ctx.wasNumber}),ne!==""&&Y===""||(ie+="9"+Y)}return{ctx:F,value:ie}}function s(F){return/^;/.test(F)?F.slice(1):F}function v(F){var G="";if(F)for(var ie=0,ne=F;ie<ne.length;ie++){var Y=ne[ie];if(Y.type!=="command"||Y.value!=="\\prime")break;G+="7"}return G}function A(F,G,ie){var ne=F[0],Y=(G.match(/\</g)||[]).length,ge=/^["|\.|_]?\</.test(G),te=(G.match(/\>/g)||[]).length,H=/["|\.|_]?\>$/.test(G);return!m(G)&&F.length-ie>1&&Y===0&&te===0||Y>0&&te>0&&(!ge||!H)||Y>1||te>1||ne&&ne.type==="typeform"}function M(){return{capsLock:!1,wasNumber:!1}}function C(F,G){return S(S({},F),G)}function D(F){return u(M(),F).value}var S=this&&this.__assign||function(){return S=Object.assign||function(F){for(var G,ie=1,ne=arguments.length;ie<ne;ie++){G=arguments[ie];for(var Y in G)Object.prototype.hasOwnProperty.call(G,Y)&&(F[Y]=G[Y])}return F},S.apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var x=w(7),B=w(11),Z=w(12),X=w(0);o.default=r;var ee={"!":"6","(":'"<',")":'">',"*":'"9',"+":'"6',",":"1","-":'"-',".":"4","/":"_/",":":"3","<":"@<","=":'"7',">":"@>","?":"8","[":".<","\\ ":" ","\\%":".0","\\&":"@&","\\,":" ","\\infty":"#=","\\int":"!","\\{":"_<","\\|":"_\\_\\","\\}":"_>","]":".>","|":"_\\"},W={"\\Vert":"_\\_\\","\\cdot":'"4',"\\div":'"/',"\\ge":"_@>","\\geq":"_@>","\\langle":"@<","\\ldots":"444","\\le":"_@<","\\leq":"_@<","\\ne":'"7@:',"\\neq":'"7@:',"\\approx":"^9","\\parallel":"#L","\\perp":"#-","\\prime":"7","\\prod":",.P","\\rangle":"@>","\\sim":"@9","\\sum":",.S","\\times":'"8',"\\vert":"_\\"},U={"\\Alpha":",.A","\\Beta":",.B","\\Chi":",.&","\\Delta":",.D","\\Epsilon":",.E","\\Eta":",.:","\\Gamma":",.G","\\Iota":",.I","\\Kappa":",.K","\\Lambda":",.L","\\Mu":",.M","\\Nu":",.N","\\Omega":",.W","\\Omicron":",.O","\\Phi":",.F","\\Pi":",.P","\\Psi":",.Y","\\Rho":",.R","\\Sigma":",.S","\\Tau":",.T","\\Theta":",.?","\\Upsilon":",.U","\\Xi":",.X","\\Zeta":",.Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"}},function(O,o,w){function r(M,C){for(var D="",S=C,x="",B=!1,Z="",X="",ee=d(M),W=0;W<M.length;W++){var U=M[W],F=W+1<M.length?M[W+1]:null;switch(U.type){case"terminal":var G=b.getAutoOperator(M.slice(W));G.value!==""?(D+=G.value,W+=G.terminalCount-1,B=B||G.modified):U.value===" "?(B?(x=Z,D+=p(S,x),S=x):D+="\\ ",B=!1):(ee[W]===n?D+="\\left":ee[W]===s&&(D+="\\right"),D+=U.value);break;case"comparison":x="",D+=p(S,x),S=x,B=!1,D+=U.value;break;case"level_with_comparison":D+=p(S,U.level),S=U.level,B=!1,D+=U.value;break;case"command":var ie=U.value.slice(1).trim();F&&F.type==="terminal"&&/[a-z]/.test(F.value)?(D+=ie,B=!1):b.containsValue(ie)?(D+="\\operatorname{"+ie+"}",B=!0):(D+=U.value,B=!0),Z=S;break;case"expression":D+=U.value;break;case"fraction":D+=y(U.numerator,U.denominator,S);break;case"modified_expression":D+=r(U.expression,S)+" ",U.under&&(D+="_{"+r(U.under,S)+"}"),U.over&&(D+="^{"+r(U.over,S)+"}");break;case"radical":D+="\\sqrt",U.index&&(D+="["+r(U.index,S)+"]"),D+="{"+r(U.value,S)+"}";break;case"simple_subscript":S===""?(D+=U.base.value+"_{"+U.subscript.value+"}",U.base.type==="command"&&(B=!0,Z=S)):D+=U.base.value+U.subscript.value;break;case"level":D+=p(S,U.value,X),S=U.value,U.value==="^"&&X!==""&&(X="");break;case"primes":F&&F.type==="level"&&F.value===";"?X=U.value:S!==""?(D+=Array(U.value.length+1).join("\\prime "),X=""):(D+=U.value,X="")}}return D+=p(S,C)+X,D.replace(/([^\\])( )$/,"$1")}function d(M){for(var C=[],D=[],S=0;S<M.length;S++){var x=M[S];if(i(x))C.push({direction:n,index:S}),D.push(v);else if(l(x)){for(;C.length&&C[C.length-1].direction===A;)C.pop();if(C.length){var B=C.pop();if(B){var Z=B.index;D[Z]=n,D.push(s)}}else D.push(v)}else if(g(x))if(C.length&&C[C.length-1].direction===A){var B=C.pop();if(B){var Z=B.index;D[Z]=n,D.push(s)}}else C.push({direction:A,index:S}),D.push(v);else D.push(v)}return D}function i(M){return M.type==="terminal"&&/^(\\langle |\[|\(|\\{)$/.test(M.value)}function l(M){return M.type==="terminal"&&/^(\\rangle |\]|\)|\\})$/.test(M.value)}function g(M){return M.type==="terminal"&&/^(\\\||\|)$/.test(M.value)}function y(M,C,D){return"\\frac{"+r(M,D)+"}{"+r(C,D)+"}"}function p(M,C,D){var S,x,B,Z="",X=Math.max(M.length,C.length);for(S=0;S<X&&M[S]===C[S];S++);for(x=M.length-1;x>=S;x--)Z+="}";for(B=S;B<C.length;B++)C[B]==="^"&&(D&&(Z+=D),Z+="^{"),C[B]===";"&&(Z+="_{");return Z}function u(M){return r(M,"")}function f(M,C){return C&&C.operatorNames?b.setOperatorNames(C.operatorNames):b.resetOperatorNames(),c.map(m.default(M,C),u)}Object.defineProperty(o,"__esModule",{value:!0});var b=w(2),m=w(18),c=w(0),n=1,s=-1,v=0,A=2;o.default=f},function(O,o,w){function r(M){return{type:"terminal",value:M}}function d(M){return{type:"command",value:"\\"+M.trim()+" "}}function i(M){var C=/[\^;]+/.exec(M),D=C?C.toString():"",S=M.slice(g.length);return{type:"level_with_comparison",level:D,value:v[S]}}function l(M){return{type:"comparison",value:v[M]}}function g(M){return{type:"level",value:M}}function y(){return g("")}function p(M){return{type:"primes",value:M}}function u(M,C){return{type:"fraction",numerator:M,denominator:C}}function f(M,C,D){return{type:"modified_expression",expression:M,under:C,over:D}}function b(M,C){return{type:"radical",value:M,index:C}}function m(M){return{type:"expression",value:M}}function c(M,C){return{type:"simple_subscript",base:M,subscript:C}}function n(M){if(A.hasOwnProperty(M))return A[M]+" ";throw new Error("Unknown Greek letter")}function s(){for(var M=[],C=0;C<arguments.length;C++)M[C]=arguments[C];return Array.prototype.concat.apply([],M)}Object.defineProperty(o,"__esModule",{value:!0}),o.terminal=r,o.command=d;var v={'"K':"<",'"K:':"\\leq ",$L:"\\parallel ",$P:"\\perp ",".1":">",".1:":"\\geq ",".K":"=","@:@:":"\\approx","/$L":"\\nparallel ","/.K":"\\neq ","=":"=","@:":"\\sim "};o.level_with_comparison=i,o.comparison=l,o.level=g,o.baseline=y,o.primes=p,o.fraction=u,o.modified_expression=f,o.radical=b,o.expression=m,o.simple_subscript=c;var A={".&":"\\chi",".,&":"\\Chi",".,:":"\\Eta",".,?":"\\Theta",".,A":"\\Alpha",".,B":"\\Beta",".,D":"\\Delta",".,E":"\\Epsilon",".,F":"\\Phi",".,G":"\\Gamma",".,I":"\\Iota",".,K":"\\Kappa",".,L":"\\Lambda",".,M":"\\Mu",".,N":"\\Nu",".,O":"\\Omicron",".,P":"\\prod",".,R":"\\Rho",".,S":"\\sum",".,T":"\\Tau",".,U":"\\Upsilon",".,W":"\\Omega",".,X":"\\Xi",".,Y":"\\Psi",".,Z":"\\Zeta",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};o.greek=n,o.group=s},function(O,o,w){function r(p,u){u||(u={});var f=l.parser,b=Object.create(f);b.yy=g,b.yy.warnOrError=function(c){b.parseError(c,{recoverable:!1})};var m=Object.create(f);m.yy=d({warnings:[]},g),m.yy.warnOrError=function(c){m.yy.warnings.push(c)},m.lexer=y.default,f=u.strict?b:m;try{return{isError:!1,value:f.parse(p),warnings:f.yy.warnings||[]}}catch(c){return{error:i.default(c),isError:!0}}}var d=this&&this.__assign||function(){return d=Object.assign||function(p){for(var u,f=1,b=arguments.length;f<b;f++){u=arguments[f];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(p[m]=u[m])}return p},d.apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var i=w(6),l=w(9),g=w(17),y=w(20);o.default=r},function(O,o,w){function r(p,u){u||(u={});var f=g.parser,b=Object.create(f);b.yy=y;var m=Object.create(f);m.yy=d({warnings:[]},y),m.lexer=l.default,f=u.strict?b:m;try{return{isError:!1,value:f.parse(p),warnings:f.yy.warnings||[]}}catch(c){return{error:i.default(c),isError:!0}}}var d=this&&this.__assign||function(){return d=Object.assign||function(p){for(var u,f=1,b=arguments.length;f<b;f++){u=arguments[f];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(p[m]=u[m])}return p},d.apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var i=w(6),l=w(21),g=w(10),y=w(24);o.default=r},function(O,o,w){Object.defineProperty(o,"__esModule",{value:!0});var r=w(9),d=r.parser.lexer,i=Object.create(d);o.default=i;var l=r.parser.terminals_,g=r.parser.symbols_;i.setInput=function(y,p){this.delimiterStack=[],this.outputQueue=[],this.canAcceptPrimes=!1,d.setInput.call(this,y,p)},i.lex=function(){var y=-1;if(!this)return y;if(this.outputQueue.length)return this.outputQueue.shift();for(var p=d.lex.call(this);l[p]==="UNKNOWN"||!this.canAcceptPrimes&&l[p]==="PRIMES";)this.warn(),p=d.lex.call(this);this.canAcceptPrimes=!0;var u,f,b=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(l[p]){case"OPEN_FRAC":case"OPEN_MODEXP":this.delimiterStack.push(p),this.canAcceptPrimes=!1;break;case"RADICAL_INDEX":b===g.RADICAL_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(b)),this.delimiterStack.push(p),this.canAcceptPrimes=!1;break;case"OPEN_RADICAL":b===g.RADICAL_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(p),this.canAcceptPrimes=!1;break;case"SLASH":for(u=!1;this.delimiterStack.length;){if((f=this.delimiterStack.pop()||-1)===g.OPEN_FRAC){u=!0;break}this.pushCloseTokens(f)}u||this.pushOpenTokens(p),this.delimiterStack.push(p),this.canAcceptPrimes=!1;break;case"CLOSE_FRAC":for(u=!1;this.delimiterStack.length;){if((f=this.delimiterStack.pop()||-1)===g.SLASH){u=!0;break}if(f===g.OPEN_FRAC){this.addMissingToken(g.SLASH),u=!0;break}this.pushCloseTokens(f)}if(!u)return this.warn(),this.canAcceptPrimes=!1,this.lex();break;case"CLOSE_RADICAL":for(u=!1;this.delimiterStack.length;){if((f=this.delimiterStack.pop()||-1)===g.OPEN_RADICAL){u=!0;break}if(f===g.RADICAL_INDEX){u=!0,this.addMissingToken(g.OPEN_RADICAL);break}this.pushCloseTokens(f)}u||this.pushOpenTokens(p);break;case"CLOSE_MODEXP":for(u=!1;this.delimiterStack.length;){if((f=this.delimiterStack.pop()||-1)===g.OPEN_MODEXP){u=!0;break}this.pushCloseTokens(f)}u||this.pushOpenTokens(p);break;case"EOF":for(;this.delimiterStack.length;)f=this.delimiterStack.pop()||-1,this.pushCloseTokens(f)}return this.outputQueue.push(p),y=this.outputQueue.shift()||-1},i.warn=function(){this.yylloc&&this.yy.warnings.push({location:this.yylloc})},i.addMissingToken=function(y){this.outputQueue.push(y),this.warn()},i.pushCloseTokens=function(y){switch(l[y]){case"OPEN_FRAC":this.addMissingToken(g.SLASH),this.addMissingToken(g.CLOSE_FRAC);break;case"SLASH":this.addMissingToken(g.CLOSE_FRAC);break;case"RADICAL_INDEX":this.addMissingToken(g.OPEN_RADICAL),this.addMissingToken(g.CLOSE_RADICAL);break;case"OPEN_RADICAL":this.addMissingToken(g.CLOSE_RADICAL);break;case"OPEN_MODEXP":this.addMissingToken(g.CLOSE_MODEXP)}},i.pushOpenTokens=function(y){switch(l[y]){case"SLASH":this.addMissingToken(g.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(g.OPEN_FRAC),this.addMissingToken(g.SLASH);break;case"CLOSE_RADICAL":this.addMissingToken(g.OPEN_RADICAL);break;case"CLOSE_MODEXP":this.addMissingToken(g.OPEN_MODEXP)}}},function(O,o,w){Object.defineProperty(o,"__esModule",{value:!0});var r=w(10),d=r.parser.lexer,i=Object.create(d);o.default=i;var l=r.parser.terminals_,g=r.parser.symbols_;i.setInput=function(y,p){this.delimiterStack=[],this.outputQueue=[],d.setInput.call(this,y,p)},i.lex=function(){if(this.outputQueue.length)return this.outputQueue.shift();for(var y=d.lex.call(this);l[y]==="UNKNOWN";)this.warn(),y=d.lex.call(this);var p,u,f=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(l[y]){case"OPEN_FRAC":case"OPEN_GROUP":this.delimiterStack.push(y);break;case"RADICAL_WITH_INDEX":f===g.RADICAL_WITH_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(f)),this.delimiterStack.push(y);break;case"RADICAL":f===g.RADICAL_WITH_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(y);break;case"OVER":for(p=!1;this.delimiterStack.length;){if((u=this.delimiterStack.pop()||-1)===g.OPEN_FRAC){p=!0;break}this.pushCloseTokens(u)}p||this.pushOpenTokens(y),this.delimiterStack.push(y);break;case"CLOSE_FRAC":for(p=!1;this.delimiterStack.length;){if((u=this.delimiterStack.pop()||-1)===g.OVER){p=!0;break}if(u===g.OPEN_FRAC){this.outputQueue.push(g.OVER),p=!0;break}this.pushCloseTokens(u)}p||this.pushOpenTokens(y);break;case"CLOSE_GROUP":for(p=!1;this.delimiterStack.length;){if((u=this.delimiterStack.pop()||-1)===g.OPEN_GROUP){p=!0;break}this.pushCloseTokens(u)}p||this.pushOpenTokens(y);break;case"CLOSE_RADICAL":for(p=!1;this.delimiterStack.length;){if((u=this.delimiterStack.pop()||-1)===g.RADICAL||u===g.RADICAL_WITH_INDEX){p=!0;break}this.pushCloseTokens(u)}p||this.pushOpenTokens(y);break;case"EOF":for(;this.delimiterStack.length;)u=this.delimiterStack.pop()||-1,this.pushCloseTokens(u)}return this.outputQueue.push(y),this.outputQueue.shift()||-1},i.warn=function(){this.yylloc&&this.yy.warnings.push({location:this.yylloc})},i.addMissingToken=function(y){this.outputQueue.push(y),this.warn()},i.pushCloseTokens=function(y){switch(l[y]){case"OPEN_FRAC":this.addMissingToken(g.OVER),this.addMissingToken(g.CLOSE_FRAC);break;case"OVER":this.addMissingToken(g.CLOSE_FRAC);break;case"OPEN_GROUP":this.addMissingToken(g.CLOSE_GROUP);break;case"RADICAL_WITH_INDEX":case"RADICAL":this.addMissingToken(g.CLOSE_RADICAL)}},i.pushOpenTokens=function(y){switch(l[y]){case"OVER":this.addMissingToken(g.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(g.OPEN_FRAC),this.addMissingToken(g.OVER);break;case"CLOSE_GROUP":this.addMissingToken(g.OPEN_GROUP);break;case"CLOSE_RADICAL":this.addMissingToken(g.RADICAL)}}},function(O,o,w){function r(l){return l.isError}function d(l){return!l.isError}function i(l,g){return r(l)?l:{isError:!1,value:g(l.value)}}Object.defineProperty(o,"__esModule",{value:!0}),o.isErr=r,o.isOk=d,o.map=i},function(O,o,w){function r(C,D){for(var S="",x=!1,B="",Z=d(C),X=0;X<C.length;X++){var ee=C[X],W=X+1<C.length?C[X+1]:null;switch(ee.type){case"terminal":var U=b.getAutoOperator(C.slice(X));U.value!==""?(S+=U.value,X+=U.terminalCount-1):ee.value!==" "||x?(Z[X]===n?S+="\\left":Z[X]===s&&(S+="\\right"),S+=ee.value):S+="\\ ",x=!1;break;case"command":var F=ee.value.slice(1).trim();W&&W.type==="terminal"&&/[a-z]/.test(W.value)?(S+=F,x=!1):b.containsValue(F)?(S+="\\operatorname{"+F+"}",x=!0):(S+=ee.value,x=!0);break;case"expression":S+=ee.value;break;case"fraction":S+=y(ee.numerator,ee.denominator);break;case"radical":S+="\\sqrt",ee.index&&(S+="["+r(ee.index)+"]"),S+="{"+r(ee.value)+"}";break;case"basic_level":S+=p(ee.level,ee.value,B),ee.level==="9"&&(B="");break;case"bracketed_level":S+=u(ee.level,ee.lbrack,ee.value,ee.rbrack,B),ee.level==="9"&&(B="");break;case"primes":!W||W.type!=="basic_level"&&W.type!=="bracketed_level"||W.level!=="5"?D&&D!==""?(S+=Array(ee.value.length+1).join("\\prime "),B=""):(S+=ee.value,B=""):B=ee.value}}return S+=B,S.replace(/([^\\])( )$/,"$1")}function d(C){for(var D=[],S=[],x=0;x<C.length;x++){var B=C[x];if(i(B))D.push({direction:n,index:x}),S.push(v);else if(l(B)){for(;D.length&&D[D.length-1].direction===A;)D.pop();if(D.length){var Z=D.pop();if(Z){var X=Z.index;S[X]=n,S.push(s)}}else S.push(v)}else if(g(B))if(D.length&&D[D.length-1].direction===A){var Z=D.pop();if(Z){var X=Z.index;S[X]=n,S.push(s)}}else D.push({direction:A,index:x}),S.push(v);else S.push(v)}return S}function i(C){return C.type==="terminal"&&/^(\\langle |\[|\(|\\{)$/.test(C.value)}function l(C){return C.type==="terminal"&&/^(\\rangle |\]|\)|\\})$/.test(C.value)}function g(C){return C.type==="terminal"&&/^(\\\||\|)$/.test(C.value)}function y(C,D){return"\\frac{"+r(C)+"}{"+r(D)+"}"}function p(C,D,S){var x="",B="{"+r(D,C)+"}";return C==="9"?x+=S+"^"+B:C==="5"&&(x+="_"+B),x}function u(C,D,S,x,B){var Z="",X="{"+D+r(S,C)+x+"}";return C==="9"?Z+=B+"^"+X:C==="5"&&(Z+="_"+X),Z}function f(C,D){return D&&D.operatorNames?b.setOperatorNames(D.operatorNames):b.resetOperatorNames(),c.map(m.default(C,D),function(S){return M(S,"")})}Object.defineProperty(o,"__esModule",{value:!0});var b=w(2),m=w(19),c=w(0),n=1,s=-1,v=0,A=2,M=r;o.default=f},function(O,o,w){function r(n){return{type:"terminal",value:n}}function d(n){return{type:"command",value:n}}function i(n,s){return{type:"basic_level",level:n,value:s}}function l(n,s,v,A){return{type:"bracketed_level",level:n,lbrack:s,value:v,rbrack:A}}function g(n){return{type:"primes",value:n.length>0?Array(n.length+1).join("'"):""}}function y(n,s){return{type:"fraction",numerator:n,denominator:s}}function p(n,s){return{type:"radical",value:n,index:s}}function u(n){return{type:"expression",value:n}}function f(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return Array.prototype.concat.apply([],n)}function b(n){if(c.hasOwnProperty(n))return c[n]+" ";throw new Error("Unknown Greek letter")}function m(n){for(var s="",v="A".charCodeAt(0)-1,A=0,M=n;A<M.length;A++){var C=M[A];s+=C==="4"?".":C==="J"?"0":C.charCodeAt(0)-v}return s}Object.defineProperty(o,"__esModule",{value:!0}),o.terminal=r,o.command=d,o.basic_level=i,o.bracketed_level=l,o.primes=g,o.fraction=y,o.radical=p,o.expression=u,o.group=f;var c={",.&":"\\Chi",",.:":"\\Eta",",.?":"\\Theta",",.A":"\\Alpha",",.B":"\\Beta",",.D":"\\Delta",",.E":"\\Epsilon",",.F":"\\Phi",",.G":"\\Gamma",",.I":"\\Iota",",.K":"\\Kappa",",.L":"\\Lambda",",.M":"\\Mu",",.N":"\\Nu",",.O":"\\Omicron",",.P":"\\prod",",.R":"\\Rho",",.S":"\\sum",",.T":"\\Tau",",.U":"\\Upsilon",",.W":"\\Omega",",.X":"\\Xi",",.Y":"\\Psi",",.Z":"\\Zeta",".&":"\\chi",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};o.greek=b,o.to_number=m},function(O,o,w){function r(c){return String.fromCharCode(m+c)}function d(c){return c.charCodeAt(0)-m}function i(c){return b[c]}function l(c){return b.indexOf(c)}function g(c){for(var n="",s=0,v=c;s<v.length;s++)n+=r(l(v[s]));return n}function y(c){for(var n="",s=0,v=c;s<v.length;s++)n+=i(d(v[s]));return n}function p(c){return y(c).replace(/[@-^]/g,function(n){return String.fromCharCode(n.charCodeAt(0)+32)})}function u(c){var n="";if(c)for(var s=0,v=c;s<v.length;s++){var A=v[s],M=A.charCodeAt(0);96<=M&&M<=127&&(M-=32,A=String.fromCharCode(M)),32<=M&&M<=95&&(A=g(A),M=A.charCodeAt(0)),10305<=M&&M<=10495&&(M=10240+(M-1024)%64,A=String.fromCharCode(M)),n+=10240<=M&&M<=10304?A:String.fromCharCode(10240)}return n}function f(c){for(var n=0;n<c.length;n++){var s=c.charCodeAt(n);if(s<10240||s>10304)return!1}return!0}Object.defineProperty(o,"__esModule",{value:!0});var b=` A1B'K2L@CIF/MSP"E3H9O6R^DJG>NTQ,*5<-U8V.%[$+X!&;:4\\0Z7(_?W]#Y)=`,m=10240;o.toBrailleAscii=y,o.toExpandedBrailleAscii=p,o.coerceToSixDotCells=u,o.isSixDotCells=f},function(O,o,w){w(3),O.exports=w(3)}])}),q("submodules/dcgview/src/attr-event-handler",[],function(){function O(o,w){if(w!=null){if(typeof o!="string")throw new Error("Must pass a string for an EventHandler name");if(typeof w!="function")throw new Error("Must pass a function for an EventHandler callback");return{bindings:{onMount:function(r){r[o.toLowerCase()]=function(d){d&&w.apply(this,arguments)}}}}}}return O}),q("submodules/dcgview/src/const",["require"],function(O){function o(r){var d=function(){return r};return d.isDCGViewConst=!0,d}function w(r){return!(typeof r!="function"||!r.isDCGViewConst)}return{isConst:w,makeConst:o}}),q("submodules/dcgview/src/attr",["require"],function(O){function o(w,r,d){d===void 0?w.removeAttribute(r):w.setAttribute(r,d+"")}return{update:o}}),q("submodules/dcgview/src/attr-generic",["require","./const","./attr"],function(O){function o(d,i){var l,g=i();return w.isConst(i)||(l={onUpdate:function(y){var p=i();p!==g&&(g=p,r.update(y,d,p))}}),{value:g,bindings:l}}var w=O("./const"),r=O("./attr");return o}),q("submodules/dcgview/src/is-event-handler",[],function(){function O(o){return o[0]==="o"&&o[1]==="n"&&o[2].toUpperCase()===o[2]}return O}),q("submodules/dcgview/src/custom-attributes",["require"],function(O){function o(i,l){d[i]=l}function w(i){return d.hasOwnProperty(i)}function r(i,l){return(0,d[i])(l)}var d={};return{isCustomAttribute:w,add:o,parse:r}}),q("submodules/dcgview/src/bindings",["require"],function(O){function o(r,d,i){var l=r._bindings[d];l?l.push(i):r._bindings[d]=[i]}function w(r,d){var i=r._bindings[d];if(i)for(var l=i.length,g=0;g<l;g++)i[g]()}return{add:o,invoke:w}}),q("submodules/dcgview/src/bind-attrs",["require","./attr-event-handler","./attr-generic","./is-event-handler","./custom-attributes","./bindings"],function(O){function o(u,f,b){var m=b.bindings;if(m)for(var c in m){var n=m[c];c in p&&(n=n.bind(null,f)),y.add(u,c,n)}}function w(u,f){if(typeof f!="function")throw new Error('The "'+u+'" attr must be a function. It is: '+JSON.stringify(f));return g.isCustomAttribute(u)?g.parse(u,f):l(u)?d(u,f):i(u,f)}function r(u,f,b){if(f)for(var m in f){var c=w(m,f[m]);if(c){var n=c.value;n!==void 0&&b.setAttribute(m,n),c.bindings&&o(u,b,c)}}}var d=O("./attr-event-handler"),i=O("./attr-generic"),l=O("./is-event-handler"),g=O("./custom-attributes"),y=O("./bindings"),p={onMount:!0,didMount:!0,willUnmount:!0,willUpdate:!0,onUpdate:!0,didUpdate:!0};return r}),q("submodules/dcgview/src/bind-text",["require","./bindings"],function(O){function o(){d=!0}function w(i,l,g){if(typeof g!="function")throw new Error("bindText expects a function");var y=g();y!=null||(y="");var p=document.createTextNode(y);if(d){var u=document.createElement("span");u.appendChild(p),l.appendChild(u)}else l.appendChild(p);r.add(i,"onUpdate",function(){var f=g();f!=null||(f=""),y!==f&&(p.nodeValue=f,y=f)})}var r=O("./bindings"),d=!1;return{bindText:w,enableSpanWrapping:o}}),q("submodules/dcgview/src/warnings",["require"],function(O){function o(i){d.push(i)}function w(i){var l=d;d=[];for(var g=0;g<l.length;g++){var y=l[g];y!==i&&d.push(y)}}function r(i){try{throw new Error(i)}catch(g){console.warn(g);for(var l=0;l<d.length;l++)d[l](g)}}var d=[];return{warn:r,addWarningHandler:o,removeWarningHandler:w}}),q("submodules/dcgview/src/dcg-element",["require","./bind-attrs","./bind-text","./const","./warnings"],function(O){function o(g,y){var p=document.createTextNode(y);g.appendChild(p)}function w(g,y,p){this.tagName=g,this.attrs=y,this.children=p}var r=O("./bind-attrs"),d=O("./bind-text").bindText,i=O("./const"),l=O("./warnings");return w.prototype._isDCGElement=!0,w.prototype.renderToDocFrag=function(g,y){if(this._domNode)throw new Error("Cannot remount a DCGElement");var p=this.children,u=document.createElement(this.tagName);this._domNode=u,r(y,this.attrs,u),g.appendChild(u);for(var f=p.length,b=0;b<f;b++){var m=p[b];m._isDCGElement?m.renderToDocFrag(u,y):i.isConst(m)?o(u,m()):typeof m=="function"?d(y,u,m):(l.warn("Text should be a const or a getter: "+JSON.stringify(m)),o(u,m))}},w}),q("submodules/dcgview/src/create-element",["require","./dcg-element"],function(O){function o(d,i){if(d!=null)if(Array.isArray(d))for(var l=0;l<d.length;l++)o(d[l],i);else i.push(d)}function w(d,i){for(var l=[],g=arguments.length-1,y=2;y<=g;y++)o(arguments[y],l);if(typeof d=="string")return new r(d,i,l);if(d&&d._isDCGViewClass)return new d(i,l);throw new Error("createElement expects a String or DCGViewClass")}var r=O("./dcg-element");return w}),q("submodules/dcgview/src/mounting",["require","./bindings"],function(O){function o(){for(var m=this._element;m._isDCGView;)m=m._element;return m._domNode}function w(m,c){if(c&&c._childViews.push(this),this.__generatedHTMLBefore)throw new Error("Cannot remount a DCGView");this.__generatedHTMLBefore=!0,this._element.renderToDocFrag(m,this)}function r(m,c,n){if(!m||!m._isDCGViewClass)throw new Error("Must pass a DCGView class to be mounted");if(!c||c.nodeType!==1)throw new Error("Must pass an HTMLElement for the node");if(c._mountedDCGView)throw new Error("This node is already mounted by a view");var s=new m(n),v=document.createDocumentFragment();return s.renderToDocFrag(v),c.innerHTML="",i(s),c._mountedDCGView=s,c.appendChild(v),l(s),g(s),s}function d(m){var c=m._mountedDCGView;if(!c)throw new Error("This node is not mounted by a DCGView");y(c),m.innerHTML="",delete m._mountedDCGView,p(c),u(c)}function i(m){m.willMount&&m.willMount(),b.invoke(m,"willMount"),m._childViews.forEach(i)}function l(m){m._isMounted=!0,m.onMount&&m.onMount(),b.invoke(m,"onMount"),m._childViews.forEach(l)}function g(m){m.didMount&&m.didMount(),b.invoke(m,"didMount"),m._childViews.forEach(g)}function y(m){m.willUnmount&&m.willUnmount(),b.invoke(m,"willUnmount"),m._childViews.forEach(y)}function p(m){m._isMounted=!1,m._childViews.forEach(p),b.invoke(m,"onUnmount"),m.onUnmount&&m.onUnmount()}function u(m){m._childViews.forEach(u),b.invoke(m,"didUnmount"),m.didUnmount&&m.didUnmount()}function f(m,c){var n=document.createDocumentFragment();return m.renderToDocFrag(n,c),n.firstChild}var b=O("./bindings");return{renderToDocFrag:w,findRootNode:o,createNodeForView:f,willMount:i,onMount:l,didMount:g,willUnmount:y,onUnmount:p,didUnmount:u,mountToNode:r,unmountFromNode:d}}),q("submodules/dcgview/src/update",["require","./bindings","./warnings"],function(O){function o(){if(!this._isMounted)return r.warn("Trying to update view that is not mounted. Ignoring update.");if(!this.shouldUpdate||this.shouldUpdate()){if(this.willUpdate&&this.willUpdate(),w.invoke(this,"willUpdate"),w.invoke(this,"onUpdate"),this.onUpdate&&this.onUpdate(),this.overrideChildUpdates)this.overrideChildUpdates();else for(var d=this._childViews,i=d.length,l=0;l<i;l++)d[l].update();w.invoke(this,"didUpdate"),this.didUpdate&&this.didUpdate()}}var w=O("./bindings"),r=O("./warnings");return{update:o}}),q("submodules/dcgview/src/spread",["require"],function(O){function o(w){var r=arguments.length;if(r<2)return w;for(var d=1;d<r;d++)for(var i=arguments[d],l=Object.keys(i),g=l.length,y=0;y<g;y++){var p=l[y];w[p]=i[p]}return w}return o}),q("submodules/dcgview/src/create-class",["require","./create-element","./mounting","./update","./const","./spread"],function(O){function o(g){if(!g)throw new Error("must pass a spec to DCGView.createClass");if(typeof g.template!="function")throw new Error("must pass a template function to DCGView.createClass");var y=function(u,f){this._setupProps(u,f),this.init&&this.init(),this._callTemplate()};y.prototype._setupProps=function(u,f){if(u){for(var b in u){var m=u[b];if(typeof m!="function"&&m!==void 0)throw new Error('The "'+b+'" prop must be a function. It is: '+JSON.stringify(m))}this.props=u}else this.props={};this.children=f,this._childViews=[],this._bindings={}},y.prototype._callTemplate=function(){if(this._element=this.template(),!this._element||!this._element._isDCGElement)throw new Error("template() must return a DCGElement")},y.prototype.bindFn=function(u){return u.bind(this)},y.prototype.findRootNode=r.findRootNode,y.prototype.renderToDocFrag=r.renderToDocFrag,y.prototype.const=i.makeConst,y.prototype.spread=l,y.prototype.createElement=w,y.prototype.update=d.update;for(var p in g)if(g.hasOwnProperty(p)){if(y.prototype.hasOwnProperty(p))throw new Error("Cannot override the "+p+"() method");y.prototype[p]=g[p]}return y._isDCGViewClass=!0,y.prototype._isDCGView=!0,y.prototype._isDCGElement=!0,y}var w=O("./create-element"),r=O("./mounting"),d=O("./update"),i=O("./const"),l=O("./spread");return o}),q("submodules/dcgview/src/attr-style",["require","./const","./attr"],function(O){function o(i){var l=i(),g=typeof l;if(g==="string")return l;if(!g||g!=="object")throw new Error("Unsupported type returned from style getter: "+g);var y="";for(var p in l){var u=l[p];l.hasOwnProperty(p)&&u!==null&&u!==void 0&&(y?y+=";"+p+":"+u:y=p+":"+u)}return y}function w(i){var l,g=o(i);return r.isConst(i)||(l={onUpdate:function(y){var p=o(i);g!==p&&(d.update(y,"style",p),g=p)}}),{value:g,bindings:l}}var r=O("./const"),d=O("./attr");return w}),q("submodules/dcgview/src/attr-class",["require","./const"],function(O){function o(g){var y=g(),p=typeof y;if(p==="string")return y;if(!p||p!=="object")throw new Error("Unsupported type returned from class getter: "+p);var u="";for(var f in y)if(y.hasOwnProperty(f)){var b=y[f];b&&(u?u+=" "+f:u=f)}return u}function w(g,y,p){for(var u=[],f=g.className.replace(i,"").split(l),b=y.replace(i,"").split(l),m={},c=b.length-1;c>=0;c--)m[b[c]]=!0;var n=f.length;for(c=0;c<n;c++){var s=f[c];m.hasOwnProperty(s)||u.push(s)}return p?u.length?p+" "+u.join(" "):p:u.join(" ")}function r(g){var y,p=o(g);return d.isConst(g)||(y={onUpdate:function(u){var f=o(g);p!==f&&(u.className===p?(u.className=f,p=f):(u.className=w(u,p,f),p=f))}}),{value:p,bindings:y}}var d=O("./const"),i=/^\s+|\s+$/g,l=/\s+/;return r}),q("submodules/dcgview/src/attr-lifecycle",["require","./const"],function(O){function o(r){return function(d){if(typeof d!="function")throw new Error("The "+r+" attribute expects a function for the value");if(w.isConst(d))throw new Error("The "+r+" attribute does not expect a const for the value");var i={bindings:{}};return i.bindings[r]=d,i}}var w=O("./const");return o}),q("submodules/dcgview/src/longest-subsequence",["require"],function(O){return function(o){var w,r,d=o.length,i=new Array(d),l=new Array(d+1),g=0;for(r=0;r<d;r++){if(o[l[g]]<o[r])w=g+1;else{for(var y=1,p=g-1;y<=p;){var u=Math.ceil((y+p)/2);o[l[u]]<o[r]?y=u+1:p=u-1}w=y}i[r]=l[w-1],l[w]=r,w>g&&(g=w)}var f=new Array(g),b=l[g];for(r=g-1;r>=0;r--)f[r]=o[b],b=i[b];return f}}),q("submodules/dcgview/src/compute-key-mutations",["require","./longest-subsequence"],function(O){function o(r,d){var i,l,g={},y=[],p=[];for(i=0;i<d.length;i++)l=d[i],g[l]=i;for(i=0;i<r.length;i++)l=r[i],g[l]===void 0&&y.push(l);var u=[];for(i=0;i<r.length;i++){l=r[i];var f=g[l];f!==void 0&&u.push(f)}var b=w(u),m={};for(i=0;i<b.length;i++)l=d[b[i]],m[l]=!0;for(i=d.length-1;i>=0;i--)l=d[i],m[l]||p.push({key:l,beforeKey:d[i+1]});return{removes:y,inserts:p}}var w=O("./longest-subsequence");return o}),q("submodules/dcgview/src/for",["require","./create-class","./compute-key-mutations","./const","./mounting"],function(O){var o=O("./create-class"),w=O("./compute-key-mutations"),r=O("./const"),d=O("./mounting"),i=o({template:function(){return this.children[0]}});return o({_isDCGFor:!0,getKeys:function(){this._keyToItem={};var l=this.props.each();if(!Array.isArray(l))throw new Error("<For each={}> must return an array");var g=this.props.key?l.map(this.props.key):l.slice(0);if(!this._chosenKeyType&&g.length&&(this._chosenKeyType=typeof g[0],this._chosenKeyType!=="string"&&this._chosenKeyType!=="number"))throw new Error("The key: "+JSON.stringify(g[0])+" is not a string or number");for(var y=0;y<g.length;y++){var p=g[y];if(typeof p!==this._chosenKeyType)throw new Error("Keys must be the same type. "+JSON.stringify(p)+" is not a "+this._chosenKeyType);if(p in this._keyToItem)throw new Error("The key: "+JSON.stringify(p)+" is not unique");this._keyToItem[p]=l[y]}return g},createViewForKey:function(l){var g=this._keyToItem[l],y=this._viewFunction.call(this,g,l),p=y;return p._isDCGView||(p=this.createElement(i,null,y)),this._keyToView[l]=p,p},template:function(){if(this._keyToView={},typeof this.props.each!="function")throw new Error("<For each={}> must be a function");if(this.children.length!==1)throw new Error("<For> expects a single child. You passed "+this.children.length);var l=this.children[0];if(!l||!l._isDCGElement)throw new Error("<For> expects the root node to be a DCGElement. You passed "+JSON.stringify(l));if(l._isDCGView)throw new Error("<For> expects the root node to not be a DCGView. Pass in something like <div> or <span>");if(l.children.length!==1)throw new Error("<For> expects a root node with a single child. You passed "+l.children.length);if(this._viewFunction=l.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<For> expects a function that constructs a DCGElement. You passed a DCGElement directly");if(typeof this._viewFunction!="function"){var g=JSON.stringify(this._viewFunction);throw new Error("<For> expects a function that constructs a DCGElement. You passed "+g)}if(r.isConst(this._viewFunction))throw new Error("<For> expects a function that constructs a DCGElement. You passed a constant");this._keys=this.getKeys();for(var y=[],p=0;p<this._keys.length;p++){var u=this._keys[p];y.push(this.createViewForKey(u))}return l.children=y,l},detachAllRemovedViews:function(){for(var l,g=this._childViews,y=0,p=g.length,u=0;u<p;u++)l=g[u],l._will_be_unmounted_?y++:g[u-y]=l;g.splice(p-y,y)},overrideChildUpdates:function(){var l=this._keys,g=this.getKeys();this._keys=g;var y,p,u,f,b,m,c=this.findRootNode(),n=w(l,g),s=[];for(y=n.removes.length-1;y>=0;y--)m=n.removes[y],s.push(this._keyToView[m]);for(s.forEach(d.willUnmount),y=0;y<n.removes.length;y++)m=n.removes[y],p=this._keyToView[m],delete this._keyToView[m],p._will_be_unmounted_=!0,c.removeChild(p.findRootNode());s.length>0&&this.detachAllRemovedViews(),s.forEach(d.onUnmount),s.forEach(d.didUnmount);var v=[];for(y=n.inserts.length-1;y>=0;y--)(m=n.inserts[y].key)in this._keyToView||(p=this.createViewForKey(m),v.push(p),d.createNodeForView(p,this));for(v.forEach(d.willMount),y=0;y<n.inserts.length;y++)b=n.inserts[y],u=this._keyToView[b.key].findRootNode(),f=b.beforeKey!==void 0?this._keyToView[b.beforeKey].findRootNode():null,c.insertBefore(u,f);v.forEach(d.onMount),v.forEach(d.didMount);var A=this._childViews,M=A.length-v.length;for(y=0;y<M;y++)A[y].update()}})}),q("submodules/dcgview/src/switch",["require","./create-class","./const","./mounting"],function(O){var o=O("./create-class"),w=O("./const"),r=O("./mounting"),d=o({template:function(){return this.children[0]}});return o({_isDCGSwitch:!0,updateKey:function(){this._key=this.props.key()},createView:function(){var i=this._viewFunction(this._key);return i!=null||(i=this.createElement("div",{style:this.const("display: none")})),this.createElement(d,null,i)},template:function(){if(this._key=void 0,typeof this.props.key!="function")throw new Error("<Switch key={}> must be a function");if(this.children.length!==1)throw new Error("<Switch> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a DCGElement directly");if(typeof this._viewFunction!="function"){var i=JSON.stringify(this._viewFunction);throw new Error("<Switch> expects a function that constructs a DCGElement. You passed "+i)}if(w.isConst(this._viewFunction))throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a constant");return this.updateKey(),this.createView()},overrideChildUpdates:function(){var i=this._key;if(this.updateKey(),i===this._key)this._element.update();else{var l=this.findRootNode(),g=document.createTextNode("");l.parentNode.insertBefore(g,l),r.willUnmount(this._element),this._childViews=[],l.parentNode.removeChild(l),r.onUnmount(this._element),r.didUnmount(this._element),this._element=this.createView();var y=r.createNodeForView(this._element,this);r.willMount(this._element),g.parentNode.insertBefore(y,g),g.parentNode.removeChild(g),r.onMount(this._element),r.didMount(this._element)}}})}),q("submodules/dcgview/src/switch-union",["require","./create-class","./mounting","./create-element"],function(O){function o(y,p,u){return i(g,{getCase:function(){var f=p();return y?f&&f[y]:f},buildChildView:function(f){var b=u[f];if(b)return b(p)}})}function w(y,p){return typeof y=="string"?o.bind(this,y,p):o(void 0,y,p)}var r=O("./create-class"),d=O("./mounting"),i=O("./create-element"),l=r({template:function(){return this.children[0]}}),g=r({_isDCGSwitchUnion:!0,updateCase:function(){this._case=this.props.getCase()},createView:function(){var y=this.props.buildChildView(this._case);return y!=null||(y=this.createElement("div",{style:this.const("display: none")})),this.createElement(l,null,y)},template:function(){return this._case=void 0,this.updateCase(),this.createView()},overrideChildUpdates:function(){var y=this._case;if(this.updateCase(),y===this._case)this._element.update();else{var p=this.findRootNode(),u=document.createTextNode("");p.parentNode.insertBefore(u,p),d.willUnmount(this._element),this._childViews=[],p.parentNode.removeChild(p),d.onUnmount(this._element),d.didUnmount(this._element),this._element=this.createView();var f=d.createNodeForView(this._element,this);d.willMount(this._element),u.parentNode.insertBefore(f,u),u.parentNode.removeChild(u),d.onMount(this._element),d.didMount(this._element)}}});return w}),q("submodules/dcgview/src/if",["require","./create-class","./const","./switch"],function(O){var o=O("./create-class"),w=O("./const"),r=O("./switch");return o({_isDCGIf:!0,template:function(){if(typeof this.props.predicate!="function")throw new Error("<If predicate={}> must be a function");if(this.children.length!==1)throw new Error("<If> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<If> expects a function that constructs a DCGElement. You passed a DCGElement directly");if(typeof this._viewFunction!="function"){var d=JSON.stringify(this._viewFunction);throw new Error("<If> expects a function that constructs a DCGElement. You passed "+d)}if(w.isConst(this._viewFunction))throw new Error("<If> expects a function that constructs a DCGElement. You passed a constant");var i=function(){return!!this.props.predicate()}.bind(this),l=function(g){if(g)return this._viewFunction()}.bind(this);return this.createElement(r,{key:i},l)}})}),q("submodules/dcgview/src/if-defined",["require","./create-class","./mounting","./create-element"],function(O){function o(g,y){return d(l,{isDefined:function(){return g()!=null},buildChildView:function(){return y(g)}})}var w=O("./create-class"),r=O("./mounting"),d=O("./create-element"),i=w({template:function(){return this.children[0]}}),l=w({_isDCGIfDefined:!0,updateIsDefined:function(){this._isDefined=this.props.isDefined()},createView:function(){var g;return this._isDefined&&(g=this.props.buildChildView()),g!=null||(g=this.createElement("div",{style:this.const("display: none")})),this.createElement(i,null,g)},template:function(){return this._isDefined=void 0,this.updateIsDefined(),this.createView()},overrideChildUpdates:function(){var g=this._isDefined;if(this.updateIsDefined(),g===this._isDefined)this._element.update();else{var y=this.findRootNode(),p=document.createTextNode("");y.parentNode.insertBefore(p,y),r.willUnmount(this._element),this._childViews=[],y.parentNode.removeChild(y),r.onUnmount(this._element),r.didUnmount(this._element),this._element=this.createView();var u=r.createNodeForView(this._element,this);r.willMount(this._element),p.parentNode.insertBefore(u,p),p.parentNode.removeChild(p),r.onMount(this._element),r.didMount(this._element)}}});return o}),q("submodules/dcgview/src/if-else",["require","./switch-union"],function(O){function o(r,d){return w(function(){return r()?"true":"false"},d)}var w=O("./switch-union");return o}),q("submodules/dcgview/src/textarea",["require","./create-class","./spread"],function(O){var o=O("./create-class"),w=O("./spread");return o({computeValue:function(){var r=this.props.value();return r==null?"":r+""},template:function(){if(!this.props.value)throw new Error('<Textarea> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Textarea> expects an "onInput={}" prop');var r=w({},this.props,{onInput:function(d){this.props.onInput(d.target.value),this._isMounted&&this.update()}.bind(this)});return this.props.disabled&&(r.disabled=function(){return!!this.props.disabled()||void 0}.bind(this)),delete r.value,this.createElement("textarea",r,this.const(this.computeValue()))},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var r=this.computeValue();this.rootDOM.value!==r&&(this.rootDOM.value=r)}})}),q("submodules/dcgview/src/input",["require","./create-class","./spread"],function(O){var o=O("./create-class"),w=O("./spread");return o({computeValue:function(){var r=this.props.value();return r==null?"":r+""},template:function(){if(!this.props.value)throw new Error('<Input> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Input> expects an "onInput={}" prop');var r=w({},this.props,{value:this.const(this.computeValue()),onInput:function(d){this.props.onInput(d.target.value),this._isMounted&&this.update()}.bind(this)});return this.props.disabled&&(r.disabled=function(){return!!this.props.disabled()||void 0}.bind(this)),r.hasOwnProperty("tabindex")||(r.tabindex=function(){return this.props.disabled&&this.props.disabled()?"-1":"0"}.bind(this)),this.createElement("input",r)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var r=this.computeValue();this.rootDOM.value!==r&&(this.rootDOM.value=r)}})}),q("submodules/dcgview/src/checkbox",["require","./create-class","./spread"],function(O){var o=O("./create-class"),w=O("./spread");return o({computeChecked:function(){return!!this.props.checked()},template:function(){if(!this.props.checked)throw new Error('<Checkbox> expects a "checked={}" prop');if(!this.props.onChange)throw new Error('<Checkbox> expects an "onChange={}" prop');var r=w({},this.props,{type:this.const("checkbox"),checked:this.const(this.computeChecked()?"checked":void 0),onChange:function(d){this.props.onChange(d.target.checked),this._isMounted&&this.update()}.bind(this)});return this.createElement("input",r)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var r=this.computeChecked();this.rootDOM.checked!==r&&(this.rootDOM.checked=r)}})}),q("submodules/dcgview/src/components",["require","./for","./switch","./switch-union","./if","./if-defined","./if-else","./textarea","./input","./checkbox"],function(O){return{For:O("./for"),Switch:O("./switch"),SwitchUnion:O("./switch-union"),If:O("./if"),IfDefined:O("./if-defined"),IfElse:O("./if-else"),Textarea:O("./textarea"),Input:O("./input"),Checkbox:O("./checkbox")}}),q("submodules/dcgview/src/class",["require","./create-class"],function(O){return O("./create-class")({template:function(){}})}),q("submodules/dcgview/src/dcg-view",["require","./create-element","./create-class","./mounting","./spread","./const","./custom-attributes","./attr-style","./attr-class","./attr-lifecycle","./components","./warnings","./bind-text","./class"],function(O){var o=O("./create-element"),w=O("./create-class"),r=O("./mounting"),d=O("./spread"),i=O("./const"),l=O("./custom-attributes"),g=O("./attr-style"),y=O("./attr-class"),p=O("./attr-lifecycle"),u=O("./components"),f=O("./warnings"),b=O("./bind-text").enableSpanWrapping,m=O("./class"),c={createElement:o,createClass:w,mountToNode:r.mountToNode,unmountFromNode:r.unmountFromNode,spread:d,const:i.makeConst,isConst:i.isConst,addCustomAttribute:l.add,Components:u,addWarningHandler:f.addWarningHandler,removeWarningHandler:f.removeWarningHandler,enableSpanWrapping:b,Class:m};return c.addCustomAttribute("style",g),c.addCustomAttribute("class",y),c.addCustomAttribute("willMount",p("willMount")),c.addCustomAttribute("onMount",p("onMount")),c.addCustomAttribute("didMount",p("didMount")),c.addCustomAttribute("willUnmount",p("willUnmount")),c.addCustomAttribute("onUnmount",p("onUnmount")),c.addCustomAttribute("didUnmount",p("didUnmount")),c.addCustomAttribute("willUpdate",p("willUpdate")),c.addCustomAttribute("onUpdate",p("onUpdate")),c.addCustomAttribute("didUpdate",p("didUpdate")),c}),q("submodules/dcgview/dcgview",["require","./src/dcg-view"],function(O){return O("./src/dcg-view")}),q("lib/urlparser",["require","exports"],function(O,o){function w(y,p){var u=new RegExp("[?|&]"+p+"=([^&;]+?)(&|#|;|$)"),f=u.exec(y);return f?decodeURIComponent(f[1].replace(/\+/g,"%20")):null}function r(y,p){return new RegExp("[?|&]"+p+"(=|&|;|$)").test(y)}function d(y,p,u){if(p!==encodeURIComponent(p))throw new Error("Programming error: parameter name should be URL-safe without encoding.");var f=encodeURIComponent(u);return y.length?/\?/.test(y)?y+"&"+p+"="+f:y+"?"+p+"="+f:"?"+p+"="+f}function i(y,p,u){var f=new RegExp("([?|&])"+p+"=([^&;]+?)(&|#|;|$)"),b=f.exec(y);if(!b)return y;var m=b[1],c=b[2],n=""+m+p+"="+c,s=encodeURIComponent(u),v=""+m+p+"="+s;return y.replace(n,v)}function l(y,p){var u=new RegExp("([?|&])"+p+"=([^&;]+?)(&|#|;|$)"),f=u.exec(y);if(!f)return y;var b=f[1],m=f[2],c=""+b+p+"="+m,n=y.replace(c,"");return n[0]==="&"?n.replace("&","?"):n}function g(y,p,u){return r(y,p)?i(y,p,u):d(y,p,u)}Object.defineProperty(o,"__esModule",{value:!0}),o.getParameter=w,o.hasParameter=r,o.pushParameter=d,o.replaceParameter=i,o.deleteParameter=l,o.setParameter=g}),q("lib/retain-lang",["require","exports","./parse-query-params","./urlparser"],function(O,o,w,r){function d(u){var f=y.exec(u);if(f){var b=f[1];return!p.test(b)}return!1}function i(u,f){var b="";if(f!==void 0)b=f;else{var m=w.getQueryParams();b=m.lang?""+m.lang:""}return u===""||b===""||l.test(u)||g.test(u)||d(u)?u:r.setParameter(u,"lang",b)}Object.defineProperty(o,"__esModule",{value:!0});var l=/lang=[A-Za-z]+/,g=/(cl|learn|support).desmos.com/,y=/^(?:https?:)?(?:\/\/)?([^\s\/\?]+)/i,p=/(^desmos\.com$)|(\.desmos.com$)/;o.domainNotDesmos=d,o.retainLang=i}),q("loadcss!dcgview-shim",function(){}),function(){q("dcgview",["require","jquery","underscore","submodules/dcgview/dcgview","bugsnag","lib/retain-lang","loadcss!dcgview-shim"],function(O){var o,w,r,d,i,l;return o=O("jquery"),d=O("underscore"),r=O("submodules/dcgview/dcgview"),w=O("bugsnag"),i=O("lib/retain-lang").retainLang,O("loadcss!dcgview-shim"),r.addWarningHandler(function(g){return w.notify(g)}),l=[],r.onUrlChange=function(g){return l.push(g)},r.addCustomAttribute("href",function(g){var y,p;return y=i(g()),p={value:""+i(g()),bindings:{onMount:function(u){var f;if(!o(u).is("a")&&!o(u).is("use"))throw new Error("Cannot have an href on a non-link element.");return f=!1,o(u).on("dcg-tap",function(b){var m;if(!b.metaKey&&(f=!1,m=i(g()),d.any(l.map(function(c){return c(m,b)}))))return f=!0}),o(u).on("click",function(b){if(f)return f=!1,b.preventDefault()})}}},p.bindings.onUpdate=function(u){var f;if(f=i(g()),y!==f)return y=f,u.setAttribute("href",f)},p}),r.addCustomAttribute("onTap",function(g){return{value:"",bindings:{onMount:function(y){return o(y).on("dcg-tap",g)}}}}),r.addCustomAttribute("ignoreRealClick",function(g){return{bindings:{onMount:function(y){return o(y).on("click",function(p){if(g())return p.preventDefault()})}}}}),r.addCustomAttribute("onTapStart",function(g){return{bindings:{onMount:function(y){return o(y).on("dcg-tapstart",g)}}}}),r.addCustomAttribute("onTapMove",function(g){return{bindings:{onMount:function(y){return o(y).on("dcg-tapmove",g)}}}}),r.addCustomAttribute("onTapEnd",function(g){return{bindings:{onMount:function(y){return o(y).on("dcg-tapend",g)}}}}),r.addCustomAttribute("onLongHold",function(g){return{bindings:{onMount:function(y){return o(y).on("dcg-longhold",g)}}}}),r.addCustomAttribute("manageFocus",function(g){return g()===void 0?{}:{bindings:{onMount:function(y){return g().shouldBeFocused()&&y.focus(),y.onfocus=function(p){if(!g().shouldBeFocused())return g().onFocusedChanged(!0,p)},y.onblur=function(p){if(g().shouldBeFocused())return g().onFocusedChanged(!1,p)}},onUpdate:function(y){var p,u;return u=g().shouldBeFocused(),p=document.activeElement===y,u&&!p?y.focus():p&&!u?y.blur():void 0},willUnmount:function(y){return delete y.onfocus,delete y.onblur}}}}),r})}.call(this),q("expressions/braille-input",["require","exports","tslib","dcgview","jquery"],function(O,o,w,r,d){Object.defineProperty(o,"__esModule",{value:!0});var i=r.Components.Input,l=function(g){function y(){return g!==null&&g.apply(this,arguments)||this}return w.__extends(y,g),y.prototype.init=function(){this.ASCIICharacters=` A1B'K2L@CIF/MSP"E3H9O6R^DJG>NTQ,*5<-U8V.%[$+X!&;:4\\0Z7(_?W]#Y)=`,this.ASCIITable=[],this.HomeRowCharacters="FDSJKL",this.charCodes=[],this.sixKeyModel={keysDown:0,stickyKeysDown:0};var p;for(p=0;p<this.ASCIICharacters.length;p++)this.ASCIITable.push(this.ASCIICharacters.charCodeAt(p));for(p=0;p<this.HomeRowCharacters.length;p++)this.charCodes.push(this.HomeRowCharacters.charCodeAt(p))},y.prototype.template=function(){var p=this;return r.createElement(i,{class:this.const("dcg-braille-input dcg-do-blur"),tabindex:function(){return p.props.tabindex?p.props.tabindex():0},readonly:function(){return p.props.isStatic()?"true":void 0},autocomplete:this.const("off"),autocorrect:this.const("off"),autocapitalize:this.const("off"),spellcheck:this.const("false"),onKeydown:this.bindFn(this.onKeydown),onKeyup:this.bindFn(this.onKeyup),onInput:this.bindFn(this.props.onInput),value:function(){return p.props.value()},"aria-label":function(){return p.props.ariaLabel()||""},didMount:this.bindFn(this.didMount),didUnmount:this.bindFn(this.props.didUnmount),placeholder:function(){return p.props.placeholder?p.props.placeholder():""}})},y.prototype.didMount=function(p){var u=this;this.rootNode=p,d(this.rootNode).on("focus",function(f){u.props.shouldFocus()!==!0&&u.props.onFocusedChanged(!0,f.originalEvent)}).on("blur",function(f){u.props.shouldFocus()!==!1&&u.props.onFocusedChanged(!1,f.originalEvent)}),this.props.didMount(p),this.updateFocus()},y.prototype.didUpdate=function(){this.updateFocus()},y.prototype.updateFocus=function(){this.rootNode&&(this.props.shouldFocus()&&document.activeElement!==this.rootNode&&this.rootNode.focus(),this.props.shouldFocus()||document.activeElement!==this.rootNode||this.rootNode.blur())},y.prototype.onKeydown=function(p){var u=this.charCodes.indexOf(p.which);this.props.isStatic()||!this.isSixKeyInput()||p.altKey||p.ctrlKey||p.metaKey||p.shiftKey||u===-1?this.props.onKeydown&&this.props.onKeydown(p):(this.sixKeyModel=w.__assign(w.__assign({},this.sixKeyModel),{keysDown:this.addKey(this.sixKeyModel.keysDown,u),stickyKeysDown:this.addKey(this.sixKeyModel.stickyKeysDown,u)}),p.preventDefault())},y.prototype.onKeyup=function(p){var u=this.charCodes.indexOf(p.which),f=!1;return this.props.isStatic()||!this.isSixKeyInput()||p.altKey||p.ctrlKey||p.metaKey||p.shiftKey||u===-1?f=!0:(this.sixKeyModel=w.__assign(w.__assign({},this.sixKeyModel),{keysDown:this.removeKey(this.sixKeyModel.keysDown,u)}),this.sixKeyModel.keysDown===0&&(this.addCharacter(this.bitsToASCII(this.sixKeyModel.stickyKeysDown)),this.sixKeyModel=w.__assign(w.__assign({},this.sixKeyModel),{stickyKeysDown:0}))),f||p.preventDefault(),f},y.prototype.addKey=function(p,u){return p|1<<u},y.prototype.removeKey=function(p,u){return p&~(1<<u)},y.prototype.bitsToASCII=function(p){return String.fromCharCode(this.ASCIITable[p])},y.prototype.addCharacter=function(p){this.rootNode&&!this.props.isStatic()&&(this.rootNode.setRangeText(p,this.rootNode.selectionStart,this.rootNode.selectionEnd,"end"),this.props.onInput(this.rootNode.value))},y.prototype.isSixKeyInput=function(){return typeof this.props.sixKeyInput=="function"&&this.props.sixKeyInput()},y}(r.Class);o.default=l}),q("vendor/mathquill",["require","exports","toplevel/mathquill","mathquill"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0}),o.MQ=w.getInterface(1).config(r)}),q("loadcss!dcgview-helpers/static-mathquill-view",function(){}),q("dcgview-helpers/static-mathquill-view",["require","exports","tslib","dcgview","vendor/mathquill","jquery","lib/conditional_blur","loadcss!./static-mathquill-view"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=function(y){function p(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(p,y),p.prototype.template=function(){var u=this;return this.children.length===1?this.children[0]:r.createElement("div",{didMount:function(f){return u.didMountMathquill(f)}})},p.prototype.didMount=function(){this.children.length===1&&this.didMountMathquill(this.findRootNode())},p.prototype.didMountMathquill=function(u){this.staticMath=d.MQ.StaticMath(u),i(u).off(".mathquill").addClass("dcg-static-mathquill-view").on("dcg-tapstart",function(){l.default()}),this.updateMathquill()},p.prototype.didUpdate=function(){this.updateMathquill()},p.prototype.updateMathquill=function(){this.updateMathquillAria(),this.updateMathquillLatex()},p.prototype.updateMathquillLatex=function(){if(this.staticMath){var u=this.props.latex();this.lastLatex!==u&&(this.staticMath.latex(u),this.lastLatex=u,this.props.onReflow&&this.props.onReflow())}},p.prototype.updateMathquillAria=function(){if(this.staticMath&&this.props.getAriaLabel){var u=this.props.getAriaLabel();u!==this.staticMath.getAriaLabel()&&this.staticMath.setAriaLabel(u)}},p}(r.Class);o.default=g}),q("loadcss!lib/tooltip",function(){}),q("lib/tooltip",["require","exports","tslib","keys","dcgview","jquery","underscore","dcgview-helpers/static-mathquill-view","loadcss!./tooltip"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=d.Components.IfElse,p=function(f){function b(){return f!==null&&f.apply(this,arguments)||this}return w.__extends(b,f),b.prototype.template=function(){var m=this;return d.createElement("div",{class:function(){var c;return c={},c[m.getCustomClassName()]=!0,c["dcg-tooltip-positioning-container"]=!0,c["dcg-latex-tooltip-positioning-container"]=m.props.renderAsLatex(),c["dcg-tooltip-gravity-ne-se"]=m.props.gravity()==="ne"||m.props.gravity()==="se",c["dcg-tooltip-gravity-nw-sw"]=m.props.gravity()==="nw"||m.props.gravity()==="sw",c["dcg-tooltip-gravity-n-s"]=m.props.gravity()==="n"||m.props.gravity()==="s",c["dcg-tooltip-gravity-e-w"]=m.props.gravity()==="e"||m.props.gravity()==="w",c},style:function(){return{top:m.props.hitAreaRect().top+(m.props.offset().top||0)+"px",left:m.props.hitAreaRect().left+(m.props.offset().left||0)+"px",width:m.props.hitAreaRect().width+"px",height:m.props.hitAreaRect().height+"px"}}},d.createElement("div",{class:d.const("dcg-tooltip-message-container"),style:this.bindFn(this.getMessageStyle)},y(function(){return m.props.renderAsLatex()},{true:function(){return d.createElement("div",{class:function(){return{"dcg-tooltip-message":!0,"dcg-latex":!0,"dcg-sticky-not-stuck":m.props.isStickyAndNotStuck(),"dcg-tooltip-overflow":m.messageOverflows()}},style:function(){return{"max-width":m.getMaxWidth()+"px"}},didMount:function(c){m.tooltipMessage=c}},d.createElement(g.default,{latex:function(){return m.props.tooltip()}}))},false:function(){return d.createElement("div",{class:d.const("dcg-tooltip-message"),style:function(){return{background:m.getBackgroundColor(),cursor:m.props.isStickyAndNotStuck()?"pointer":"default"}}},m.props.tooltip)}})),d.createElement("div",{class:d.const("dcg-tooltip-arrow"),style:function(){return m.props.renderAsLatex()?m.getArrowWithBorderStyle():m.getSolidArrowStyle()}}))},b.prototype.getCustomClassName=function(){return this.props.class?this.props.class():""},b.prototype.messageOverflows=function(){return this.tooltipMessage&&this.tooltipMessage.getBoundingClientRect().width>=this.getMaxWidth()},b.prototype.getArrowWithBorderStyle=function(){var m=this.props.gravity(),c=this.getBackgroundColor(),n=this.props.isStickyAndNotStuck()?".95":"1",s={width:"8px",height:"8px",border:"1px solid #bbb",background:c,opacity:n};switch(m){case"s":return w.__assign(w.__assign({},s),{top:"100%",left:"50%","margin-top":"1px","border-right":"0","border-bottom":"0"});case"sw":return w.__assign(w.__assign({},s),{top:"100%",right:"10px","margin-top":"1px","border-right":"0","border-bottom":"0"});case"se":return w.__assign(w.__assign({},s),{top:"100%",left:"10px","margin-top":"1px","border-right":"0","border-bottom":"0"});case"n":return w.__assign(w.__assign({},s),{bottom:"100%",left:"50%","margin-bottom":"1px","border-left":"0","border-top":"0"});case"nw":return w.__assign(w.__assign({},s),{bottom:"100%",right:"10px","margin-bottom":"1px","border-left":"0","border-top":"0"});case"ne":return w.__assign(w.__assign({},s),{bottom:"100%",left:"10px","margin-bottom":"1px","border-left":"0","border-top":"0"});case"e":return w.__assign(w.__assign({},s),{top:"50%",left:"100%","margin-left":"1px","border-right":"0","border-top":"0"});case"w":return w.__assign(w.__assign({},s),{top:"50%",right:"100%","margin-right":"1px","border-left":"0","border-bottom":"0"});default:return m}},b.prototype.getSolidArrowStyle=function(){var m=this.props.gravity(),c=this.getBackgroundColor(),n="transparent transparent "+c+" transparent",s=c+" transparent transparent transparent",v="transparent "+c+" transparent transparent",A="transparent transparent transparent "+c;switch(m){case"s":return{top:"100%",left:"50%",border:"5px solid transparent","border-color":n,"margin-top":"-5px","margin-left":"-5px"};case"sw":return{top:"100%",right:"10px",border:"5px solid transparent","border-color":n,"margin-top":"-5px","margin-left":"-5px"};case"se":return{top:"100%",left:"10px",border:"5px solid transparent","border-color":n,"margin-top":"-5px","margin-left":"-5px"};case"n":return{bottom:"100%",left:"50%",border:"5px solid transparent","border-color":s,"margin-bottom":"-5px","margin-left":"-5px"};case"nw":return{bottom:"100%",right:"10px",border:"5px solid transparent","border-color":s,"margin-bottom":"-5px","margin-left":"-5px"};case"ne":return{bottom:"100%",left:"10px",border:"5px solid transparent","border-color":s,"margin-bottom":"-5px","margin-left":"-5px"};case"e":return{top:"50%",left:"100%",border:"5px solid transparent","border-color":v,"margin-left":"-5px","margin-top":"-5px"};case"w":return{top:"50%",right:"100%",border:"5px solid transparent","border-color":A,"margin-right":"-5px","margin-top":"-5px"};default:return m}},b.prototype.getBackgroundColor=function(){return this.props.renderAsLatex()?"#fff":this.props.isStickyAndNotStuck()?"#666":"#000"},b.prototype.getMaxWidth=function(){var m=this.props.gravity(),c=this.props.hitAreaRect().left+(this.props.offset().left||0),n=c+this.props.hitAreaRect().width,s=.5*this.props.hitAreaRect().width+c,v=window.innerWidth-5;switch(m){case"se":case"ne":case"e":return v-c;case"sw":case"nw":case"w":return n-5;case"s":case"n":return 2*Math.min(v-s,s-5);default:return m}},b.prototype.getMessageStyle=function(){var m=this.props.hitAreaRect(),c=this.props.gravity();switch(c){case"s":return{top:"100%",transform:"translate(-50%, 0)",left:.5*m.width+"px","margin-top":"5px","text-align":"center"};case"sw":return{top:"100%",right:"0","margin-top":"5px","text-align":"right"};case"se":return{top:"100%","margin-top":"5px","text-align":"left"};case"n":return{bottom:"100%",transform:"translate(-50%, 0)",left:.5*m.width+"px","margin-bottom":"5px","text-align":"center"};case"nw":return{bottom:"100%",right:"0","margin-bottom":"5px","text-align":"right"};case"ne":return{bottom:"100%","margin-bottom":"5px","text-align":"left"};case"e":return{transform:"translate(0, -50%)",left:"100%",top:.5*m.height+"px","margin-left":"5px","text-align":"left"};case"w":return{transform:"translate(0, -50%)",right:"100%",top:.5*m.height+"px","margin-right":"5px","text-align":"right"};default:return c}},b}(d.Class),u=function(f){function b(){return f!==null&&f.apply(this,arguments)||this}return w.__extends(b,f),b.prototype.init=function(){this.uuid=l.uniqueId(),this.isMounted=!0},b.prototype.template=function(){var m=this;return d.createElement("div",{class:d.const("dcg-tooltip-hit-area-container"),handleevent:d.const("true"),didMount:function(c){m.hitAreaNode=c,m.setupEventListeners(m.hitAreaNode)},onTap:function(){m.shouldHideOnTargetClick()?m.hideTooltip():m.shouldShowOnTargetClick()?m.showTooltip():m.shouldStickOnTargetClick()&&(m.isStuck?(m.clearTimeouts(),m.hideTooltip()):(m.showTooltip(),m.stickTooltip()))}},this.children)},b.prototype.didUpdate=function(){this.updateTooltip()},b.prototype.updateTooltip=function(){if(this.wrapperRef){if(!this.props.tooltip())return void this.hideTooltip();var m=this.hitAreaNode.getBoundingClientRect(),c=this.wrapperRef.elt.getBoundingClientRect(),n=this.wrapperRef,s=n.originalTop,v=n.originalLeft,A=m.top-c.top,M=m.left-c.left;Math.abs(A-s)>3||Math.abs(M-v)>3?this.hideTooltip():this.wrapperRef.view.update()}},b.prototype.handleShowEvent=function(m){if(!this.props.disabled||!this.props.disabled()){var c=this.props.delay?this.props.delay():500;this.clearTimeouts(),this.showTooltipTimeout=setTimeout(m,c)}},b.prototype.handleHideEvent=function(){this.clearTimeouts(),this.hideTooltipTimeout=setTimeout(this.bindFn(this.hideTooltip),150)},b.prototype.setupEventListeners=function(m){var c=this;i(m).on("tipsyshow",function(n){n.target===m&&c.handleShowEvent(function(){c.showTooltip()})}).on("tipsyhide",function(n){n.target!==m||c.isStuck||c.handleHideEvent()}),this.shouldShowOnTargetClick()&&this.setUpHideOnExternalMousedown()},b.prototype.willUnmount=function(){this.clearTimeouts(),this.isMounted=!1,this.hideTooltip()},b.prototype.setUpHideOnExternalMousedown=function(){var m=this;i(document).on("mousedown.dcg-tooltip-"+this.uuid+" touchstart.dcg-tooltip-"+this.uuid+" pointerdown.dcg-tooltip-"+this.uuid,function(c){m.wrapperRef&&(i(c.target).closest(m.hitAreaNode).length||i(c.target).closest(m.wrapperRef.elt).length||m.hideTooltip())})},b.prototype.stickTooltip=function(){this.isMounted&&this.wrapperRef&&(this.isStuck||(this.setUpHideOnExternalMousedown(),this.isStuck=!0,this.updateTooltip()))},b.prototype.clearTimeouts=function(){clearTimeout(this.showTooltipTimeout),clearTimeout(this.hideTooltipTimeout)},b.prototype.showTooltip=function(){var m=this;if(this.isMounted&&!this.wrapperRef&&this.props.tooltip()){var c=this.hitAreaNode.getBoundingClientRect(),n=document.createElement("div");n.className="dcg-tooltip-mount-pt",i(this.hitAreaNode).closest(".dcg-tap-container")[0].appendChild(n);var s=n.getBoundingClientRect(),v=c.left-s.left,A=c.top-s.top,M={tooltip:this.props.tooltip,class:this.props.class,isStickyAndNotStuck:function(){return m.shouldStickOnTargetClick()&&!m.isStuck},offset:function(){return m.props.offset?m.props.offset():{}},gravity:function(){return m.props.gravity?m.props.gravity():"s"},renderAsLatex:function(){return!!m.props.renderAsLatex&&m.props.renderAsLatex()},hitAreaRect:function(){return{top:A||0,left:v||0,width:c.width||0,height:c.height||0}}};this.setupEventListeners(n),i(n).on("dcg-tap",function(){m.shouldStickOnTargetClick()&&m.stickTooltip()});var C=d.mountToNode(p,n,M);i(document).on("keydown.dcg-tooltip-"+this.uuid,function(S){r.lookup(S)===r.ESCAPE&&m.hideTooltip()});var D=function(){return m.updateTooltip()};window.addEventListener("scroll",D,!0),this.wrapperRef={elt:n,view:C,originalLeft:v,originalTop:A,onScroll:D}}},b.prototype.hideTooltip=function(){this.clearTimeouts(),this.wrapperRef&&(this.isStuck=!1,i(document).off(".dcg-tooltip-"+this.uuid),window.removeEventListener("scroll",this.wrapperRef.onScroll,!0),d.unmountFromNode(this.wrapperRef.elt),this.wrapperRef.elt.parentNode&&this.wrapperRef.elt.parentNode.removeChild(this.wrapperRef.elt),this.wrapperRef=void 0)},b.prototype.shouldStickOnTargetClick=function(){return!!this.props.targetClickBehavior&&this.props.targetClickBehavior()==="stick"},b.prototype.shouldShowOnTargetClick=function(){return!!this.props.targetClickBehavior&&this.props.targetClickBehavior()==="show"},b.prototype.shouldHideOnTargetClick=function(){return!this.props.targetClickBehavior||this.props.targetClickBehavior()==="hide"},b}(d.Class);o.Tooltip=u}),q("lib/abraham-helpers",["require","exports","abraham"],function(O,o,w){function r(i,l){return l==="nemeth"?w.latexToNemeth(i):l==="ueb"?w.latexToUeb(i):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}}function d(i,l){return l==="nemeth"?w.nemethToLatex(i):l==="ueb"?w.uebToLatex(i):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}}Object.defineProperty(o,"__esModule",{value:!0}),o.latexToBraille=r,o.brailleToLatex=d}),q("loadcss!dcgview-helpers/mathquill-view",function(){}),q("dcgview-helpers/mathquill-view",["require","exports","tslib","keys","browser","dcgview","vendor/mathquill","jquery","./static-mathquill-view","loadcss!./mathquill-view"],function(O,o,w,r,d,i,l,g,y){Object.defineProperty(o,"__esModule",{value:!0});var p=i.Components.If;o.EXPRESSION_SIZE_LIMIT=100;var u=function(f){function b(){var m=f!==null&&f.apply(this,arguments)||this;return m.lastLatexProp="",m.wasFocusedLastUpdate=!1,m}return w.__extends(b,f),b.prototype.template=function(){var m=this;return this.children.length===1?this.children[0]:i.createElement("div",{class:i.const("dcg-mq-container")},i.createElement(p,{predicate:function(){return m.getPlaceholder().trim().length>0}},function(){return i.createElement("span",{class:i.const("dcg-mq-placeholder")},i.createElement(y.default,{latex:function(){return m.getPlaceholder()}}))}),i.createElement("div",{class:function(){return{"dcg-math-field":!0,"dcg-no-fadeout":m.props.noFadeout&&m.props.noFadeout(),"dcg-invalid":m.props.hasError(),"dcg-focus":m.props.isFocused()}},didMount:function(c){return m.didMountMathquill(c)},"data-dcg-label":function(){return m.props.dataLabelAttributeValue?m.props.dataLabelAttributeValue():void 0}}))},b.prototype.didMount=function(){this.children.length===1&&this.didMountMathquill(this.findRootNode())},b.prototype.willUnmount=function(){this.$mathField.off(".view"),this.mathField=void 0},b.prototype.getPlaceholder=function(){return this.props.placeholder?this.props.isFocused()||this.props.latex()?"":this.props.placeholder():""},b.prototype.didMountMathquill=function(m){var c=this,n=w.__assign(w.__assign({},this.props.config()),{handlers:{reflow:function(s){c.props.onReflow&&c.mathField&&c.props.onReflow(s)}},onCut:function(){c.mathField&&c.props.onUserChangedLatex(c.mathField.latex())},onPaste:function(){c.mathField&&c.props.onUserChangedLatex(c.mathField.latex())},overrideTypedText:function(s){c.mathField&&c.viewCanAcceptText(s)&&(c.props.onUserTypedText?c.props.onUserTypedText(s):(c.mathField.typedText(s),c.props.onUserChangedLatex(c.mathField.latex())))},overrideKeystroke:function(s,v){if(s==="Backspace"&&v.preventDefault(),c.mathField){if(s==="Spacebar"&&c.props.disableSpace&&c.props.disableSpace())return v.preventDefault();if(v.originalEvent){var A=r.lookup(v.originalEvent);if(A==="Up"||A==="Down"||A==="Left"||A==="Right"||A==="Esc"){var M=[];v.ctrlKey&&M.push("Ctrl"),v.metaKey&&M.push("Meta"),v.altKey&&M.push("Alt"),v.shiftKey&&M.push("Shift"),M.length?(M.push(A),s=M.join("-")):s=A}}c.props.onUserPressedKey?c.props.onUserPressedKey(s,v):(c.mathField.keystroke(s,v),c.props.onUserChangedLatex(c.mathField.latex()))}}});this.props.needsSystemKeypad&&this.props.needsSystemKeypad()&&(n.substituteTextarea=function(){return g('<textarea autocorrect="off" autocapitalize="none" spellcheck="false" autocomplete="off">')[0]}),this.$mathField=g(m),this.mathField=l.MQ.MathField(m,n),m._mqMathFieldInstance=this.mathField,m._mqViewInstance=this,this.$mathField.on("focusin.view focusout.view",function(s){return c.onFocusEvent(s)}).on("paste.view",function(s){return c.onPasteEvent(s)}),(d.IS_IOS||d.IS_ANDROID)&&this.$mathField.on("keypress.view",function(s){return c.onKeypressEvent(s)}),this.hookupMQTapTouch(),this.updateMathquill()},b.prototype.didUpdate=function(){this.updateMathquill()},b.prototype.updateMathquill=function(){this.updateMathquillAria(),this.updateMathquillLatex(),this.updateMathquillFocused(),this.updateMathquillPostLabel()},b.prototype.onFocusEvent=function(m){var c=this.isFocused();c!==this.shouldBeFocused()&&this.props.onFocusedChanged(c,m)},b.prototype.onPasteEvent=function(m){var c="",n=window.clipboardData,s=m.originalEvent;n&&n.getData?c=n.getData("Text"):s&&s.clipboardData&&s.clipboardData.getData&&(c=s.clipboardData.getData("text/plain"));var v=this.viewCanAcceptText(c);return!v&&this.props.onExpressionSizeExceeded&&this.props.onExpressionSizeExceeded(),v},b.prototype.viewCanAcceptText=function(m){return b.canAcceptText(this.mathField,this.props.capExpressionSize(),m)},b.canAcceptText=function(m,c,n){return!!m&&(!c||m.latex().length+n.length<=o.EXPRESSION_SIZE_LIMIT)},b.prototype.onKeypressEvent=function(m){if(m.stopPropagation(),m.preventDefault(),this.mathField){var c=r.lookupChar(m.originalEvent);c&&this.viewCanAcceptText(c)&&(this.props.onUserTypedText?this.props.onUserTypedText(c):(this.mathField.typedText(c),this.props.onUserChangedLatex(this.mathField.latex())))}},b.prototype.hookupMQTapTouch=function(){var m=this;this.$mathField.on("dcg-tap.view",function(c){if(c.device==="touch"&&m.mathField){var n=c.originalEvent.changedTouches[0];m.mathField.clickAt(n.clientX,n.clientY,n.target),m.isFocused()||m.mathField.focus();var s=void 0;setTimeout(function(){s=Date.now()},0),m.mathField.ignoreNextMousedown(function(){return s===void 0||Date.now()-s<500})}})},b.prototype.updateMathquillAria=function(){if(this.mathField){var m=this.props.getAriaLabel();m!==this.mathField.getAriaLabel()&&this.mathField.setAriaLabel(m)}},b.prototype.updateMathquillPostLabel=function(){this.mathField&&this.mathField.setAriaPostLabel(this.props.getAriaPostLabel(),this.props.hasError()?5e3:1e3)},b.prototype.updateMathquillLatex=function(){var m=this.props.latex();this.mathField&&this.lastLatexProp!==m&&(this.props.capExpressionSize()&&m.length>o.EXPRESSION_SIZE_LIMIT||(this.lastLatexProp=m,this.mathField.latex()!==m&&this.mathField.latex(m)))},b.prototype.updateMathquillFocused=function(){if(this.mathField){var m=this.isFocused(),c=this.shouldBeFocused();c&&c!==this.wasFocusedLastUpdate&&this.props.selectOnFocus&&this.props.selectOnFocus()&&this.mathField.select(),this.wasFocusedLastUpdate=c,m!==c&&(c?this.mathField.focus():this.mathField.blur())}},b.prototype.isFocused=function(){return!(!document.activeElement||!g(document.activeElement).closest(this.$mathField).length)},b.prototype.shouldBeFocused=function(){return this.props.isFocused()},b.getFocusedMathquill=function(){if(document.activeElement){var m=g(document.activeElement).closest(".dcg-mq-editable-field")[0];return m?m._mqMathFieldInstance:void 0}},b.getMQViewInstance=function(m){var c=m.el();return c?c._mqViewInstance:void 0},b.applyArrowKeyAndReturnIfWasAtBounds=function(m,c,n){var s=g(m.el()),v=s.find(".dcg-mq-selection"),A=v.length===1&&v.parent().parent()[0]===s[0]&&v.parent().children().length===1;if((c==="Up"||c==="Down")&&A)return m.keystroke(c,n),!0;var M=s.find(".dcg-mq-cursor")[0];if(!M)return m.keystroke(c,n),!1;var C=M.previousSibling||M.parentElement;return m.keystroke(c,n),C===(M.previousSibling||M.parentElement)},b.simulateKeypress=function(m,c){var n=b.getMQViewInstance(m);n&&(n.props.onUserPressedKey?n.props.onUserPressedKey(c):(m.keystroke(c),n.props.onUserChangedLatex(m.latex())))},b.simulateUserChangedLatex=function(m){var c=b.getMQViewInstance(m);c&&c.mathField&&c.props.onUserChangedLatex(c.mathField.latex())},b.handleKeystrokeAndDecideIfSpecialEvent=function(m,c,n){return c==="Enter"||c==="Delete"&&m.latex()===""||c==="Backspace"&&m.latex()===""||(c==="Up"||c==="Down"||c==="Left"||c==="Right"?b.applyArrowKeyAndReturnIfWasAtBounds(m,c,n):(m.keystroke(c,n),!1))},b}(i.Class);o.default=u}),q("loadcss!Abraham",function(){}),q("loadcss!dcgview-helpers/mathquill-braille-wrapper",function(){}),q("dcgview-helpers/mathquill-braille-wrapper",["require","exports","tslib","jquery","abraham","dcgview","../expressions/braille-input","../lib/tooltip","../lib/abraham-helpers","dcgview-helpers/mathquill-view","loadcss!Abraham","loadcss!./mathquill-braille-wrapper"],function(O,o,w,r,d,i,l,g,y,p){function u(){if(document.activeElement&&r(document.activeElement).hasClass("dcg-braille-input"))return document.activeElement}function f(c){return!c||r(c).val()===""}Object.defineProperty(o,"__esModule",{value:!0});var b=i.Components.If,m=function(c){function n(){return c!==null&&c.apply(this,arguments)||this}return w.__extends(n,c),n.prototype.init=function(){this.controller=this.props.controller(),this.currentBrailleValue=this.getBrailleFromLatex(this.props.latex()),this.currentBrailleMode=this.controller.getBrailleMode(),this.hasTranslationError=!1,this.currentLatex=this.props.latex()},n.prototype.isFocused=function(){return this.props.brailleShouldFocus()},n.prototype.isStatic=function(){return!!this.props.isStatic&&this.props.isStatic()},n.prototype.hasError=function(){return!!this.props.hasError&&this.props.hasError()},n.prototype.willUpdate=function(){if(!this.isFocused()||this.currentLatex!==this.props.latex()){var s=this.currentLatex!==this.props.latex();this.currentLatex=this.props.latex();var v=this.controller.getBrailleMode();(v!==this.currentBrailleMode&&v!=="none"||!this.hasTranslationError||s||this.isStatic())&&(this.currentBrailleValue=this.getBrailleFromLatex(this.props.latex()),this.hasTranslationError=!1),this.currentBrailleMode=v}},n.prototype.onBrailleInput=function(s){if(this.props.onBrailleInput){var v=this.getLatexFromBraille(s);if(this.hasTranslationError=v.isError,!v.isError&&this.controller.getCapExpressionSize()&&v.value.length>p.EXPRESSION_SIZE_LIMIT)return void(this.props.onExpressionSizeExceeded?this.props.onExpressionSizeExceeded():this.controller.dispatch({type:"expression-size-exceeded"}));this.currentBrailleValue=s,v.isError||(this.currentLatex=v.value,this.props.onBrailleInput(v.value))}},n.prototype.getBrailleFromLatex=function(s){var v=y.latexToBraille(s,this.controller.getBrailleMode());return v.isError?"":d.UnicodeBraille.toExpandedBrailleAscii(v.value)},n.prototype.getLatexFromBraille=function(s){return y.brailleToLatex(d.UnicodeBraille.coerceToSixDotCells(s),this.controller.getBrailleMode())},n.prototype.getBrailleLabel=function(s){return this.getBrailleFromLatex(s.replace(/\s/,"\\ "))},n.prototype.shouldShowBraille=function(){var s=this.controller.getBrailleMode();return s==="nemeth"||s==="ueb"},n.prototype.isOverflowingLeft=function(){return!!this.brailleInput&&this.brailleInput.scrollLeft>0},n.prototype.isOverflowingRight=function(){if(!this.brailleInput)return!1;var s=this.brailleInput.getBoundingClientRect().width;return this.brailleInput.scrollWidth>s+this.brailleInput.scrollLeft+2},n.prototype.didMountBrailleInput=function(s){this.brailleInput=s},n.prototype.didUnmountBrailleInput=function(){this.brailleInput=void 0},n.prototype.getTooltipGravity=function(){var s=this.props.tooltipOptions&&this.props.tooltipOptions();return s&&s.gravity?s.gravity:"se"},n.prototype.getTooltipDelay=function(){var s=this.props.tooltipOptions&&this.props.tooltipOptions();return s&&s.delay?s.delay:0},n.prototype.handleBrailleFocusChanged=function(s,v){this.props.onBrailleFocusedChanged&&this.props.onBrailleFocusedChanged(s,v),this.brailleInput&&(s&&this.props.selectOnFocus&&this.props.selectOnFocus()&&this.brailleInput.select(),this.isStatic()&&this.brailleInput.scrollTo(0,0))},n.prototype.getTooltipText=function(){var s=this.props.placeholder&&!this.isFocused()?this.props.placeholder():"";return this.props.latex()||s},n.prototype.template=function(){var s=this;return i.createElement("div",{class:i.const("dcg-mathquill-wrapper")},i.createElement(b,{predicate:function(){return s.shouldShowBraille()}},function(){return i.createElement("div",{class:function(){return{"dcg-mathquill-braille":!0,"dcg-focus":s.props.brailleShouldFocus&&s.props.brailleShouldFocus(),"dcg-invalid":s.hasError(),"dcg-mathquill-static-braille":s.isStatic(),"dcg-mathquill-braille-overflow-left":s.isOverflowingLeft(),"dcg-mathquill-braille-overflow-right":s.isOverflowingRight()}},"data-dcg-limit":function(){return s.props.dataDCGLimit?s.props.dataDCGLimit():void 0},"data-dcg-label":function(){return s.props.dataLabelAttributeValue?s.props.dataLabelAttributeValue():void 0}},i.createElement(g.Tooltip,{class:s.const("dcg-mathquill-braille-tooltip"),renderAsLatex:s.const(!0),tooltip:function(){return s.getTooltipText()},gravity:s.bindFn(s.getTooltipGravity),delay:s.bindFn(s.getTooltipDelay),targetClickBehavior:s.const("show")},i.createElement(l.default,{ariaLabel:function(){return s.props.ariaLabel?s.getBrailleLabel(s.props.ariaLabel()):""},didMount:s.bindFn(s.didMountBrailleInput),didUnmount:s.bindFn(s.didUnmountBrailleInput),onFocusedChanged:s.bindFn(s.handleBrailleFocusChanged),shouldFocus:s.props.brailleShouldFocus||s.const(!1),onKeydown:s.props.onBrailleKeydown,onInput:s.bindFn(s.onBrailleInput),sixKeyInput:function(){return s.controller.getSixKeyInput()},value:function(){return s.currentBrailleValue},placeholder:function(){return s.props.placeholder?s.getBrailleFromLatex(s.props.placeholder()):""},tabindex:function(){return s.props.tabindex?s.props.tabindex():0},isStatic:s.bindFn(s.isStatic)})))}),i.createElement("div",{class:i.const("dcg-typeset-math"),style:function(){return{display:s.shouldShowBraille()?"none":void 0}}},this.children))},n}(i.Class);o.default=m,o.getFocusedBrailleElement=u,o.brailleInputIsEmpty=f}),q("expressions/list_move_controller",["require","exports","core/lib/dragmode","core/lib/number-to-latex","core/lib/label","lib/rounding","graphing-calc/models/expression","graphing-calc/models/table","graphing-calc/models/list","graphing-calc/models/image","core/math/poi","core/math/functions"],function(O,o,w,r,d,i,l,g,y,p,u,f){function b(x,B,Z){if(Z.tableInfo){y.setSelected(B,void 0);var X=x.getItemModel(Z.tableInfo.tableId);if(!X||X.type!=="table")return;g.setIsDraggingOnGrapher(X,!0)}else{var ee=x.getItemModel(Z.sketch.id);if(!ee||ee.type!=="expression"&&ee.type!=="image"||(ee.type!=="image"&&y.setSelected(B,void 0),!ee.formula||!ee.formula.move_strategy))return;for(var W=ee.formula.move_strategy,U=0;U<W.length;U++)if(W[U].type==="updateCoordinate")ee.type==="image"?p.setIsDraggingOnGrapher(ee,!0):ee.type==="expression"&&l.setIsDraggingOnGrapher(ee,!0);else if(W[U].type==="updateSlider"||W[U].type==="updateSliderNonlinear"){var F=x.getItemModel(W[U].id);if(!F||F.type!=="expression")continue;var G;if((G=ee.type==="expression"?ee.reconciledDragMode:void 0)===w.DragMode.NONE||U===0&&G===w.DragMode.Y||U===1&&G===w.DragMode.X)continue;l.setSliderDragging(F,!0)}}}function m(x,B){if(B.tableInfo){var Z=x.getItemModel(B.tableInfo.tableId);return!Z||Z.type!=="table"?void 0:void g.setIsDraggingOnGrapher(Z,!1)}var X=x.getItemModel(B.sketch.id);if(X&&(X.type==="expression"||X.type==="image")&&X.formula&&X.formula.move_strategy){var ee=X.formula.move_strategy;if(ee[0].type==="updateSliderNonlinear"){var W=x.getItemModel(ee[0].id);if(!W||W.type!=="expression")return;l.setSliderDragging(W,!1)}for(var U=0;U<ee.length;U++)if(X.type==="image"?p.setIsDraggingOnGrapher(X,!1):X.type==="expression"&&l.setIsDraggingOnGrapher(X,!1),ee[U].type==="updateSlider"||ee[U].type==="updateSliderNonlinear"){var W=x.getItemModel(ee[U].id);if(!W||W.type!=="expression")continue;l.setSliderDragging(W,!1)}}}function c(x,B,Z,X){var ee=B.tableInfo.tableId,W=B.tableInfo.rowIndex,U=B.tableInfo.columnId,F=B.tableInfo.dragX,G=B.tableInfo.dragY,ie=x.getItemModel(ee);if(ie&&ie.type==="table"){var ne=g.getColumnModel(ie,U);if(ne){var Y=X.closestPointOnScreen(Z),ge=X.pixelsToMath.mapRect(n(Y,.5)),te={x:r.default(i.shortestDecimalBetween(ge.left,ge.right)),y:r.default(i.shortestDecimalBetween(ge.top,ge.bottom))};if(F&&g.setCellLatex(ie,{row:W+1,column:0},te.x),G){var H=ne.index;g.setCellLatex(ie,{row:W+1,column:H},te.y)}}}}function n(x,B){return{left:x.x-B,right:x.x+B,top:x.y+B,bottom:x.y-B}}function s(x,B,Z){var X;X=x.assignment?d.identifierToLatex(x.assignment)+"=":"";var ee=i.shortestDecimalBetween(B[0].min,B[0].max),W=i.shortestDecimalBetween(B[1].min,B[1].max),U=x.move_strategy[0].type==="updateCoordinate"&&v(0,Z),F=x.move_strategy[1].type==="updateCoordinate"&&v(1,Z);return X+"\\left("+(U?r.default(ee):x.move_strategy[0].inputString)+","+(F?r.default(W):x.move_strategy[1].inputString)+"\\right)"}function v(x,B){switch(B){case w.DragMode.X:return x===0;case w.DragMode.Y:return x===1;case w.DragMode.XY:return!0;default:return!1}}function A(x,B,Z){if(Z[0]===0&&Z[1]===0)return{x:B.x,y:B.y,width:x.width,height:x.height};var X=Math.cos(x.radianAngle),ee=Math.sin(x.radianAngle),W=B.x-x.x,U=B.y-x.y;if(Z[0]===0)return{x:x.x,y:x.y,width:x.width,height:2*Z[1]*(X*U+ee*W)};if(Z[1]===0)return{x:x.x,y:x.y,width:2*Z[0]*(X*W-ee*U),height:x.height};var F=2*(x.width*Z[0]*(X*W-ee*U)+x.height*Z[1]*(ee*W+X*U))/(x.width*x.width+x.height*x.height);return{x:x.x,y:x.y,width:F*x.width,height:F*x.height}}function M(x,B,Z){for(var X=[{x:B.left,y:B.bottom},{x:B.left,y:B.top},{x:B.right,y:B.top},{x:B.right,y:B.bottom}],ee=["x","y","width","height"],W={x:1/0,y:1/0,width:1/0,height:1/0},U={x:-1/0,y:-1/0,width:-1/0,height:-1/0},F=0,G=X;F<G.length;F++)for(var ie=G[F],ne=A(x,ie,Z),Y=0,ge=ee;Y<ge.length;Y++){var te=ge[Y];W[te]=Math.min(W[te],ne[te]),U[te]=Math.max(U[te],ne[te])}return{min:W,max:U}}function C(x,B,Z,X,ee){var W=B.formula;if(!W||!W.move_strategy)return!1;var U=W.dimensions,F=Z.scaleFactor,G=F[0]!==0&&F[1]!==0,ie=ee.closestPointOnScreen(X),ne=ee.pixelsToMath.mapRect(n(ie,G?.05:.5)),Y=M(U,ne,F),ge=ee.mathToPixels.mapRect({left:U.x-.5*U.width,right:U.x+.5*U.width,top:U.y-.5*U.height,bottom:U.y+.5*U.height}),te=Math.abs(ge.right-ge.left),H=Math.abs(ge.bottom-ge.top),pe=ee.mathToPixels.mapRect({left:Y.min.x-.5*Y.min.width,right:Y.min.x+.5*Y.min.width,top:Y.min.y-.5*Y.min.height,bottom:Y.min.y+.5*Y.min.height}),fe=Math.abs(pe.right-pe.left),re=Math.abs(pe.bottom-pe.top);if(fe<te&&fe<1||re<H&&re<1)return!1;for(var se=["width","height","x","y"],he=!1,xe=0;xe<se.length;xe++){var Me=se[xe],Be=W.move_strategy[xe];switch(Be.type){case"updateCoordinate":var ke=i.shortestDecimalBetween(Y.min[Me],Y.max[Me]),Re=r.default(ke);switch(Me){case"width":case"height":p.setMQAttribute(B,Me,Re);break;case"x":if(W.move_strategy[3].type==="updateCoordinate"){var Ve=i.shortestDecimalBetween(Y.min.y,Y.max.y),ye=r.default(Ve),P="\\left("+Re+","+ye+"\\right)";p.setMQAttribute(B,"center",P)}else{var P="\\left("+Re+","+W.move_strategy[3].inputString+"\\right)";p.setMQAttribute(B,"center",P)}break;case"y":if(W.move_strategy[2].type!=="updateCoordinate"){var P="\\left("+W.move_strategy[2].inputString+","+Re+"\\right)";p.setMQAttribute(B,"center",P)}break;default:return Me}he=!0;break;case"updateSlider":var ue=x.getItemModel(Be.id);if(!ue||ue.type!=="expression")continue;var Ae=Be.coefficients[0],_e=Be.coefficients[1],qe=_e*Y.min[Me]+Ae,Ye=_e*Y.max[Me]+Ae,Ie=i.shortestDecimalBetween(qe,Ye),Ne=ue.latex;l.adjustSliderByMovablePoint(ue,Ie),ue.latex!==Ne&&(he=!0)}}return he}function D(x,B,Z,X,ee){var W=B.formula;if(!W||!W.move_strategy)return!1;var U=B.reconciledDragMode||w.DragMode.NONE,F=!1,G=X.closestPointOnScreen(Z),ie=X.pixelsToMath.mapRect(n(G,.5)),ne=[{min:ie.left,max:ie.right},{min:ie.top,max:ie.bottom}];W.move_strategy[0].type!=="updateCoordinate"&&W.move_strategy[1].type!=="updateCoordinate"||(l.setLatex(B,s(W,ne,U)),F=!0);for(var Y,ge,te,H,pe,fe,re,se=0;se<2;se++)(function(){if(Y=W.move_strategy[se],Y.type!=="updateSlider"&&Y.type!=="updateSliderNonlinear"||!v(se,U)||!(ge=x.getItemModel(Y.id))||ge.type!=="expression")return"continue";if(te=ge.latex,H=ee&&ee[se])l.adjustSliderByKeyboard(ge,H);else if(Y.type==="updateSlider")pe=Y.coefficients[0],fe=Y.coefficients[1],re=i.shortestDecimalBetween(fe*ne[se].min+pe,fe*ne[se].max+pe),l.adjustSliderByMovablePoint(ge,re);else if(Y.type==="updateSliderNonlinear"){Y.compiled.fn||f.rehydrateCompiledFunction(Y.compiled);var he=Y.compiled.fn,xe=function(P){var ue,Ae=he(P),_e=Ae[0],qe=Ae[1];return ue=X.mathToPixels.mapPoint({x:_e,y:qe}),_e=ue.x,qe=ue.y,[_e,qe]},Me=Y.initialValue,Be=Y.min,ke=Y.max,Re=[G.x,G.y],Ve=u.findLocalClosestPointOnParametric(xe,Re,Me,Be,ke,1);if(Ve){var ye=i.shortestDecimalBetween(Ve[0],Ve[1]);Be!==void 0&&ye<Be&&(ye=Be),ke!==void 0&&ye>ke&&(ye=ke),l.adjustSliderByMovablePoint(ge,ye)}}ge.latex!==te&&(F=!0)})();return F}function S(x,B,Z,X,ee){if(B.tableInfo)return c(x,B,Z,X),!0;var W=x.getItemModel(B.sketch.id);return!!W&&(W.type==="image"?C(x,W,B,Z,X):W.type==="expression"&&D(x,W,Z,X,ee))}Object.defineProperty(o,"__esModule",{value:!0}),o.onStartMovingPoint=b,o.onStopMovingPoint=m,o.onMovePoint=S}),q("main/blank_state",["require","exports","core/graphing-calc/migrate-state"],function(O,o,w){Object.defineProperty(o,"__esModule",{value:!0}),o.BLANK_STATE={version:w.currentVersion,randomSeed:"",graph:{viewport:{xmin:-10,ymin:-13.25,xmax:10,ymax:13.25}},expressions:{list:[{id:"1",type:"expression"}]}},o.default=o.BLANK_STATE}),q("expressions/measure-expressions",["require","exports","jquery"],function(O,o,w){function r(v){for(var A=[],M=v.getAllItemModels(),C=0,D=M;C<D.length;C++){var S=D[C],x=v.getItemRootNodeById(S.id);x&&A.push(x)}return A}function d(v){for(var A=v.getAllItemModels(),M=A.length-1;M>=0;M--){var C=A[M];if(C.dcgView)return C.id}}function i(v,A){for(var M=r(v),C=0,D=M.length-1;C<=D;){var S=C+Math.floor((D-C)/2),x=M[S],B=x.getBoundingClientRect();if(B.top>A)D=S-1;else{if(!(B.bottom<A))return x;C=S+1}}}function l(v,A){for(var M,C=r(v),D=0,S=C.length-1;D<=S;){var x=D+Math.floor((S-D)/2),B=C[x];B.getBoundingClientRect().top>A?(S=x-1,M=B):D=x+1}return M}function g(v,A){var M=m(v);if(M){if(A){var C=v.getItemRootNodeById(A);if(C){var D=C.getBoundingClientRect();if(D.height>0&&D.top<=M.top&&D.bottom>=M.top)return A}}var S=i(v,M.top);return S?w(S).attr("expr-id"):p(v)}}function y(v,A){var M=m(v);if(M){var C=d(v);if(C){if(A){var D=v.getItemRootNodeById(A);if(D){var S=D.getBoundingClientRect();if(S.height>0&&S.top<=M.bottom&&S.bottom>=M.bottom||A===C&&S.bottom<=M.bottom)return A}}var x=i(v,M.bottom);return x&&w(x).attr("expr-id")||C}}}function p(v){var A=m(v);if(A){var M=l(v,A.top-2);if(M)return w(M).attr("expr-id")}}function u(v){return v.find$(".dcg-exppanel")[0]}function f(v){var A=u(v);if(A)return w(A)}function b(v){var A=v.find$(".dcg-exppanel-outer")[0];if(A)return A.getBoundingClientRect()}function m(v){var A=u(v);if(A)return A.getBoundingClientRect()}function c(v){var A=u(v);if(A){var M=A.getBoundingClientRect(),C=A.scrollTop;return M.top-C}}function n(v){var A=v.find$(".dcg-expressionlist");if(A.length===1)return A.height()}function s(v){var A=f(v);return A?A.find(".dcg-drag-container").height():0}Object.defineProperty(o,"__esModule",{value:!0}),o.getFirstVisibleItemId=g,o.getLastVisibleItemId=y,o.getFirstFullyVisibleItemId=p,o.getExppanelElt=u,o.getExppanelSelector=f,o.getOuterExppanelRect=b,o.getExppanelRect=m,o.getExppanelScrolledTop=c,o.getExpListHeight=n,o.getDragContainerHeight=s}),q("animation-frame-src",["require"],function(O){var o=0,w=function(r,d){var i=new Date().getTime(),l=Math.max(0,16-(i-o)),g=window.setTimeout(function(){r(i+l)},l);return o=i+l,g};return window.requestAnimationFrame&&window.cancelAnimationFrame?{requestAnimationFrame:window.requestAnimationFrame.bind(window),cancelAnimationFrame:window.cancelAnimationFrame.bind(window)}:{requestAnimationFrame:w,cancelAnimationFrame:window.clearTimeout.bind(window)}}),q("lib/animation-frame",["require","exports","animation-frame-src"],function(O,o,w){Object.defineProperty(o,"__esModule",{value:!0}),o.requestAnimationFrame=w.requestAnimationFrame,o.cancelAnimationFrame=w.cancelAnimationFrame}),q("jquery.handleevent",["require","jquery"],function(O){var o=O("jquery");o.Event.prototype.wasHandled=function(w){w=w||"_*_";var r=this.originalEvent,d=r&&r.handledBy;if(d&&d[w])return!0;if(w!=="_*_")return!1;var i=o(this.target).closest("[handleEvent]");return!(!i.length||i[0]===this.currentTarget)&&i.attr("handleEvent")!=="false"},o.Event.prototype.handle=function(w){w=w||"_*_";var r=this.originalEvent;if(r){var d=r.handledBy;d||(d=r.handledBy={}),d[w]=!0}}}),q("expressions/dragdrop_expressions",["require","exports","tslib","jquery","expressions/measure-expressions","lib/animation-frame","jquery.handleevent"],function(O,o,w,r,d,i){Object.defineProperty(o,"__esModule",{value:!0});var l=function(){function g(y){this.active=!1,this.controller=y;var p=d.getExppanelSelector(y);p&&(this.$exppanel=p)}return g.prototype.startDragging=function(y){this.active=!0,this.mouseY=y,this.setupEventListeners()},g.prototype.applyDrag=function(){var y=this.controller.getListModel(),p=y.dragState;if(p){this.scheduleUpdateScroll();var u=this.measureDOM(p);if(u){var f=u.floatingPreviewRect,b=this.controller.getItemModel(p.firstItemId);if(b){for(var m=b.index,c=0,n=u.visibleRects;c<n.length;c++){var s=n[c],v=s.id,A=s.rect;if(v!==b.id){var M=this.controller.getItemModel(v);if(!M)return;if(M.index<b.index){if(f.top<A.top+A.height/2){m=M.index;break}}else f.bottom>A.top+A.height/2&&(m=M.index,M.type==="folder"&&M.collapsed&&(m+=this.controller.getNumberOfItemsInFolder(M.id)))}}var C,D;m>b.index?(C=m,D=m+1):m<b.index?(C=m-1,D=m):(C=m-1,D=m+1);var S=this.controller.getItemModelByIndex(C),x=this.controller.getItemModelByIndex(D),B="",Z="";S&&(B=S.type==="folder"?S.id:S.folderId),x&&(Z=x.type==="folder"?x.id:x.folderId);var X="";return B&&(Z===B?b.type==="folder"?m=b.index:X=B:b.type!=="folder"&&this.isPreviewTopContainedInFolder(u,B)&&(X=B)),{dragState:w.__assign({},u.dragState),newIndex:m,folderId:X}}}}},g.prototype.measureDOM=function(y){var p=d.getExppanelScrolledTop(this.controller),u=d.getExpListHeight(this.controller);if(p!==void 0&&u!==void 0){var f=d.getDragContainerHeight(this.controller),b=y.mouseY-y.grabOffset+2,m=b-p;m=Math.max(m,-f/2),m=Math.min(m,u-f);var c={top:b,bottom:b+f,height:f},n=this.controller.findFirstVisibleItem(),s=this.controller.findLastVisibleItem();if(n&&s){for(var v=[],A=n.index;A<=s.index;A++){var M=this.controller.getItemModelByIndex(A);if(M){var C=this.controller.getItemRootNodeById(M.id);if(C&&M.id!==y.firstItemId){var D=C.getBoundingClientRect();v.push({id:M.id,rect:D})}}}if(v.length!==0)return{dragState:w.__assign(w.__assign({},y),{itemTop:m}),floatingPreviewRect:c,visibleRects:v}}}},g.prototype.isPreviewTopContainedInFolder=function(y,p){for(var u=y.visibleRects,f=y.floatingPreviewRect,b=0,m=u;b<m.length;b++){var c=m[b],n=c.id,s=c.rect;if(s.top<=f.top&&s.bottom>=f.top){var v=this.controller.getItemModel(n);if(!v)return!1;if(v.type==="folder"&&v.id===p||v.type!=="folder"&&v.folderId===p)return!0}}return!1},g.prototype.scheduleUpdateScroll=function(){var y=this;this.updateScrollScheduled||(this.updateScrollScheduled=!0,i.requestAnimationFrame(function(){y.updateScroll(),y.updateScrollScheduled=!1}))},g.prototype.stop=function(){this.active=!1,this.tearDownEventListeners(),this.controller.dispatch({type:"stop-dragdrop"})},g.prototype.setupEventListeners=function(){var y=this;r(document).on("dcg-tapmove.dragdrop",function(p){y.mouseY=p.changedTouches[0].clientY,y.controller.dispatch({type:"update-dragdrop",mouseY:y.mouseY})}),r(document).on("dcg-tapend.dragdrop",function(p){y.stop(),p.handle("dragdrop")})},g.prototype.tearDownEventListeners=function(){r(document).off(".dragdrop")},g.prototype.updateScroll=function(){if(this.active){var y=this.$exppanel[0].getBoundingClientRect(),p=0;p=Math.min(p,this.mouseY-y.top),p=Math.max(p,this.mouseY-y.bottom+30),p=p*y.height/900,p&&this.$exppanel.scrollTop(this.$exppanel.scrollTop()+p)}},g}();o.default=l}),q("keypad/mq-commands",["require","exports"],function(O,o){function w(d,i){r[i](d)}Object.defineProperty(o,"__esModule",{value:!0});var r={loga:function(d){d.write("\\log_{}"),d.typedText("("),d.keystroke("Left"),d.keystroke("Down")},nthroot:function(d){d.write("\\sqrt[]{}"),d.keystroke("Left"),d.keystroke("Left")},ddx:function(d){d.write("\\frac{d}{dx}")},arcsin:function(d){d.write("sin^{-1}"),d.typedText("(")},arccos:function(d){d.write("cos^{-1}"),d.typedText("(")},arctan:function(d){d.write("tan^{-1}"),d.typedText("(")},arcsec:function(d){d.write("sec^{-1}"),d.typedText("(")},arccsc:function(d){d.write("csc^{-1}"),d.typedText("(")},arccot:function(d){d.write("cot^{-1}"),d.typedText("(")},"A^T":function(d){d.typedText("^T"),d.keystroke("Right")},"A^-1":function(d){d.typedText("^-1"),d.keystroke("Right")},"A^2":function(d){d.typedText("^2"),d.keystroke("Right")},"a^2":function(d){d.typedText("^2"),d.keystroke("Right")},"a^3":function(d){d.typedText("^3"),d.keystroke("Right")}};o.execute=w}),q("main/controller",["require","exports","main/propagate_selection","tslib","scroll_helpers","browser","core/lib/label","underscore","lib/i18n","flux","core/types/opacity","core/lib/dragmode","core/types/styles","lib/conditional_blur","core/lib/deepCopy","core/lib/number-to-latex","lib/state-stack","graphing/viewport","core/graphing-calc/migrate-state","core/math/expression-types","core/lib/color-helpers","graphing-calc/models/expression","core/graphing-calc/json/expression","graphing-calc/models/expression","graphing-calc/models/table","graphing-calc/models/image","graphing-calc/models/folder","graphing-calc/models/text","graphing-calc/models/list","graphing-calc/models/abstract-item","graphing-calc/models/focus","graphing-calc/actions/keyboard","main/expression-zoom-helpers","core/math/evaluate-single-expression","./layout-model","./settings-view-model","jquery","bugsnag","dcgview-helpers/mathquill-braille-wrapper","expressions/list_move_controller","./blank_state","dcgview-helpers/mathquill-view","expressions/measure-expressions","expressions/dragdrop_expressions","keypad/mq-commands","core/lib/random-seed"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n,s,v,A,M,C,D,S,x,B,Z,X,ee,W,U,F,G,ie,ne,Y,ge,te,H,pe,fe,re,se,he,xe,Me,Be){function ke(ye){return ye&&r.__assign(r.__assign({},ye),{wasCompleteSetState:void 0,layoutModel:void 0,settingsViewModel:void 0})}function Re(ye,P){return g.isEqual(ke(ye),ke(P))}Object.defineProperty(o,"__esModule",{value:!0});var Ve=function(){function ye(P){var ue=this;this.__nextItemId=0,this.__pendingImageUploads={},this.__waitingForClickableObjectWorkerResponse=!1,this.nextSubscription=0,this.subscriptions={},this._queuedCallbacks=[],this._hasUnsavedChanges=!1,this.shouldScrollSelectedItemIntoViewAfterDispatch=!1,this.lastParsableObjects={},this.toastData={},this.t=function(Ae,_e){var qe=ue.graphSettings.config.language;return y.t(Ae,_e,qe)},this.raw=function(Ae,_e){return y.raw(Ae,_e)},this.unpack=function(Ae){var _e=ue.graphSettings.config.language;return y.unpack(Ae,_e)},this.dispatch=function(Ae){if(Ae.type==="blur-focus-location"&&ue.dispatcher.isDispatching())return void ue.runAfterDispatch(function(){ue.dispatch(Ae)});if(Ae.type==="set-focus-location"&&ue.dispatcher.isDispatching())return void ue.runAfterDispatch(function(){ue.dispatch(Ae)});if(Ae.type==="tick"&&ue.dispatcher.isDispatching())return void ue.runAfterDispatch(function(){ue.dispatch(Ae)});Ae.type==="tick"||(Ae.type==="process-graph-data"?H.leaveBreadcrumb("dispatch::"+ue.bugsnagContext,{type:Ae.type}):H.leaveBreadcrumb("dispatch::"+ue.bugsnagContext,Ae)),ue.dispatcher.isDispatching()&&H.leaveBreadcrumb("dispatch-in-dispatch::"+ue.bugsnagContext,{type:Ae.type}),ue.dispatcher.dispatch(Ae),ue.onEventsEmitted&&ue.onEventsEmitted(ue.enqueuedEvents);for(var _e;_e=ue._queuedCallbacks.shift();)_e()},this._requiresTickNextFrame=!1,this.updateViews=function(){for(var Ae in ue.subscriptions)ue.subscriptions[Ae]()},this.bugsnagContext="",this.inPrintMode=!1,this.lastInfiniteScrollFirstDOM=void 0,this.lastInfiniteScrollLastDOM=void 0,this.hasDispatchSinceLastInfiniteScrollUpdate=!1,this.stateStack=new s.default,this.isCurrentlyDoingSetState=!1,this.graphSettings=P,this.listModel=W.init(this),this.layoutModel=Y.defaultLayoutModel(this.graphSettings.config),this.layoutMeasurements={width:0,height:0},this.settingsViewModel=ge.defaultSettingsViewModel(),this.imageRetryState={lastAttemptTime:0,attempts:0},this.setupDispatcher()}return ye.prototype.hasUnsavedChanges=function(){return this._hasUnsavedChanges},ye.prototype.hasVisibleAndUndoableToast=function(){return typeof this.toastData.undoCallback=="function"},ye.prototype.getToastData=function(){return this.toastData},ye.prototype.toastUndo=function(){typeof this.toastData.undoCallback=="function"&&(this.toastData.undoCallback(),this.dispatch({type:"toast/close"}))},ye.prototype.runAfterDispatch=function(P){this.dispatcher.isDispatching()?this._queuedCallbacks.push(P):P()},ye.prototype.enqueueEvent=function(P){this.enqueuedEvents[P]=!0},ye.prototype.setRandomSeed=function(P){this.graphSettings.setProperty("randomSeed",P)},ye.prototype.getRandomSeed=function(){return this.graphSettings.randomSeed},ye.prototype.shouldDispatchTickNextFrame=function(){return!!this._requiresTickNextFrame},ye.prototype.markTickRequiredNextFrame=function(){this._requiresTickNextFrame=!0},ye.prototype.setupDispatcher=function(){var P=this;this.dispatcher=new p.Dispatcher,this.dispatcher.register(function(ue){var Ae=P.getSelectedItem(),_e=P.getFocusLocation();P.shouldScrollSelectedItemIntoViewAfterDispatch=!1;var qe;P.enqueuedEvents={change:!1,graphReset:!1,clearUnsavedChanges:!1,openDrawer:!1,userMovedPoint:!1,userClickedObject:!1,userEditedLabel:!1},ue.type==="tick"&&(P._requiresTickNextFrame=!1),P.isCurrentlyDoingSetState=!1,P.handleDispatchedAction(ue),P.updateTheComputedWorld();var Ye=P.getImageToRetry();(P.getPlayingSliders().length>0||P.hasAnyTableThatRequiresTicks()||P.isDragDropActive()||Ye)&&P.markTickRequiredNextFrame(),Ye&&P.retryLoadingFailedImage(Ye),ue.type==="undo"||ue.type==="redo"||P.isDragDropActive()||P.commitUndoRedoSynchronously(ue.type),P.requestParseForAllItems(),ue.type==="clickable-item-clicked"&&(P.__waitingForClickableObjectWorkerResponse=!0,P.evaluator.notifyWhenSynced(function(){P.__waitingForClickableObjectWorkerResponse=!1})),P.isCurrentlyDoingSetState=!1,P.enqueuedEvents.change&&P.grapher&&P.grapher.markLabelsDirty(),P.enqueuedEvents.clearUnsavedChanges?P._hasUnsavedChanges=!1:P.enqueuedEvents.change&&(P._hasUnsavedChanges=!0);var Ie=P.getSelectedItem();Ie?Ae&&Ae.guid===Ie.guid||(P.shouldScrollSelectedItemIntoViewAfterDispatch=!0):P.shouldScrollSelectedItemIntoViewAfterDispatch=!1;var Ne=P.getFocusLocation();Ne&&!g.isEqual(Ne,_e)&&P.getFocusedItem()==Ie&&(P.shouldScrollSelectedItemIntoViewAfterDispatch=!0),_e&&Ae&&Ae.type==="table"&&_e.type==="table"&&(!Ne||Ne.type!=="table"||_e.id!==Ne.id)&&Ae.isExpanded&&(B.setExpanded(Ae,!1),Ne||(qe=Ae)),Ne&&Ie&&Ie.type==="table"&&B.updateIsCollapsedByFocusLocation(Ie),P.updateRenderShellsBeforePaint(),P.updateViews(),qe?P.scrollItemIntoView(qe):P.shouldScrollSelectedItemIntoViewAfterDispatch&&P.scrollSelectedItemIntoView(),P.updateDragDrop(),P.updateRenderShellsAfterDispatch()})},ye.prototype.handleDispatchedAction=function(P){var ue=this;switch(P.type){case"api-method-called":break;case"undo":this.undo();break;case"redo":this.redo();break;case"clear-undoredo-history":this.clearUndoRedoHistory();break;case"on-special-key-pressed":P.key==="Enter"?G.onEnterPressed(this):P.key==="Up"?G.onUpPressed(this):P.key==="Down"?G.onDownPressed(this):P.key==="Backspace"?G.onBackspacePressed(this):P.key==="Delete"&&G.onDeletePressed(this);break;case"select-previous-expression":W.selectPrevItem(this.listModel);break;case"select-next-expression":W.selectNextItem(this.listModel);break;case"upward-delete-selected-expression":G.upwardDeleteSelectedExpression(this);break;case"downward-delete-selected-expression":G.downwardDeleteSelectedExpression(this);break;case"table-show-more-rows":var J=this.getItemModel(P.id);if(!J||J.type!=="table")return;var Ae=B.getCollapsedRange(J);if(!Ae)return;W.setSelected(this.listModel,J),B.setExpanded(J,!0),F.setFocusLocation(this,{type:"table",id:J.id,location:{row:Ae.min,column:0}});break;case"navigate-table-by-key":G.navigateTableByKey(this,P.id,P.key);break;case"delete-item-and-animate-out":this._deleteItemAndAnimateOut(P.id,P.setFocusAfterDelete);break;case"finish-deleting-item-after-animation":this._finishDeletingItemAfterAnimation(P.id,P.setFocusAfterDelete);break;case"expression-zoom-fit":this._expressionZoomFit(P.id);break;case"set-expression-properties-from-api":this._setExpressionPropertiesFromAPI(P.id,P.properties);break;case"add-item-to-end-from-api":this._addItemToEndFromAPI(this.createItemModel(P.state));break;case"duplicate-expression":var _e=this.getItemModel(P.id);if(!_e||_e.type!=="expression")return;var qe=x.getState(_e,{stripDefaults:!1}),Ye=this.createItemModel(r.__assign(r.__assign({},qe),{id:this.generateId()}));this._toplevelInsertItemAt(_e.index+1,Ye,!1,_e.folderId);break;case"insert-item-at-index":var Ie=this.createItemModel(P.state);this._toplevelInsertItemAt(P.index,Ie,P.focus,P.folderId);break;case"new-expression-at-end":var Ne=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()});this.setEditListMode(!1),W.insertItemAtEnd(this.listModel,Ne),F.moveFocusToItem(this,Ne.id);break;case"new-expression":var z=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()});this.setEditListMode(!1),this._toplevelNewItemAtSelection(z,{shouldFocus:!0}),this._closeAddExpression();break;case"new-text":var Pe=this.createItemModel({id:this.generateId(),type:"text"});this._toplevelNewItemAtSelection(Pe,{shouldFocus:!0}),this._closeAddExpression();break;case"new-folder":var ot=this.createItemModel({type:"folder",id:this.generateId()});this._toplevelNewItemAtSelection(ot,{shouldFocus:!0}),this._closeAddExpression();break;case"new-images":this._uploadImagesAndWaitForThemToLoad({files:P.files}),this._closeAddExpression();break;case"change-image":this._uploadImagesAndWaitForThemToLoad({files:P.files,id:P.id});break;case"new-table":var rt=this._createTableItem();this._toplevelNewItemAtSelection(rt,{shouldFocus:!0}),this._closeAddExpression();break;case"paste-table":this._pasteTable(P.data);break;case"insert-several-expressions":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,this._insertSeveralExpressions(P.expressions);break;case"append-number-list":this._appendNumberList(P.latex);break;case"remove-item-by-id":W.removeItemById(this.listModel,P.id);break;case"replace-item-at-index":var kt=this.createItemModel(P.state);this._toplevelReplaceItemAt(P.index,kt,P.focus);break;case"create-sliders-for-item":this.createSlidersForItem(P.id,P.variables);break;case"start-dragdrop":var J=this.getItemModel(P.id);if(!J)return;var ve=this.getItemRootNodeById(J.id);if(!ve)return;var ze=ve.getBoundingClientRect();W.setSelected(this.listModel,void 0);var je=P.grabY-ze.top,Te=!1,Xe=1;J.type==="folder"&&(Xe+=this.getNumberOfItemsInFolder(J.id),J.collapsed||(Te=!0,X.setCollapsed(J,!0))),W.setDragState(this.listModel,{firstItemId:J.id,numberOfItems:Xe,expandFolder:Te,grabOffset:je,mouseY:P.mouseY,itemTop:0}),this.dragdrop_expressions.startDragging(P.mouseY);break;case"update-dragdrop":var Ze=this.listModel.dragState;if(!Ze)return;W.setDragState(this.listModel,r.__assign(r.__assign({},Ze),{mouseY:P.mouseY}));break;case"stop-dragdrop":var Ze=this.listModel.dragState;if(!Ze)return;var Xt=this.getItemModel(Ze.firstItemId);if(!Xt)return;W.setSelected(this.listModel,Xt),Xt.type==="folder"&&Ze.expandFolder&&X.setCollapsed(Xt,!1),W.setDragState(this.listModel,void 0);break;case"set-selected-id":var Ce=this.getItemModel(P.id);W.setSelected(this.listModel,Ce);break;case"set-selected-index":var Fe=this.getItemModelByIndex(P.index);W.setSelected(this.listModel,Fe);break;case"set-none-selected":W.setSelected(this.listModel,void 0);break;case"set-focus-location":(P.location?P.location.type:"")==="table"&&(this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{inEditListMode:!1})),F.setFocusLocation(this,P.location);break;case"move-focus-to-item":F.moveFocusToItem(this,P.id,P.where);break;case"blur-focus-location":this.isFocusLocationFocused(P.location)&&F.setFocusLocation(this,void 0);break;case"set-folder-collapsed":var J=this.getItemModel(P.id);if(!J||J.type!=="folder")return;X.setCollapsed(J,P.isCollapsed);break;case"set-item-secret":var Ge=this.getItemModel(P.id);if(!Ge)return;U.setSecret(Ge,P.isSecret);break;case"set-tablecolumn-color":var J=this.getItemModel(P.tableId);if(!J||J.type!=="table")return;B.setColumnColor(J,P.columnId,P.color);break;case"set-show-cdf":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setShowCDF(J,P.showCDF);break;case"set-cdf-min":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setCDFMin(J,P.latex);break;case"set-cdf-max":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setCDFMax(J,P.latex);break;case"toggle-item-hidden":this._toggleItemHidden(P.id);break;case"toggle-tablecolumn-hidden":this._toggleTableColumnHidden(P.tableId,P.columnId);break;case"toggle-item-settings-menu":this.listModel.openItemMenu&&P.menu.model===this.listModel.openItemMenu.model?this.listModel.openItemMenu=void 0:(this.listModel.openItemMenu=P.menu,P.menu.focusFirstOption&&F.setFocusLocation(this,{type:"expression-menu",id:P.menu.model.id,location:"start"}));break;case"close-item-settings-menu":this.listModel.openItemMenu=void 0;break;case"toggle-fraction-evaluation":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;var Qe=x.shouldEvaluationDisplayAsFraction(J);x.setEvaluationAsFraction(J,!Qe);break;case"set-item-label":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setLabel(J,P.label),this.enqueueEvent("userEditedLabel");break;case"set-item-showlabel":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setShowLabel(J,P.showLabel),P.showLabel||(x.setInteractiveLabel(J,!1),x.setEditableLabelMode(J,S.EditableLabelMode.None));break;case"set-item-color":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setColor(J,P.color);break;case"set-item-fill":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setFill(J,P.fill),this._setItemHidden(J.id,x.areAllVisibilityPropsOff(J));break;case"set-image-opacity":var J=this.getItemModel(P.id);if(!J||J.type!=="image")return;Z.setOpacity(J,P.opacity),this._setItemHidden(J.id,!1);break;case"set-image-in-foreground":var J=this.getItemModel(P.id);if(!J||J.type!=="image")return;Z.setForeground(J,P.foreground);break;case"image-upload-error":this.__pendingImageUploads[P.token]&&(delete this.__pendingImageUploads[P.token],this._showToast({message:this.t("Image upload failed.")}));break;case"image-upload-success":if(this.__pendingImageUploads[P.token])if(delete this.__pendingImageUploads[P.token],P.id){var J=this.getItemModel(P.id);J&&J.type==="image"&&Z.setImageURL(J,P.url)}else{var it=this.createItemModel({type:"image",id:this.generateId(),width:P.width,height:P.height,image_url:P.url,name:P.name});this._toplevelNewItemAtSelection(it,{shouldFocus:!1})}this.isUploadingImages()||(this.toastData={});break;case"image-load-success":var it=this.getItemModel(P.id);if(!it||it.type!=="image")return;Z.setLoadStatus(it,"loaded"),this.imageRetryState={lastAttemptTime:0,attempts:0};break;case"image-load-error":var it=this.getItemModel(P.id);if(!it||it.type!=="image")return;Z.setLoadStatus(it,"failed");break;case"image-retry-loading":var it=this.getItemModel(P.id);if(!it||it.type!=="image")return;Z.retryLoading(it);break;case"set-item-dragmode":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setDragMode(J,P.dragMode),P.dragMode!==f.DragMode.NONE&&this._setItemHidden(P.id,!1);break;case"set-tablecolumn-dragmode":var J=this.getItemModel(P.tableId);if(!J||J.type!=="table")return;B.setColumnDragMode(J,P.columnId,P.dragMode),P.dragMode!==f.DragMode.NONE&&this._setTableColumnHidden(P.tableId,P.columnId,!1);break;case"set-tablecolumn-points":var J=this.getItemModel(P.tableId);if(!J||J.type!=="table")return;B.setColumnPoints(J,P.columnId,P.bool),this._setTableColumnHidden(P.tableId,P.columnId,B.shouldHideColumn(J,P.columnId));break;case"set-tablecolumn-lines":var J=this.getItemModel(P.tableId);if(!J||J.type!=="table")return;B.setColumnLines(J,P.columnId,P.bool),this._setTableColumnHidden(P.tableId,P.columnId,B.shouldHideColumn(J,P.columnId));break;case"set-tablecolumn-linestyle":var J=this.getItemModel(P.tableId);if(!J||J.type!=="table")return;B.setColumnLineStyle(J,P.columnId,P.lineStyle),this._setTableColumnHidden(P.tableId,P.columnId,!1);break;case"set-tablecolumn-pointstyle":var J=this.getItemModel(P.tableId);if(!J||J.type!=="table")return;B.setColumnPointStyle(J,P.columnId,P.pointStyle),this._setTableColumnHidden(P.tableId,P.columnId,!1);break;case"set-item-points":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setPoints(J,P.points),this._setItemHidden(P.id,x.areAllVisibilityPropsOff(J)),P.points||J.dragMode===f.DragMode.NONE||x.setDragMode(J,f.DragMode.NONE);break;case"set-item-pointstyle":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setPointStyle(J,P.pointStyle),this._setItemHidden(P.id,!1);break;case"set-item-lines":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setLines(J,P.lines),this._setItemHidden(P.id,x.areAllVisibilityPropsOff(J));break;case"set-item-linestyle":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setLineStyle(J,P.lineStyle),this._setItemHidden(P.id,!1);break;case"set-item-label-dropdown-open":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setLabelDropdownOpen(J,P.open);break;case"set-item-fillopacity":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setFillOpacity(J,P.fillOpacity),this._setItemHidden(P.id,!1);break;case"set-item-linewidth":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setLineWidth(J,P.lineWidth),this._setItemHidden(P.id,!1);break;case"set-item-labelSize":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setLabelSize(J,P.labelSize);break;case"set-item-label-orientation":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setLabelOrientation(J,P.labelOrientation);break;case"set-item-vertical-label":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setVerticalLabel(J,P.verticalLabel);break;case"set-suppress-text-outline":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setSuppressTextOutline(J,P.suppressTextOutline);break;case"set-item-interactive-label":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setInteractiveLabel(J,P.interactiveLabel),P.interactiveLabel&&x.setEditableLabelMode(J,S.EditableLabelMode.None);break;case"set-item-editable-label-mode":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;J.editableLabelMode!==S.EditableLabelMode.None&&P.editableLabelMode!==S.EditableLabelMode.None&&J.editableLabelMode!==P.editableLabelMode&&x.setLabel(J,""),x.setEditableLabelMode(J,P.editableLabelMode),P.editableLabelMode!==S.EditableLabelMode.None&&x.setInteractiveLabel(J,!1);break;case"plot-residuals":var ct=this.getItemModel(P.id);if(!ct||ct.type!=="expression")return;var gt=ct.formula.regression,Rt=gt.residualSuggestionId;if(!Rt)return;var ut=this.getItemModel(Rt);if(!ut)return;B.insertBlankColumn(ut,ut.columnModels.length-1,{id:this.generateId(),latex:l.identifierToLatex(gt.residualVariable),color:this.getNextColor()});break;case"toggle-logmode":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;var mt=J.isLogModeRegression;x.setLogMode(J,!mt);break;case"set-item-latex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var Nt=this.getItemModel(P.id);if(!Nt||Nt.type!=="expression")return;var Et=P.latex;if(Et==='"'&&this.areNotesEnabled()){var Kt=this.createItemModel({id:this.generateId(),type:"text"});this._toplevelReplaceItemAt(Nt.index,Kt,!0)}else if(Et==="")x.blankOutExpressionAfterClearingLatex(Nt);else if(Et==="folder"&&this.areFoldersEnabled()){var xt=this.createItemModel({id:this.generateId(),type:"folder"});this._toplevelReplaceItemAt(Nt.index,xt,!0)}else if(Et==="table"){var Ut=this._createTableItem();this._toplevelReplaceItemAt(Nt.index,Ut,!0)}else Et==="betchacant"?this.runAfterDispatch(function(){ue.triggerBetchacant&&ue.triggerBetchacant()}):x.setLatex(Nt,Et);break;case"set-visualization-prop":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setVizProp(J,P.prop,P.latex);break;case"set-clickableinfo-prop":var J=this.getItemModel(P.id);if(!J)return;J.type==="expression"?x.setClickableInfoProp(J,P.prop,P.value):J.type==="image"&&Z.setClickableInfoProp(J,P.prop,P.value),P.value===!0&&(F.setFocusLocation(this,{type:"clickableinfo-prop",id:P.id,location:"assignment"}),this.listModel.openItemMenu=void 0);break;case"set-folder-title":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var J=this.getItemModel(P.id);if(!J||J.type!=="folder")return;X.setTitle(J,P.title);break;case"set-image-mq-attribute":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var J=this.getItemModel(P.id);if(!J||J.type!=="image")return;Z.setMQAttribute(J,P.attribute,P.latex);break;case"set-image-name":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var J=this.getItemModel(P.id);if(!J||J.type!=="image")return;Z.setName(J,P.name);break;case"set-graph-settings":for(var jt in P)jt!=="type"&&this.graphSettings.setProperty(jt,P[jt]);break;case"set-polar-domain-minlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setPolarDomainMin(J,P.latex);break;case"set-polar-domain-maxlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setPolarDomainMax(J,P.latex);break;case"set-parametric-domain-minlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setParametricDomainMin(J,P.latex);break;case"set-parametric-domain-maxlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setParametricDomainMax(J,P.latex);break;case"set-note-text":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var J=this.getItemModel(P.id);if(!J||J.type!=="text")return;ee.setText(J,P.text);break;case"set-edit-list-mode":var J=W.getSelected(this.listModel);if(this.setEditListMode(P.isEditListMode),P.focusExpressionList){if(J===void 0&&(J=this.getItemModelByIndex(0)),!J)return;F.moveFocusToItem(this,J.id,J.type==="table"&&P.isEditListMode?"container":"start")}else W.setSelected(this.listModel,void 0),F.setFocusLocation(this,void 0);break;case"set-projector-mode":this.getGraphSettings().config.setProperty("projectorMode",P.value);break;case"set-inverted-colors":this.getGraphSettings().config.setProperty("invertedColors",P.value);break;case"set-tablecell-latex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var J=this.getItemModel(P.tableId);if(!J||J.type!=="table")return;B.setCellLatex(J,P.cell,P.latex);break;case"set-state":this.externalSetState(P.state,P.opts);break;case"set-blank":this.externalSetState(this.getBlankState(),P.opts);break;case"clear-unsaved-changes":this.enqueueEvent("clearUnsavedChanges");break;case"reset-graph":var or=this.getState();this.externalSetState(this.graphSettings.defaultState,{}),this._showToast({message:this.t("Graph reset."),undoCallback:function(){return ue.dispatch({type:"set-state",state:or,opts:{}})}}),this.enqueueEvent("graphReset");break;case"clear-graph":if(this.triggerClearGraph)return void this.runAfterDispatch(function(){return ue.triggerClearGraph()});var dr=this.getState();this.externalSetState(this.getBlankState(),{});var Xt=this.getItemModelByIndex(0);Xt&&F.moveFocusToItem(this,Xt.id,"end"),this._showToast({message:this.t("Graph cleared."),undoCallback:function(){return ue.dispatch({type:"set-state",state:dr,opts:{}})}}),this.enqueueEvent("graphReset");break;case"on-evaluator-changes":W.onEvaluatorFormulaUpdates(this.listModel,P.changes);break;case"process-graph-data":var Wt;for(Wt in P.graphData.addedGraphs){var $=P.graphData.addedGraphs[Wt];this.grapher&&this.grapher.updateSketch(Wt,$),W.onGraphComputed(this.listModel,Wt,$)}for(Wt in P.graphData.removedGraphs)this.grapher&&this.grapher.hide(Wt);for(Wt in P.graphData.intersections)this.grapher&&this.grapher.type==="2d"&&this.grapher.updateIntersections(Wt,P.graphData.intersections[Wt]);this.grapher&&this.grapher.poiController&&this.grapher.poiController.handleTraceUpdate();break;case"add-helper-expression":W.addHelperExpression(this.listModel,P.state);break;case"tick":this._tickSliders(P.time);break;case"adjust-slider-by-keyboard":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.adjustSliderByKeyboard(J,P.adjustment);break;case"adjust-slider-by-dragging-thumb":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.adjustSliderByDraggingThumb(J,P.target);break;case"set-slider-minlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setSliderMin(J,P.latex);break;case"set-slider-maxlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setSliderMax(J,P.latex);break;case"set-slider-steplatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setSliderStep(J,P.latex);break;case"set-slider-dragging":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setSliderDragging(J,P.dragging);break;case"play-slider-from-min":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;var ce=x.getSliderMin(J);if(isNaN(ce))return;var N=x.computeNewSliderLatex(J.latex,ce);x.setSliderIsPlaying(J,!1),x.setLatex(J,N),x.setSliderIsPlaying(J,!0);break;case"set-slider-isplaying":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setSliderIsPlaying(J,P.isPlaying);break;case"set-slider-loopmode":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setSliderLoopMode(J,P.loopMode);break;case"set-slider-animationperiod":var J=this.getItemModel(P.id);if(!J||J.type!=="expression")return;x.setSliderAnimationPeriod(J,P.animationPeriod);break;case"show-expressions-list":this._showExpressions();break;case"hide-expressions-list":this._hideExpressions();break;case"open-drawer":this.enqueueEvent("openDrawer");break;case"re-randomize":this.setRandomSeed(Be.default());break;case"resize-exp-list":this._setExpListWidth(P.expListWidth);break;case"toast/show":this._showToast(P.toast);break;case"toast/close":var Q=this.toastData.onHide;Q&&this.runAfterDispatch(Q),this.toastData={};break;case"toast/undo":var oe=this.toastData.undoCallback;oe&&this.runAfterDispatch(oe),this.toastData={};break;case"toast/learn-more":var we=this.toastData.undoCallback;we&&this.runAfterDispatch(we),this.toastData={};break;case"start-moving-point":fe.onStartMovingPoint(this,this.listModel,P.pointInfo);break;case"stop-moving-point":fe.onStopMovingPoint(this,P.pointInfo);break;case"on-move-point":fe.onMovePoint(this,P.pointInfo,P.screenPt,P.projection,P.keyboardDirection)&&this.enqueueEvent("userMovedPoint");break;case"commit-user-requested-viewport":this._commitUserRequestedViewport(P.viewport);break;case"set-viewport":this._setAxisLimitLatex("xmin",P.viewport.xmin+""),this._setAxisLimitLatex("xmax",P.viewport.xmax+""),this._setAxisLimitLatex("ymin",P.viewport.ymin+""),this._setAxisLimitLatex("ymax",P.viewport.ymax+"");break;case"set-axis-limit-latex":this._setAxisLimitLatex(P.limit,P.latex);break;case"toggle-graph-settings":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{graphSettingsOpen:!this.layoutModel.graphSettingsOpen}),P.focusOnOpen&&this.layoutModel.graphSettingsOpen&&F.setFocusLocation(this,{type:"settings",location:"projector-mode"});break;case"close-graph-settings":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{graphSettingsOpen:!1}),P.focusIconAfterClose&&F.setFocusLocation(this,{type:"settings",location:"icon"});break;case"toggle-add-expression":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{addExpressionOpen:!this.layoutModel.addExpressionOpen}),P.focusOnOpen&&this.layoutModel.addExpressionOpen&&F.setFocusLocation(this,{type:"add-expression-btn"});break;case"close-add-expression":this._closeAddExpression(),P.focusIconAfterClose&&F.setFocusLocation(this,{type:"add-item-btn"});break;case"ui/container-resized":this.layoutMeasurements={width:P.size.width,height:P.size.height},this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;break;case"enter-printmode":this.inPrintMode=!0;break;case"exit-printmode":this.inPrintMode=!1;break;case"expression-size-exceeded":this._showToast({message:this.t("Expression size cannot exceed 100 characters.")});break;case"keypad/set-layout":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadLayout:P.layout,keypadFunctionsOpen:!1});break;case"keypad/set-functions-tab":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadFunctionsTab:P.tab});break;case"keypad/set-minimized":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadMinimized:P.minimized,keypadLayout:"mainNumbers"}),this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,this.needsFakeKeypad()||F.addFocusForKeypad(this);break;case"keypad/type-text":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch(function(){var lt=se.default.getFocusedMathquill();lt&&se.default.canAcceptText(lt,ue.getCapExpressionSize(),P.text)&&(lt.typedText(P.text),se.default.simulateUserChangedLatex(lt))});break;case"keypad/press-key":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch(function(){var lt=se.default.getFocusedMathquill();lt&&se.default.simulateKeypress(lt,P.key)});break;case"keypad/custom-command":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch(function(){var lt=se.default.getFocusedMathquill();lt&&(Me.execute(lt,P.command),se.default.simulateUserChangedLatex(lt))});break;case"keypad/shift":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadLayout:Y.getShiftedLayoutForCurrentLayout(this.getKeypadLayout()),keypadFunctionsOpen:!1});break;case"keypad/123":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadLayout:"mainNumbers",keypadFunctionsOpen:!1});break;case"keypad/abc":this.isQwertyKeyboardEnabled()?this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadLayout:"letters",keypadFunctionsOpen:!1}):this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadLayout:"noQwertyLetters",keypadFunctionsOpen:!1});break;case"keypad/functions":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadFunctionsOpen:!this.isKeypadFunctionsPopoverOpen()});break;case"open-on-web":this._openOnWeb();break;case"file-is-dragged-over":this.listModel.openItemMenu=void 0,this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{isFileDraggedOver:!0});break;case"file-is-not-dragged-over":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{isFileDraggedOver:!1});break;case"zoom":this.grapher&&this.grapher.viewportController.zoom(P.direction);break;case"set-hovered-image":var J=this.getItemModel(P.id);if(!J||J.type!=="image")return;Z.setClickableInfoProp(J,"hoveredImage",P.url);break;case"set-depressed-image":var J=this.getItemModel(P.id);if(!J||J.type!=="image")return;Z.setClickableInfoProp(J,"depressedImage",P.url);break;case"clickable-item-clicked":var J=this.getItemModel(P.id);if(!J)return;var Se;if(J.type==="expression"?Se=x.getClickableInfoUpdateLatex(J):J.type==="image"&&(Se=Z.getClickableInfoUpdateLatex(J)),!Se)return;var De;if(J.type==="expression"?De=x.getClickableInfoUpdateIdentifier(J):J.type==="image"&&(De=Z.getClickableInfoUpdateIdentifier(J)),De){var We=W.getItemsByIdentifier(this.listModel,De);if(We.length===1){var et=We[0];et.slider.isPlaying?(x.setSliderIsPlaying(et,!1),x.setLatex(et,Se),x.setSliderIsPlaying(et,!0)):x.setLatex(et,Se)}this.enqueueEvent("userClickedObject")}break;case"update-ide-search-str":this.updateIDESearchStr(P.str);break;case"set-braille-mode":this.setBrailleMode(P.mode);break;case"set-six-key-input":this.setSixKeyInput(P.useSixKeyInput);break;default:return P}},ye.prototype.updateIDESearchStr=function(P){this.ideSearchStr=P,W.filterItemsBySearch(this.listModel,P)},ye.prototype.getIDESearchStr=function(){return this.ideSearchStr||""},ye.prototype.areClickableObjectsTemporarilyDisabled=function(){return this.__waitingForClickableObjectWorkerResponse},ye.prototype.getBrailleMode=function(){return this.graphSettings.config.brailleMode},ye.prototype.setBrailleMode=function(P){this.graphSettings.config.brailleMode=P},ye.prototype.getSixKeyInput=function(){return this.graphSettings.config.sixKeyInput},ye.prototype.setSixKeyInput=function(P){this.graphSettings.config.sixKeyInput=P},ye.prototype.setEditListMode=function(P){this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{inEditListMode:P})},ye.prototype._createTableItem=function(){var P=W.findAvailableColumnSubscript(this.listModel),ue=B.makeTableState(P,[[""],[""]],this);return this.createItemModel(ue)},ye.prototype._populateSettingsViewLimitLatex=function(){this.grapher&&(this.settingsViewModel=r.__assign(r.__assign({},this.settingsViewModel),{limitLatex:ge.limitLatex(this.grapher.getCurrentViewport(),this.getGraphSettings().xAxisStep,this.getGraphSettings().yAxisStep)}))},ye.prototype.getSettingsViewModel=function(){return this.settingsViewModel},ye.prototype.getListModel=function(){return this.listModel},ye.prototype.hasBackgroundColor=function(){return this.getBackgroundColor()!=="#ffffff"},ye.prototype.getBackgroundColor=function(){return this.getGraphSettings().getBackgroundColor()},ye.prototype.getTextColor=function(){return this.getGraphSettings().getTextColor()},ye.prototype.getPillboxBackgroundColor=function(){return C.shadeColor(this.getBackgroundColor(),-.07)},ye.prototype.subToChanges=function(P){var ue=this,Ae=this.nextSubscription;return this.nextSubscription+=1,this.subscriptions[Ae]=P,function(){delete ue.subscriptions[Ae]}},ye.prototype.updateTheComputedWorld=function(){var P=this;W.reindex(this.listModel),W.updateDrawOrder(this.listModel),this.grapher&&this.grapher.setSketchOrder(this.listModel.drawOrder);for(var ue=0,Ae=this.getAllItemModels();ue<Ae.length;ue++){var _e=Ae[ue];switch(_e.type){case"expression":x.onControllerUpdate(_e);break;case"image":Z.onControllerUpdate(_e);break;case"table":B.onControllerUpdate(_e);break;case"folder":X.onControllerUpdate(_e);break;case"text":ee.onControllerUpdate(_e);break;default:return _e}}this.isCurrentFocusLocationValid()||F.setFocusLocation(this,void 0),this.listModel.openItemMenu&&(document.body&&document.body.contains(this.listModel.openItemMenu.icon)||(this.listModel.openItemMenu=void 0));var qe=this.getSelectedItem();qe&&!this.getItemModel(qe.id)&&W.setSelected(this.listModel,void 0),this.layoutModel.graphSettingsOpen||this._populateSettingsViewLimitLatex(),this.propagateSelection(),this.isKeypadOpen()||(this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadFunctionsOpen:!1})),this.runAfterDispatch(function(){P.grapher&&P.grapher.type==="2d"&&P.grapher.audioGraph.checkIfSelectedItemChanged(qe?qe.id:void 0),P.grapher&&P.grapher.type==="2d"&&P.focusLocation&&P.grapher.audioGraph.exitAudioTrace()})},ye.prototype.propagateSelection=function(){this.grapher&&this.evaluator?this.__lastSelectedId=w.propagateSelection(this,this.grapher,this.evaluator,this.__lastSelectedId):this.__lastSelectedId=void 0},ye.prototype.getIntersectId=function(){return this.__lastSelectedId},ye.prototype.areParsableObjectsEqual=function(P,ue){return P===ue||g.isEqual(r.__assign(r.__assign({},P),{regressionParameters:void 0}),r.__assign(r.__assign({},ue),{regressionParameters:void 0}))},ye.prototype.requestParseForAllItems=function(){this.isCurrentlyDoingSetState&&this.evaluator.clearStatementsAndStartCompleteState();for(var P={},ue=this.lastParsableObjects,Ae=0,_e=this.getAllItemModels();Ae<_e.length;Ae++){var qe=_e[Ae];switch(qe.type){case"expression":case"image":case"table":P[qe.id]=qe.cachedParsableState;break;case"folder":case"text":break;default:return qe}}for(var Ye=0,Ie=W.getAllHelperItemModels(this.listModel);Ye<Ie.length;Ye++){var qe=Ie[Ye];P[qe.id]=qe.cachedParsableState}for(var Ne in P){var z=P[Ne],Pe=ue[Ne];if(z.type==="image"&&(!Pe||z.type!==Pe.type||z.guid!==Pe.guid)&&this.grapher){var qe=this.getItemModel(Ne);qe&&qe.type==="image"&&this.grapher.addGraphImage(qe)}this.areParsableObjectsEqual(z,Pe)||(this.grapher&&z.type==="statement"&&z.latex===""&&this.grapher.removeGraphSketch(z.id),this.evaluator.addStatement(z))}for(var Ne in ue){var Pe=ue[Ne],z=P[Ne];if(Pe.type!=="image"||z&&z.type===Pe.type&&z.guid===Pe.guid||this.grapher&&this.grapher.removeGraphImage(Ne),!z&&(this.evaluator.removeStatement(Ne),Pe.type==="table"))for(var ot=0,rt=Pe.columns;ot<rt.length;ot++){var kt=rt[ot];this.evaluator.removeStatement(kt.id)}}this.lastParsableObjects=P},ye.prototype.getViewState=function(){if(this.grapher){var P=this.grapher.getProjection();return{viewport:P.viewport.toObject(),screen:P.screen}}},ye.prototype.setEvaluator=function(P){this.evaluator=P},ye.prototype.setGrapher=function(P){this.grapher=P},ye.prototype.getGrapher=function(){return this.grapher},ye.prototype.shouldExpressionZoomFit=function(P){return!!this.grapher&&(P.type==="expression"||P.type==="table")&&!!(P.type!=="expression"||!P.error&&P.shouldGraph&&P.formula.is_graphable)&&!(!P.boundingBoxes||!P.boundingBoxes.length)&&ie.shouldExpressionZoomFit(P.boundingBoxes,this.grapher.viewportController.getProjection())},ye.prototype.setBugsnagContext=function(P){this.bugsnagContext=P},ye.prototype.getItemRootNodeById=function(P){var ue=this.getItemModel(P);return ue&&ue.dcgView?ue.dcgView.findRootNode():void 0},ye.prototype.getItemSelectorById=function(P){var ue=this.getItemRootNodeById(P);return ue?te(ue):void 0},ye.prototype.generateId=function(){var P=this.__nextItemId;return this.__nextItemId+=1,P+""},ye.prototype.getNextColor=function(){return W.getNextColor(this.listModel)},ye.prototype.getNextDisplayIndex=function(){return this.listModel.nextDisplayIndex},ye.prototype._clearPendingImageUploads=function(){this.__pendingImageUploads={}},ye.prototype.isUploadingImages=function(){return Object.keys(this.__pendingImageUploads).length>0},ye.prototype.getExpressionAnalysis=function(){return this.listModel.expressionAnalysis},ye.prototype.createItemModel=function(P){return W.modelFromSpec(this.listModel,P)},ye.prototype.getItemModel=function(P){return W.getItemById(this.listModel,P)},ye.prototype.getItemModelByIndex=function(P){return W.getItemByIndex(this.listModel,P)},ye.prototype.getItemCount=function(){return W.getItemCount(this.listModel)},ye.prototype.getItemEditableLabelMode=function(P){var ue=this.getItemModel(P);if(ue&&ue.type==="expression")return x.getEditableLabelMode(ue)},ye.prototype.isItemSecret=function(P){var ue=this.getItemModel(P);return!!ue&&W.isItemSecret(ue)},ye.prototype.isItemSelected=function(P){var ue=this.getItemModel(P);return!!ue&&W.isItemSelected(ue)},ye.prototype.isItemSelectable=function(P){var ue=this.getItemModel(P);return!!ue&&W.isItemSelectable(ue)},ye.prototype.anyItemDependsOnRandomSeed=function(){return W.anyItemDependsOnRandomSeed(this.listModel)},ye.prototype.getAllItemModels=function(){return W.getAllItemModels(this.listModel)},ye.prototype.getAllModelsWithSliders=function(){return W.getAllModelsWithSliders(this.listModel)},ye.prototype.getGraphSettings=function(){return this.graphSettings},ye.prototype.getAudioGraph=function(){return this.grapher!==void 0&&this.grapher.type==="2d"?this.grapher.audioGraph:void 0},ye.prototype.inAudioTraceMode=function(){var P=this.getAudioGraph();return!(!P||!P.audioTraceActive)},ye.prototype.expressionsAreFullWidth=function(){return this.isNarrow()||this.graphSettings.config.graphpaper===!1},ye.prototype.getExpListWidthString=function(){return this.expressionsAreFullWidth()?"100%":this.rootElt?this._getExpListWidth()+"px":"0"},ye.prototype.getExpListWidth=function(){return this.rootElt?this._getExpListWidth():0},ye.prototype.findFirstVisibleItem=function(){var P=he.getFirstVisibleItemId(this,this._previousFirstVisibleId);return this._previousFirstVisibleId=P,P?this.getItemModel(P):void 0},ye.prototype.findLastVisibleItem=function(){var P=he.getLastVisibleItemId(this,this._previousLastVisibleId);return this._previousLastVisibleId=P,P?this.getItemModel(P):void 0},ye.prototype.updateRenderShellsAfterDispatch=function(){if(this.rootElt&&this.isListVisible()){var P=this.findFirstVisibleItem(),ue=this.findLastVisibleItem(),Ae=P&&this.getItemRootNodeById(P.id),_e=ue&&this.getItemRootNodeById(ue.id);if(Ae!==this.lastInfiniteScrollFirstDOM||_e!==this.lastInfiniteScrollLastDOM||this.hasDispatchSinceLastInfiniteScrollUpdate){this.lastInfiniteScrollFirstDOM=Ae,this.lastInfiniteScrollLastDOM=_e,this.hasDispatchSinceLastInfiniteScrollUpdate=!1;for(var qe=!1,Ye=P?P.index:1/0,Ie=ue?ue.index:1/0,Ne=this.listModel.dragState&&this.listModel.dragState.firstItemId,z=0,Pe=this.getAllItemModels();z<Pe.length;z++){var ot=Pe[z],rt=!(ot.index>=Ye&&ot.index<=Ie&&!ot.isHiddenFromUI);if(Ne==ot.id&&(rt=!1),ot.renderShell!==rt&&(ot.renderShell=rt,qe=!0,rt)){var kt=this.getItemRootNodeById(ot.id);if(kt){var ve=kt.getBoundingClientRect().height;ve>0&&(ot.cachedRenderHeight=ve)}}}qe&&this.markTickRequiredNextFrame()}}},ye.prototype.updateRenderShellsBeforePaint=function(){if(this.hasDispatchSinceLastInfiniteScrollUpdate=!0,this.inPrintMode)for(var P=0,ue=this.getAllItemModels();P<ue.length;P++){var Ae=ue[P];Ae.renderShell=!1}else{for(var _e=0,qe=this.getAllItemModels();_e<qe.length;_e++){var Ae=qe[_e];Ae.isHiddenFromUI&&(Ae.renderShell=!0)}var Ye=this.getSelectedItem();Ye&&(Ye.renderShell=!1)}},ye.prototype.updateDragDrop=function(){var P=this.listModel.dragState;if(P){var ue=this.getItemModel(P.firstItemId);if(ue){var Ae=this.dragdrop_expressions.applyDrag();Ae&&(W.setDragState(this.listModel,Ae.dragState),U.setFolderId(ue,Ae.folderId),ue.index!==Ae.newIndex&&W.moveItemsTo(this.listModel,ue.index,Ae.newIndex,P.numberOfItems))}}},ye.prototype._tickSliders=function(P){this.getPlayingSliders().forEach(function(ue){x.tickSliderStep(ue,P)})},ye.prototype.getPlayingSliders=function(){for(var P=this.getAllItemModels(),ue=[],Ae=0,_e=P;Ae<_e.length;Ae++){var qe=_e[Ae];qe.type==="expression"&&qe.sliderExists&&qe.slider.isPlaying&&ue.push(qe)}return ue},ye.prototype.hasAnyTableThatRequiresTicks=function(){for(var P=this.getAllItemModels(),ue=0,Ae=P;ue<Ae.length;ue++){var _e=Ae[ue];if(!_e.renderShell&&_e.type==="table"&&_e.rowModels.length>=25)return!0}return!1},ye.prototype.areAnyImagesLoading=function(){return W.areAnyImagesLoading(this.listModel)},ye.prototype._commitUserRequestedViewport=function(P){this.grapher&&this.grapher.setUserRequestedViewport(P)},ye.prototype._setAxisLimitLatex=function(P,ue){var Ae,_e;this.settingsViewModel=r.__assign(r.__assign({},this.settingsViewModel),{limitLatex:r.__assign(r.__assign({},this.settingsViewModel.limitLatex),(Ae={},Ae[P]=ue,Ae))});var qe=ue===""&&(P==="xstep"||P==="ystep"),Ye=qe?0:ne.default(ue,this.graphSettings.degreeMode);switch(P){case"xstep":if(Ye<0||!isFinite(Ye))return;this.graphSettings.setProperty("xAxisStep",Ye);break;case"ystep":if(Ye<0||!isFinite(Ye))return;this.graphSettings.setProperty("yAxisStep",Ye);break;case"xmin":case"xmax":case"ymin":case"ymax":if(!this.grapher)return;var Ie=this.grapher.viewportController.getViewport(),Ne="xmin";P==="xmin"&&(Ne="xmax"),P==="ymax"&&(Ne="ymin"),P==="ymin"&&(Ne="ymax");var z=ne.default(this.settingsViewModel.limitLatex[Ne],this.graphSettings.degreeMode),Pe=v.Viewport.fromObject(r.__assign(r.__assign({},Ie.toObject()),(_e={},_e[P]=Ye,_e[Ne]=z,_e)));if(!Pe.isValid())return;this.grapher.viewportController.setViewport(Pe);var ot=P==="xmin"||P==="xmax"?"x":"y";this.graphSettings.setProperty("lastChangedAxis",ot);var rt=Pe.isSquare(this.grapher.getProjection().screen);this.graphSettings.setProperty("squareAxes",rt)}if(this.grapher){var kt=this.grapher.viewportController.getViewport().toObject();this._commitUserRequestedViewport(kt)}},ye.prototype.canUserAddExpressions=function(){return!!this.graphSettings.config.expressions},ye.prototype.areNotesEnabled=function(){return!!this.graphSettings.config.notes},ye.prototype.areSlidersEnabled=function(){return!!this.graphSettings.config.sliders},ye.prototype.areLinksEnabled=function(){return!!this.graphSettings.config.links},ye.prototype.areImagesEnabled=function(){var P=window.FileReader,ue=i.IS_IPAD&&i.IOS_VERSION&&i.IOS_VERSION[0]===8&&i.IOS_VERSION[1]===0&&i.IOS_VERSION[2]===0;return!(!this.graphSettings.config.images||!P||ue)},ye.prototype.areFoldersEnabled=function(){return!!this.graphSettings.config.folders},ye.prototype.isDecimalToFractionEnabled=function(){return!!this.graphSettings.config.decimalToFraction},ye.prototype.isTraceEnabled=function(){return!!this.graphSettings.config.trace},ye.prototype.areFunctionsRestricted=function(){return!!this.graphSettings.config.restrictedFunctions},ye.prototype.isQwertyKeyboardEnabled=function(){return!!this.graphSettings.config.qwertyKeyboard},ye.prototype.canEditOnWeb=function(){return!!this.graphSettings.config.editOnWeb},ye.prototype.hasTransparentBackground=function(){return!!this.graphSettings.config.transparentBackground},ye.prototype.shouldAudioTraceReverseExpressions=function(){return!!this.graphSettings.config.audioTraceReverseExpressions},ye.prototype.hasDefaultState=function(){return!!this.graphSettings.defaultState},ye.prototype.getDefaultStateViewport=function(){var P=this.graphSettings.defaultState;if(P&&P.graph)return P.graph.viewport},ye.prototype.getColors=function(){return this.graphSettings.config.colors},ye.prototype.getImageOpacities=function(){return["0.2","0.4","0.6","0.8","1"]},ye.prototype.getUIDragModes=function(){return[f.DragMode.X,f.DragMode.Y,f.DragMode.XY]},ye.prototype.getNumberOfItemsInFolder=function(P){return W.getNumberOfItemsInFolder(this.listModel,P)},ye.prototype.getEnabledDragModesForItem=function(P){var ue=this.getItemModel(P);if(!ue||ue.type!=="expression")return[];var Ae=ue.formula,_e=[];if(!Ae.move_strategy)return _e;var qe=Ae.move_strategy[0].type!=="none",Ye=Ae.move_strategy[1].type!=="none",Ie=qe&&Ye;return qe&&_e.push(f.DragMode.X),Ye&&_e.push(f.DragMode.Y),Ie&&_e.push(f.DragMode.XY),_e},ye.prototype.shouldShowEvaluationForItem=function(P){var ue=this.getItemModel(P);return!!ue&&ue.type==="expression"&&x.shouldShowEvaluation(ue)},ye.prototype.getEvaluationValueForItem=function(P){var ue=this.getItemModel(P);return ue?ue.type!=="expression"?NaN:x.getEvaluationValue(ue):NaN},ye.prototype.canDisplayEvaluationForItemAsFraction=function(P){if(!this.isDecimalToFractionEnabled())return!1;var ue=this.getItemModel(P);if(!ue||ue.type!=="expression"||x.isGraphable(ue))return!1;var Ae=this.getEvaluationValueForItem(P);return!Array.isArray(Ae)&&l.canDisplayAsFraction(Ae)},ye.prototype.shouldEvaluationForItemDisplayAsFraction=function(P){if(!this.isDecimalToFractionEnabled())return!1;var ue=this.getItemModel(P);return!!ue&&ue.type==="expression"&&x.shouldEvaluationDisplayAsFraction(ue)},ye.prototype.getEvaluationLabelOptionsForItem=function(P){return r.__assign(r.__assign({},D.EvaluationLabelOptions),{displayAsFraction:this.shouldEvaluationForItemDisplayAsFraction(P)})},ye.prototype.getPointStyles=function(){return[b.PointStyle.POINT,b.PointStyle.OPEN,b.PointStyle.CROSS]},ye.prototype.getLineStyles=function(){return[b.LineStyle.SOLID,b.LineStyle.DASHED,b.LineStyle.DOTTED]},ye.prototype.getOpacities=function(){return[u.LOW,u.DEFAULT,u.HIGH]},ye.prototype.isInEditListMode=function(){return this.layoutModel.inEditListMode},ye.prototype.canAdministerSecretFolders=function(){return this.graphSettings.config.administerSecretFolders},ye.prototype.getInvertedColors=function(){return!!this.graphSettings.config.invertedColors},ye.prototype.canUseAdvancedStyling=function(){return this.graphSettings.config.advancedStyling||this.graphSettings.config.authorIDE},ye.prototype.isAuthorIDE=function(){return this.graphSettings.config.authorIDE},ye.prototype.canAuthorClickableObjects=function(){return this.graphSettings.config.clickableObjects},ye.prototype.isDegreeMode=function(){return this.graphSettings.degreeMode},ye.prototype.isGraphSettingsOpen=function(){return this.layoutModel.graphSettingsOpen},ye.prototype.isAddExpressionOpen=function(){return this.layoutModel.addExpressionOpen},ye.prototype.shouldRenderList=function(){if(this.layoutModel.expressionsVisible)return!0;var P=this.layoutModel.expressionsHiddenTime;return P!==void 0&&Date.now()-P<=500},ye.prototype.isListVisible=function(){return this.layoutModel.expressionsVisible},ye.prototype.isGrapherEnabled=function(){return this.graphSettings.config.graphpaper!==!1},ye.prototype.isListEnabled=function(){return this.graphSettings.config.expressions!==!1},ye.prototype.areDistributionsEnabled=function(){return this.graphSettings.config.distributions===!0},ye.prototype.needsFakeKeypad=function(){var P=this.getFocusLocation();if(!P||this.getBrailleMode()!=="none"&&pe.getFocusedBrailleElement())return!1;switch(P.type){case"settings":return P.location!=="icon"&&P.location!=="degree-mode";case"distribution-param":case"cdf-limit":case"slider-limit":case"domain-limit":case"expression":case"visualization-prop":return!0;case"expression-menu":return P.location==="opacity"||P.location==="linewidth";case"clickableinfo-prop":return P.location!=="description";case"table":if(this.isInEditListMode())return!1;var ue=P.location;if(ue.row===0)return!0;var Ae=this.getItemModel(P.id);if(!Ae||Ae.type!=="table")return!1;var _e=Ae.columnModels[ue.column];return!!_e&&!_e.disabled;case"image":return P.location!=="name";case"readonly-expression":case"braille-output":case"table-container":case"text":case"folder":case"add-item-btn":case"add-expression-btn":case"add-table-btn":case"add-folder-btn":case"add-image-btn":case"change-image-btn":case"edit-list-toggle":return!1;case"expression-icon":case"image-icon":case"slider-icon":case"slider-animation-properties-icon":case"slider-thumb":return!1;case"editable-label":return this.getItemEditableLabelMode(P.id)===S.EditableLabelMode.Math;default:return P}},ye.prototype.getBrandingMode=function(){return this.getEditLink()?"static-edit-link":this.getGraphSettings().config.editOnWeb?"edit-link":"powered-by"},ye.prototype.getEditLink=function(){return window.iframeEmbedBrandingLink},ye.prototype._expressionZoomFit=function(P){var ue=this.getItemModel(P);if(this.grapher&&ue&&(ue.type==="expression"||ue.type==="table")&&ue.boundingBoxes&&ue.boundingBoxes.length){var Ae=ie.getRecommendedViewportForExpression(ue.boundingBoxes,this.grapher.viewportController.getProjection());Ae&&this.grapher.viewportController.zoomCustom(Ae)}},ye.prototype._deleteItemAndAnimateOut=function(P,ue){var Ae=this,_e=this.getItemSelectorById(P);_e&&(_e.css({transition:"0.2s",opacity:"0",transform:"scale(.1, .1)"}),setTimeout(function(){Ae.dispatch({type:"finish-deleting-item-after-animation",id:P,setFocusAfterDelete:ue})},200))},ye.prototype._finishDeletingItemAfterAnimation=function(P,ue){var Ae=this.getItemModel(P);if(Ae){var _e=this.getItemSelectorById(P),qe=_e&&document.activeElement&&te(document.activeElement).closest(_e).length>0,Ye=W.findPrevSelectableItem(this.listModel,Ae.index);if(this._removeExpressionSynchronously(Ae),ue&&qe){if(!Ye){var Ie=W.getFirstSelectableItem(this.listModel);Ie&&(Ye=Ie)}Ye&&F.moveFocusToItem(this,Ye.id,"end")}}},ye.prototype._removeExpressionSynchronously=function(P){if(W.removeItemAtIndex(this.listModel,P.index),W.hasNoVisibleExpressions(this.listModel)){var ue=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()});W.insertItemAtEnd(this.listModel,ue)}},ye.prototype.setRootElt=function(P){this.rootElt=P,this.dragdrop_expressions=new xe.default(this)},ye.prototype._hideExpressions=function(){this.graphSettings.config.expressions&&(W.setSelected(this.listModel,void 0),this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{expressionsVisible:!1,expressionsHiddenTime:Date.now()}),m.default())},ye.prototype._showExpressions=function(){this.graphSettings.config.expressions&&(this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{expressionsVisible:!0}),m.default())},ye.prototype._showToast=function(P){var ue=this;if(this.toastData=P,this.toastData.hasOwnProperty("undoCallback")&&!i.IS_MOBILE){var Ae=i.IS_APPLE?this.t("Press CMD+Z to undo."):this.t("Press CTRL+Z to undo.");this.toastData.message+=" "+Ae}clearTimeout(this._hideToastTimeout);var _e=typeof P.hideAfter=="number"?P.hideAfter:6e3;_e>0&&(this._hideToastTimeout=setTimeout(function(){ue.dispatch({type:"toast/close",onHide:ue.toastData.onHide})},_e))},ye.prototype._setExpressionPropertiesFromAPI=function(P,ue){var Ae=this.getItemModel(P);if(Ae)if(Ae.type==="table"&&ue.columns){ue=c.default(ue);var _e=B.cloneTableAndExtendWithProperties(Ae,ue),qe=W.modelFromSpec(this.listModel,_e);this._toplevelReplaceItemAt(Ae.index,qe,!1)}else{var Ye=this.getItemModel(P);if(!Ye)return;for(var Ie in ue)if(ue.hasOwnProperty(Ie))switch(Ie){case"slider":if(Ye.type!=="expression")continue;var Ne=ue[Ie];Ne.hasOwnProperty("min")&&x.setSliderMin(Ye,Ne.min),Ne.hasOwnProperty("max")&&x.setSliderMax(Ye,Ne.max),Ne.hasOwnProperty("step")&&x.setSliderStep(Ye,Ne.step);break;case"polarDomain":if(Ye.type!=="expression")continue;x.setPolarDomainMin(Ye,n.default(ue.polarDomain.min)),x.setPolarDomainMax(Ye,n.default(ue.polarDomain.max));break;case"parametricDomain":if(Ye.type!=="expression")continue;x.setParametricDomainMin(Ye,n.default(ue.parametricDomain.min)),x.setParametricDomainMax(Ye,n.default(ue.parametricDomain.max));break;case"hidden":this._setItemHidden(P,ue.hidden);break;case"secret":U.setSecret(Ye,ue.secret);break;case"color":if(Ye.type!=="expression")continue;x.setColor(Ye,ue.color);break;case"dragMode":if(Ye.type!=="expression")continue;x.setDragMode(Ye,ue.dragMode);break;case"label":if(Ye.type!=="expression")continue;x.setLabel(Ye,ue.label);break;case"showLabel":if(Ye.type!=="expression")continue;x.setShowLabel(Ye,ue.showLabel);break;case"labelSize":if(Ye.type!=="expression")continue;x.setLabelSize(Ye,ue.labelSize);break;case"labelOrientation":if(Ye.type!=="expression")continue;x.setLabelOrientation(Ye,ue.labelOrientation);break;case"verticalLabel":if(Ye.type!=="expression")continue;x.setVerticalLabel(Ye,ue.verticalLabel);break;case"latex":if(Ye.type!=="expression")continue;x.setLatex(Ye,ue.latex);break;case"points":if(Ye.type!=="expression")continue;x.setPoints(Ye,!!ue.points);break;case"lines":if(Ye.type!=="expression")continue;x.setLines(Ye,!!ue.lines);break;case"pointStyle":if(Ye.type!=="expression")continue;x.setPointStyle(Ye,ue.pointStyle);break;case"lineStyle":if(Ye.type!=="expression")continue;x.setLineStyle(Ye,ue.lineStyle);break;case"fill":if(Ye.type!=="expression")continue;x.setFill(Ye,ue.fill);break;case"fillOpacity":if(Ye.type!=="expression")continue;x.setFillOpacity(Ye,ue.fillOpacity);break;case"id":case"type":case"domain":break;default:throw new Error("trying to call setProperty for: "+Ie)}}},ye.prototype._isParentFolderHidden=function(P){var ue=this.getItemModel(P);if(!ue)return!1;var Ae=W.getParentFolderModel(ue);return!!Ae&&Ae.hidden},ye.prototype._toggleItemHidden=function(P){if(this._isParentFolderHidden(P))this._setItemHidden(P,!1);else{var ue=this.getItemModel(P);if(!ue)return;switch(ue.type){case"expression":case"image":case"folder":this._setItemHidden(P,!ue.hidden);break;case"table":case"text":break;default:return ue}}},ye.prototype._toggleTableColumnHidden=function(P,ue){if(this._isParentFolderHidden(P))this._setTableColumnHidden(P,ue,!1);else{var Ae=this.getItemModel(P);if(!Ae||Ae.type!=="table")return;var _e=B.getColumnModel(Ae,ue);if(!_e)return;this._setTableColumnHidden(P,ue,!_e.hidden)}},ye.prototype._setTableColumnHidden=function(P,ue,Ae){var _e=this.getItemModel(P);if(_e&&_e.type==="table"){var qe=B.shouldHideColumn(_e,ue);!Ae&&this._isParentFolderHidden(P)&&this._setItemHidden(_e.folderId,!1),B.setColumnHidden(_e,ue,Ae),!Ae&&qe&&B.setColumnPoints(_e,ue,!0)}},ye.prototype._setItemHidden=function(P,ue){var Ae=this.getItemModel(P);if(Ae)switch(!ue&&Ae.type!=="folder"&&this._isParentFolderHidden(Ae.id)&&this._setItemHidden(Ae.folderId,!1),Ae.type){case"expression":x.setHidden(Ae,ue);break;case"folder":X.setHidden(Ae,ue);break;case"image":Z.setHidden(Ae,ue);break;case"table":case"text":break;default:return Ae}},ye.prototype._addItemToEndFromAPI=function(P){var ue=W.getLastSelectableItem(this.listModel);!P.secret&&ue&&ue.type==="expression"&&ue.latex===""&&W.removeItemAtIndex(this.listModel,ue.index),W.insertItemAtEnd(this.listModel,P)},ye.prototype._toplevelInsertItemAt=function(P,ue,Ae,_e){var qe=ue;W.insertItemAtIndex(this.listModel,qe,P),_e&&U.setFolderId(qe,_e),Ae&&F.moveFocusToItem(this,qe.id)},ye.prototype._toplevelNewItemAtSelection=function(P,ue){var Ae=this.getSelectedItem();if(Ae){var _e=Ae.type==="expression"&&!Ae.latex;if(_e&&!Ae.folderId&&(P.type!=="expression"||P.latex))return this._toplevelReplaceItemAt(Ae.index,P,ue.shouldFocus);if(_e&&Ae.folderId&&P.type!=="expression"&&P.type!=="folder")return this._toplevelReplaceItemAt(Ae.index,P,ue.shouldFocus);if(Ae.type!=="folder"&&!Ae.folderId)return this._toplevelInsertItemAt(Ae.index+1,P,ue.shouldFocus,void 0);if(Ae.type!=="folder"&&Ae.folderId&&P.type!=="folder")return this._toplevelInsertItemAt(Ae.index+1,P,ue.shouldFocus,Ae.folderId);if(Ae.type==="folder"&&!Ae.collapsed&&P.type!=="folder")return this._toplevelInsertItemAt(Ae.index+1,P,ue.shouldFocus,Ae.id)}var qe=this.getFirstFullyVisibleItem();for(qe&&qe.type==="folder"&&(qe=this.getItemModelByIndex(qe.index+1));qe&&qe.type!=="folder"&&qe.folderId;)qe=this.getItemModelByIndex(qe.index+1);var Ye=qe?qe.index:this.getItemCount();return this._toplevelInsertItemAt(Ye,P,ue.shouldFocus,void 0)},ye.prototype.getFirstFullyVisibleItem=function(){var P=he.getFirstFullyVisibleItemId(this);if(P)return W.getItemById(this.listModel,P)},ye.prototype.find$=function(P){return te(this.rootElt).find(P)},ye.prototype.getExppanelSelectorOrThrow=function(){var P=he.getExppanelElt(this);if(P)return te(P);throw new Error("expected to find $exppanel but could not")},ye.prototype.scrollItemIntoView=function(P){if(this.rootElt&&this.isListVisible()){var ue=this.getItemSelectorById(P.id),Ae=he.getExppanelSelector(this);if(ue&&Ae){if(P.type==="table"){var _e=ue.find(".dcg-row .dcg-selected");if(_e.length===1)return void d.scrollVisible(_e,Ae,60)}d.scrollVisible(ue,Ae,90)}}},ye.prototype.scrollSelectedItemIntoView=function(){var P=this.getSelectedItem();P&&this.scrollItemIntoView(P)},ye.prototype._pasteTable=function(P){var ue=this;if(this.grapher){var Ae=W.findAvailableColumnSubscript(this.listModel),_e=B.makeTableState(Ae,P,this),qe=this.createItemModel(_e);this._toplevelNewItemAtSelection(qe,{shouldFocus:!0}),this._closeAddExpression();var Ye=this.grapher.viewportController.getViewport(),Ie=g.map(P[0],function(rt){return parseFloat(rt)}),Ne=g.map(P[1],function(rt){return parseFloat(rt)}),z={xmin:g.min(Ie),xmax:g.max(Ie),ymin:g.min(Ne),ymax:g.max(Ne),type:"table"};if(isFinite(z.xmin)&&isFinite(z.xmax)&&isFinite(z.ymin)&&isFinite(z.ymax)&&(z.xmax>Ye.xmax||z.xmin<Ye.xmin||z.ymax>Ye.ymax||z.ymin<Ye.ymin)){var Pe=ie.getRecommendedViewportForExpression([z],Ye);if(Pe){var ot=new v.Viewport(Pe.xmin,Pe.xmax,Pe.ymin,Pe.ymax);this.grapher.viewportController.setViewport(ot),this._showToast({message:this.t("We zoomed to fit your data."),undoCallback:function(){ue.dispatch({type:"undo"})}})}}}},ye.prototype._insertSeveralExpressions=function(P){for(var ue=0;ue<P.length;ue++){var Ae=void 0;Ae=this.createItemModel(P[ue]),this._toplevelNewItemAtSelection(Ae,{shouldFocus:!0})}},ye.prototype._appendNumberList=function(P){var ue=this.getSelectedItem();if(ue&&ue.type==="expression"){var Ae=ue.latex,_e=this.createItemModel({type:"expression",id:this.generateId(),latex:Ae+P});return this._toplevelReplaceItemAt(ue.index,_e,!0)}},ye.prototype._openOnWeb=function(){var P=this;this.runAfterDispatch(function(){if(P.grapher){var ue=JSON.stringify(P.getState()),Ae=P.grapher.screenshot({width:100,height:100}),_e=P.getGraphSettings().config.crossOriginSaveTest,qe=_e?"/":"https://www.desmos.com/",Ye=qe+"api/v1/calculator/cross_origin_save",Ie=te('<input type="text" name="calc_state" />').val(ue),Ne=te('<input type="text" name="thumb_data" />').val(Ae),z=te('<form target="_blank" method="POST" style="display:none;"></form>').attr("action",Ye).append(te('<input type="text" name="is_open_on_web" value="true" />')).append(te('<input type="text" name="my_graphs" value="false" />')).append(te('<input type="text" name="is_update" value="false" />')).append(Ie).append(Ne);te(P.rootElt).append(z),z.submit().remove()}})},ye.prototype.notifyBugsnagAboutMissingSelectedItem=function(P,ue){var Ae=W.getSelected(this.listModel),_e="";try{_e=Ae?JSON.stringify(Ae.cachedUndoRedoState,null,2):"undefined"}catch{_e="[[could not stringify]]"}var qe="";try{if(Ae){var Ye={id:Ae.id,index:Ae.index,displayIndex:Ae.index,secretIndex:Ae.secretIndex,guid:Ae.guid,renderShell:Ae.renderShell,isHiddenFromUI:Ae.isHiddenFromUI,hasDCGView:!!Ae.dcgView,cachedRenderHeight:Ae.cachedRenderHeight};qe=JSON.stringify(Ye,null,2)}else qe="undefined"}catch{qe="[[could not stringify]]"}var Ie="";try{Ie=JSON.stringify(W.getUndoRedoState(this.listModel),null,2)}catch{Ie="[[could not stringify]]"}H.notify("ReplaceItemAtError: no item at index",{metaData:{index:P,shouldFocus:ue,selectedModelJSON:qe,selectedItemJSON:_e,listStateJSON:Ie}})},ye.prototype._toplevelReplaceItemAt=function(P,ue,Ae){var _e=ue,qe=this.getItemModelByIndex(P);qe||this.notifyBugsnagAboutMissingSelectedItem(P,Ae);var Ye=qe.type!=="folder"&&qe.folderId;W.removeItemAtIndex(this.listModel,P),W.insertItemAtIndex(this.listModel,_e,P),Ye&&U.setFolderId(_e,Ye),Ae&&F.moveFocusToItem(this,_e.id)},ye.prototype.createSlidersForItem=function(P,ue){var Ae=this,_e=this.getItemModel(P);if(_e){for(var qe=_e.type!=="folder"&&_e.folderId,Ye=_e.index+1,Ie=ue.map(function(ot){var rt=ot?l.identifierToLatex(ot)+"=1":"";return{type:"expression",id:Ae.generateId(),latex:rt,color:Ae.getNextColor(),hidden:!!rt}}),Ne=Ie.length-1;Ne>=0;Ne--){var z=this.createItemModel(Ie[Ne]);W.insertItemAtIndex(this.listModel,z,Ye),qe&&U.setFolderId(z,qe)}var Pe=Ie[Ie.length-1];Pe.latex===""?F.moveFocusToItem(this,Pe.id):F.setFocusLocation(this,void 0)}},ye.prototype._uploadImagesAndWaitForThemToLoad=function(P){var ue=this,Ae=P.files,_e=P.id;if(!Ae||Ae.length===0)return void this._showToast({message:this.t("You did not select a file")});if(_e&&Ae.length>1)return void this._showToast({message:this.t("You can only choose one file as a replacement")});var qe=Z.uploadImages({controller:this,files:Ae,id:_e}),Ye=qe.errors[0];Ye&&this._showToast({message:Ye});for(var Ie=0,Ne=qe.tokens;Ie<Ne.length;Ie++){var z=Ne[Ie];this.__pendingImageUploads[z]=!0}this.isUploadingImages()&&this._showToast({message:this.t("Uploading images..."),onHide:function(){ue._clearPendingImageUploads()}})},ye.prototype.getImageToRetry=function(){for(var P,ue=0,Ae=this.getAllItemModels();ue<Ae.length;ue++){var _e=Ae[ue];_e.type==="image"&&_e.loadStatus==="failed"&&(!P||P.failures>_e.failures)&&(P=_e)}return P},ye.prototype.retryLoadingFailedImage=function(P){var ue=Date.now(),Ae=ue-this.imageRetryState.lastAttemptTime,_e=1e3*Math.pow(2,this.imageRetryState.attempts);this.imageRetryState.attempts>0&&Ae<_e||(Z.retryLoading(P),this.imageRetryState={lastAttemptTime:ue,attempts:this.imageRetryState.attempts+1})},ye.prototype.getSelectedItem=function(){return W.getSelected(this.listModel)},ye.prototype.getOpenItemMenu=function(){return this.listModel.openItemMenu},ye.prototype.getFocusedItem=function(){return F.getFocusedItem(this)},ye.prototype.getFocusLocation=function(){return this.focusLocation},ye.prototype.isFocusLocationFocused=function(P){var ue=this.focusLocation,Ae=P;return!(!ue||!Ae)&&g.isEqual(ue,Ae)},ye.prototype.isCurrentFocusLocationValid=function(){var P=this.focusLocation;if(!P)return!0;if(P.type==="settings")return P.location==="icon"||this.isGraphSettingsOpen();if(P.type==="add-item-btn"||P.type==="edit-list-toggle")return!0;if(P.type==="add-expression-btn"||P.type==="add-table-btn")return this.layoutModel.addExpressionOpen;if(P.type==="add-folder-btn")return this.layoutModel.addExpressionOpen&&this.areFoldersEnabled();if(P.type==="add-image-btn")return this.layoutModel.addExpressionOpen&&this.areImagesEnabled();var ue=this.getItemModel(P.id);if(!ue)return!1;if(P.type==="change-image-btn")return ue.type==="image"&&!(!this.listModel||!this.listModel.openItemMenu)&&this.listModel.openItemMenu.model===ue;if(P.type==="expression-menu"){if(P.location==="start"||P.location==="end"||P.location==="anywhere")return!0;if(ue.type!=="expression")return!1;var Ae=ue.points,_e=ue.lines,qe=ue.fill,Ye=M.getReconciledExpressionProps(ue.formula.expression_type,{points:Ae,lines:_e,fill:qe});return!(!Ye.fill&&!Ye.lines)}if(!this.isItemSelected(P.id)&&P.type!=="editable-label")return!1;switch(P.type){case"domain-limit":return ue.type==="expression"&&!!x.hasDomain(ue);case"expression-icon":return!0;case"image-icon":return ue.type==="image"&&ue.loadStatus!=="loading"&&ue.loadStatus!=="failed"&&!ue.error;case"slider-icon":case"slider-animation-properties-icon":case"slider-thumb":case"slider-limit":return ue.type==="expression"&&!!x.hasSlider(ue);case"visualization-prop":return ue.type==="expression"&&!!x.isVisualization(ue);case"clickableinfo-prop":return ue.type==="expression"?!!x.isClickableAllowed(ue)&&ue.clickableInfo.enabled:ue.type==="image"&&ue.clickableInfo.enabled;case"distribution-param":if(ue.type!=="expression")return!1;var Ie=x.parseToplevelFunction(ue);return!!Ie&&P.location in Ie.values;case"cdf-limit":return ue.type==="expression"&&x.shouldShowCDFFooter(ue);case"image":return ue.type==="image";case"folder":return ue.type==="folder";case"text":return ue.type==="text";case"expression":return ue.type==="expression"&&!this.isInEditListMode();case"readonly-expression":return ue.type==="expression"&&this.isInEditListMode();case"braille-output":return ue.type==="expression"&&this.getBrailleMode()!=="none";case"table":return ue.type==="table"&&!!B.doesCellExist(ue,P.location);case"table-container":return ue.type==="table"&&this.isInEditListMode();case"editable-label":return ue.type==="expression"&&x.hasEditableLabel(ue);default:return P}},ye.prototype.isDragDropActive=function(){return!!this.listModel.dragState},ye.prototype.isItemBeingDragged=function(P){var ue=this.listModel.dragState;return!(!ue||ue.firstItemId!==P)},ye.prototype.getDraggedItemId=function(){var P=this.listModel.dragState;return P&&P.firstItemId},ye.prototype.getRawDragState=function(){return this.listModel.dragState},ye.prototype.initStateStack=function(){this.stateStack=new s.default,this.stateStack.addState(this.getUndoRedoState())},ye.prototype.getUndoRedoState=function(){return{randomSeed:this.getRandomSeed(),layoutModel:this.layoutModel,settingsViewModel:this.settingsViewModel,graph:this.grapher?this.grapher.getUndoRedoState():void 0,expressions:W.getUndoRedoState(this.listModel),wasCompleteSetState:this.isCurrentlyDoingSetState}},ye.prototype.getState=function(P){var ue={stripDefaults:!0};P&&P.hasOwnProperty("stripDefaults")&&(ue.stripDefaults=!!P.stripDefaults);var Ae={version:A.currentVersion,randomSeed:this.getRandomSeed(),graph:this.grapher?this.grapher.getState(ue):this.getBlankState().graph,expressions:W.getState(this.listModel,ue)};return P&&P.avoidBackMigration?c.default(Ae):A.migrateToPersisted(c.default(Ae))},ye.prototype.getBlankState=function(){return this.graphSettings.config.clearIntoDegreeMode?r.__assign(r.__assign({},re.default),{graph:r.__assign(r.__assign({},re.default.graph),{degreeMode:!0})}):re.default},ye.prototype.externalSetState=function(P,ue){this._clearPendingImageUploads(),ue||(ue={}),P||(P=this.getBlankState()),typeof P=="string"&&(P=JSON.parse(P)),P&&(P=A.migrateToLatest(P));var Ae=this.layoutModel;this.setState(P,ue),this.layoutModel=r.__assign(r.__assign({},Y.defaultLayoutModel(this.graphSettings.config)),{keypadMinimized:Ae.keypadMinimized,keypadLayout:Ae.keypadLayout,keypadFunctionsTab:Ae.keypadFunctionsTab,keypadFunctionsOpen:Ae.keypadFunctionsOpen,expressionsVisible:!!this.graphSettings.config.expressions&&(this.isListVisible()||!!ue.forceExpressionsOpen)}),this.settingsViewModel=ge.defaultSettingsViewModel(),F.setFocusLocation(this,void 0),this.enqueueEvent("clearUnsavedChanges")},ye.prototype.setState=function(P,ue){if(this.lastParsableObjects={},this.isCurrentlyDoingSetState=!0,"graph"in P&&this.grapher&&this.grapher.setGrapherState(P.graph),"expressions"in P){W.setSelected(this.listModel,void 0);var Ae=W.getLargestIntegerId(P.expressions);Ae>=this.__nextItemId&&(this.__nextItemId=Ae+1),W.setListState(this.listModel,P.expressions,ue||{})}P.layoutModel&&(this.layoutModel=P.layoutModel),P.settingsViewModel&&(this.settingsViewModel=P.settingsViewModel),ue&&ue.allowUndo||this.clearUndoRedoHistory(),this.setRandomSeed(P.randomSeed||Be.default())},ye.prototype.updateToState=function(P){"graph"in P&&this.grapher&&this.grapher.setGrapherState(P.graph,{doNotClear:!0}),"expressions"in P&&W.restoreListState(this.listModel,P.expressions),P.layoutModel&&(this.layoutModel=P.layoutModel),P.settingsViewModel&&(this.settingsViewModel=P.settingsViewModel)},ye.prototype.commitUndoRedoSynchronously=function(P){var ue=this.getUndoRedoState();Re(this.stateStack.getState(),ue)||(this.stateStack.addState(ue),this.enqueueEvent("change"))},ye.prototype.undo=function(){if(this.canUndo()){this.stateStack.undo();var P=this.stateStack.getState();P.wasCompleteSetState?this.setState(P,{allowUndo:!0}):this.updateToState(P),this.enqueueEvent("change")}},ye.prototype.redo=function(){if(this.canRedo()){this.stateStack.redo();var P=this.stateStack.getState();P.wasCompleteSetState?this.setState(P,{allowUndo:!0}):this.updateToState(P),this.enqueueEvent("change")}},ye.prototype.clearUndoRedoHistory=function(){this.stateStack.clear()},ye.prototype.canUndo=function(){return this.stateStack.canUndo()},ye.prototype.canRedo=function(){return this.stateStack.canRedo()},ye.prototype._closeAddExpression=function(){this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{addExpressionOpen:!1})},ye.prototype.doesDOMHaveSize=function(){return this.layoutMeasurements.width>0&&this.layoutMeasurements.height>0},ye.prototype._getExpListWidth=function(){var P;if(this.userSpecifiedExpListWidth!==void 0)P=Math.max(280,Math.min(this.layoutMeasurements.width-200,this.userSpecifiedExpListWidth));else{if(!(P=this.layoutMeasurements.width))return 356;var ue=.2*P+160;P=Math.min(500,Math.max(280,ue))}var Ae=this.layoutMeasurements.width-this.layoutMeasurements.height;return Math.abs(Ae-P)<=10?Ae:P},ye.prototype._setExpListWidth=function(P){this.userSpecifiedExpListWidth!==P&&(this.userSpecifiedExpListWidth=P)},ye.prototype.getKeypadHeight=function(){return this.computeMajorLayout().keypad.height},ye.prototype.isKeypadEnabled=function(){return!!this.graphSettings.config.keypad},ye.prototype.isKeypadOpen=function(){var P=this.layoutModel.keypadMinimized&&!this.isNarrow();return this.needsFakeKeypad()&&!P},ye.prototype.isKeypadFunctionsPopoverOpen=function(){return!!this.layoutModel.keypadFunctionsOpen},ye.prototype.getKeypadLayout=function(){return this.layoutModel.keypadLayout},ye.prototype.isLetterKeypadOpen=function(){var P=this.getKeypadLayout();return this.isKeypadOpen()&&(P==="letters"||P==="noQwertyLetters"||P==="capitalLetters"||P==="noQwertyCapitalLetters")},ye.prototype.getKeypadFunctionsTab=function(){return this.layoutModel.keypadFunctionsTab},ye.prototype.isFileDraggedOver=function(){return this.layoutModel.isFileDraggedOver},ye.prototype.computeMajorLayout=function(){var P=this.layoutMeasurements.width,ue=this.layoutMeasurements.height,Ae=this.isNarrow(),_e=this.isListVisible(),qe=this.isKeypadOpen(),Ye=!this.isGrapherEnabled(),Ie=!this.isListEnabled(),Ne=!!this.getGraphSettings().config.projectorMode,z={left:0,top:0,width:0,height:0},Pe={left:0,top:0,width:0,height:0},ot={left:0,top:ue,width:P,height:Ne?Ae?185:193:169};return Ie?(Pe.width=P,Pe.height=ue):Ye?(z.width=P,z.height=ue):_e?Ae?(z.width=P,z.height=Math.round(.58*ue),z.top=ue-z.height,Pe.width=P,Pe.height=ue-z.height):(z.width=this.getExpListWidth(),z.height=ue,Pe.left=z.width,Pe.width=P-Pe.left,Pe.height=ue):_e||(Ae?(z.width=P,z.height=Math.round(.58*ue),z.top=ue,Pe.width=P,Pe.height=ue):(z.width=this.getExpListWidth(),z.height=ue,z.left=-z.width,Pe.width=P,Pe.height=ue)),qe&&(ot.top-=ot.height,Ie||(z.height-=ot.height)),{list:z,grapher:Pe,keypad:ot}},ye.prototype.isNarrow=function(){return this.layoutMeasurements.width<450},ye.prototype.getCapExpressionSize=function(){return!!this.getGraphSettings().config.capExpressionSize},ye}();o.default=Ve}),q("lib/aria",["require","exports","browser","jquery"],function(O,o,w,r){function d(p){g.push(p)}function i(p){if(p!==void 0&&d(p),l!==void 0&&g.length>0){var u=g.join(" ").replace(/ +(?= )/g,"");l.attr("aria-relevant",y===u&&w.IS_APPLE?"all":"additions text"),l.empty().text(u),y=u}g.length=0}Object.defineProperty(o,"__esModule",{value:!0});var l,g=[],y="";o.queue=d,o.alert=i,r(document).ready(function(){var p=".dcg-aria-alert";r(p).length===0&&r("body").append("<p aria-live='assertive' aria-atomic='true' class='dcg-aria-alert'></p>"),l=r(p)})}),q("main/instancehotkeys",["require","exports","keys","lib/aria","jquery","graphing-calc/models/expression","browser","touchtracking"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(){function p(u){this.controller=u}return p.prototype.handleKeydown=function(u){var f=this;if(w.isUndo(u))u.stopPropagation(),u.preventDefault(),this.controller.hasVisibleAndUndoableToast()?this.controller.toastUndo():this.controller.dispatch({type:"undo"});else if(w.isRedo(u))u.stopPropagation(),u.preventDefault(),this.controller.dispatch({type:"redo"});else if(u.ctrlKey&&(u.altKey||u.metaKey)&&!u.shiftKey){if(w.lookupChar(u)==="E"){u.preventDefault(),u.stopPropagation(),this.controller.getSelectedItem()||this.controller.dispatch({type:"set-selected-index",index:0});var b=this.controller.getSelectedItem();b?(r.alert(this.controller.t("Expression list")),this.controller.dispatch({type:"move-focus-to-item",id:b.id})):r.alert(this.controller.t("Unable to focus expression list"))}else if(w.lookupChar(u)==="X")u.preventDefault(),u.stopPropagation(),this.controller.canUserAddExpressions()?(r.alert(this.controller.t("Add expression")),this.controller.dispatch({type:"new-expression"})):r.alert(this.controller.t("Unable to add expression"));else if(w.lookupChar(u)==="O")u.preventDefault(),u.stopPropagation(),this.controller.canUserAddExpressions()&&this.controller.areNotesEnabled()?(r.alert(this.controller.t("Add note")),this.controller.dispatch({type:"new-text"})):r.alert(this.controller.t("Unable to add note"));else if(w.lookupChar(u)==="F"&&this.controller.canUserAddExpressions()&&this.controller.areFoldersEnabled())u.preventDefault(),u.stopPropagation(),r.alert(this.controller.t("Add folder")),this.controller.dispatch({type:"new-folder"});else if(w.lookupChar(u)==="I"&&this.controller.canUserAddExpressions()&&this.controller.areImagesEnabled())u.preventDefault(),u.stopPropagation(),this.controller.dispatch({type:"toggle-add-expression",focusOnOpen:!1}),this.controller.runAfterDispatch(function(){f.controller.find$(".dcg-add-expression-container input[type=file]").click(),r.alert(f.controller.t("Add image"))});else if(w.lookupChar(u)==="T")u.preventDefault(),u.stopPropagation(),this.controller.canUserAddExpressions()?(r.alert(this.controller.t("Add table")),this.controller.dispatch({type:"new-table"})):r.alert(this.controller.t("Unable to add table"));else if(w.lookupChar(u)==="G")u.preventDefault(),u.stopPropagation(),this.controller.dispatch({type:"toggle-graph-settings",focusOnOpen:!0});else if(w.lookupChar(u)==="P"){u.preventDefault(),u.stopPropagation();var m=this.controller.find$(".dcg-tabbable-point").filter("[tabindex=0]");m.length===0&&(m=this.controller.find$(".dcg-editable-label-border").find('input, textarea, [role="textbox"]')),this.focusElement(m.first(),this.controller.t("No interactive points on screen"))}else if(w.lookupChar(u)==="Z"){var c=this.controller.getSelectedItem();c&&c.id&&this.controller.dispatch({type:"expression-zoom-fit",id:c.id})}else if(w.lookupChar(u)==="D"&&this.controller.canUserAddExpressions()){u.preventDefault(),u.stopPropagation();var n=!this.controller.isInEditListMode();this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:n,focusExpressionList:!0})}}else if((u.altKey||u.metaKey)&&!u.ctrlKey&&u.shiftKey&&w.lookupChar(u)==="F"&&this.controller.isDecimalToFractionEnabled()){var s=this.controller.getSelectedItem();s&&s.type==="expression"&&(u.preventDefault(),u.stopPropagation(),this.controller.dispatch({type:"toggle-fraction-evaluation",id:s.id}),this.controller.runAfterDispatch(function(){i.shouldEvaluationDisplayAsFraction(s)?r.alert(f.controller.t("Show as Fraction")):r.alert(f.controller.t("Show as Decimal"))}))}else if(u.altKey||u.ctrlKey||u.metaKey||u.shiftKey){if(!u.metaKey&&!u.shiftKey&&u.ctrlKey===l.IS_APPLE&&u.altKey===!l.IS_APPLE){var v=w.lookupChar(u);if(v==="N")u.preventDefault(),u.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"nemeth"}),r.alert(this.controller.t("Braille mode Nemeth"));else if(v==="U")u.preventDefault(),u.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"ueb"}),r.alert(this.controller.t("Braille mode UEB"));else if(v==="Q"||v==="X")u.preventDefault(),u.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"none"}),r.alert(this.controller.t("Braille mode off"));else if(v==="6"){u.preventDefault(),u.stopPropagation();var A=!this.controller.getSixKeyInput();this.controller.dispatch({type:"set-six-key-input",useSixKeyInput:A}),r.alert(A?this.controller.t("Six Key Braille Input on"):this.controller.t("Six Key Braille Input off"))}}}else w.lookup(u)===w.BACKSPACE?document.activeElement&&g.elIsFocusable(d(document.activeElement))||u.preventDefault():w.lookup(u)===w.ESCAPE&&this.controller.isInEditListMode()&&this.controller.find$(".dcg-options-menu").length===0&&(u.preventDefault(),u.stopPropagation(),this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!0}))},p.prototype.focusElement=function(u,f){u.length?u.focus():f&&r.alert(f)},p}();o.default=y}),q("lib/defocus-mobile",["require","exports","jquery","touchtracking"],function(O,o,w,r){function d(){if(document.activeElement){var i=w(document.activeElement);r.elIsFocusable(i)&&w("<input />").prependTo("body").focus().attr({readonly:"readonly",disabled:"true"}).blur().remove()}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=d}),q("ipad.scrollfix",["require","jquery"],function(O){var o=O("jquery"),w=!1,r=function(){d(document),w=!0},d=function(i){w||o(i).bind("touchstart",function(l){var g=o(l.target),y=0,p=null;if(!g.closest("[disablescroll]").length)for(;y===0&&g.length&&g[0].tagName!==void 0;){var u=g.css("overflow"),f=g.css("overflow-y");if(u!=="hidden"&&u!=="visible"&&f!=="hidden"&&f!=="hidden"){var b=g.scrollTop();b!==0&&(y=2),g.scrollTop(b+1),g.scrollTop()!==b&&(y|=1,g.scrollTop(b))}g=g.parent()}if(y!==0){p=[];for(var m=l.originalEvent.touches,c=0;c<m.length;c++){var n={};for(var s in m[c])m[c].hasOwnProperty(s)&&(n[s]=m[c][s]);p.push(n)}}o(document).on("touchmove.scrollfix",function(v){if(p){var A=p[0],M=v.originalEvent.touches[0],C=M.screenY-A.screenY;(C>0&&!(2&y)||C<0&&!(1&y))&&(y=0),C&&(p=null)}y===0&&v.preventDefault()}),o(document).on("touchend.scrollfix",function(){o(document).off(".scrollfix")})})};return{limitScrollOnElement:d,limitScrollOnDocument:r}}),q("expressions/abstract-item-view",["require","exports","tslib","dcgview","jquery.handleevent"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=function(i){function l(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(l,i),l.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,this._isFirstRender=!0,this._isDragCopy=this.props.isDragCopy()},l.prototype.onItemViewMounted=function(){this._isDragCopy||(this.model.dcgView=this),this._isFirstRender=!1},l.prototype.onItemViewUnmounted=function(){this._isDragCopy||(this.model.dcgView=void 0)},l.prototype.isFirstRender=function(){return this._isFirstRender},l.prototype.onMouseSelect=function(g){if(this.controller.isInEditListMode())return void this.exitEditListMode();g.type==="dcg-tap"&&g.device==="mouse"||g.type==="dcg-tapstart"&&g.device==="touch"||g.wasHandled()||(g.handle(),this.controller.dispatch({type:"set-selected-id",id:this.id}))},l.prototype.onDelete=function(){this.controller.dispatch({type:"delete-item-and-animate-out",id:this.id,setFocusAfterDelete:!this.controller.isInEditListMode()})},l.prototype.onDragPending=function(g){this.props.onDragPending(g)},l.prototype.exitEditListMode=function(){this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!0})},l}(r.Class);o.default=d}),q("loadcss!dcgview-helpers/tooltipped-error",function(){}),q("dcgview-helpers/tooltipped-error",["require","exports","tslib","dcgview","lib/tooltip","loadcss!./tooltipped-error"],function(O,o,w,r,d){Object.defineProperty(o,"__esModule",{value:!0});var i=function(l){function g(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(g,l),g.prototype.template=function(){var y=this;return r.createElement(d.Tooltip,{tooltip:this.props.error,targetClickBehavior:this.const("stick"),gravity:this.props.gravity},r.createElement("div",{class:function(){return{"dcg-tooltipped-error":!0,"dcg-white":y.props.isWhite&&y.props.isWhite(),"dcg-small":y.props.size&&y.props.size()==="small"}}},r.createElement("i",{class:r.const("dcg-icon-error")})))},g}(r.Class);o.TooltippedError=i}),q("loadcss!expressions/circular-icon-view",function(){}),q("expressions/circular-icon-view",["require","exports","tslib","dcgview","loadcss!./circular-icon-view"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=r.Components.If,i=function(l){function g(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(g,l),g.prototype.template=function(){var y=this;return r.createElement("span",{class:function(){var p;return p={"dcg-do-not-blur":!0,"dcg-circular-icon":!0,"dcg-thick-outline":y.isThickOutline(),"dcg-white-icon":!!y.props.whiteIcon&&y.props.whiteIcon(),"dcg-hidden":y.isHidden(),"dcg-semi-transparent":y.props.semiTransparent&&y.props.semiTransparent(),"dcg-colored-icon":!y.isThickOutline()&&!y.isHidden()&&!y.hasBackgroundImage()&&y.props.iconType()!=="loading","dcg-has-background-image":y.hasBackgroundImage()},p[y.iconModifier()]=y.iconModifier().length>0,p},style:function(){return{background:y.getBackgroundColor()}}},r.createElement(d,{predicate:this.bindFn(this.hasBackgroundImage)},function(){return r.createElement("span",{class:r.const("dcg-background-image"),style:function(){return{"background-image":y.props.backgroundImage&&y.props.backgroundImage(),opacity:y.props.backgroundOpacity&&y.props.backgroundOpacity()}}})}),r.createElement(d,{predicate:function(){return!!y.backgroundIcon()}},function(){return r.createElement("i",{class:function(){var p;return p={},p[y.backgroundIcon()]=!0,p["dcg-layered-icon"]=!0,p},style:function(){return{opacity:y.backgroundOpacity()}}})}),r.createElement(d,{predicate:function(){return!!y.primaryIcon()}},function(){return r.createElement("i",{class:function(){var p;return p={},p[y.primaryIcon()]=!0,p["dcg-layered-icon"]=!0,p},style:function(){return{color:y.props.foregroundColor&&y.props.foregroundColor()}}})}),r.createElement(d,{predicate:function(){return y.props.iconType()==="loading"}},function(){return r.createElement("span",{class:r.const("dcg-spinner")})}))},g.prototype.iconModifier=function(){if(!this.props.iconModifier)return"";switch(this.props.iconModifier()){case"medium":return"dcg-modifier-size-medium";case"large":return"dcg-modifier-size-large";case"small":return"dcg-modifier-size-small";case"rotated":return"dcg-modifier-rotated";case"none":return""}},g.prototype.getBackgroundColor=function(){if(!this.isHidden()&&this.props.backgroundColor)return this.props.backgroundColor()},g.prototype.isHidden=function(){return this.props.iconType()==="hidden"},g.prototype.isThickOutline=function(){var y=this.props.iconType();return y==="folder"||y==="pause"||y==="play"||y==="fraction"},g.prototype.hasBackgroundImage=function(){return!!this.props.backgroundImage&&!this.isHidden()&&!!this.props.backgroundImage()},g.prototype.primaryIcon=function(){var y=this.props.iconType();switch(y){case"folder":return"dcg-icon-folder";case"pause":return"dcg-icon-pause";case"play":return"dcg-icon-play";case"polygon-dashed":case"polygon-dashed-filled":return"dcg-icon-polygon-dashed";case"polygon-dotted":case"polygon-dotted-filled":return"dcg-icon-polygon-dotted";case"polygon-default":case"polygon-default-filled":return"dcg-icon-polygon-solid";case"graph-dashed":case"parametric-dashed-filled":return"dcg-icon-parametric-dashed";case"graph-dotted":case"parametric-dotted-filled":return"dcg-icon-parametric-dotted";case"graph-default":case"parametric-default-filled":return"dcg-icon-parametric-solid";case"movable-vertical":return"dcg-icon-move-vertical";case"movable-both":return"dcg-icon-move";case"movable-horizontal":return"dcg-icon-move-horizontal";case"point-open":return"dcg-icon-open";case"point-cross":return"dcg-icon-cross";case"point-default":return"dcg-icon-point";case"table-points":case"table-points-and-lines":return"dcg-icon-points";case"table-lines":return"dcg-icon-lines-solid";case"shaded-inequality":case"inequality":return"dcg-icon-shaded-inequality-dash";case"check":return"dcg-icon-check";case"none":case"background":case"hidden":case"polygon-none-filled":case"parametric-none-filled":case"loading":return"";case"fraction":return"dcg-icon-fraction";case"boxplot":return"dcg-icon-boxplot";case"dotplot-cross":return"dcg-icon-dotplot-cross";case"dotplot-default":return"dcg-icon-dotplot-default";case"dotplot-open":return"dcg-icon-dotplot-open";case"histogram":return"dcg-icon-histogram";case"unfilled-distribution":case"filled-distribution":return"dcg-icon-distribution";default:return y}},g.prototype.backgroundOpacity=function(){var y=this.backgroundIcon();return y==="dcg-icon-polygon-filled"||y==="dcg-icon-parametric-filled"||y==="dcg-icon-shaded-inequality-shade2"||y==="dcg-icon-distribution-fill"||y==="dcg-icon-histogram-fill"?.5:1},g.prototype.backgroundIcon=function(){var y=this.props.iconType();return y==="filled-distribution"?"dcg-icon-distribution-fill":y==="histogram"?"dcg-icon-histogram-fill":y==="polygon-dashed-filled"||y==="polygon-dotted-filled"||y==="polygon-default-filled"||y==="polygon-none-filled"?"dcg-icon-polygon-filled":y==="parametric-dashed-filled"||y==="parametric-dotted-filled"||y==="parametric-default-filled"||y==="parametric-none-filled"?"dcg-icon-parametric-filled":y==="table-points-and-lines"?"dcg-icon-lines-solid":y==="shaded-inequality"?"dcg-icon-shaded-inequality-shade2":""},g}(r.Class);o.CircularIconView=i}),q("main/manage-focus-helper",["require","exports","underscore"],function(O,o,w){function r(l){return{shouldBeFocused:function(){return d(l)},onFocusedChanged:function(g){i(l,g)}}}function d(l){var g=l.controller.getFocusLocation();return g&&w.isEqual(g,l.location)}function i(l,g){g?l.controller.dispatch({type:"set-focus-location",location:l.location}):l.controller.dispatch({type:"blur-focus-location",location:l.location})}Object.defineProperty(o,"__esModule",{value:!0}),o.manageFocusHelper=r,o.defaultShouldBeFocused=d,o.defaultOnFocusChanged=i}),q("loadcss!expressions/play-pause-icon-view",function(){}),q("expressions/play-pause-icon-view",["require","exports","tslib","dcgview","lib/aria","./circular-icon-view","main/manage-focus-helper","graphing-calc/models/expression","core/types/slider-loop-modes","../lib/tooltip","jquery.handleevent","loadcss!./play-pause-icon-view"],function(O,o,w,r,d,i,l,g,y,p){Object.defineProperty(o,"__esModule",{value:!0});var u=function(f){function b(){return f!==null&&f.apply(this,arguments)||this}return w.__extends(b,f),b.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},b.prototype.template=function(){var m=this;return r.createElement("div",{class:r.const("dcg-play-pause-icon-view")},r.createElement("div",{class:r.const("dcg-circular-icon-container"),"aria-label":this.bindFn(this.getAriaLabel),role:r.const("button"),tabindex:r.const("0"),onTap:function(c){c.wasHandled("dragdrop")||m.toggleSliderIsPlaying()},manageFocus:this.const(l.manageFocusHelper({controller:this.controller,location:{type:"slider-icon",id:this.model.id}}))},r.createElement(i.CircularIconView,{iconType:function(){return m.getIconType()},whiteIcon:function(){return!m.controller.isInEditListMode()&&m.controller.isItemSelected(m.model.id)||m.controller.isItemBeingDragged(m.model.id)}})),r.createElement("div",{class:r.const("dcg-slider-menu-container"),didMount:function(c){return m.rootElt=c}},r.createElement(p.Tooltip,{tooltip:function(){return m.controller.t("Animation Properties")},gravity:this.const("e"),offset:this.const({left:5})},r.createElement("div",{class:function(){return{"dcg-slider-menu-opener":!0,"dcg-menu-open":m.myOptionsOpen()}},tabindex:r.const(0),role:r.const("button"),"aria-label":function(){return m.myOptionsOpen()?m.controller.t("Hide Animation Properties"):m.controller.t("Show Animation Properties")},onTap:function(c){c.wasHandled("dragdrop")||c.wasLongheld()||m.toggleOptions(c)},manageFocus:this.const(l.manageFocusHelper({controller:this.controller,location:{type:"slider-animation-properties-icon",id:this.model.id}}))},r.createElement("i",{class:this.bindFn(this.getIcon)})))))},b.prototype.getIcon=function(){return y.getSliderIcon(this.model.slider.loopMode)},b.prototype.getIconType=function(){return this.model.slider.isPlaying?g.isSliderAtEndOfPlayOnce(this.model)?"play":"pause":"play"},b.prototype.myOptionsOpen=function(){var m=this.controller.getOpenItemMenu();return!!m&&m.model===this.model},b.prototype.toggleOptions=function(m){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"slider",model:this.model,icon:this.rootElt,focusFirstOption:m.device==="keyboard"}})},b.prototype.getAriaLabel=function(){if(!this.model.sliderExists)return"";var m=this.model.dependent;return m?this.model.slider.isPlaying?this.controller.t("Pause __variable__ Animation",{variable:m}):this.controller.t("Play __variable__ Animation",{variable:m}):""},b.prototype.toggleSliderIsPlaying=function(){if(this.model.sliderExists){var m="",c=this.model.dependent;g.isSliderAtEndOfPlayOnce(this.model)?(m=this.controller.t("__variable__ restarted",{variable:c}),this.controller.dispatch({type:"play-slider-from-min",id:this.model.id})):this.model.slider.isPlaying?(m=this.controller.t("__variable__ playing",{variable:c}),this.controller.dispatch({type:"set-slider-isplaying",id:this.model.id,isPlaying:!1})):(m=this.controller.t("__variable__ paused",{variable:c}),this.controller.dispatch({type:"set-slider-isplaying",id:this.model.id,isPlaying:!0})),d.alert(m)}},b}(r.Class);o.PlayPauseIconView=u}),q("expressions/expression-icon-view",["require","exports","tslib","dcgview","core/lib/dragmode","core/types/styles","core/math/comparators","core/math/expression-types","graphing-calc/models/expression","../dcgview-helpers/tooltipped-error","./play-pause-icon-view","./circular-icon-view","main/manage-focus-helper","jquery.handleevent"],function(O,o,w,r,d,i,l,g,y,p,u,f,b){Object.defineProperty(o,"__esModule",{value:!0});var m=r.Components.SwitchUnion,c=function(n){function s(){return n!==null&&n.apply(this,arguments)||this}return w.__extends(s,n),s.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},s.prototype.template=function(){var v=this;return r.createElement("div",{class:r.const("dcg-expression-icon-container")},m(this.bindFn(this.getIconMode),{error:function(){return r.createElement(p.TooltippedError,{error:function(){return v.controller.unpack(v.model.error)},isWhite:function(){return v.controller.isItemSelected(v.model.id)||v.controller.isItemBeingDragged(v.model.id)},gravity:v.const("se")})},none:function(){return r.createElement("span",null)},slider:function(){return r.createElement(u.PlayPauseIconView,{controller:v.props.controller,model:v.props.model})},icon:function(){return r.createElement("div",{class:r.const("dcg-circular-icon-container"),role:r.const("button"),tabindex:r.const("0"),"aria-label":v.bindFn(v.getIconAriaLabel),onTap:function(A){if(!A.wasHandled("dragdrop")&&!A.wasLongheld())return v.myOptionsOpen()||v.controller.isInEditListMode()&&!v.isFraction()?v.toggleOptions(A):v.isFraction()?v.onToggleFractionDisplay():void v.toggleGraphShown()},didMount:function(A){return v.rootElt=A},onLongHold:function(A){A.handle("dcg-longhold"),A.handle("dcg-tap"),v.isFraction()||v.toggleOptions(A)},manageFocus:v.const(b.manageFocusHelper({controller:v.controller,location:{type:"expression-icon",id:v.model.id}}))},r.createElement(f.CircularIconView,{iconType:v.bindFn(v.getIconType),backgroundColor:v.bindFn(v.getBackgroundColor),whiteIcon:v.bindFn(v.isSelected),foregroundColor:v.bindFn(v.getForegroundColor),iconModifier:v.bindFn(v.getIconModifier)}))}}))},s.prototype.myOptionsOpen=function(){var v=this.controller.getOpenItemMenu();return!!v&&v.model===this.model},s.prototype.toggleOptions=function(v){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"expression",model:this.model,icon:this.rootElt,focusFirstOption:v.device==="keyboard"}})},s.prototype.isSelected=function(){return this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)},s.prototype.isFraction=function(){return this.controller.canDisplayEvaluationForItemAsFraction(this.model.id)},s.prototype.getIconMode=function(){return this.hasError()?"error":this.controller.getGraphSettings().config.graphpaper?this.model.isGraphable&&!this.model.loading?"icon":this.hasSlider()?"slider":this.isFraction()?"icon":"none":"none"},s.prototype.toggleGraphShown=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id})},s.prototype.hasError=function(){return!!this.model.error&&!y.isEmpty(this.model)&&this.controller.getBrailleMode()==="none"},s.prototype.hasSlider=function(){return!!this.model.sliderExists},s.prototype.getDisplayProps=function(){var v=this.model,A=v.points,M=v.lines,C=v.fill;return g.getReconciledExpressionProps(this.model.formula.expression_type,{points:A,lines:M,fill:C})},s.prototype.getBackgroundColor=function(){if(!this.isFraction())return this.model.color;var v=this.isSelected();return this.controller.shouldEvaluationForItemDisplayAsFraction(this.model.id)?v?"#fff":"#000":""},s.prototype.getForegroundColor=function(){if(!this.isFraction())return"";var v=this.isSelected();return v!==this.controller.shouldEvaluationForItemDisplayAsFraction(this.model.id)?"#fff":v?"#6399cb":"#000"},s.prototype.onToggleFractionDisplay=function(){this.controller.dispatch({type:"toggle-fraction-evaluation",id:this.model.id})},s.prototype.getIconModifier=function(){return y.isBoxPlot(this.model)&&y.getVizPropLatex(this.model,"alignedAxis")==="y"?"rotated":"none"},s.prototype.getIconType=function(){if(this.isFraction())return"fraction";if(!this.model.shouldGraph)return"hidden";if(this.controller.isInEditListMode())return"none";var v=this.model.pointStyle,A=this.model.lineStyle,M=this.getDisplayProps(),C=this.model.formula;if(y.isBoxPlot(this.model))return"boxplot";if(y.isDotPlot(this.model)){if(this.model.pointStyle==="POINT")return"dotplot-default";if(this.model.pointStyle==="CROSS")return"dotplot-cross";if(this.model.pointStyle==="OPEN")return"dotplot-open"}if(y.isHistogram(this.model))return"histogram";if(y.isToplevelDistribution(this.model))return y.shouldShowCDFFooter(this.model)?"filled-distribution":"unfilled-distribution";if(this.model.reconciledDragMode===d.DragMode.X)return"movable-horizontal";if(this.model.reconciledDragMode===d.DragMode.Y)return"movable-vertical";if(this.model.reconciledDragMode===d.DragMode.XY)return"movable-both";if(y.isPointOrPointList(this.model))return y.isSinglePoint(this.model)?v===i.PointStyle.OPEN?"point-open":v===i.PointStyle.CROSS?"point-cross":"point-default":M.lines&&M.points?"table-points-and-lines":M.lines?"table-lines":"table-points";var D=this.getDisplayProps().fill;if(y.isPolygon(this.model))return D?M.lines?A===i.LineStyle.DASHED?"polygon-dashed-filled":A===i.LineStyle.DOTTED?"polygon-dotted-filled":"polygon-default-filled":"polygon-none-filled":M.lines?A===i.LineStyle.DASHED?"polygon-dashed":A===i.LineStyle.DOTTED?"polygon-dotted":"polygon-default":"none";if(y.isParametric(this.model))return D?M.lines?A===i.LineStyle.DASHED?"parametric-dashed-filled":A===i.LineStyle.DOTTED?"parametric-dotted-filled":"parametric-default-filled":"parametric-none-filled":M.lines?A===i.LineStyle.DASHED?"graph-dashed":A===i.LineStyle.DOTTED?"graph-dotted":"graph-default":"none";var S=C.operator,x=l.table[S].direction!==0,B=l.table[S].inclusive===!1;return C.is_shade_between||!B&&x?"shaded-inequality":B&&!x?"inequality":B&&x?"shaded-inequality":A===i.LineStyle.DASHED?"graph-dashed":A===i.LineStyle.DOTTED?"graph-dotted":"graph-default"},s.prototype.getIconAriaLabel=function(){return this.isFraction()?y.shouldEvaluationDisplayAsFraction(this.model)?this.controller.t("Displaying as fraction. Press Enter to display as Decimal"):this.controller.t("Displaying as decimal. Press Enter to display as Fraction"):this.controller.isInEditListMode()?this.myOptionsOpen()?this.controller.t("Hide Options"):this.controller.t("Show Options"):this.model.hidden?this.controller.t("Show Expression"):this.controller.t("Hide Expression")},s}(r.Class);o.default=c}),q("loadcss!expressions/evaluation-view",function(){}),q("expressions/evaluation-view",["require","exports","tslib","dcgview","core/lib/label","../dcgview-helpers/mathquill-braille-wrapper","dcgview-helpers/static-mathquill-view","loadcss!./evaluation-view"],function(O,o,w,r,d,i,l){function g(b,m){return d.numericLabel(b,m)}Object.defineProperty(o,"__esModule",{value:!0});var y=r.Components,p=y.If,u=y.SwitchUnion,f=function(b){function m(){return b!==null&&b.apply(this,arguments)||this}return w.__extends(m,b),m.prototype.init=function(){this.controller=this.props.controller()},m.prototype.template=function(){var c=this;return r.createElement("div",{class:r.const("dcg-evaluation-container")},r.createElement("div",{class:function(){return{"dcg-evaluation":!0,"dcg-do-blur":!0,"dcg-hidden":c.props.controller().isInEditListMode()}},handleEvent:r.const("true"),tabindex:function(){return c.props.focusable()&&c.controller.getBrailleMode()==="none"?"0":"-1"}},r.createElement(i.default,{latex:this.bindFn(this.getBrailleEvaluation),tooltipOptions:function(){return{gravity:"sw"}},ariaLabel:this.const(""),brailleShouldFocus:function(){var n=c.controller.getFocusLocation();return!!n&&n.type==="braille-output"&&n.id===c.props.id()},onBrailleInput:function(){},controller:this.props.controller,isStatic:this.const(!0),onBrailleFocusedChanged:function(n){n?c.controller.dispatch({type:"set-focus-location",location:{type:"braille-output",id:c.props.id()}}):c.controller.dispatch({type:"blur-focus-location",location:{type:"braille-output",id:c.props.id()}})}},r.createElement("div",{class:r.const("dcg-evaluation-label-container"),onTap:this.bindFn(this.onSelectEvaluation)},r.createElement(p,{predicate:function(){return!!c.props.dependent()}},function(){return r.createElement(l.default,{latex:function(){return d.identifierToLatex(c.props.dependent())}},r.createElement("span",null))}),r.createElement("span",{class:r.const("dcg-equals")},r.createElement(l.default,{latex:this.const("=")}))),r.createElement("span",{class:r.const("dcg-text-selectable dcg-evaluation-html"),didMount:this.bindFn(this.didMountEvaluation)},u(function(){return c.getEvaluationType()},{list:function(){return r.createElement("span",null,function(){return c.controller.t("__count__ element list",{count:c.props.val().length})})},fraction:function(){return r.createElement(l.default,{latex:function(){return d.truncatedLatexLabel(c.props.val(),c.getLabelOptions())}})},undefined:function(){return r.createElement("span",null,r.const("undefined"))},scientific:function(){return r.createElement(l.default,{latex:function(){return c.getNumberLabel().mantissa+"\\times10^{"+c.getNumberLabel().exponent+"}"}})},decimal:function(){return r.createElement(l.default,{latex:function(){return c.getNumberLabel().value}})}})))),r.createElement("div",{class:r.const("dcg-clear")}))},m.prototype.getNumberLabel=function(){return g(this.props.val(),this.getLabelOptions())},m.prototype.getEvaluationType=function(){var c=this.props.val();return Array.isArray(c)?"list":this.getNumberLabel().type},m.prototype.getLabelOptions=function(){return this.props.controller().getEvaluationLabelOptionsForItem(this.props.id())},m.prototype.didMountEvaluation=function(c){this.evaluationNode=c},m.prototype.onSelectEvaluation=function(){var c=document.createRange();c.selectNodeContents(this.evaluationNode);var n=window.getSelection();n&&(n.removeAllRanges(),(n=window.getSelection())&&n.addRange(c))},m.prototype.getBrailleEvaluation=function(){var c="";this.props.dependent()&&(c=d.identifierToLatex(this.props.dependent())),c+="=";var n=this.getEvaluationType();switch(n){case"list":c+=this.controller.t("__count__ element list",{count:this.props.val().length});break;case"fraction":c+=d.truncatedLatexLabel(this.props.val(),this.getLabelOptions());break;case"undefined":c="undefined";break;case"scientific":c+=this.getNumberLabel().mantissa+"\\times10^{"+this.getNumberLabel().exponent+"}";break;case"decimal":c+=this.getNumberLabel().value;break;default:return n}return c},m}(r.Class);o.default=f}),q("expressions/unresolved_view",["require","exports","tslib","dcgview"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=function(i){function l(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(l,i),l.prototype.template=function(){var g=this;return this.controller=this.props.controller(),r.createElement("div",{class:r.const("dcg-unresolved")},r.createElement("i",{class:r.const("dcg-icon-error")}),r.const("\xA0"),function(){return g.controller.t("This equation contains fine detail that has not been fully resolved.")},r.createElement("a",{href:r.const("http://support.desmos.com/entries/29577773-Unresolved-Detail-In-Plotted-Functions"),target:r.const("_blank")},function(){return g.controller.t("Learn more.")}))},l}(r.Class);o.default=d}),q("loadcss!domain",function(){}),q("expressions/domain_view",["require","exports","tslib","dcgview","jquery","keys","dcgview-helpers/mathquill-braille-wrapper","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","graphing-calc/models/expression","core/lib/label","bugsnag","loadcss!domain"],function(O,o,w,r,d,i,l,g,y,p,u,f){Object.defineProperty(o,"__esModule",{value:!0});var b=function(m){function c(){return m!==null&&m.apply(this,arguments)||this}return w.__extends(c,m),c.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},c.prototype.template=function(){var n=this;return r.createElement("div",{class:r.const("dcg-domain dcg-do-blur"),handleEvent:r.const("true")},r.createElement("div",{class:r.const("dcg-display-domain dcg-do-blur"),handleEvent:r.const("true")},r.createElement("div",{class:r.const("dcg-editable-mathquill-container")},r.createElement(l.default,{latex:function(){return n.getMinLatex()},ariaLabel:function(){return n.controller.raw("dmin")},placeholder:function(){return u.value(p.getDomainMin(n.model)).string},brailleShouldFocus:function(){return n.getFocusedInput()==="min"},selectOnFocus:this.const(!0),onBrailleInput:function(s){return n.dispatchMinLatexIfChanged(s)},controller:this.props.controller,hasError:function(){return!p.isDomainMinValid(n.model)},onBrailleFocusedChanged:function(s){return n.handleFocusedChanged("min",s)},onBrailleKeydown:function(s){return n.handleBrailleKeydown("min",s)},dataLabelAttributeValue:this.const("domain-min")},r.createElement(y.default,{latex:function(){return n.getMinLatex()},placeholder:function(){return u.value(p.getDomainMin(n.model)).string},isFocused:function(){return n.getFocusedInput()==="min"},capExpressionSize:function(){return n.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return n.controller.t("domain Minimum: ")},getAriaPostLabel:this.const(""),hasError:function(){return!p.isDomainMinValid(n.model)},onUserPressedKey:function(s,v){n.handlePressedKey("min",s,v)},onUserChangedLatex:function(s){return n.dispatchMinLatexIfChanged(s)},onExpressionSizeExceeded:function(){return n.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(s){return n.handleFocusedChanged("min",s)},dataLabelAttributeValue:this.const("domain-min"),needsSystemKeypad:function(){return!n.controller.isKeypadEnabled()}})),r.createElement("span",{class:r.const("dcg-interval-interior")},r.createElement(g.default,{latex:function(){return n.getDomainVariableLatex()}},r.createElement("span",null))),r.createElement(l.default,{latex:function(){return n.getMaxLatex()},ariaLabel:function(){return n.controller.raw("dmax")},placeholder:function(){return u.value(p.getDomainMax(n.model)).string},brailleShouldFocus:function(){return n.getFocusedInput()==="max"},selectOnFocus:this.const(!0),onBrailleInput:function(s){return n.dispatchMaxLatexIfChanged(s)},controller:this.props.controller,hasError:function(){return!p.isDomainMaxValid(n.model)},onBrailleFocusedChanged:function(s){return n.handleFocusedChanged("max",s)},onBrailleKeydown:function(s){return n.handleBrailleKeydown("max",s)},dataLabelAttributeValue:this.const("domain-max")},r.createElement(y.default,{latex:function(){return n.getMaxLatex()},placeholder:function(){return u.value(p.getDomainMax(n.model)).string},isFocused:function(){return n.getFocusedInput()==="max"},capExpressionSize:function(){return n.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return n.controller.t("domain Maximum: ")},getAriaPostLabel:this.const(""),hasError:function(){return!p.isDomainMaxValid(n.model)},onUserPressedKey:function(s,v){n.handlePressedKey("max",s,v)},onUserChangedLatex:function(s){return n.dispatchMaxLatexIfChanged(s)},onExpressionSizeExceeded:function(){return n.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(s){return n.handleFocusedChanged("max",s)},dataLabelAttributeValue:this.const("domain-max"),needsSystemKeypad:function(){return!n.controller.isKeypadEnabled()}})))))},c.prototype.handleBrailleKeydown=function(n,s){var v=i.lookup(s);v&&this.handlePressedKey(n,v,d.Event(s))},c.prototype.handlePressedKey=function(n,s,v){if(!this.controller.isInEditListMode()){if(s==="Esc")return void this.controller.dispatch({type:"set-focus-location",location:void 0});if(s==="Enter")return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"})}var A=y.default.getFocusedMathquill(),M=l.getFocusedBrailleElement();if(s==="Left"||s==="Right"||s==="Down"||s==="Up")return void((A?y.default.applyArrowKeyAndReturnIfWasAtBounds(A,s,v):!(!M||!(M.selectionStart===0&&s==="Left"||M.selectionStart===d(M).val().length&&s==="Right"||s==="Up"||s==="Down")))&&(v&&v.preventDefault(),s==="Left"?n==="max"&&this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.model.id,location:"min"}}):s==="Right"?n==="min"&&this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.model.id,location:"max"}}):s==="Down"?this.controller.dispatch({type:"on-special-key-pressed",key:"Down"}):s==="Up"&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.model.id}})));A&&(A.keystroke(s,v),n==="min"?this.dispatchMinLatexIfChanged(A.latex()):n==="max"&&this.dispatchMaxLatexIfChanged(A.latex()))},c.prototype.handleFocusedChanged=function(n,s){s?this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.id,location:n}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"domain-limit",id:this.id,location:n}})},c.prototype.dispatchMinLatexIfChanged=function(n){if(this.getMinLatex()!==n){var s=this.getDomainType();if(s==="unknown")return void f.notify("DomainView is in use for a non-parametric, non-polar expression",{severity:"error",metaData:{expression:p.getState(this.model,{stripDefaults:!0})}});this.controller.dispatch(s==="polar"?{type:"set-polar-domain-minlatex",id:this.id,latex:n}:{type:"set-parametric-domain-minlatex",id:this.id,latex:n})}},c.prototype.dispatchMaxLatexIfChanged=function(n){if(this.getMaxLatex()!==n){var s=this.getDomainType();if(s==="unknown")return void f.notify("DomainView is in use for a non-parametric, non-polar expression",{severity:"error",metaData:{expression:p.getState(this.model,{stripDefaults:!0})}});this.controller.dispatch(s==="polar"?{type:"set-polar-domain-maxlatex",id:this.id,latex:n}:{type:"set-parametric-domain-maxlatex",id:this.id,latex:n})}},c.prototype.getFocusedInput=function(){var n=this.controller.getFocusLocation();if(n&&n.type==="domain-limit"&&n.id===this.id)return n.location},c.prototype.getMinLatex=function(){switch(this.getDomainType()){case"parametric":return p.getParametricDomainMin(this.model);case"polar":return p.getPolarDomainMin(this.model);default:return""}},c.prototype.getMaxLatex=function(){switch(this.getDomainType()){case"parametric":return p.getParametricDomainMax(this.model);case"polar":return p.getPolarDomainMax(this.model);default:return""}},c.prototype.getDomainVariableLatex=function(){switch(this.getDomainType()){case"parametric":return"\\le t \\le";case"polar":return"\\le \\theta \\le";default:return""}},c.prototype.getDomainType=function(){return p.isPolar(this.model)?"polar":p.isParametric(this.model)?"parametric":"unknown"},c}(r.Class);o.default=b}),q("loadcss!regression",function(){}),q("expressions/regression_view",["require","exports","tslib","dcgview","core/lib/label","dcgview-helpers/static-mathquill-view","loadcss!regression"],function(O,o,w,r,d,i){function l(b,m){return d.truncatedLatexLabel(b.parameters[m],{zeroCutoff:1e-15,digits:6,smallCutoff:1e-6,bigCutoff:1e9})}function g(b,m){return d.truncatedLatexLabel(b.statistics[m],{zeroCutoff:1e-15,digits:4,smallCutoff:1e-6,bigCutoff:1e9})}Object.defineProperty(o,"__esModule",{value:!0});var y=r.Components,p=y.If,u=y.For,f=function(b){function m(){return b!==null&&b.apply(this,arguments)||this}return w.__extends(m,b),m.prototype.template=function(){var c=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement(p,{predicate:this.bindFn(this.getRegression)},function(){return r.createElement("div",{class:r.const("dcg-regression-container")},r.createElement("div",{class:r.const("dcg-handle-event"),handleEvent:r.const("true")},r.createElement(p,{predicate:c.bindFn(c.getShouldSuggestLogMode)},function(){return r.createElement("div",{class:r.const("dcg-log-mode-toggle")},r.createElement("div",{class:function(){return{"dcg-action-log-mode-toggle":!0,"dcg-toggled-on":c.getIsLogModeRegression()}},onTap:c.bindFn(c.onTapLogMode)},r.createElement("span",{class:r.const("dcg-log-mode-checkbox"),role:r.const("checkbox"),"aria-checked":function(){return c.getIsLogModeRegression()},tabindex:r.const("0"),"aria-label":function(){return c.controller.t("Log Mode")}},r.createElement("i",{class:r.const("dcg-icon-check")})),function(){return c.controller.t("Log Mode")}),r.createElement("a",{"aria-label":function(){return c.controller.t("Log Mode Help")},class:r.const("dcg-log-mode-toggle-help"),target:r.const("_blank"),href:r.const("http://support.desmos.com/hc/en-us/articles/204349605")},r.createElement("i",{class:r.const("dcg-icon-question-sign")})))}),r.createElement("div",{class:r.const("dcg-statistics"),role:r.const("group"),"aria-label":function(){return c.controller.t("Statistics")}},r.createElement("div",{class:r.const("dcg-expression-footer-title")},function(){return c.controller.t("Statistics")},r.createElement(p,{predicate:function(){return c.getRegression().statistics.hasOwnProperty("RMSE")}},function(){return r.createElement("a",{class:r.const("dcg-expression-footer-title-help"),target:r.const("_blank"),href:r.const("http://support.desmos.com/entries/60176149-What-is-RMSE-"),"aria-label":function(){return c.controller.t("What is RMSE?")}},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))}),r.createElement(p,{predicate:function(){return c.getRegression().statistics.Rsquared<0}},function(){return r.createElement("a",{"aria-label":function(){return c.controller.t("Why am I seeing a negative R Squared value?")},class:r.const("dcg-expression-footer-title-help"),target:r.const("_blank"),href:r.const("http://support.desmos.com/entries/60460125-Why-am-I-seeing-a-negative-R-2-value-")},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))})),r.createElement("div",{class:r.const("dcg-statistics-values")},r.createElement(p,{predicate:function(){return c.getRegression().statistics.hasOwnProperty("Rsquared")}},function(){return r.createElement("div",null,r.createElement(i.default,{latex:function(){return"R^2="+g(c.getRegression(),"Rsquared")}},r.createElement("span",{tabindex:r.const("0")})))}),r.createElement(p,{predicate:function(){return c.getRegression().statistics.hasOwnProperty("rsquared")}},function(){return r.createElement("div",null,r.createElement(i.default,{latex:function(){return"r^2="+g(c.getRegression(),"rsquared")}},r.createElement("span",{tabindex:r.const("0")})))}),r.createElement(p,{predicate:function(){return c.getRegression().statistics.hasOwnProperty("r")}},function(){return r.createElement("div",null,r.createElement(i.default,{latex:function(){return"r="+g(c.getRegression(),"r")}},r.createElement("span",{class:r.const("dcg-r-value"),tabindex:r.const("0")})))}),r.createElement(p,{predicate:function(){return c.getRegression().statistics.hasOwnProperty("RMSE")}},function(){return r.createElement("div",null,r.createElement(i.default,{latex:function(){return"\\operatorname{RMSE}="+g(c.getRegression(),"RMSE")}},r.createElement("span",{tabindex:r.const("0")})))}))),r.createElement("div",{role:r.const("group"),"aria-label":function(){return c.controller.t("Residuals")},class:r.const("dcg-residuals")},r.createElement("div",{class:r.const("dcg-expression-footer-title")},function(){return c.controller.t("Residuals")}),r.createElement(i.default,{latex:c.bindFn(c.getResidualVariable)},r.createElement("span",{class:r.const("dcg-residuals-variable"),tabindex:r.const("0")})),r.createElement("div",{class:function(){return{"dcg-residual-suggestion":!0,"dcg-action-plot-residual":!0,"dcg-btn":!0,"dcg-btn-light-gray":!0,"dcg-visible":c.getResidualSuggestionVisible()}},"aria-hidden":function(){return!c.getResidualSuggestionVisible()},role:r.const("button"),tabindex:function(){return c.getResidualSuggestionVisible()?"0":void 0},onTap:c.bindFn(c.onTapResidualsSuggestion)},function(){return c.controller.t("plot")})),r.createElement(p,{predicate:function(){return Object.keys(c.getRegression().parameters).length>0}},function(){return r.createElement("div",{class:r.const("dcg-parameters-container")},r.createElement("div",{class:r.const("dcg-expression-footer-title")},function(){return c.controller.t("Parameters")}),r.createElement(u,{each:function(){return Object.keys(c.getRegression().parameters)}},r.createElement("div",{role:r.const("group"),"aria-label":function(){return c.controller.t("Parameters")},class:r.const("dcg-parameters")},function(n){return r.createElement(i.default,{latex:function(){return n+"="+l(c.getRegression(),n)}},r.createElement("span",{class:r.const("dcg-parameter"),tabindex:r.const("0")}))})))}),r.createElement("div",{class:r.const("dcg-clear")})))})},m.prototype.onTapResidualsSuggestion=function(){this.controller.dispatch({type:"plot-residuals",id:this.id})},m.prototype.onTapLogMode=function(){this.controller.dispatch({type:"toggle-logmode",id:this.id})},m.prototype.getRegression=function(){return this.model.formula.regression},m.prototype.getResidualVariable=function(){return this.getRegression().residualVariable||""},m.prototype.getResidualSuggestionVisible=function(){return this.getRegression().residualSuggestionId!==void 0},m.prototype.getShouldSuggestLogMode=function(){return!!this.getRegression().shouldSuggestLogMode},m.prototype.getIsLogModeRegression=function(){return!!this.model.isLogModeRegression},m}(r.Class);o.default=f,o.getRoundedParam=l,o.getRoundedStat=g}),function(){q("dcgview-helpers/dragdrop",["require","underscore","underscore_model","jquery","pjs","lib/animation-frame"],function(O){var o,w,r,d;return O("underscore"),d=O("underscore_model").UnderscoreModel,o=O("jquery"),r=O("pjs"),w=O("lib/animation-frame"),r(d,function(i,l){return{init:function(g){return this.options=g??{},l.init.call(this),this.dragging=!1},_evt2pt:function(g){return{x:g.changedTouches[0].pageX-this._offsetPt.x,y:g.changedTouches[0].pageY-this._offsetPt.y}},_dispatch:function(g,y){var p;if(!this._destroyed)return p=this._evt2pt(y),this.triggerEvent(g,{x:p.x,y:p.y,dx:p.x-this._startPt.x,dy:p.y-this._startPt.y,evt:y})},destroy:function(){return o(document).off("."+this.guid),this._destroyed=!0},startDrag:function(g,y){if(y==null&&(y={}),!this.dragging)return o(document).on("dcg-tapmove."+this.guid,function(p){return function(u){if(u.originalEvent.preventDefault(),!p.options.doNotThrottle)return w.cancelAnimationFrame(p.frameThrottle),p.frameThrottle=w.requestAnimationFrame(function(){return p.doDrag(u)});p.doDrag(u)}}(this)),o(document).on("dcg-tapend."+this.guid+" dcg-tapcancel."+this.guid,function(p){return function(u){return p.endDrag(u)}}(this)),this._offsetPt={x:0,y:0},y.origin!=null&&(this._offsetPt={x:this._evt2pt(g).x-y.origin.x,y:this._evt2pt(g).y-y.origin.y}),this._startPt=this._evt2pt(g),this.setProperty("dragging",!0),this._dispatch("onGrab",g)},doDrag:function(g){if(this.dragging)return this._dispatch("onDrag",g)},endDrag:function(g){if(this.dragging)return o(document).off("."+this.guid),this.doDrag(g),this.setProperty("dragging",!1),this._dispatch("onDrop",g)}}})})}.call(this),q("loadcss!dcgview-helpers/slider",function(){}),q("dcgview-helpers/slider",["require","exports","./dragdrop","lib/rounding","tslib","keys","dcgview","jquery","lib/conditional_blur","loadcss!./slider"],function(O,o,w,r,d,i,l,g,y){function p(b,m,c){return Math.min(Math.max(b,m),c)}Object.defineProperty(o,"__esModule",{value:!0});var u=l.Components.If,f=function(b){function m(){return b!==null&&b.apply(this,arguments)||this}return d.__extends(m,b),m.prototype.template=function(){var c=this;return l.createElement("div",{class:function(){return{"dcg-slider-interior":!0,"dcg-disable-slider":c.shouldDisableSlider()}},didMount:this.bindFn(this.didMountRoot),onTapStart:this.bindFn(this.onStartDrag),style:l.const({"touch-action":"none"})},l.createElement("div",{class:l.const("dcg-track")},l.createElement("div",{class:l.const("dcg-ticks"),onMount:this.bindFn(this.didMountTickMarks)}),l.createElement("div",{class:l.const("dcg-graphic")})),l.createElement(u,{predicate:this.bindFn(this.shouldShowZeroMarker)},function(){return l.createElement("div",{class:l.const("dcg-zeroMarker"),style:function(){return{left:c.getZeroMarkerPercent()+"%"}}})}),l.createElement("div",{class:function(){return{"dcg-thumb":!0,"dcg-down":c.isDragging}},role:l.const("slider"),tabindex:l.const("0"),disablescroll:l.const("true"),style:function(){return{left:c.getThumbPercent()+"%"}},onKeyDown:this.bindFn(this.onKeyDown),"aria-label":this.props.ariaLabel,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuenow":this.props.value,manageFocus:this.buildFocusManager()},l.createElement("div",{class:l.const("dcg-graphic")}),l.createElement("div",{class:l.const("dcg-center")})))},m.prototype.willUnmount=function(){this.dragDrop.destroy()},m.prototype.didMountRoot=function(c){var n=this;this.rootNode=c,this.dragDrop=w(),this.isMounted=!0,this.dragDrop.observeEvent("onDrop",function(){n.isDragging=!1,n.update(),n.props.onDrop&&n.props.onDrop()}),this.dragDrop.observeEvent("onGrab",function(){n.isDragging=!0,n.update(),n.props.onGrab&&n.props.onGrab()}),this.dragDrop.observeEvent("onDrag",function(s,v){n.props.onDragUpdate(n.valueFromPixels(v.x))})},m.prototype.didMountTickMarks=function(c){this.tickMarksNode=c,this.renderTickMarks()},m.prototype.didUpdate=function(){this.renderTickMarks()},m.prototype.shouldDisableSlider=function(){return this.props.min()===this.props.max()},m.prototype.renderTickMarks=function(){if(this.tickMarksNode){var c,n=this.props.step(),s=this.props.min(),v=this.props.max();if(c=n===void 0?0:100*n/(v-s),c<3&&(c=0),c>100&&(c=0),isNaN(c)&&(c=0),this.lastTickMarksPercent!==c){this.lastTickMarksPercent=c;var A="";if(c>0&&c<100)for(var M=c;M<100;M+=c)A+='<div class="dcg-tick" style="left:'+M+'%"></div>';this.tickMarksNode.innerHTML=A}}},m.prototype.shouldShowZeroMarker=function(){return this.props.min()<=0&&this.props.max()>=0},m.prototype.getZeroMarkerPercent=function(){var c=this.props.min();return 100*(0-c)/(this.props.max()-c)},m.prototype.getThumbPercent=function(){return 100*this.percentFromValue(this.props.value())},m.prototype.valueFromPixels=function(c){if(!this.isMounted)return 0;var n=this.props.min(),s=this.props.max(),v=this.rootNode.getBoundingClientRect().width,A=p(c/v,0,1),M=n+(s-n)*A,C=(s-n)/v;return r.shortestDecimalBetween(M-C,M+C)},m.prototype.percentFromValue=function(c){var n=this.props.min();return p((c-n)/(this.props.max()-n),0,1)},m.prototype.pixelsFromValue=function(c){if(!this.isMounted)return 0;var n=this.percentFromValue(c);return this.rootNode.getBoundingClientRect().width*n},m.prototype.onKeyDown=function(c){switch(i.lookup(c)){case i.UP:this.props.onUpPress&&(this.props.onUpPress(),c.preventDefault());break;case i.DOWN:this.props.onDownPress&&(this.props.onDownPress(),c.preventDefault());break;case i.ENTER:this.props.onEnterPress&&(this.props.onEnterPress(),c.preventDefault());break;case i.ESCAPE:document.activeElement&&g(document.activeElement).blur();break;case i.LEFT:this.props.onKeyboardUpdate("down"),c.preventDefault();break;case i.RIGHT:this.props.onKeyboardUpdate("up"),c.preventDefault();break;case i.PAGEDOWN:this.props.onKeyboardUpdate("bigdown"),c.preventDefault();break;case i.PAGEUP:this.props.onKeyboardUpdate("bigup"),c.preventDefault();break;case i.HOME:this.props.onKeyboardUpdate("min"),c.preventDefault();break;case i.END:this.props.onKeyboardUpdate("max"),c.preventDefault()}},m.prototype.onStartDrag=function(c){if(c.device!=="keyboard"&&c.target){c.preventDefault(),y.default();var n={x:0,y:0};g(c.target).closest(".dcg-thumb").length===1?n.x=this.pixelsFromValue(this.props.value()):n.x=c.changedTouches[0].clientX-this.rootNode.getBoundingClientRect().left,this.dragDrop.startDrag(c,{origin:n})}},m.prototype.buildFocusManager=function(){return this.props.onFocusedChanged&&this.props.isFocused?this.const({shouldBeFocused:this.props.isFocused,onFocusedChanged:this.props.onFocusedChanged}):this.const(void 0)},m}(l.Class);o.default=f}),q("expressions/slider_limits_view",["require","exports","tslib","jquery","dcgview","dcgview-helpers/mathquill-braille-wrapper","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","keys","graphing-calc/models/expression","core/lib/label","core/types/slider-loop-modes"],function(O,o,w,r,d,i,l,g,y,p,u,f){Object.defineProperty(o,"__esModule",{value:!0});var b=d.Components.If,m=function(c){function n(){return c!==null&&c.apply(this,arguments)||this}return w.__extends(n,c),n.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},n.prototype.template=function(){var s=this;return d.createElement("div",{class:d.const("dcg-slider_menu dcg-do-blur"),handleEvent:d.const("true"),didMount:function(v){return s.node=v}},d.createElement("div",{class:d.const("dcg-editable-mathquill-container")},d.createElement(b,{predicate:function(){return!s.shouldOnlyShowStep()}},function(){return d.createElement("span",null,d.createElement(i.default,{latex:function(){return s.model.slider.hardMin?s.model.slider.min:""},ariaLabel:function(){return s.controller.raw("sldrmin")},brailleShouldFocus:function(){return s.getFocusedInput()==="min"},onBrailleInput:function(v){return s.handleLatexChanged("min",v)},controller:s.props.controller,hasError:function(){return!p.isSliderMinValid(s.model)},onBrailleFocusedChanged:function(v,A){return s.handleFocusedChanged("min",v,A)},onBrailleKeydown:function(v){return s.handleBrailleKeydown("min",v)},selectOnFocus:s.const(!0),dataDCGLimit:s.const("slidermin")},d.createElement(g.default,{latex:function(){return s.model.slider.hardMin?s.model.slider.min:""},isFocused:function(){return s.getFocusedInput()==="min"},capExpressionSize:function(){return s.controller.getCapExpressionSize()},selectOnFocus:s.const(!0),config:s.const({}),getAriaLabel:function(){return s.controller.t("Slider Minimum: ")},getAriaPostLabel:s.const(""),hasError:s.const(!1),onUserPressedKey:function(v,A){return s.handlePressedKey("min",v,A)},onUserChangedLatex:function(v){return s.handleLatexChanged("min",v)},onExpressionSizeExceeded:function(){return s.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(v,A){return s.handleFocusedChanged("min",v,A)},needsSystemKeypad:function(){return!s.controller.isKeypadEnabled()}},d.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":s.getFocusedInput()==="min","dcg-invalid":!p.isSliderMinValid(s.model)}},"data-dcg-limit":d.const("slidermin")}))),d.createElement("span",{class:d.const("dcg-interval-interior")},d.createElement(l.default,{latex:s.bindFn(s.getDependentLatex)},d.createElement("span",null))),d.createElement(i.default,{latex:function(){return s.model.slider.hardMax?s.model.slider.max:""},ariaLabel:function(){return s.controller.raw("sldrmax")},brailleShouldFocus:function(){return s.getFocusedInput()==="max"},onBrailleInput:function(v){return s.handleLatexChanged("max",v)},controller:s.props.controller,hasError:function(){return!p.isSliderMaxValid(s.model)},onBrailleFocusedChanged:function(v,A){return s.handleFocusedChanged("max",v,A)},onBrailleKeydown:function(v){return s.handleBrailleKeydown("max",v)},selectOnFocus:s.const(!0),dataDCGLimit:s.const("slidermax")},d.createElement(g.default,{latex:function(){return s.model.slider.hardMax?s.model.slider.max:""},isFocused:function(){return s.getFocusedInput()==="max"},capExpressionSize:function(){return s.controller.getCapExpressionSize()},selectOnFocus:s.const(!0),config:s.const({}),getAriaLabel:function(){return s.controller.t("Slider Maximum: ")},getAriaPostLabel:s.const(""),hasError:s.const(!1),onUserPressedKey:function(v,A){return s.handlePressedKey("max",v,A)},onUserChangedLatex:function(v){return s.handleLatexChanged("max",v)},onExpressionSizeExceeded:function(){return s.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(v,A){return s.handleFocusedChanged("max",v,A)},needsSystemKeypad:function(){return!s.controller.isKeypadEnabled()}},d.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":s.getFocusedInput()==="max","dcg-invalid":!p.isSliderMaxValid(s.model)}},"data-dcg-limit":d.const("slidermax")}))))}),d.createElement("span",{class:function(){return{"dcg-slider-step-container":!s.shouldOnlyShowStep()}}},d.createElement("span",{class:d.const("dcg-slider-step-label"),"aria-hidden":d.const("true")},function(){return s.controller.t("Step:")}),d.createElement(i.default,{latex:function(){return s.model.slider.step},ariaLabel:function(){return s.controller.raw("sldrstp")},brailleShouldFocus:function(){return s.getFocusedInput()==="step"},onBrailleInput:function(v){return s.handleLatexChanged("step",v)},controller:this.props.controller,hasError:function(){return!p.isSliderStepValid(s.model)},onBrailleFocusedChanged:function(v,A){return s.handleFocusedChanged("step",v,A)},onBrailleKeydown:function(v){return s.handleBrailleKeydown("step",v)},selectOnFocus:this.const(!0),dataDCGLimit:this.const("sliderstep")},d.createElement(g.default,{latex:function(){return s.model.slider.step},isFocused:function(){return s.getFocusedInput()==="step"},capExpressionSize:function(){return s.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return s.controller.t("Slider Step Size: ")},getAriaPostLabel:this.const(""),hasError:this.const(!1),onUserPressedKey:function(v,A){return s.handlePressedKey("step",v,A)},onUserChangedLatex:function(v){return s.handleLatexChanged("step",v)},onExpressionSizeExceeded:function(){return s.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(v,A){return s.handleFocusedChanged("step",v,A)},needsSystemKeypad:function(){return!s.controller.isKeypadEnabled()}},d.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":s.getFocusedInput()==="step","dcg-invalid":!p.isSliderStepValid(s.model)}},"data-dcg-limit":d.const("sliderstep")}))))))},n.prototype.handleBrailleKeydown=function(s,v){var A=y.lookup(v);A&&this.handlePressedKey(s,A,r.Event(v))},n.prototype.handlePressedKey=function(s,v,A){if(!(this.controller.isInEditListMode()||this.shouldOnlyShowStep()||v!=="Esc"&&v!=="Enter"))return void this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.id}});var M=g.default.getFocusedMathquill(),C=i.getFocusedBrailleElement();if(v==="Left"||v==="Right"||v==="Down"||v==="Up")return void((M?g.default.applyArrowKeyAndReturnIfWasAtBounds(M,v,A):!(!C||!(C.selectionStart===0&&v==="Left"||C.selectionStart===r(C).val().length&&v==="Right"||v==="Up"||v==="Down")))&&(A&&A.preventDefault(),v!=="Left"||this.shouldOnlyShowStep()?v!=="Right"||this.shouldOnlyShowStep()?v==="Down"?this.controller.dispatch({type:"on-special-key-pressed",key:"Down"}):v==="Up"&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.model.id}}):s==="min"?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"max"}}):s==="max"&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"step"}}):s==="max"?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"min"}}):s==="step"&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"max"}})));M&&(M.keystroke(v,A),this.handleLatexChanged(s,M.latex()))},n.prototype.shouldOnlyShowStep=function(){return this.model.slider.loopMode===f.SliderLoopMode.PLAY_INDEFINITELY},n.prototype.handleLatexChanged=function(s,v){s==="min"?this.dispatchMinLatexIfChanged(v):s==="max"?this.dispatchMaxLatexIfChanged(v):s==="step"&&this.dispatchStepLatexIfChanged(v)},n.prototype.handleFocusedChanged=function(s,v,A){v&&this.getFocusedInput()!==s?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:s}}):this.getFocusedInput()!==s||this.controller.getBrailleMode()!=="none"||A.relatedTarget&&this.node.contains(A.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"slider-limit",id:this.id,location:s}})},n.prototype.dispatchMinLatexIfChanged=function(s){this.model.slider.min!==s&&this.controller.dispatch({type:"set-slider-minlatex",id:this.id,latex:s})},n.prototype.dispatchMaxLatexIfChanged=function(s){this.model.slider.max!==s&&this.controller.dispatch({type:"set-slider-maxlatex",id:this.id,latex:s})},n.prototype.dispatchStepLatexIfChanged=function(s){this.model.slider.step!==s&&this.controller.dispatch({type:"set-slider-steplatex",id:this.id,latex:s})},n.prototype.getDependentLatex=function(){var s=this.model.dependent||"";return" \\le "+u.identifierToLatex(s)+" \\le "},n.prototype.getFocusedInput=function(){var s=this.controller.getFocusLocation();if(s&&s.type==="slider-limit"&&s.id===this.id)return s.location},n}(d.Class);o.default=m}),q("loadcss!expressions/slider-view",function(){}),q("expressions/slider_view",["require","exports","tslib","jquery","keys","dcgview","dcgview-helpers/slider","./slider_limits_view","dcgview-helpers/static-mathquill-view","graphing-calc/models/expression","core/types/slider-loop-modes","loadcss!./slider-view"],function(O,o,w,r,d,i,l,g,y,p,u){Object.defineProperty(o,"__esModule",{value:!0});var f=i.Components.If,b=function(m){function c(){return m!==null&&m.apply(this,arguments)||this}return w.__extends(c,m),c.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},c.prototype.template=function(){var n=this;return i.createElement("span",{class:i.const("dcg-slider-container"),tapboundary:i.const("true"),onKeydown:function(s){d.lookup(s)!=="Tab"||s.altKey||s.metaKey||s.ctrlKey||(s.shiftKey?n.isSliderMinFocused()&&n.controller.isInEditListMode()?(s.target!==null&&r(s.target).closest(".dcg-expressionitem").find('[tabindex="0"]:visible:first').focus(),s.preventDefault(),s.stopPropagation()):n.isSliderThumbFocused()&&(n.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:n.id,location:"step"}}),s.preventDefault(),s.stopPropagation()):!s.shiftKey&&n.isSliderStepFocused()&&(n.controller.isInEditListMode()?n.controller.dispatch({type:"set-focus-location",location:{type:"slider-icon",id:n.id}}):n.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:n.id}}),s.preventDefault(),s.stopPropagation()))}},i.createElement(f,{predicate:function(){return n.shouldShowSlider()}},function(){return i.createElement("div",{class:i.const("dcg-do-blur dcg-slider"),handleEvent:i.const("true")},i.createElement("div",{class:i.const("dcg-minLabel dcg-template-minlabelhtml"),role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return n.controller.t("Edit __variable__ Limits",{variable:n.controller.getBrailleMode()==="none"?'"'+n.model.dependent+'"':""+n.model.dependent})},onTap:function(){return n.onEditLimit("min")}},i.createElement(y.default,{latex:function(){return p.getDisplaySliderMin(n.model)}})),i.createElement(l.default,{min:function(){return p.getSliderMin(n.model)},max:function(){return p.getSliderMax(n.model)},step:function(){return p.getSliderStep(n.model)},value:function(){return p.getSliderValue(n.model)},ariaLabel:function(){return n.controller.getBrailleMode()==="none"?'"'+n.model.dependent+'"':""+n.model.dependent},onGrab:n.bindFn(n.onGrab),onDrop:n.bindFn(n.onDrop),onDragUpdate:n.bindFn(n.onDragUpdate),onKeyboardUpdate:n.bindFn(n.onKeyboardUpdate),onUpPress:function(){return n.controller.dispatch({type:"on-special-key-pressed",key:"Up"})},onDownPress:function(){return n.controller.dispatch({type:"on-special-key-pressed",key:"Down"})},onEnterPress:function(){return n.controller.dispatch({type:"on-special-key-pressed",key:"Enter"})},isFocused:n.bindFn(n.isSliderThumbFocused),onFocusedChanged:function(s){s?n.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:n.id}}):n.controller.dispatch({type:"blur-focus-location",location:{type:"slider-thumb",id:n.id}})}}),i.createElement("div",{class:i.const("dcg-maxLabel dcg-template-maxlabelhtml"),onTap:function(){return n.onEditLimit("max")}},i.createElement(y.default,{latex:function(){return p.getDisplaySliderMax(n.model)}})))}),i.createElement(f,{predicate:function(){return n.shouldShowLimitInputs()}},function(){return i.createElement(g.default,{model:n.props.model,controller:n.props.controller})}))},c.prototype.onGrab=function(){this.dispatchIsDraggingIfChanged(!0)},c.prototype.onDrop=function(){this.controller.dispatch({type:"set-none-selected"}),this.dispatchIsPlayingIfChanged(!1),this.dispatchIsDraggingIfChanged(!1)},c.prototype.onKeyboardUpdate=function(n){this.controller.dispatch({type:"adjust-slider-by-keyboard",id:this.id,adjustment:n})},c.prototype.onDragUpdate=function(n){this.controller.dispatch({type:"adjust-slider-by-dragging-thumb",id:this.model.id,target:n})},c.prototype.onEditLimit=function(n){this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:n}})},c.prototype.dispatchIsPlayingIfChanged=function(n){this.model.slider.isPlaying!==n&&this.controller.dispatch({type:"set-slider-isplaying",id:this.id,isPlaying:n})},c.prototype.dispatchIsDraggingIfChanged=function(n){this.model.sliderDragging!==n&&this.controller.dispatch({type:"set-slider-dragging",id:this.id,dragging:n})},c.prototype.shouldShowLimitInputs=function(){if(this.controller.isInEditListMode()||!p.isSliderMinValid(this.model)||!p.isSliderMaxValid(this.model)||!p.isSliderStepValid(this.model)||this.model.slider.loopMode===u.SliderLoopMode.PLAY_INDEFINITELY)return!0;var n=this.controller.getFocusLocation();return!(!n||n.type!=="slider-limit"&&n.type!=="expression"||n.id!==this.id)},c.prototype.shouldShowSlider=function(){return!this.shouldShowLimitInputs()},c.prototype.isSliderThumbFocused=function(){var n=this.controller.getFocusLocation();return!(!n||n.type!=="slider-thumb"||n.id!==this.id)},c.prototype.isSliderMinFocused=function(){var n=this.controller.getFocusLocation();return!(!n||n.type!=="slider-limit"||n.id!==this.id||n.location!=="min")},c.prototype.isSliderStepFocused=function(){var n=this.controller.getFocusLocation();return!(!n||n.type!=="slider-limit"||n.id!==this.id||n.location!=="step")},c}(i.Class);o.default=b}),q("loadcss!prompt-sliders",function(){}),q("expressions/promptslider_view",["require","exports","tslib","core/lib/label","jquery","lib/aria","dcgview","loadcss!prompt-sliders"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=l.Components,y=g.For,p=g.If,u=function(f){function b(){return f!==null&&f.apply(this,arguments)||this}return w.__extends(b,f),b.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},b.prototype.template=function(){var m=this;return l.createElement("div",{class:l.const("dcg-create-sliders dcg-action-createslider"),handleEvent:l.const("true"),onTap:this.bindFn(this.onCreateSlider)},l.createElement("span",{class:l.const("dcg-msg")},function(){return m.controller.t("add slider:")}),l.createElement("span",{class:l.const("btns")},l.createElement(y,{each:function(){return m.model.missingVariables.slice(0,4)}},l.createElement("span",null,function(c){return l.createElement("div",{class:l.const("dcg-slider-btn-container"),var_name:m.const(c)},l.createElement("div",{role:l.const("button"),tabindex:l.const("0"),class:function(){return{"dcg-btn-slider":!0,"dcg-btn-blue":m.model.missingVariables.length===1,"dcg-btn-light-gray":m.model.missingVariables.length!==1}},didMount:function(n){n.innerHTML=r.identifierToHTML(c)}}))})),l.createElement(p,{predicate:function(){return m.model.missingVariables.length>1}},function(){return l.createElement("div",{class:l.const("dcg-slider-btn-container dcg-all")},l.createElement("div",{role:l.const("button"),tabindex:l.const("0"),class:l.const("dcg-btn-slider dcg-btn-blue")},function(){return m.controller.t("all")}))})))},b.prototype.onCreateSlider=function(m){if(this.controller.dispatch({type:"set-none-selected"}),m.target){var c=d(m.target).closest(".dcg-slider-btn-container");if(c.length){var n=!1;if(c.hasClass("dcg-all"))this.controller.dispatch({type:"create-sliders-for-item",id:this.model.id,variables:this.model.missingVariables}),n=!0;else{var s=[c.attr("var_name")];this.controller.dispatch({type:"create-sliders-for-item",id:this.model.id,variables:s}),n=this.model.missingVariables.length==1}if(m.device==="keyboard"){var v=this.model.id,A=this.props.controller().getItemSelectorById(v);if(!A)return;n?this.controller.dispatch({type:"move-focus-to-item",id:v}):A.find(".dcg-btn-blue").focus()}}}},b.prototype.didMount=function(){var m=this;this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout),this.promptAlertTimeout=setTimeout(function(){for(var c=[],n=m.model.missingVariables,s=0;s<n.length;s++)c.push('"'+n[s]+'"');i.alert(m.controller.t("Add slider for __vars__",{vars:c.join(",")})),m.promptAlertTimeout=0},2e3)},b.prototype.didUnmount=function(){this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout)},b}(l.Class);o.default=u}),q("loadcss!dcgview-helpers/checkbox",function(){}),q("dcgview-helpers/checkbox",["require","exports","tslib","dcgview","jquery","loadcss!./checkbox"],function(O,o,w,r,d){Object.defineProperty(o,"__esModule",{value:!0});var i=function(l){function g(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(g,l),g.prototype.template=function(){var y=this;return r.createElement("div",{class:function(){return{"dcg-component-checkbox":!0,"dcg-checked":y.props.checked(),"dcg-disabled":y.props.disabled&&y.props.disabled(),"dcg-small":y.props.small&&y.props.small(),"dcg-green":y.props.green&&y.props.green()}},onTap:this.bindFn(this.onChange)},r.createElement("span",{tabindex:r.const(0),class:r.const("dcg-checkbox"),role:r.const("checkbox"),"aria-label":this.props.ariaLabel,"aria-disabled":function(){return y.props.disabled&&y.props.disabled()},"aria-checked":this.props.checked},r.createElement("i",{class:r.const("dcg-icon-check"),"aria-hidden":r.const("true")})),r.createElement("span",{class:r.const("dcg-checkbox-children")},this.children))},g.prototype.onChange=function(y){y.target&&d(y.target).attr("href")||this.props.disabled&&this.props.disabled()||this.props.onChange(!this.props.checked())},g}(r.Class);o.Checkbox=i}),q("loadcss!expressions/label-dropdown-view",function(){}),q("expressions/label-dropdown-view",["require","exports","tslib","dcgview","graphing-calc/models/expression","core/graphing-calc/json/expression","core/types/label-sizes","core/lib/dragmode","core/types/label-orientations","dcgview-helpers/checkbox","core/math/interpolatedlabel","loadcss!./label-dropdown-view"],function(O,o,w,r,d,i,l,g,y,p,u){Object.defineProperty(o,"__esModule",{value:!0});var f=r.Components,b=f.For,m=f.IfElse,c=f.If,n=function(s){function v(){return s!==null&&s.apply(this,arguments)||this}return w.__extends(v,s),v.prototype.template=function(){var A=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-label-dropdown-view dcg-popover dcg-left")},r.createElement("div",{class:r.const("dcg-arrow")}),r.createElement("div",{class:r.const("dcg-label-group-container")},r.createElement("div",{class:r.const("dcg-label-group")},r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-label-group-title")},function(){return A.controller.t("Label Position")}),r.createElement(b,{each:this.bindFn(this.getLabelOrientations)},r.createElement("div",{role:r.const("group"),"aria-label":function(){return A.controller.t("Label Position")},class:r.const("dcg-label-options")},function(M){return r.createElement("a",{role:r.const("button"),tabindex:r.const(0),class:function(){return{"dcg-menu-option":!0,"dcg-label-position":!0,"dcg-menu-option-selected":A.isorientationSelected(M)}},"aria-pressed":function(){return A.isorientationSelected(M)},onTap:function(){return A.setorientation(M)},"aria-label":function(){return A.getOrientationText(M)}},r.createElement("span",{class:r.const("dcg-menu-option-icon")},r.createElement("i",{class:r.const("dcg-icon-position-arrows")}),r.createElement("span",{class:function(){var C;return C={"dcg-position-direction-icon":!0},C[A.getPositionIconClass(M)]=!0,C}},m(function(){return M==="default"},{true:function(){return r.createElement("div",{class:r.const("dcg-default-position")})},false:function(){return r.createElement("i",{class:r.const("dcg-icon-position-arrows-single")})}}))),r.createElement("span",{class:r.const("dcg-menu-option-label")},function(){return A.getOrientationText(M)}))}))),r.createElement("div",{class:r.const("dcg-label-group")},r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-label-group-title")},function(){return A.controller.t("Font Size")}),r.createElement(b,{each:this.bindFn(this.getLabelSizes)},r.createElement("div",{role:r.const("group"),"aria-label":function(){return A.controller.t("Font Size")},class:r.const("dcg-label-options")},function(M){return r.createElement("a",{role:r.const("button"),tabindex:r.const(0),class:function(){var C;return C={"dcg-menu-option":!0,"dcg-menu-option-selected":A.isSizeSelected(M),"dcg-label-size":!0},C[A.getSizeClass(M)]=!0,C},"aria-pressed":function(){return A.isSizeSelected(M)},onTap:function(){return A.setLabelSize(M)},"aria-label":function(){return A.getSizeText(M)}},r.createElement("span",{class:r.const("dcg-menu-option-icon")},r.const("A")),r.createElement("span",{class:r.const("dcg-menu-option-label")},function(){return A.getSizeText(M)}))})),r.createElement("div",{class:r.const("dcg-label-group dcg-additional-group-in-column")},r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-label-group-title")},function(){return A.controller.t("Orientation")}),r.createElement("div",{role:r.const("group"),"aria-label":function(){return A.controller.t("Orientation")}},r.createElement(p.Checkbox,{checked:this.bindFn(this.getVerticalLabel),onChange:this.bindFn(this.setVerticalLabel),ariaLabel:this.const(this.controller.t("Vertical"))},function(){return A.controller.t("Vertical")}))),r.createElement(c,{predicate:function(){return A.controller.canUseAdvancedStyling()}},function(){return r.createElement("div",{class:r.const("dcg-label-group dcg-additional-group-in-column")},r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-label-group-title")},function(){return A.controller.t("Advanced")}),r.createElement(p.Checkbox,{checked:A.bindFn(A.getWhiteTextOutline),onChange:A.bindFn(A.setWhiteTextOutline),ariaLabel:A.const("Text outline"),disabled:function(){return A.getEditable()}},r.const("Text outline")),r.createElement("div",{role:r.const("group"),"aria-label":function(){return A.controller.t("Advanced")}},r.createElement(c,{predicate:function(){return A.shouldShowInteractiveLabelCheckbox()}},function(){return r.createElement(p.Checkbox,{checked:A.bindFn(A.getInteractiveLabel),onChange:A.bindFn(A.setInteractiveLabel),ariaLabel:A.const("Interactive Label")},r.const("Show on hover"))}),r.createElement(c,{predicate:A.bindFn(A.shouldShowEditableLabelToggle)},function(){return r.createElement(p.Checkbox,{checked:A.bindFn(A.getEditable),onChange:A.bindFn(A.setEditable),ariaLabel:A.const("Editable")},r.const("Editable"))})))}))))},v.prototype.getLabelOrientations=function(){return[y.LabelOrientation.DEFAULT,y.LabelOrientation.LEFT,y.LabelOrientation.RIGHT,y.LabelOrientation.ABOVE,y.LabelOrientation.BELOW]},v.prototype.getOrientationText=function(A){switch(A){case y.LabelOrientation.DEFAULT:return this.controller.t("Default");case y.LabelOrientation.LEFT:return this.controller.t("Left");case y.LabelOrientation.RIGHT:return this.controller.t("Right");case y.LabelOrientation.ABOVE:return this.controller.t("Above");case y.LabelOrientation.BELOW:return this.controller.t("Below");default:var M=A;throw new Error("Unexpected label orientation: "+M)}},v.prototype.getLabelSizes=function(){return[l.LabelSize.SMALL,l.LabelSize.MEDIUM,l.LabelSize.LARGE]},v.prototype.getSizeText=function(A){switch(A){case l.LabelSize.SMALL:return this.controller.t("Small");case l.LabelSize.LARGE:return this.controller.t("Large");case l.LabelSize.MEDIUM:return this.controller.t("Medium");default:var M=A;throw new Error("Unexpected label size: "+M)}},v.prototype.getSizeClass=function(A){switch(A){case l.LabelSize.SMALL:return"dcg-small-label";case l.LabelSize.LARGE:return"dcg-large-label";case l.LabelSize.MEDIUM:return"dcg-medium-label";default:var M=A;throw new Error("Unexpected label size: "+M)}},v.prototype.isSizeSelected=function(A){return this.model.labelSize===A},v.prototype.isorientationSelected=function(A){return this.model.labelOrientation===A},v.prototype.getPositionIconClass=function(A){switch(A){case y.LabelOrientation.ABOVE:return"dcg-position-icon-above";case y.LabelOrientation.BELOW:return"dcg-position-icon-below";case y.LabelOrientation.LEFT:return"dcg-position-icon-left";case y.LabelOrientation.RIGHT:return"dcg-position-icon-right";case y.LabelOrientation.DEFAULT:return"dcg-position-icon-default";default:var M=A;throw new Error("Unexpected label orientation: "+M)}},v.prototype.setorientation=function(A){this.controller.dispatch({type:"set-item-label-orientation",id:this.id,labelOrientation:A})},v.prototype.setVerticalLabel=function(A){this.controller.dispatch({type:"set-item-vertical-label",id:this.id,verticalLabel:A})},v.prototype.getWhiteTextOutline=function(){return!this.getEditable()&&!this.model.suppressTextOutline},v.prototype.setWhiteTextOutline=function(A){this.controller.dispatch({type:"set-suppress-text-outline",id:this.id,suppressTextOutline:!A})},v.prototype.getVerticalLabel=function(){return!!this.model.verticalLabel},v.prototype.setInteractiveLabel=function(A){this.controller.dispatch({type:"set-item-interactive-label",id:this.id,interactiveLabel:A})},v.prototype.getInteractiveLabel=function(){return!!this.model.interactiveLabel},v.prototype.setEditable=function(A){if(A){var M=u.isMathLabel(this.model.label)?i.EditableLabelMode.Math:i.EditableLabelMode.Text;this.controller.dispatch({type:"set-item-editable-label-mode",id:this.id,editableLabelMode:M})}else this.controller.dispatch({type:"set-item-editable-label-mode",id:this.id,editableLabelMode:i.EditableLabelMode.None})},v.prototype.getEditable=function(){return this.model.editableLabelMode!==i.EditableLabelMode.None},v.prototype.getEditableLabelMode=function(){return this.model.editableLabelMode},v.prototype.shouldShowEditableLabelToggle=function(){return d.isSinglePoint(this.model)},v.prototype.setLabelSize=function(A){this.controller.dispatch({type:"set-item-labelSize",id:this.id,labelSize:A})},v.prototype.getLabelSize=function(){return this.model.labelSize},v.prototype.shouldShowInteractiveLabelCheckbox=function(){return this.model.reconciledDragMode===g.DragMode.NONE},v}(r.Class);o.LabelDropdownView=n}),q("loadcss!expressions/label_view",function(){}),q("loadcss!toggle",function(){}),q("expressions/label_view",["require","exports","tslib","keys","dcgview","graphing-calc/models/expression","./label-dropdown-view","jquery","core/graphing-calc/json/expression","loadcss!./label_view","loadcss!toggle"],function(O,o,w,r,d,i,l,g,y){Object.defineProperty(o,"__esModule",{value:!0});var p=d.Components,u=p.Input,f=p.If,b=p.IfElse,m=function(c){function n(){return c!==null&&c.apply(this,arguments)||this}return w.__extends(n,c),n.prototype.template=function(){var s=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,d.createElement("div",{class:function(){return{"dcg-label-visible":s.getShowLabel(),"dcg-label-container":!0,"dcg-do-blur":!0}},tapboundary:d.const("true"),handleEvent:d.const("true")},d.createElement("span",{role:d.const("checkbox"),"aria-checked":this.bindFn(this.getShowLabel),tabindex:d.const("0"),class:function(){return{"dcg-checkbox":!0,"dcg-checkbox-label-colon":s.getShowLabel()&&!s.hasEditableLabel()}},"aria-label":function(){return s.controller.t("Label")},onTap:this.bindFn(this.onCheckboxInput)},d.createElement("span",{class:function(){return{"dcg-checkbox-box":!0,"dcg-checked":s.getShowLabel()}}},d.createElement("i",{class:d.const("dcg-icon-check")})),d.const("\xA0"),d.createElement("span",{class:d.const("dcg-checkbox-label"),"aria-hidden":d.const("true")},function(){return s.controller.t("Label")})),b(this.bindFn(this.hasEditableLabel),{true:function(){return d.createElement("div",{class:d.const("dcg-editable-mode-toggle")},d.createElement("div",{class:d.const("dcg-option-toggle-view")},d.createElement("div",{class:d.const("dcg-toggle-container")},d.createElement("div",{class:d.const("dcg-toggle")},d.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":s.model.editableLabelMode===y.EditableLabelMode.Math}},role:d.const("button"),tabindex:d.const(0),"aria-pressed":function(){return s.model.editableLabelMode===y.EditableLabelMode.Math},"aria-label":function(){return s.controller.t("Editable label mode: Editable Math")},didMount:function(v){s.lastToggleOption!==void 0&&s.lastToggleOption==="math"&&(s.lastToggleOption=void 0,v.focus())},onTap:function(){s.lastToggleOption="Editable Math",s.controller.dispatch({type:"set-item-editable-label-mode",id:s.id,editableLabelMode:y.EditableLabelMode.Math})}},function(){return s.controller.t("Editable Math")}),d.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":s.model.editableLabelMode===y.EditableLabelMode.Text}},role:d.const("button"),tabindex:d.const(0),"aria-pressed":function(){return s.model.editableLabelMode===y.EditableLabelMode.Text},"aria-label":function(){return s.controller.t("Editable label mode: Editable Text")},didMount:function(v){s.lastToggleOption!==void 0&&s.lastToggleOption==="text"&&(s.lastToggleOption=void 0,v.focus())},onTap:function(){s.lastToggleOption="Editable Text",s.controller.dispatch({type:"set-item-editable-label-mode",id:s.id,editableLabelMode:y.EditableLabelMode.Text})}},function(){return s.controller.t("Editable Text")})))))},false:function(){return d.createElement(u,{class:function(){return{"dcg-label-input":!0,"dcg-disabled-input":s.getIsDisabled(),"dcg-disabled-editable-input":s.hasEditableLabel()}},"aria-label":function(){return s.controller.t("Label Text")},"aria-disabled":function(){return s.getIsDisabled()||s.hasEditableLabel()},value:s.bindFn(s.getLabel),onInput:s.bindFn(s.onLabelInput)})}}),d.createElement("span",{class:function(){return{"dcg-dropdown-container":!0,"dcg-no-label":!s.getShowLabel()}},didMount:function(v){return s.$dropdownContainer=g(v)}},d.createElement("span",{class:d.const("dcg-dropdown-wrench-container"),role:d.const("button"),tabindex:d.const(0),"aria-label":function(){return s.controller.t("Label Settings")},onTap:this.bindFn(this.toggleDropdown),selected:this.bindFn(this.showLabelDropdown),"aria-expanded":this.bindFn(this.showLabelDropdown)},d.createElement("i",{class:d.const("dcg-icon-wrench")})),d.createElement(f,{predicate:this.bindFn(this.showLabelDropdown)},function(){return d.createElement(l.LabelDropdownView,{controller:s.props.controller,model:s.props.model})})))},n.prototype.showLabelDropdown=function(){return this.model.labelDropdownOpen},n.prototype.showDropdown=function(s){var v=this,A=g(s.target);g(document).on("mousedown.dcg-"+this.id+" touchstart.dcg-"+this.id+" pointerdown.dcg-"+this.id,function(M){v.showLabelDropdown()&&(g(M.target).closest(v.$dropdownContainer).length>0||v.hideDropdown())}),g(document).on("keydown.dcg-"+this.id,function(M){r.lookup(M)===r.ESCAPE&&(v.hideDropdown(),A.focus())}),this.controller.dispatch({type:"set-item-label-dropdown-open",id:this.id,open:!0})},n.prototype.hideDropdown=function(){g(document).off(".dcg-"+this.id),this.controller.dispatch({type:"set-item-label-dropdown-open",id:this.id,open:!1})},n.prototype.toggleDropdown=function(s){this.showLabelDropdown()?this.hideDropdown():this.showDropdown(s)},n.prototype.getLabel=function(){return this.model.label||""},n.prototype.hasEditableLabel=function(){return i.hasEditableLabel(this.model)},n.prototype.getShowLabel=function(){return!!this.model.showLabel},n.prototype.getIsDisabled=function(){return this.getLabel().length===0&&!this.getShowLabel()},n.prototype.onLabelInput=function(s){var v=s;this.controller.dispatch({type:"set-item-label",id:this.id,label:v}),this.controller.dispatch({type:"set-item-showlabel",id:this.id,showLabel:!!v})},n.prototype.onCheckboxInput=function(){this.controller.dispatch({type:"set-item-showlabel",id:this.id,showLabel:!this.getShowLabel()})},n}(d.Class);o.default=m}),q("loadcss!expressions/cdf-footer-view",function(){}),q("expressions/cdf-footer-view",["require","exports","tslib","dcgview","jquery","keys","graphing-calc/models/expression","dcgview-helpers/mathquill-view","dcgview-helpers/mathquill-braille-wrapper","./evaluation-view","dcgview-helpers/checkbox","loadcss!./cdf-footer-view"],function(O,o,w,r,d,i,l,g,y,p,u){Object.defineProperty(o,"__esModule",{value:!0});var f=r.Components.If,b=function(m){function c(){var n=m!==null&&m.apply(this,arguments)||this;return n.focusedValues={},n}return w.__extends(c,m),c.prototype.template=function(){var n=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-cdf-footer-container dcg-do-blur"),tapboundary:r.const("true"),handleEvent:r.const("true")},r.createElement(u.Checkbox,{checked:function(){return l.shouldShowCDFFooter(n.model)},disabled:function(){return l.isListValuedDistribution(n.model)},onChange:function(s){n.controller.dispatch({type:"set-show-cdf",id:n.model.id,showCDF:s})},ariaLabel:function(){return n.controller.t("Find Cumulative Probability (CDF)")}},function(){return n.controller.t("Find Cumulative Probability (CDF)")}),r.createElement(f,{predicate:function(){return l.shouldShowCDFFooter(n.model)}},function(){return r.createElement("div",null,r.createElement("span",{class:r.const("dcg-cdf-limit-name")},function(){return n.controller.t("Min:")}),r.createElement(y.default,{latex:function(){return l.getCDFMin(n.model)},hasError:function(){return!l.isCDFMinValid(n.model)},brailleShouldFocus:function(){return n.isInputFocused("min")},onBrailleFocusedChanged:function(s){return n.handleFocusedChanged("min",s)},ariaLabel:function(){return n.controller.t("Min")},placeholder:function(){return l.getCDFMinPlaceholder(n.model)},onBrailleInput:n.bindFn(n.updateCDFMin),controller:n.props.controller,onBrailleKeydown:function(s){return n.handleBraillePressedKey(s,"min")}},r.createElement(g.default,{latex:function(){return l.getCDFMin(n.model)},hasError:function(){return!l.isCDFMinValid(n.model)},isFocused:function(){return n.isInputFocused("min")},onFocusedChanged:function(s){return n.handleFocusedChanged("min",s)},config:n.const({}),getAriaLabel:function(){return n.controller.t("Min")},getAriaPostLabel:function(){return""},placeholder:function(){return l.getCDFMinPlaceholder(n.model)},onUserPressedKey:function(s,v){return n.handlePressedKey(s,v,"min")},onUserChangedLatex:n.bindFn(n.updateCDFMin),onExpressionSizeExceeded:function(){return n.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return n.model.controller.getCapExpressionSize()},needsSystemKeypad:function(){return!n.controller.isKeypadEnabled()}})),r.createElement("span",{class:r.const("dcg-cdf-limit-name")},function(){return n.controller.t("Max:")}),r.createElement(y.default,{latex:function(){return l.getCDFMax(n.model)},hasError:function(){return!l.isCDFMaxValid(n.model)},brailleShouldFocus:function(){return n.isInputFocused("max")},onBrailleFocusedChanged:function(s){return n.handleFocusedChanged("max",s)},ariaLabel:function(){return n.controller.t("Max")},placeholder:function(){return l.getCDFMaxPlaceholder(n.model)},onBrailleInput:n.bindFn(n.updateCDFMax),controller:n.props.controller,onBrailleKeydown:function(s){return n.handleBraillePressedKey(s,"max")}},r.createElement(g.default,{latex:function(){return l.getCDFMax(n.model)},hasError:function(){return!l.isCDFMaxValid(n.model)},isFocused:function(){return n.isInputFocused("max")},onFocusedChanged:function(s){return n.handleFocusedChanged("max",s)},config:n.const({}),getAriaLabel:function(){return n.controller.t("Max")},getAriaPostLabel:function(){return""},placeholder:function(){return l.getCDFMaxPlaceholder(n.model)},onUserPressedKey:function(s,v){return n.handlePressedKey(s,v,"max")},onUserChangedLatex:n.bindFn(n.updateCDFMax),onExpressionSizeExceeded:function(){return n.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return n.model.controller.getCapExpressionSize()},needsSystemKeypad:function(){return!n.controller.isKeypadEnabled()}})),r.createElement(f,{predicate:n.bindFn(n.showEvaluation)},function(){return r.createElement("div",{class:r.const("dcg-cdf-evaluation-container")},r.createElement(p.default,{val:function(){return l.getCDFEvaluation(n.model)},controller:n.props.controller,dependent:n.const(""),id:function(){return n.model.id},focusable:n.const(!0)}))}))}))},c.prototype.handleBraillePressedKey=function(n,s){var v=i.lookup(n);v&&this.handlePressedKey(v,d.Event(n),s)},c.prototype.handlePressedKey=function(n,s,v){if(n==="Esc")return void this.controller.dispatch({type:"set-focus-location",location:void 0});if(n==="Enter")return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var A=g.default.getFocusedMathquill();A&&(A.keystroke(n,s),v==="min"&&l.getCDFMin(this.model)!==A.latex()&&this.updateCDFMin(A.latex()),v==="max"&&l.getCDFMax(this.model)!==A.latex()&&this.updateCDFMax(A.latex()))},c.prototype.updateCDFMax=function(n){this.controller.dispatch({type:"set-cdf-max",id:this.model.id,latex:n})},c.prototype.updateCDFMin=function(n){this.controller.dispatch({type:"set-cdf-min",id:this.model.id,latex:n})},c.prototype.showEvaluation=function(){return!!l.isCDFMaxValid(this.model)&&!!l.isCDFMinValid(this.model)},c.prototype.isInputFocused=function(n){var s=this.controller.getFocusLocation();return!(!s||s.type!=="cdf-limit"||s.id!==this.id)&&s.location===n},c.prototype.handleFocusedChanged=function(n,s){s?this.controller.dispatch({type:"set-focus-location",location:{type:"cdf-limit",id:this.id,location:n}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"cdf-limit",id:this.id,location:n}})},c}(r.Class);o.default=b}),q("loadcss!expressions/parameter_suggestions_view",function(){}),q("expressions/parameters_suggestions_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","loadcss!./parameter_suggestions_view"],function(O,o,w,r,d){Object.defineProperty(o,"__esModule",{value:!0});var i=r.Components,l=i.If,g=i.For,y=i.SwitchUnion,p=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return w.__extends(f,u),f.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},f.prototype.template=function(){var b=this;return y(this.bindFn(this.getSuggestionType),{list:function(){return r.createElement(g,{each:b.bindFn(b.getListOfParameters)},r.createElement("div",{class:function(){return{"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":b.controller.getBrailleMode()!=="none"}}},function(m){return r.createElement("span",{class:r.const("dcg-parameter-name")},function(){return b.getParamName(m)})}))},listWithDefault:function(){return r.createElement(g,{each:b.bindFn(b.getListOfParameters)},r.createElement("div",{class:function(){return{"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":b.controller.getBrailleMode()!=="none"}},onTap:b.bindFn(b.fillInDefaults)},function(m){return r.createElement("span",{class:r.const("dcg-parameter-name")},function(){return b.getParamName(m)},r.createElement(l,{predicate:function(){return b.shouldShowDefaultValue(m)}},function(){return r.createElement("span",{class:r.const("dcg-default-marker")},r.const("= "),function(){return b.getDefaultValue(m)})}))}))},individual:function(){return r.createElement("div",{class:function(){return{"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":b.controller.getBrailleMode()!=="none"}}},b.bindFn(b.getMissingRequiredParamText))},none:function(){}})},f.prototype.getExtractedAndDefaultArgString=function(b){var m=b.params,c=b.values,n=b.defaults;return m.map(function(s,v){var A=c[s],M=n[v];return A||M||""}).join(",")},f.prototype.fillInDefaults=function(){var b=d.parseToplevelFunction(this.model);if(b){var m=b.symbol,c=b.span,n=c.input,s=c.start,v=c.end,A=this.getExtractedAndDefaultArgString(b),M="\\operatorname{"+m+"}\\left("+A+"\\right)",C=""+n.slice(0,s)+M+n.slice(v);this.controller.dispatch({type:"set-item-latex",id:this.id,latex:C}),this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}}),this.controller.dispatch({type:"keypad/press-key",key:"Left"})}},f.prototype.isMissingDefault=function(){if(!d.isPrimaryLatexValid(this.model))return!1;var b=d.parseToplevelFunction(this.model);if(!b)return!1;for(var m=0;m<b.params.length;m++)if(this.shouldShowDefaultValue(b.params[m]))return!0;return!1},f.prototype.getSuggestionType=function(){return this.getListOfParameters().length>1?this.isMissingDefault()?"listWithDefault":"list":this.missingRequiredParam()?"individual":"none"},f.prototype.missingRequiredParam=function(){var b=d.parseToplevelFunction(this.model);if(b&&b.params.length===1){var m=b.params[0];if(!this.getDefaultValue(m)&&!this.getParameterExtractedValue(m))return m}},f.prototype.getMissingRequiredParamText=function(){var b=this.missingRequiredParam();return b?this.controller.t("Enter the __param__.",{param:this.getParamName(b)}):""},f.prototype.getDefaultValue=function(b){var m=d.parseToplevelFunction(this.model);if(!m||!m.params)return"";for(var c=0;c<m.params.length;c++)if(m.params[c]===b)return m.defaults[c]||"";return""},f.prototype.getParameterExtractedValue=function(b){var m=d.parseToplevelFunction(this.model);return m&&m.values[b]||""},f.prototype.shouldShowDefaultValue=function(b){return!this.getParameterExtractedValue(b)&&!!this.getDefaultValue(b)},f.prototype.getListOfParameters=function(){var b=d.parseToplevelFunction(this.model);return b?b.params:[]},f.prototype.getParamName=function(b){switch(b){case"mean":return this.controller.t("Mean");case"stdev":return this.controller.t("Standard Deviation");case"dof":return this.controller.t("Degrees of Freedom");case"probsuccess":return this.controller.t("Success Probability");case"trials":return this.controller.t("Trials");case"data":return this.controller.t("Data Set");case"binwidth":return this.controller.t("Bin Width");case"min":return this.controller.t("Minimum");case"max":return this.controller.t("Maximum");case"height":case"offset":case"data":return b;default:return b}},f}(r.Class);o.ParametersSuggestionsView=p}),q("loadcss!expressions/distribution_parameters_view",function(){}),q("expressions/distribution_parameters_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","expressions/cdf-footer-view","./parameters_suggestions_view","loadcss!./distribution_parameters_view"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=r.Components.If,y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){var f=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-distribution-parameters-container dcg-do-blur"),tapboundary:r.const("true"),handleEvent:r.const("true")},r.createElement(l.ParametersSuggestionsView,{model:this.props.model,controller:this.props.controller}),r.createElement(g,{predicate:function(){return d.shouldShowCDFCheckbox(f.model)}},function(){return r.createElement(i.default,{model:f.props.model,controller:f.props.controller})}))},u}(r.Class);o.default=y}),q("loadcss!expressions/visualization_parameters_view",function(){}),q("expressions/visualization_parameters_view",["require","exports","tslib","dcgview","jquery","keys","graphing-calc/models/expression","dcgview-helpers/mathquill-view","dcgview-helpers/mathquill-braille-wrapper","./parameters_suggestions_view","loadcss!./visualization_parameters_view","loadcss!toggle"],function(O,o,w,r,d,i,l,g,y,p){Object.defineProperty(o,"__esModule",{value:!0});var u=r.Components.For,f=r.Components,b=f.SwitchUnion,m=f.If,c=function(s){function v(){return s!==null&&s.apply(this,arguments)||this}return w.__extends(v,s),v.prototype.template=function(){var A=this;return r.createElement("div",{class:r.const("dcg-toggle-container")},r.createElement("div",{class:r.const("dcg-expression-footer-title")},this.props.title,r.createElement(m,{predicate:function(){return!!A.props.helpLink}},function(){return r.createElement("a",{"aria-label":function(){return A.props.controller().t("Help")},class:r.const("dcg-expression-footer-title-help"),target:r.const("_blank"),href:A.props.helpLink},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))})),r.createElement(u,{each:this.props.options,key:function(M){return M.name}},r.createElement("div",{class:r.const("dcg-toggle")},function(M){return r.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":A.isSelected(M.name)}},role:r.const("button"),tabindex:r.const(0),"aria-label":function(){return A.props.title()+": "+M.displayName},"aria-pressed":function(){return A.isSelected(M.name)},onTap:function(){return A.props.controller().dispatch({type:"set-visualization-prop",id:A.props.model().id,prop:A.props.vizProp(),latex:M.name})}},function(){return M.displayName})})))},v.prototype.isSelected=function(A){return l.getVizPropLatex(this.props.model(),this.props.vizProp())===A},v}(r.Class),n=function(s){function v(){return s!==null&&s.apply(this,arguments)||this}return w.__extends(v,s),v.prototype.template=function(){var A=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-visualization-parameters-container dcg-do-blur"),tapboundary:r.const("true"),handleEvent:r.const("true")},r.createElement(p.ParametersSuggestionsView,w.__assign({},this.props)),r.createElement("div",{class:r.const("dcg-smaller-font")},b(function(){return A.getVisualizationType()},{boxplot:function(){return r.createElement("div",null,r.createElement("div",{class:r.const("dcg-expression-footer-title")},function(){return A.controller.t("Display Properties")}),A.makeMQInput({prop:"axisOffset",siblingProps:["breadth"],default:"1",name:function(){return A.controller.t("Offset")}}),A.makeMQInput({prop:"breadth",siblingProps:["axisOffset"],default:"1",name:function(){return l.getVizPropLatex(A.model,"alignedAxis")==="y"?A.controller.t("Width"):A.controller.t("Height")}}))},dotplot:function(){return r.createElement(m,{predicate:function(){return l.needsDotplotXMode(A.model)}},function(){return r.createElement("div",{class:r.const("dcg-toggles-container")},r.createElement(c,w.__assign({},A.props,{vizProp:function(){return"dotplotXMode"},options:function(){return[{name:"exact",displayName:A.controller.t("Exact")},{name:"bin",displayName:A.controller.t("Binned")}]},title:function(){return A.controller.t("X Values")}})),r.createElement(c,w.__assign({},A.props,{vizProp:function(){return"binAlignment"},options:function(){return[{name:"center",displayName:A.controller.t("Center")},{name:"left",displayName:A.controller.t("Left")}]},title:function(){return A.controller.t("Bin Alignment")}})))})},histogram:function(){return r.createElement("div",{class:r.const("dcg-toggles-container")},r.createElement(c,w.__assign({},A.props,{vizProp:function(){return"histogramMode"},options:function(){return[{name:"",displayName:A.controller.t("Count")},{name:"relative",displayName:A.controller.t("Relative")},{name:"density",displayName:A.controller.t("Density")}]},title:function(){return A.controller.t("Bar Heights")},helpLink:A.const("https://support.desmos.com/hc/en-us/articles/360022405991")})),r.createElement(c,w.__assign({},A.props,{vizProp:function(){return"binAlignment"},options:function(){return[{name:"center",displayName:A.controller.t("Center")},{name:"left",displayName:A.controller.t("Left")}]},title:function(){return A.controller.t("Bin Alignment")}})))},none:function(){return r.createElement("span",null)}})))},v.prototype.makeMQInput=function(A){var M=this;return r.createElement("span",null,r.createElement("span",{class:r.const("dcg-parameter-name")},A.name,r.const(":")),r.createElement(y.default,{latex:function(){return l.getVizPropLatex(M.model,A.prop)},ariaLabel:A.name,placeholder:function(){return A.default},brailleShouldFocus:function(){return M.isInputFocused(A.prop)},onBrailleInput:function(C){return M.handleLatexChanged(A.prop,C)},controller:this.props.controller,hasError:function(){return!l.isVizPropValid(M.model,A.prop)},onBrailleFocusedChanged:function(C){return M.handleFocusedChanged(A.prop,C)},onBrailleKeydown:function(C){return M.handleBraillePressedKey(C,A.prop)}},r.createElement(g.default,{latex:function(){return l.getVizPropLatex(M.model,A.prop)},hasError:function(){return!l.isVizPropValid(M.model,A.prop)},isFocused:function(){return M.isInputFocused(A.prop)},onFocusedChanged:function(C){return M.handleFocusedChanged(A.prop,C)},placeholder:function(){return A.default},config:this.const({}),getAriaLabel:A.name,onUserPressedKey:function(C,D){return M.handlePressedKey(C,D,A.prop)},getAriaPostLabel:function(){return""},onUserChangedLatex:function(C){return M.handleLatexChanged(A.prop,C)},onExpressionSizeExceeded:function(){return M.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return M.model.controller.getCapExpressionSize()},needsSystemKeypad:function(){return!M.controller.isKeypadEnabled()}})))},v.prototype.handleBraillePressedKey=function(A,M){var C=i.lookup(A);C&&this.handlePressedKey(C,d.Event(A),M)},v.prototype.handlePressedKey=function(A,M,C){if(A==="Esc")return void this.controller.dispatch({type:"set-focus-location",location:void 0});if(A==="Enter")return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var D=g.default.getFocusedMathquill();D&&(D.keystroke(A,M),this.handleLatexChanged(C,D.latex()))},v.prototype.isInputFocused=function(A){var M=this.controller.getFocusLocation();return!(!M||M.type!=="visualization-prop"||M.id!==this.id)&&M.location===A},v.prototype.handleFocusedChanged=function(A,M){M?this.controller.dispatch({type:"set-focus-location",location:{type:"visualization-prop",id:this.id,location:A}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"visualization-prop",id:this.id,location:A}})},v.prototype.handleLatexChanged=function(A,M){l.getVizPropLatex(this.model,A)!==M&&this.controller.dispatch({type:"set-visualization-prop",id:this.id,prop:A,latex:M})},v.prototype.getVisualizationType=function(){return l.isPrimaryLatexValid(this.model)?l.isBoxPlot(this.model)?"boxplot":l.isDotPlot(this.model)?"dotplot":l.isHistogram(this.model)?"histogram":"none":"none"},v}(r.Class);o.default=n}),q("loadcss!expressions/ttest_footer_view",function(){}),q("expressions/ttest_footer_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","core/lib/number-to-latex","dcgview-helpers/static-mathquill-view","loadcss!./ttest_footer_view"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=function(y){function p(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(p,y),p.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},p.prototype.template=function(){var u=this;return r.createElement("div",{class:r.const("dcg-ttest-footer-container dcg-do-blur"),handleEvent:r.const("true")},r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Less than: "+u.getLessThan()}},r.createElement("span",{class:r.const("dcg-operator")},r.createElement(l.default,{latex:this.const("<")})),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(l.default,{latex:function(){return u.getLessThan()}}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Greater than: "+u.getGreaterThan()}},r.createElement("span",{class:r.const("dcg-operator")},r.createElement(l.default,{latex:this.const(">")})),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(l.default,{latex:function(){return u.getGreaterThan()}}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Not equal: "+u.getNotEqual()}},r.createElement("span",{class:r.const("dcg-operator")},r.createElement(l.default,{latex:this.const("\u2260")})),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(l.default,{latex:function(){return u.getNotEqual()}})))))))},p.prototype.getLessThan=function(){var u=d.getTTestResults(this.model);return u?i.numberToStatsConfidenceLatex(u.lessThan,5):""},p.prototype.getGreaterThan=function(){var u=d.getTTestResults(this.model);return u?i.numberToStatsConfidenceLatex(u.greaterThan,5):""},p.prototype.getNotEqual=function(){var u=d.getTTestResults(this.model);return u?i.numberToStatsConfidenceLatex(u.notEqual,5):""},p}(r.Class);o.default=g}),q("loadcss!expressions/stats_footer_view",function(){}),q("expressions/stats_footer_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","dcgview-helpers/static-mathquill-view","core/lib/number-to-latex","loadcss!./stats_footer_view"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=function(y){function p(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(p,y),p.prototype.template=function(){var u=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-stats-footer-container dcg-do-blur"),handleEvent:r.const("true")},r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Min: "+u.getMin()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Min")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(i.default,{latex:this.bindFn(this.getMin)}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Q1: "+u.getQ1()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Q1")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(i.default,{latex:this.bindFn(this.getQ1)}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Median: "+u.getMedian()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Median")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(i.default,{latex:this.bindFn(this.getMedian)}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Q3: "+u.getQ3()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Q3")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(i.default,{latex:this.bindFn(this.getQ3)}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Max: "+u.getMax()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Max")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(i.default,{latex:this.bindFn(this.getMax)})))))))},p.prototype.getMin=function(){var u=d.getStatsResults(this.model);return u?l.numberToDecimalString(u.min):""},p.prototype.getQ1=function(){var u=d.getStatsResults(this.model);return u?l.numberToDecimalString(u.q1):""},p.prototype.getMedian=function(){var u=d.getStatsResults(this.model);return u?l.numberToDecimalString(u.median):""},p.prototype.getQ3=function(){var u=d.getStatsResults(this.model);return u?l.numberToDecimalString(u.q3):""},p.prototype.getMax=function(){var u=d.getStatsResults(this.model);return u?l.numberToDecimalString(u.max):""},p}(r.Class);o.default=g}),q("loadcss!expressions/expression-edit-actions",function(){}),q("expressions/expression-edit-actions",["require","exports","tslib","dcgview","lib/tooltip","core/lib/dragmode","core/types/styles","graphing-calc/models/expression","lib/aria","loadcss!./expression-edit-actions"],function(O,o,w,r,d,i,l,g,y){Object.defineProperty(o,"__esModule",{value:!0});var p=r.Components.If,u=function(f){function b(){return f!==null&&f.apply(this,arguments)||this}return w.__extends(b,f),b.prototype.init=function(){this.controller=this.props.controller()},b.prototype.template=function(){var m=this;return r.createElement(p,{predicate:function(){return m.controller.isInEditListMode()}},function(){return r.createElement("span",{class:function(){return{"dcg-expression-edit-actions":!0,"dcg-limited-height":m.limitedHeight()}},style:function(){return{background:m.controller.getBackgroundColor()}},didMount:function(){m.controller.isInEditListMode()&&y.alert(m.controller.t("Edit list mode on."))},didUnmount:function(){m.controller.isInEditListMode()||y.alert(m.controller.t("Edit list mode off."))}},r.createElement(p,{predicate:function(){return!m.controller.hasBackgroundColor()}},function(){return r.createElement("span",{class:r.const("dcg-graphic"),handleEvent:r.const("true ")})}),r.createElement(p,{predicate:m.bindFn(m.canConvertToTable)},function(){return r.createElement(d.Tooltip,{tooltip:function(){return m.controller.t("Convert to Table")},gravity:m.const("s")},r.createElement("span",{class:r.const("dcg-action-createtable dcg-exp-action-button"),handleEvent:r.const("true"),role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return m.controller.t("Convert to Table")},onTap:m.bindFn(m.onCreateTable)},r.createElement("i",{class:r.const("dcg-icon-table")})))}),r.createElement(p,{predicate:m.bindFn(m.canDuplicate)},function(){return r.createElement(d.Tooltip,{tooltip:function(){return m.controller.t("Duplicate")},gravity:m.const("s")},r.createElement("span",{class:r.const("dcg-duplicate-btn dcg-exp-action-button"),handleEvent:r.const("true"),role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return m.controller.t("Duplicate")},onTap:m.bindFn(m.onDuplicateWithoutFocus)},r.createElement("i",{class:r.const("dcg-icon-duplicate")})))}),r.createElement(d.Tooltip,{tooltip:function(){return m.controller.t("Delete")},gravity:m.const("sw")},r.createElement("span",{class:r.const("dcg-delete-btn dcg-exp-action-button"),handleEvent:r.const("true"),role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return m.controller.t("Delete")},onTap:m.bindFn(m.onDelete)},r.createElement("i",{class:r.const("dcg-icon-remove")}))))})},b.prototype.model=function(){return this.controller.getItemModel(this.props.id())},b.prototype.canConvertToTable=function(){var m=this.model();return!(!m||m.type!=="expression"||!m.isTableable)},b.prototype.canDuplicate=function(){var m=this.model();return!(!m||m.type!=="expression"||this.isSlider())},b.prototype.limitedHeight=function(){var m=this.model();return m&&(m.type==="image"||this.isSlider())},b.prototype.isSlider=function(){var m=this.model();return m&&m.type==="expression"&&m.sliderExists},b.prototype.onCreateTable=function(){var m=this.model();if(m&&m.type==="expression"){var c=m.formula;if(m.isTableable){var n,s=c.table_info,v=m.index,A=[],M=[];if(s.values)for(n=0;n<s.values.length;n++){var C=s.values[n][0];A.push(isNaN(C)?"":C+"");var D=s.values[n][1];M.push(isNaN(D)?"":D+"")}else for(n=-2;n<=2;n++)A.push(n+""),M.push("");var S={id:this.controller.generateId(),type:"table",columns:[{id:this.controller.generateId(),latex:s.independent_variable,color:this.controller.getNextColor(),hidden:!1,values:A,points:!0,lines:!1,dragMode:i.DragMode.NONE,pointStyle:l.PointStyle.POINT,lineStyle:l.LineStyle.SOLID},{id:this.controller.generateId(),latex:s.dependent_column,color:m.color,hidden:!1,values:M,points:!0,lines:!(g.isPointOrPointList(m)||m.hidden),dragMode:i.DragMode.NONE,pointStyle:l.PointStyle.POINT,lineStyle:l.LineStyle.SOLID}]},x=this.controller;this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!1}),s.by_reference?this.controller.dispatch({type:"insert-item-at-index",index:v+1,state:S,folderId:m.folderId,focus:!0}):this.controller.dispatch({type:"replace-item-at-index",index:v,state:S,focus:!0});var B=function(){x.dispatch({type:"undo"}),x.dispatch({type:"set-edit-list-mode",isEditListMode:!0,focusExpressionList:!1})};this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Table created."),undoCallback:B}})}}},b.prototype.onDelete=function(m){this.controller.dispatch({type:"delete-item-and-animate-out",id:this.props.id(),setFocusAfterDelete:m.device==="keyboard"})},b.prototype.onDuplicateWithoutFocus=function(){this.controller.dispatch({type:"duplicate-expression",id:this.props.id()})},b}(r.Class);o.ExpressionEditActions=u}),q("loadcss!expressions/suggested-zoom-view",function(){}),q("expressions/suggested-zoom-view",["require","exports","tslib","dcgview","lib/tooltip","loadcss!./suggested-zoom-view"],function(O,o,w,r,d){Object.defineProperty(o,"__esModule",{value:!0});var i=r.Components.If,l=function(g){function y(){return g!==null&&g.apply(this,arguments)||this}return w.__extends(y,g),y.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},y.prototype.template=function(){var p=this;return r.createElement(i,{predicate:function(){return p.controller.shouldExpressionZoomFit(p.model)}},function(){return r.createElement("div",{class:r.const("dcg-suggested-zoom-view dcg-do-blur"),handleEvent:r.const(!0)},r.createElement(d.Tooltip,{tooltip:p.bindFn(p.getZoomText),gravity:function(){return"e"}},r.createElement("i",{onTap:p.bindFn(p.onZoom),role:r.const("button"),"aria-label":p.bindFn(p.getZoomText),class:r.const("dcg-icon-zoom-fit")})))})},y.prototype.getZoomText=function(){return this.controller.t("Zoom Fit")},y.prototype.onZoom=function(){this.controller.dispatch({type:"expression-zoom-fit",id:this.model.id})},y}(r.Class);o.SuggestedZoomView=l}),q("loadcss!expressions/clickable_info_view",function(){}),q("expressions/clickable_info_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","graphing-calc/models/image","dcgview-helpers/mathquill-view","loadcss!./clickable_info_view"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=r.Components.Input,y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},u.prototype.template=function(){var f=this;return r.createElement("div",{class:r.const("dcg-clickable-info-container dcg-do-blur"),tapboundary:r.const("true"),handleEvent:r.const("true")},r.createElement("div",{class:r.const("dcg-smaller-font")},r.createElement("div",{role:r.const("group"),"aria-label":function(){return f.controller.t("Clickable Properties")}},r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-expression-footer-title")},function(){return f.controller.t("Clickable Properties")}),this.const(this.controller.t("set")),this.makeMQInput({prop:"assignment",name:function(){return f.controller.t("Assignment")}}),this.const(this.controller.t("to")),this.makeMQInput({prop:"expression",name:function(){return f.controller.t("Expression")}})),r.createElement(g,{"aria-label":function(){return f.controller.t("Screen reader label")},placeholder:function(){return f.controller.t("Add screen reader label")},value:function(){return f.model.clickableInfo.description},onInput:function(b){return f.controller.dispatch({type:"set-clickableinfo-prop",id:f.model.id,prop:"description",value:b})}})))},u.prototype.makeMQInput=function(f){var b=this;return r.createElement(l.default,{latex:function(){return b.getClickableInfoPropLatex(f.prop)},hasError:function(){return b.isClickableInfoPropInvalid(f.prop)},isFocused:function(){return b.isInputFocused(f.prop)},onFocusedChanged:function(m){return b.handleFocusedChanged(f.prop,m)},config:this.const({}),getAriaLabel:f.name,onUserPressedKey:function(m,c){return b.handlePressedKey(m,c,f.prop)},getAriaPostLabel:function(){return""},onUserChangedLatex:function(m){return b.handleLatexChanged(f.prop,m)},onExpressionSizeExceeded:function(){return b.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return!!b.model.controller.getGraphSettings().config.capExpressionSize},needsSystemKeypad:function(){return!b.controller.isKeypadEnabled()}})},u.prototype.handlePressedKey=function(f,b,m){if(f==="Esc")return void this.controller.dispatch({type:"set-focus-location",location:void 0});if(f==="Enter")return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var c=l.default.getFocusedMathquill();c&&(c.keystroke(f,b),this.handleLatexChanged(m,c.latex()))},u.prototype.isInputFocused=function(f){var b=this.controller.getFocusLocation();return!(!b||b.type!=="clickableinfo-prop"||b.id!==this.id)&&b.location===f},u.prototype.handleFocusedChanged=function(f,b){b?this.controller.dispatch({type:"set-focus-location",location:{type:"clickableinfo-prop",id:this.id,location:f}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"clickableinfo-prop",id:this.id,location:f}})},u.prototype.getClickableInfoPropLatex=function(f){return this.model.type==="image"?i.getClickableInfoPropLatex(this.model,f):d.getClickableInfoPropLatex(this.model,f)},u.prototype.isClickableInfoPropInvalid=function(f){return this.model.type==="image"?!i.isClickableInfoPropValid(this.model,f):!d.isClickableInfoPropValid(this.model,f)},u.prototype.handleLatexChanged=function(f,b){if(this.getClickableInfoPropLatex(f)!==b)if(f==="assignment")this.controller.dispatch({type:"set-clickableinfo-prop",id:this.id,prop:f,value:b});else{if(f!=="expression"){var m=f;return m}this.controller.dispatch({type:"set-clickableinfo-prop",id:this.id,prop:f,value:b})}},u}(r.Class);o.ClickableInfoView=y}),q("loadcss!expressions/expression-footer",function(){}),q("expressions/expression_view",["require","exports","config","tslib","browser","keys","jquery","./abstract-item-view","dcgview-helpers/mathquill-view","dcgview-helpers/static-mathquill-view","lib/conditional_blur","./expression-icon-view","./evaluation-view","expressions/unresolved_view","expressions/domain_view","expressions/regression_view","expressions/slider_view","expressions/promptslider_view","expressions/label_view","expressions/distribution_parameters_view","expressions/visualization_parameters_view","expressions/ttest_footer_view","expressions/stats_footer_view","graphing-calc/models/expression","core/lib/label","./expression-edit-actions","./suggested-zoom-view","dcgview","./clickable_info_view","main/manage-focus-helper","dcgview-helpers/mathquill-braille-wrapper","jquery.handleevent","loadcss!./expression-footer"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n,s,v,A,M,C,D,S,x,B,Z,X,ee,W,U,F){Object.defineProperty(o,"__esModule",{value:!0});var G=ee.Components,ie=G.If,ne=G.SwitchUnion,Y=function(ge){function te(){return ge!==null&&ge.apply(this,arguments)||this}return r.__extends(te,ge),te.prototype.didMount=function(){this.onItemViewMounted()},te.prototype.didMountRootNode=function(H){this.rootNode=H},te.prototype.willUnmount=function(){this.onItemViewUnmounted()},te.prototype.template=function(){var H=this;return ee.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-mathitem":!0,"dcg-inFolder":!!H.model.folderId,"dcg-selected":H.controller.isItemSelected(H.id)&&!H.controller.isInEditListMode(),"dcg-dragging":!!H.controller.isItemBeingDragged(H.id),"dcg-hasSlider":H.hasSlider(),"dcg-hasEvaluation":H.controller.shouldShowEvaluationForItem(H.id),"dcg-hasRegression":H.hasRegression(),"dcg-hasDomain":H.hasDomain(),"dcg-author-ide":H.controller.isAuthorIDE()}},"expr-id":function(){return H.model.id},didMount:this.bindFn(this.didMountRootNode)},ee.createElement("div",{class:ee.const("dcg-fade-container"),onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},ee.createElement("div",{class:ee.const("dcg-main")},ee.createElement(ie,{predicate:function(){return!H.controller.isInEditListMode()}},function(){return ee.createElement(F.default,{latex:function(){return x.getDisplayLatex(H.model)},ariaLabel:function(){return H.getAriaLabel("braille")},brailleShouldFocus:function(){return H.isFocused()},onBrailleInput:function(pe){return H.handleLatexChanged(pe)},controller:H.props.controller,onBrailleFocusedChanged:function(pe,fe){return H.handleMQFocusedChanged(pe,fe)},onBrailleKeydown:H.bindFn(H.handleBraillePressedKey)},ee.createElement(y.default,{latex:function(){return x.getDisplayLatex(H.model)},getAriaLabel:function(){return H.getAriaLabel("speech")},getAriaPostLabel:H.bindFn(H.getFormulaAria),isFocused:function(){return H.isFocused()},capExpressionSize:function(){return H.controller.getCapExpressionSize()},config:H.const({}),hasError:H.const(!1),onUserPressedKey:function(pe,fe){return H.handlePressedKey(pe,fe)},onUserChangedLatex:function(pe){return H.handleLatexChanged(pe)},onExpressionSizeExceeded:function(){return H.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(pe,fe){return H.handleMQFocusedChanged(pe,fe)},needsSystemKeypad:function(){return!H.controller.isKeypadEnabled()}},ee.createElement("div",{class:ee.const("dcg-expression-mathquill")})))}),ee.createElement(ie,{predicate:function(){return H.controller.isInEditListMode()}},function(){return ee.createElement("div",{class:ee.const("dcg-edit-list-mathquill"),tabindex:function(){return H.controller.getBrailleMode()==="none"?"0":"-1"},onTap:H.bindFn(H.exitEditListMode),manageFocus:H.const({shouldBeFocused:function(){return H.controller.getBrailleMode()==="none"&&U.defaultShouldBeFocused({controller:H.controller,location:{type:"readonly-expression",id:H.model.id}})},onFocusedChanged:function(pe){H.controller.getBrailleMode()==="none"&&(pe?H.controller.dispatch({type:"set-focus-location",location:{type:"readonly-expression",id:H.model.id}}):H.controller.dispatch({type:"blur-focus-location",location:{type:"readonly-expression",id:H.model.id}}))}})},ee.createElement(F.default,{latex:function(){return x.getDisplayLatex(H.model)},ariaLabel:function(){return H.getAriaLabel("braille")},controller:H.props.controller,isStatic:H.const(!0),brailleShouldFocus:function(){var pe=H.controller.getFocusLocation();return!!pe&&pe.type==="readonly-expression"&&pe.id===H.id},onBrailleFocusedChanged:function(pe){pe?H.controller.dispatch({type:"set-focus-location",location:{type:"readonly-expression",id:H.model.id}}):H.controller.dispatch({type:"blur-focus-location",location:{type:"readonly-expression",id:H.model.id}})}},ee.createElement(p.default,{latex:function(){return x.getDisplayLatex(H.model)},getAriaLabel:function(){return H.getAriaLabel("speech")}})))})),ee.createElement("i",{class:ee.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:ee.const("true"),onTap:this.bindFn(this.onDelete)}),ee.createElement(ie,{predicate:this.bindFn(this.shouldShowFooter)},function(){return ee.createElement("div",{class:H.getFooterClass()},ne(function(){return H.getFooterType()},{none:function(){},regression:function(){return ee.createElement(n.default,{model:H.props.model,controller:H.props.controller})},label:function(){return ee.createElement(A.default,{model:H.props.model,controller:H.props.controller})},slider:function(){return ee.createElement(s.default,{model:H.props.model,controller:H.props.controller})},domain:function(){return ee.createElement(c.default,{model:H.props.model,controller:H.props.controller})},evaluation:function(){return ee.createElement(b.default,{id:function(){return H.props.model().id},dependent:function(){return H.model.dependent||""},val:function(){return H.controller.getEvaluationValueForItem(H.id)},controller:H.props.controller,focusable:H.const(!1)})},distribution:function(){return ee.createElement(M.default,{model:H.props.model,controller:H.props.controller})},visualization:function(){return ee.createElement(C.default,{model:H.props.model,controller:H.props.controller})},ttest:function(){return ee.createElement(D.default,{model:H.props.model,controller:H.props.controller})},stats:function(){return ee.createElement(S.default,{model:H.props.model,controller:H.props.controller})},unresolved:function(){return ee.createElement(m.default,{controller:H.props.controller})}}),ee.createElement(ie,{predicate:H.bindFn(H.shouldShowClickableProperties)},function(){return ee.createElement(W.ClickableInfoView,{controller:function(){return H.props.controller()},model:function(){return H.model}})}),ee.createElement(ie,{predicate:H.bindFn(H.shouldShowBrailleError)},function(){return ee.createElement("div",{tabindex:ee.const(0),class:ee.const("dcg-expression-braille-error"),"aria-roledescription":ee.const("error"),"aria-label":function(){return H.controller.unpack(H.model.error)}},ee.createElement("i",{class:ee.const("dcg-icon-error")}),function(){return H.controller.unpack(H.model.error)})}),ee.createElement(ie,{predicate:H.bindFn(H.shouldShowSliderPrompt)},function(){return ee.createElement(v.default,{model:H.props.model,controller:H.props.controller})}))})),ee.createElement("span",{class:ee.const("dcg-tab dcg-action-drag dcg-action-icon-touch"),handleevent:ee.const("true"),tapboundary:ee.const("true"),disablescroll:ee.const("true"),style:ee.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},ee.createElement("span",{class:ee.const("dcg-num")},function(){return H.model.displayIndex}),ee.createElement("div",{class:ee.const("dcg-tab-interior dcg-action-icon-mouse")},ee.createElement(f.default,{model:this.props.model,controller:this.props.controller})),ee.createElement(X.SuggestedZoomView,{model:this.props.model,controller:this.props.controller})),ee.createElement(Z.ExpressionEditActions,{controller:this.props.controller,id:function(){return H.model.id}}))},te.prototype.shouldShowFooter=function(){return!!this.shouldShowBrailleError()||!!this.shouldShowSliderPrompt()||!!this.shouldShowClickableProperties()||this.getFooterType()!=="none"},te.prototype.shouldShowClickableProperties=function(){return!!this.controller.canAuthorClickableObjects()&&!!x.isClickableAllowed(this.model)&&this.model.clickableInfo.enabled},te.prototype.getFooterType=function(){return this.hasRegression()?"regression":this.shouldShowLabelView()?"label":this.hasSlider()?"slider":this.hasDomain()?"domain":this.isTTest()?"ttest":this.isStats()?"stats":this.controller.shouldShowEvaluationForItem(this.id)?"evaluation":this.isToplevelDistribution()?"distribution":this.isVisualization()?"visualization":this.model.unresolved?"unresolved":"none"},te.prototype.getFooterClass=function(){return this.isFirstRender()?this.const("dcg-expression-bottom dcg-indent-in-folder"):this.const("dcg-expression-bottom dcg-indent-in-folder dcg-fadein-bottom")},te.prototype.onCreateSliders=function(H){this.controller.dispatch({type:"create-sliders-for-item",id:this.id,variables:H})},te.prototype.shouldShowLabelView=function(){return w.get("labels")&&x.isPointOrPointList(this.model)},te.prototype.shouldShowSliderPrompt=function(){return!!this.controller.areSlidersEnabled()&&this.model.missingVariables.length>0},te.prototype.shouldShowBrailleError=function(){return this.controller.getBrailleMode()!=="none"&&this.hasError()},te.prototype.hasRegression=function(){return!(!this.model.formula||!this.model.formula.is_regression)},te.prototype.hasDomain=function(){return x.hasDomain(this.model)},te.prototype.isToplevelDistribution=function(){return x.isToplevelDistribution(this.model)},te.prototype.isVisualization=function(){return x.isVisualization(this.model)},te.prototype.isTTest=function(){return x.isTTest(this.model)},te.prototype.isStats=function(){return x.isStats(this.model)},te.prototype.hasSlider=function(){return!!this.model.sliderExists},te.prototype.getLabelOptions=function(){return this.controller.getEvaluationLabelOptionsForItem(this.model.id)},te.prototype.getAriaLabel=function(H){if(this.shouldShowLabelView()){var pe;return pe=this.model.label&&this.model.label!==""?this.model.label:H==="speech"?this.controller.t("Label"):this.controller.raw("lbl"),this.model.showLabel?pe:H==="speech"?this.controller.t("Hidden __label__",{label:pe}):this.controller.raw("h __label__",{label:pe})}return H==="speech"?this.controller.t("Expression __index__",{index:this.model.displayIndex}):this.controller.raw("eq__index__",{index:this.model.displayIndex})},te.prototype.getFormulaAria=function(){var H=this.model.formula,pe="";if(!H||x.isEmpty(this.model))return pe;if(this.controller.shouldShowEvaluationForItem(this.id)){pe="equals ";var fe=H.zero_values&&H.zero_values.length?H.zero_values[0].val:H.constant_value;Array.isArray(fe)?pe+=fe.length+" element list.":pe+=B.truncatedAriaLabel(fe,this.getLabelOptions())}else H.error&&!this.shouldShowSliderPrompt()?pe=this.controller.unpack(H.error):x.isToplevelDistribution(this.model)?pe=this.controller.t("is distribution. "):this.isTTest()&&(pe=this.controller.t("is T test. To access statistics, press Tab."));if(this.model.shouldGraph&&(H.is_graphable||H.is_regression)){H.is_graphable&&H.is_regression?pe+=this.controller.t("Has graph and regression. To access statistics, press Tab."):H.is_regression?pe+=this.controller.t("Has regression. To access statistics, press Tab."):pe+=this.controller.t("Has graph.");var re=this.controller.getAudioGraph();re&&re.agNavigator.canTrace(this.model)&&(d.IS_APPLE?pe+=this.controller.t(" To audio trace, press OPTION+T."):pe+=this.controller.t(" To audio trace, press ALT+T."))}return pe},te.prototype.handleBraillePressedKey=function(H){var pe=i.lookup(H);if(pe){if(pe==="Esc")u.default(),this.hasSlider()&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.model.id}});else if(pe==="Up"||pe==="Down"||pe==="Enter")this.controller.dispatch({type:"on-special-key-pressed",key:pe});else if(pe==="Del"||pe==="Backspace"){var fe=F.getFocusedBrailleElement();x.isEmpty(this.model)&&F.brailleInputIsEmpty(fe)&&(this.controller.dispatch({type:"on-special-key-pressed",key:pe==="Del"?"Delete":pe}),H.preventDefault(),H.stopPropagation())}}},te.prototype.handlePressedKey=function(H,pe){var fe=y.default.getFocusedMathquill();if(fe){if(H==="Esc")return u.default(),void(this.hasSlider()&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.model.id}}));if(H==="Up"||H==="Down")return y.default.applyArrowKeyAndReturnIfWasAtBounds(fe,H,pe)?this.controller.dispatch({type:"on-special-key-pressed",key:H}):void 0;if(H==="Delete"||H==="Backspace"){if(x.isEmpty(this.model))return this.controller.dispatch({type:"on-special-key-pressed",key:H})}else if(H==="Enter")return pe&&(pe.preventDefault(),pe.stopPropagation()),this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});fe.keystroke(H,pe),this.handleLatexChanged(fe.latex())}},te.prototype.handleLatexChanged=function(H){H!==this.model.latex&&this.controller.dispatch({type:"set-item-latex",id:this.id,latex:H})},te.prototype.doesNodeBelongToSliderLimit=function(H){return!!H&&!!this.rootNode.contains(H)&&!!l(H).closest("[data-dcg-limit]").length},te.prototype.handleMQFocusedChanged=function(H,pe){H?this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}}):this.doesNodeBelongToSliderLimit(pe.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"expression",id:this.id}})},te.prototype.onMouseSelect=function(H){H.device!=="keyboard"&&(H.type==="dcg-tap"&&H.device==="mouse"||H.type==="dcg-tapstart"&&H.device==="touch"||H.wasHandled()||(H.handle(),this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}})))},te.prototype.isFocused=function(){var H=this.controller.getFocusLocation();return!!H&&H.type==="expression"&&H.id===this.id},te.prototype.isSliderThumbFocused=function(){var H=this.controller.getFocusLocation();return!!H&&H.type==="slider-thumb"&&H.id===this.id},te.prototype.hasError=function(){return!!this.model.error&&!x.isEmpty(this.model)},te}(g.default);o.default=Y}),q("loadcss!expressions/smart_textarea",function(){}),q("expressions/smart_textarea",["require","exports","tslib","keys","browser","dcgview","jquery","lib/conditional_blur","jquery.handleevent","loadcss!./smart_textarea"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=i.Components.Textarea,p=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return w.__extends(f,u),f.prototype.template=function(){var b=this;return i.createElement("div",{class:i.const("dcg-smart-textarea-container")},i.createElement("div",{class:i.const("dcg-displayTextarea dcg-fixed-width-element"),didMount:this.bindFn(this.didMountDisplay)}),i.createElement(y,{class:function(){return{"dcg-do-blur":!0,"dcg-fixed-width-element":!0,"dcg-smart-textarea":!0,"dcg-empty":!b.props.text()}},"aria-label":function(){return b.props.ariaLabel?b.props.ariaLabel():void 0},placeholder:this.props.placeholder,readonly:function(){return!!b.props.readonly()||void 0},value:this.props.text,onInput:this.props.onInput,didMount:this.bindFn(this.didMountTextarea),onKeydown:this.bindFn(this.onKeydownEvent)}))},f.prototype.getDisplayTextHTML=function(){var b=this.props.text()||"";if(b=b.replace(/</g,"&lt;").replace(/>/g,"&gt;"),!this.props.showLinks())return b;var m=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return b=b.replace(m,"<a href='$1' target ='_blank'>$1</a>")},f.prototype.willUnmount=function(){this.textareaNode=void 0},f.prototype.didMountDisplay=function(b){this.displayNode=b,l(b).on("touchend",function(m){m.preventDefault()}),l(b).on("dcg-tap dcg-tapstart","a",function(m){m.handle()}),this.renderDisplayText()},f.prototype.didMountTextarea=function(b){var m=this;this.textareaNode=b,l(b).on("dcg-tapstart",function(c){c.handle()}),l(b).on("focusin focusout",function(){return m.onFocusEvent()}),this.updateFocused()},f.prototype.didUpdate=function(){this.updateFocused(),this.renderDisplayText()},f.prototype.onFocusEvent=function(){if(this.textareaNode){var b=document.activeElement===this.textareaNode;this.shouldBeFocused()!==b&&this.props.onFocusChange(b)}},f.prototype.renderDisplayText=function(){if(this.displayNode){var b=this.getDisplayTextHTML();this.lastDisplayTextHTML!==b&&(this.lastDisplayTextHTML=b,this.displayNode.innerHTML=b)}},f.prototype.isFocused=function(){return document.activeElement===this.textareaNode},f.prototype.shouldBeFocused=function(){return this.props.shouldFocus()},f.prototype.updateFocused=function(){if(this.textareaNode){var b=this.isFocused(),m=this.shouldBeFocused();if(b!==m)if(m){if(d.IS_IPAD&&d.IS_IN_IFRAME)return;this.textareaNode.focus(),this.textareaNode.selectionStart=this.textareaNode.selectionEnd=this.textareaNode.value.length}else this.textareaNode.blur()}},f.prototype.onKeydownEvent=function(b){var m=this.textareaNode;if(m){var c=r.lookup(b);if(this.props.readonly()&&this.props.readonlyAction!==void 0)return void(b.altKey||b.ctrlKey||b.metaKey||b.shiftKey||c!==r.ENTER&&c!==r.SPACEBAR||(b.preventDefault(),this.props.readonlyAction()));c!==r.ENTER||b.metaKey?c===r.ESCAPE?g.default():c===r.UP?m.selectionStart===0&&m.selectionEnd===0&&(b.preventDefault(),this.props.onSpecialKey("Up")):c===r.DOWN?m.selectionStart===m.value.length&&m.selectionEnd===m.value.length&&(b.preventDefault(),this.props.onSpecialKey("Down")):c===r.BACKSPACE?m.value.length===0&&(b.preventDefault(),this.props.onSpecialKey("Backspace")):c===r.DELETE&&m.value.length===0&&(b.preventDefault(),this.props.onSpecialKey("Delete")):(b.preventDefault(),this.props.onSpecialKey("Enter")),this.props.onKeydown&&this.props.onKeydown(b)}},f}(i.Class);o.default=p}),q("expressions/text_view",["require","exports","tslib","./abstract-item-view","./smart_textarea","dcgview","./expression-edit-actions","jquery.handleevent"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=function(y){function p(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(p,y),p.prototype.didMount=function(){this.onItemViewMounted()},p.prototype.willUnmount=function(){this.onItemViewUnmounted()},p.prototype.template=function(){var u=this;return i.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressiontext":!0,"dcg-inFolder":!!u.model.folderId,"dcg-selected":!!u.controller.isItemSelected(u.id),"dcg-dragging":!!u.controller.isItemBeingDragged(u.id),"dcg-author-ide":u.controller.isAuthorIDE()}},"expr-id":function(){return u.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},i.createElement("div",{class:i.const("dcg-fade-container")},i.createElement("div",{class:i.const("dcg-main")},i.createElement(d.default,{shouldFocus:this.bindFn(this.isFocused),text:function(){return u.model.text},placeholder:function(){return u.controller.t("Enter a note...")},showLinks:function(){return u.controller.areLinksEnabled()},onInput:this.bindFn(this.onInput),onFocusChange:this.bindFn(this.onFocusChange),onSpecialKey:this.bindFn(this.onSpecialKey),readonly:function(){return u.controller.isInEditListMode()},readonlyAction:this.bindFn(this.exitEditListMode)})),i.createElement("i",{class:i.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:i.const("true"),onTap:this.bindFn(this.onDelete)})),i.createElement("span",{class:i.const("dcg-tab dcg-action-drag"),handleevent:i.const("true"),tapboundary:i.const("true"),disablescroll:i.const("true"),style:i.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},i.createElement("span",{class:i.const("dcg-num")},function(){return u.model.displayIndex}),i.createElement("div",{class:i.const("dcg-tab-interior")}),i.createElement("i",{class:i.const("dcg-icon-text")})),i.createElement(l.ExpressionEditActions,{controller:this.props.controller,id:function(){return u.model.id}}))},p.prototype.onInput=function(u){this.controller.dispatch({type:"set-note-text",id:this.id,text:u})},p.prototype.onFocusChange=function(u){u?this.controller.dispatch({type:"set-focus-location",location:{type:"text",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"text",id:this.id}})},p.prototype.onSpecialKey=function(u){return this.controller.dispatch({type:"on-special-key-pressed",key:u})},p.prototype.isFocused=function(){var u=this.controller.getFocusLocation();return!(!u||u.type!=="text"||u.id!==this.id)},p}(r.default);o.default=g}),q("expressions/tables/table_icon_view",["require","exports","tslib","dcgview","dcgview-helpers/tooltipped-error","../circular-icon-view","jquery.handleevent"],function(O,o,w,r,d,i){Object.defineProperty(o,"__esModule",{value:!0});var l=r.Components.SwitchUnion,g=function(y){function p(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(p,y),p.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},p.prototype.template=function(){var u=this;return r.createElement("div",{class:r.const("dcg-table-icon-container")},l(this.bindFn(this.typeOfIcon),{error:function(){return r.createElement(d.TooltippedError,{error:function(){return u.controller.unpack(u.model.error)},gravity:u.const("se")})},none:function(){return r.createElement("span",null)},icon:function(){return r.createElement("div",{class:r.const("dcg-circular-icon-container"),role:r.const("button"),handleevent:r.const("true"),onTap:function(f){if(!f.wasHandled("dragdrop")&&!f.wasLongheld())return u.myOptionsOpen()||u.controller.isInEditListMode()?u.toggleOptions():void u.toggleGraphShown()},didMount:function(f){return u.rootElt=f},onLongHold:function(f){f.handle("dcg-longhold"),f.handle("dcg-tap"),u.toggleOptions()}},r.createElement(i.CircularIconView,{iconType:u.bindFn(u.getIcon),backgroundColor:function(){return u.model.color}}))}}))},p.prototype.myOptionsOpen=function(){var u=this.controller.getOpenItemMenu();return!!u&&u.model===this.model},p.prototype.toggleOptions=function(){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"table-column",model:this.model,icon:this.rootElt,focusFirstOption:!1}})},p.prototype.didMountRoot=function(u){this.rootElt=u},p.prototype.toggleGraphShown=function(){this.controller.dispatch({type:"toggle-tablecolumn-hidden",tableId:this.model.table.id,columnId:this.model.id})},p.prototype.hasError=function(){return!!this.model.error},p.prototype.getIcon=function(){return this.model.shouldGraph?this.controller.isInEditListMode()?"none":this.model.points&&this.model.lines?"table-points-and-lines":this.model.points&&!this.model.lines?"table-points":!this.model.points&&this.model.lines?"table-lines":"none":"hidden"},p.prototype.typeOfIcon=function(){return this.model.latex===""?"none":this.controller.getGraphSettings().config.graphpaper?this.model.error?"error":this.model.index===0?"none":"icon":"none"},p}(r.Class);o.default=g}),q("expressions/tables/header-view",["require","exports","tslib","keys","jquery","browser","dcgview","./table_icon_view","dcgview-helpers/mathquill-view","dcgview-helpers/static-mathquill-view","underscore","graphing-calc/models/table","core/lib/dragmode","dcgview-helpers/mathquill-braille-wrapper"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m){Object.defineProperty(o,"__esModule",{value:!0});var c=l.Components.If,n=function(s){function v(){return s!==null&&s.apply(this,arguments)||this}return w.__extends(v,s),v.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller(),this.table=this.model.table},v.prototype.isRightSide=function(){return this.lookupCellPosition().column>=this.table.columnModels.length-1},v.prototype.template=function(){var A=this;return l.createElement("div",{role:l.const("columnheader"),class:function(){return{"dcg-cell":!0,"dcg-table-header":!0,"dcg-do-not-blur":!0,"dcg-left":A.model.index===0,"dcg-right":A.isRightSide(),"dcg-selected":A.shouldFocus(),"dcg-error":!!A.model.error}},index:function(){return A.model.index},onTapStart:this.bindFn(this.focusThisCell)},l.createElement("div",{class:l.const("dcg-inner-border")}),l.createElement(c,{predicate:function(){return!A.isRightSide()}},function(){return l.createElement(g.default,{model:A.props.model,controller:A.props.controller})}),l.createElement(c,{predicate:function(){return!A.controller.isInEditListMode()}},function(){return l.createElement(m.default,{latex:function(){return A.model.latex||""},tooltipOptions:function(){return{gravity:"s"}},brailleShouldFocus:A.bindFn(A.shouldFocus),ariaLabel:function(){return A.getAriaLabel("braille")},onBrailleInput:function(M){return A.handleLatexChanged(M)},controller:A.props.controller,onBrailleFocusedChanged:A.bindFn(A.handleMQFocusedChanged),selectOnFocus:A.const(!0),onBrailleKeydown:A.bindFn(A.handleKeydownOnBrailleInput)},l.createElement(y.default,{latex:function(){return A.model.latex||""},isFocused:A.bindFn(A.shouldFocus),capExpressionSize:function(){return A.controller.getCapExpressionSize()},config:A.const({}),getAriaLabel:function(){return A.getAriaLabel("speech")},getAriaPostLabel:A.bindFn(A.getAriaPostLabel),hasError:A.const(!1),onUserPressedKey:function(M,C){return A.handlePressedKey(M,C)},onUserChangedLatex:function(M){return A.handleLatexChanged(M)},onExpressionSizeExceeded:function(){return A.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:A.bindFn(A.handleMQFocusedChanged),selectOnFocus:A.const(!0),needsSystemKeypad:function(){return!A.controller.isKeypadEnabled()}},l.createElement("span",{class:l.const("dcg-math-field dcg-cell-math-content")})))}),l.createElement(c,{predicate:function(){return A.controller.isInEditListMode()}},function(){return l.createElement(m.default,{latex:function(){return A.model.latex||""},tooltipOptions:function(){return{gravity:"s"}},ariaLabel:function(){return A.getAriaLabel("braille")},onBrailleInput:function(M){return A.handleLatexChanged(M)},controller:A.props.controller,tabindex:A.const(-1),isStatic:A.const(!0),brailleShouldFocus:A.bindFn(A.shouldFocusNonEditCell),onBrailleFocusedChanged:A.bindFn(A.handleMQFocusedChanged)},l.createElement(p.default,{latex:function(){return A.model.latex||""},getAriaLabel:function(){return A.getAriaLabel("speech")}},l.createElement("span",{class:l.const("dcg-math-field dcg-cell-math-content"),role:l.const("textbox"),"aria-roledescription":l.const("cell"),"aria-readonly":l.const("true"),tabindex:l.const("-1")})))}),l.createElement(c,{predicate:function(){return A.model.dragMode!==b.DragMode.NONE&&!A.model.error}},function(){return l.createElement("span",{class:l.const("dcg-drag-icon"),"dcg-drag-mode":function(){return A.model.dragMode},style:function(){return{color:A.model.color}}},l.createElement("i",{class:function(){return{"dcg-icon-move":A.model.dragMode===b.DragMode.XY,"dcg-icon-move-horizontal":A.model.dragMode===b.DragMode.X,"dcg-icon-move-vertical":A.model.dragMode===b.DragMode.Y}}}))}),l.createElement("div",{class:l.const("dcg-empty-line")}),l.createElement(c,{predicate:function(){return A.isRightSide()}},function(){return l.createElement("span",{class:l.const("dcg-fade-right")})}))},v.prototype.focusThisCell=function(A){A.wasHandled()||(A.handle(),this.shouldFocus()||this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}))},v.prototype.lookupCellPosition=function(){return{row:0,column:this.model.index}},v.prototype.getAriaLabel=function(A){var M=this.lookupCellPosition();return A==="speech"?this.controller.t("Column header __column__",{column:M.column+1}):this.controller.raw("h__column__",{column:M.column+1})},v.prototype.getAriaPostLabel=function(){var A="",M=this.model;return M.shouldGraph&&(M.points||M.lines)&&!f.isColumnEmpty(M)&&(A=this.controller.t("Has graph."),i.IS_APPLE?A+=" "+this.controller.t("To audio trace, press OPTION+T."):A+=" "+this.controller.t(" To audio trace, press ALT+T.")),A},v.prototype.handlePressedKey=function(A,M){var C=y.default.getFocusedMathquill();C&&(y.default.handleKeystrokeAndDecideIfSpecialEvent(C,A,M)?this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:A}):this.handleLatexChanged(C.latex()))},v.prototype.handleKeydownOnBrailleInput=function(A){var M=r.lookup(A);if(M){var C=M==="Enter"||M==="Up"||M==="Down",D=m.getFocusedBrailleElement(),S=D&&M==="Left"&&D.selectionStart===0||M==="Right"&&D.selectionStart===d(D).val().length,x=this.model.latex.length===0&&m.brailleInputIsEmpty(D),B=M==="Del"||M==="Backspace";(C||S||B&&x)&&(this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:M==="Del"?"Delete":M}),A.preventDefault())}},v.prototype.handleLatexChanged=function(A){this.model.latex!==A&&this.controller.dispatch({type:"set-tablecell-latex",tableId:this.table.id,cell:this.lookupCellPosition(),latex:A})},v.prototype.shouldFocus=function(){return!this.controller.isInEditListMode()&&u.isEqual(this.lookupCellPosition(),f.getSelectedCell(this.table))},v.prototype.shouldFocusNonEditCell=function(){return u.isEqual(this.lookupCellPosition(),f.getSelectedCell(this.table))},v.prototype.isNodeWithinTableCell=function(A){if(!A||d(A).closest(".dcg-cell").length===0)return!1;var M=this.controller.getItemRootNodeById(this.table.id);return!!M&&d.contains(M,A)},v.prototype.handleMQFocusedChanged=function(A,M){A?this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}):this.isNodeWithinTableCell(M.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})},v}(l.Class);o.default=n}),q("expressions/tables/cell-view",["require","exports","tslib","keys","dcgview","jquery","dcgview-helpers/mathquill-view","dcgview-helpers/static-mathquill-view","underscore","graphing-calc/models/table","../../dcgview-helpers/tooltipped-error","lib/conditional_blur","dcgview-helpers/mathquill-braille-wrapper"],function(O,o,w,r,d,i,l,g,y,p,u,f,b){Object.defineProperty(o,"__esModule",{value:!0});var m=d.Components.If,c=function(n){function s(){return n!==null&&n.apply(this,arguments)||this}return w.__extends(s,n),s.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller(),this.table=this.model.column.table},s.prototype.template=function(){var v=this;return d.createElement("div",{role:d.const("gridcell"),class:function(){return{"dcg-cell":!0,"dcg-do-not-blur":!0,"dcg-empty":v.isEmpty(),"dcg-non-editable":!!v.model.column.disabled,"dcg-error":!!v.hasError(),"dcg-selected":v.shouldFocus()}},onTapStart:this.bindFn(this.focusThisCell)},d.createElement("div",{class:d.const("dcg-inner-border")}),d.createElement(m,{predicate:this.bindFn(this.hasError)},function(){return d.createElement("span",{class:d.const("dcg-table-icon-error-container")},d.createElement(u.TooltippedError,{error:v.bindFn(v.getErrorMessage),gravity:v.const("se"),size:v.const("small")}))}),d.createElement(m,{predicate:function(){return!!v.model.column.disabled||v.controller.isInEditListMode()}},function(){return d.createElement(b.default,{latex:function(){return v.getValue()},tooltipOptions:function(){return{gravity:"s"}},brailleShouldFocus:v.bindFn(v.shouldFocusReadonlyCell),ariaLabel:function(){return v.getAriaLabel("braille")},controller:v.props.controller,tabindex:function(){return v.controller.isInEditListMode()?-1:0},isStatic:v.const(!0),onBrailleFocusedChanged:v.bindFn(v.handleFocusedChanged),onBrailleKeydown:function(A){return v.handleKeydownOnReadonlyCell(A),!0}},d.createElement(g.default,{getAriaLabel:function(){return v.getAriaLabel("speech")},latex:function(){return v.getValue()}},d.createElement("span",{class:d.const("dcg-math-field dcg-cell-math-content dcg-mathquill-input-span"),role:d.const("textbox"),"aria-roledescription":d.const("computed cell"),"aria-readonly":d.const("true"),tabindex:function(){return v.controller.isInEditListMode()||v.isEmpty()?-1:0},onKeyDown:v.bindFn(v.handleKeydownOnReadonlyCell),manageFocus:v.const({shouldBeFocused:v.bindFn(v.shouldFocusReadonlyCell),onFocusedChanged:v.bindFn(v.handleFocusedChanged)})})))}),d.createElement(m,{predicate:function(){return!v.model.column.disabled&&!v.controller.isInEditListMode()}},function(){return d.createElement(b.default,{latex:function(){return v.getValue()},tooltipOptions:function(){return{gravity:"s"}},brailleShouldFocus:v.bindFn(v.shouldFocusEditableCell),ariaLabel:function(){return v.getAriaLabel("braille")},onBrailleInput:function(A){return v.handleLatexChanged(A)},controller:v.props.controller,onBrailleFocusedChanged:v.bindFn(v.handleFocusedChanged),onBrailleKeydown:v.bindFn(v.handleKeydownOnBrailleInput),selectOnFocus:v.const(!0)},d.createElement(l.default,{latex:function(){return v.getValue()},isFocused:v.bindFn(v.shouldFocusEditableCell),capExpressionSize:function(){return v.controller.getCapExpressionSize()},config:v.const({}),getAriaLabel:function(){return v.getAriaLabel("speech")},getAriaPostLabel:v.bindFn(v.getErrorMessage),hasError:v.const(!1),onUserPressedKey:function(A,M){return v.handlePressedKey(A,M)},onUserChangedLatex:function(A){return v.handleLatexChanged(A)},onExpressionSizeExceeded:function(){return v.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:v.bindFn(v.handleFocusedChanged),selectOnFocus:v.const(!0),needsSystemKeypad:function(){return!v.controller.isKeypadEnabled()}},d.createElement("span",{class:d.const("dcg-math-field dcg-cell-math-content")})))}),d.createElement("div",{class:d.const("dcg-empty-line")}))},s.prototype.focusThisCell=function(v){v.wasHandled()||(v.handle(),this.shouldFocus()||this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}))},s.prototype.handlePressedKey=function(v,A){var M=l.default.getFocusedMathquill();if(M){var C=l.default.handleKeystrokeAndDecideIfSpecialEvent(M,v,A);v===r.ESCAPE&&f.default(),C?this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:v}):this.handleLatexChanged(M.latex())}},s.prototype.handleKeydownOnBrailleInput=function(v){var A=r.lookup(v);if(A){A===r.ESCAPE&&f.default();var M=A==="Enter"||A==="Up"||A==="Down",C=b.getFocusedBrailleElement(),D=C&&A==="Left"&&C.selectionStart===0||A==="Right"&&C.selectionStart===i(C).val().length,S=A==="Del"||A==="Backspace";(M||D||S&&this.getValue().length===0)&&(this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:A==="Del"?"Delete":A}),v.preventDefault())}},s.prototype.handleKeydownOnReadonlyCell=function(v){var A=r.lookup(v);A!=="Tab"&&(v.preventDefault(),A==="Esc"&&f.default(),A&&this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:A}))},s.prototype.handleLatexChanged=function(v){this.getValue()!==v&&this.controller.dispatch({type:"set-tablecell-latex",tableId:this.table.id,cell:this.lookupCellPosition(),latex:v})},s.prototype.shouldFocus=function(){return y.isEqual(this.lookupCellPosition(),p.getSelectedCell(this.table))},s.prototype.shouldFocusReadonlyCell=function(){return!this.controller.isInEditListMode()&&!!this.model.column.disabled&&this.shouldFocus()},s.prototype.shouldFocusEditableCell=function(){return!this.model.column.disabled&&this.shouldFocus()},s.prototype.isNodeWithinTableCell=function(v){if(!v||i(v).closest(".dcg-cell").length===0)return!1;var A=this.controller.getItemRootNodeById(this.table.id);return!!A&&i.contains(A,v)},s.prototype.handleFocusedChanged=function(v,A){v?this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}):this.isNodeWithinTableCell(A.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})},s.prototype.lookupCellPosition=function(){return{row:this.model.row.index,column:this.model.column.index}},s.prototype.getPackedError=function(){return this.model.column.packedErrors[this.model.row.index-1]},s.prototype.hasError=function(){return!!this.getPackedError()},s.prototype.getErrorMessage=function(){var v=this.getPackedError();return v?this.controller.unpack(v):""},s.prototype.getValue=function(){var v=this.model.column.index,A=this.model.row.index-1;return this.model.column.disabled?this.model.column.computedValues[A]||"":this.table.columns[v].values[A]||""},s.prototype.isEmpty=function(){var v=b.getFocusedBrailleElement();return this.getValue()===""&&b.brailleInputIsEmpty(v)},s.prototype.getAriaLabel=function(v){var A=this.lookupCellPosition(),M=A.row,C=A.column+1;return v==="speech"?this.controller.t("Row __row__ Col __column__",{row:M.toString(),column:C.toString()}):this.controller.raw("r__row__c__column__",{row:M.toString(),column:C.toString()})},s}(d.Class);o.default=c}),q("loadcss!expressions/table-view",function(){}),q("expressions/table-view",["require","exports","tslib","keys","lib/aria","./abstract-item-view","dcgview","./tables/header-view","./tables/cell-view","graphing-calc/models/table","vendor/mathquill","jquery","./expression-edit-actions","expressions/measure-expressions","./suggested-zoom-view","main/manage-focus-helper","loadcss!./table-view","jquery.handleevent"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n){Object.defineProperty(o,"__esModule",{value:!0});var s=l.Components.For,v=function(A){function M(){return A!==null&&A.apply(this,arguments)||this}return w.__extends(M,A),M.prototype.didMount=function(){this.onItemViewMounted()},M.prototype.willUnmount=function(){this.onItemViewUnmounted()},M.prototype.template=function(){var C=this;return l.createElement("div",{class:function(){return{"dcg-expressionitem":!0,"dcg-expressiontable":!0,"dcg-inFolder":!!C.model.folderId,"dcg-selected":!!C.controller.isItemSelected(C.id),"dcg-dragging":!!C.controller.isItemBeingDragged(C.id),"dcg-no-faded-h":C.isRightFocused(),"dcg-no-faded-v":C.isBottomFocused(),"dcg-author-ide":C.controller.isAuthorIDE()}},"expr-id":function(){return C.model.id},didMount:this.bindFn(this.didMountContainer),onKeydown:this.bindFn(this.onKeydown)},l.createElement("div",{class:l.const("dcg-fade-container dcg-disable-horizontal-scroll-to-cursor")},l.createElement("div",{class:l.const("dcg-main")},l.createElement("div",{class:l.const("dcg-table-container"),tabindex:function(){return C.controller.isInEditListMode()?0:-1},"aria-label":function(){return C.controller.getBrailleMode()==="none"?C.controller.t("Expression __index__ table",{index:C.model.displayIndex}):C.controller.t("eq__index__ table",{index:C.model.displayIndex})},didMount:this.bindFn(this.didMountContainer),manageFocus:this.const(n.manageFocusHelper({controller:this.controller,location:{type:"table-container",id:this.model.id}}))},l.createElement("div",{class:l.const("dcg-table-sliding-container"),style:function(){return{transform:"translateX("+C.computeScrolledX()+"px)"}}},l.createElement(s,{each:function(){return C.getVisibleRowModels()},key:function(D){return D.type==="blank-row"?"blank-row-"+D.guid+"-"+D.rows+"-"+C.getCols():D.guid}},l.createElement("div",{role:l.const("grid"),class:function(){return{"dcg-tabledata":!0,"dcg-focus-in-bottom-row":C.isBottomFocused(),"dcg-focus-in-right-column":C.isRightFocused()}}},function(D){return D.type==="show-more"?l.createElement("tr",{role:l.const("row"),class:l.const("dcg-show-more-row")},l.createElement("td",{colspan:C.bindFn(C.getCols)},C.bindFn(C.missingRowMessage),l.createElement("div",{tabindex:l.const(0),role:l.const("button"),class:l.const("dcg-show-more"),onTap:function(){return C.controller.dispatch({type:"table-show-more-rows",id:C.id})}},function(){return C.controller.t("Show all")}))):D.type==="blank-row"?l.createElement("tr",{role:l.const("row"),class:l.const("dcg-blank-row")},l.createElement("td",{colspan:C.bindFn(C.getCols),style:function(){return{height:D.rows*C.getRowHeight()+"px"}}})):l.createElement(s,{each:function(){return D.cells},key:function(S){return S.guid}},l.createElement("tr",{role:l.const("row"),"aria-rowindex":function(){return D.index},class:function(){return{"dcg-row":D,"dcg-braille-row":C.controller.getBrailleMode()!=="none"}}},function(S){return S.type==="header"?l.createElement(g.default,{controller:C.props.controller,model:C.const(S)}):l.createElement(y.default,{controller:C.props.controller,model:C.const(S)})}))}))))),l.createElement("i",{class:l.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:l.const("true"),onTap:this.bindFn(this.onDelete)})),l.createElement("span",{class:l.const("dcg-tab dcg-action-drag"),handleevent:l.const("true"),tapboundary:l.const("true"),disablescroll:l.const("true"),style:l.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},l.createElement("span",{class:l.const("dcg-num")},function(){return C.model.displayIndex}),l.createElement("div",{class:l.const("dcg-tab-interior")}),l.createElement(c.SuggestedZoomView,{model:this.props.model,controller:this.props.controller})),l.createElement(b.ExpressionEditActions,{controller:this.props.controller,id:function(){return C.model.id}}))},M.prototype.getCols=function(){return this.model.rowModels[0].cells.length-1},M.prototype.getRowHeight=function(){return this.controller.getGraphSettings().config.projectorMode?38:33},M.prototype.getVisibleRowModels=function(){var C=this.model.rowModels;if(C.length<=25)return C;var D=p.getCollapsedRange(this.model);if(D!==void 0){var S=C.slice(0,D.min);return S=S.concat({type:"show-more",guid:"show-more"}),S.concat(C.slice(D.max))}var x=m.getExppanelRect(this.controller),B=x?x.height:0,Z=f(this.node).offset(),X=(Z?Z.top:0)-(x?x.top:0),ee=f(this.node).find(".dcg-row:eq(0)").height(),W=this.getRowHeight();if(B/W>C.length)return C;for(var U=[],F=(-X-ee)/W,G=(B-X)/W,ie=0;ie<C.length;ie++){var ne=p.getSelectedCell(this.model);if(ie===0||ie===C.length-2||ne&&ne.row===ie)U.push(C[ie]);else if(ie>G||ie<F){var Y=U[U.length-1];Y&&Y.type==="blank-row"?Y.rows++:U.push({type:"blank-row",guid:C[ie].guid,rows:1})}else U.push(C[ie])}return U},M.prototype.missingRowMessage=function(){var C=p.getCollapsedRange(this.model);return C===void 0?"":this.controller.t("__rowCount__ more rows",{rowCount:C.max-C.min})},M.prototype.didMountContainer=function(C){this.node=C,f(C).on("scroll",function(){return C.scrollLeft=0})},M.prototype.getSelectedCell=function(){return p.getSelectedCell(this.model)},M.prototype.computeScrolledX=function(){if(!this.getSelectedCell()||!this.node)return 0;var C=this.node.children[0],D=this.node.querySelector(".dcg-selected");if(C===null||D===null)return 0;var S=this.node.getBoundingClientRect(),x=D.getBoundingClientRect(),B=x.left-C.getBoundingClientRect().left,Z=S.width-B-x.width-80,X=Math.min(0,S.width-C.scrollWidth-30);return Z=Math.max(Z,X),Math.min(0,Z)},M.prototype.isBottomFocused=function(){var C=this.getSelectedCell();return!!C&&C.row===this.model.columnModels[0].cells.length},M.prototype.isRightFocused=function(){var C=this.getSelectedCell();return!!C&&C.column===this.model.columnModels.length-1},M.prototype.isFocused=function(){return!!this.getSelectedCell()},M.prototype.onKeydown=function(C){this.controller.isInEditListMode()||!C.ctrlKey||C.shiftKey||C.altKey||C.metaKey||(r.lookup(C)==="Up"?(C.preventDefault(),C.stopPropagation(),this.moveToFirstCellInColumn()):r.lookup(C)==="Down"?(C.preventDefault(),C.stopPropagation(),this.moveToLastCellInColumn()):r.lookup(C)==="Left"?(C.preventDefault(),C.stopPropagation(),this.moveToFirstCellInRow()):r.lookup(C)==="Right"?(C.preventDefault(),C.stopPropagation(),this.moveToLastCellInRow()):r.lookupChar(C)==="H"&&(C.preventDefault(),C.stopPropagation(),this.speakColumnHeader()))},M.prototype.moveToFirstCellInColumn=function(){var C=this.getSelectedCell();C&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:0,column:C.column}}})},M.prototype.moveToLastCellInColumn=function(){var C=this.getSelectedCell();C&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:this.model.rowModels.length-1,column:C.column}}})},M.prototype.moveToFirstCellInRow=function(){var C=this.getSelectedCell();C&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:C.row,column:0}}})},M.prototype.moveToLastCellInRow=function(){var C=this.getSelectedCell();C&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:C.row,column:this.model.columnModels[0].cells.length-1}}})},M.prototype.speakColumnHeader=function(){var C=this.controller.t("No column header"),D=this.getSelectedCell();if(D){var S=this.model.rowModels[0].cells[D.column];S&&S.type==="header"&&S.latex&&S.latex!==""&&(C=u.MQ.StaticMath(f("<span>"+S.latex+"</span>")[0]).mathspeak())}d.alert(C)},M}(i.default);o.default=v}),q("loadcss!expressions/folder-view",function(){}),q("expressions/folder-view",["require","exports","tslib","browser","keys","lib/aria","./expression-edit-actions","./abstract-item-view","./smart_textarea","dcgview","./circular-icon-view","jquery.handleevent","loadcss!./folder-view"],function(O,o,w,r,d,i,l,g,y,p,u){Object.defineProperty(o,"__esModule",{value:!0});var f=function(b){function m(){return b!==null&&b.apply(this,arguments)||this}return w.__extends(m,b),m.prototype.didMount=function(){this.onItemViewMounted()},m.prototype.willUnmount=function(){this.onItemViewUnmounted()},m.prototype.template=function(){var c=this;return p.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressionfolder":!0,"dcg-inFolder":!1,"dcg-selected":c.controller.isItemSelected(c.id),"dcg-dragging":!!c.controller.isItemBeingDragged(c.id),"dcg-collapsed":!!c.model.collapsed,"dcg-hidden":!!c.model.hidden,"dcg-author-ide":c.controller.isAuthorIDE(),"dcg-has-items":c.controller.getNumberOfItemsInFolder(c.id)>0,"dcg-secretFolder":c.model.secret&&!c.controller.canAdministerSecretFolders()}},"expr-id":function(){return c.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},p.createElement("div",{class:p.const("dcg-fade-container")},p.createElement("div",{class:p.const("dcg-main")},p.createElement("div",{role:p.const("button"),tabindex:p.const("0"),"aria-pressed":function(){return c.model.collapsed},"aria-label":function(){return c.controller.t("Collapse Folder")},class:p.const("dcg-caret-container dcg-action-toggle-folder-collapsed dcg-do-not-blur"),handleEvent:p.const("true"),onTap:this.bindFn(this.toggleCollapsed)},p.createElement("i",{class:p.const("dcg-icon-caret-down")})),p.createElement(y.default,{shouldFocus:this.bindFn(this.isFocused),text:function(){return c.model.title},placeholder:function(){return c.controller.t("Enter a note...")},showLinks:function(){return c.controller.areLinksEnabled()},onInput:this.bindFn(this.onInput),onFocusChange:this.bindFn(this.onFocusChange),onSpecialKey:this.bindFn(this.onSpecialKey),ariaLabel:this.bindFn(this.getAriaLabel),readonly:function(){return c.controller.isInEditListMode()},readonlyAction:this.bindFn(this.exitEditListMode)}),p.createElement("div",{role:p.const("checkbox"),"aria-checked":function(){return c.model.secret},"aria-label":function(){return c.controller.t("Hide this folder from students")},class:function(){return{"dcg-action-toggle-secret-folder":!0,"dcg-do-not-blur":!0,"dcg-checked":c.model.secret}},style:function(){return{display:c.controller.canAdministerSecretFolders()?void 0:"none"}},handleEvent:p.const("true"),onTap:this.bindFn(this.toggleSecret)},p.createElement("span",{class:p.const("dcg-checkbox-box")},p.createElement("i",{class:p.const("dcg-icon-check")})),p.createElement("span",{class:p.const("dcg-checkbox-label")},function(){return c.controller.t("Hide this folder from students.")}))),p.createElement("i",{class:p.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:p.const("true"),onTap:this.bindFn(this.onDelete)})),p.createElement("span",{class:p.const("dcg-tab dcg-action-drag"),handleevent:p.const("true"),tapboundary:p.const("true"),disablescroll:p.const("true"),style:p.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},p.createElement("span",{class:p.const("dcg-num")},function(){return c.model.displayIndex}),p.createElement("div",{class:p.const("dcg-tab-interior")},p.createElement("span",{role:p.const("button"),tabindex:p.const("0"),"aria-pressed":function(){return!!c.model.hidden},"aria-label":function(){return c.controller.t("Hide Folder")},class:p.const("dcg-circular-icon-container dcg-expression-icon-container"),onTap:this.bindFn(this.toggleHidden)},p.createElement(u.CircularIconView,{iconType:function(){return c.model.hidden?"hidden":"folder"},whiteIcon:function(){return c.controller.isItemSelected(c.model.id)||c.controller.isItemBeingDragged(c.model.id)}})))),p.createElement(l.ExpressionEditActions,{controller:this.props.controller,id:function(){return c.model.id}}))},m.prototype.toggleHidden=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.id})},m.prototype.toggleSecret=function(){this.controller.dispatch({type:"set-item-secret",id:this.id,isSecret:!this.model.secret})},m.prototype.toggleCollapsed=function(){this.controller.dispatch({type:"set-folder-collapsed",id:this.id,isCollapsed:!this.model.collapsed})},m.prototype.onInput=function(c){this.controller.dispatch({type:"set-folder-title",id:this.id,title:c})},m.prototype.onFocusChange=function(c){c?this.controller.dispatch({type:"set-focus-location",location:{type:"folder",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"folder",id:this.id}})},m.prototype.onSpecialKey=function(c){return this.controller.dispatch({type:"on-special-key-pressed",key:c})},m.prototype.onKeydown=function(c){var n=c.altKey&&!c.metaKey&&!c.ctrlKey&&!c.shiftKey,s=c.metaKey&&!c.altKey&&!c.shiftKey&&!c.ctrlKey;(r.IS_APPLE?s:n)&&d.lookup(c)===d.UP&&(c.preventDefault(),c.stopPropagation(),this.controller.dispatch({type:"set-folder-collapsed",id:this.id,isCollapsed:!this.model.collapsed}),this.model.collapsed?i.alert(this.controller.t("folder collapsed")):i.alert(this.controller.t("folder expanded")))},m.prototype.isFocused=function(){var c=this.controller.getFocusLocation();return!(!c||c.type!=="folder"||c.id!==this.id)},m.prototype.getAriaLabel=function(){var c="";this.model.hidden||this.model.collapsed||this.model.secret?!this.model.hidden||this.model.collapsed||this.model.secret?this.model.hidden||!this.model.collapsed||this.model.secret?this.model.hidden||this.model.collapsed||!this.model.secret?this.model.hidden&&this.model.collapsed&&!this.model.secret?c=this.controller.t("Hidden Collapsed Folder"):this.model.hidden&&!this.model.collapsed&&this.model.secret?c=this.controller.t("Hidden Secret Folder"):!this.model.hidden&&this.model.collapsed&&this.model.secret?c=this.controller.t("Collapsed Secret Folder"):this.model.hidden&&this.model.collapsed&&this.model.secret&&(c=this.controller.t("Hidden Collapsed Secret Folder")):c=this.controller.t("Secret Folder"):c=this.controller.t("Collapsed Folder"):c=this.controller.t("Hidden Folder"):c=this.controller.t("Folder");var n=this.controller.getNumberOfItemsInFolder(this.id);return n>0?this.controller.t("__folder__ has __count__ items",{folder:c,count:n}):c},m}(g.default);o.default=f}),q("lib/coerce-url",["require","exports"],function(O,o){function w(r){var d=document.createElement("a");return d.href=r,d.href}Object.defineProperty(o,"__esModule",{value:!0}),o.coerceURL=w}),q("loadcss!expressions/image-icon-view",function(){}),q("expressions/image-icon-view",["require","exports","tslib","lib/coerce-url","dcgview","main/manage-focus-helper","../dcgview-helpers/tooltipped-error","./circular-icon-view","jquery.handleevent","loadcss!./image-icon-view"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=d.Components.SwitchUnion,p=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return w.__extends(f,u),f.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},f.prototype.template=function(){var b=this;return d.createElement("div",{class:d.const("dcg-expression-icon-container dcg-image-icon-container")},y(this.bindFn(this.typeOfIcon),{error:function(){return d.createElement(l.TooltippedError,{error:function(){return b.controller.unpack(b.model.error)},isWhite:b.bindFn(b.isSelected),gravity:b.const("se")})},failed:function(){return d.createElement("span",null)},loading:function(){return d.createElement(g.CircularIconView,{iconType:b.const("loading")})},hidden:function(){return b.buildIconView()},image:function(){return b.buildIconView()}}))},f.prototype.buildIconView=function(){var b=this;return d.createElement("div",{class:d.const("dcg-circular-icon-container"),role:d.const("button"),tabindex:d.const("0"),"aria-label":this.bindFn(this.getIconAriaLabel),onTap:function(m){if(!m.wasHandled("dragdrop")&&!m.wasLongheld())return b.myOptionsOpen()||b.controller.isInEditListMode()?b.toggleOptions(m):void b.toggleImageShown()},didMount:function(m){return b.rootElt=m},onLongHold:function(m){m.handle("dcg-longhold"),m.handle("dcg-tap"),b.toggleOptions(m)},manageFocus:this.const(i.manageFocusHelper({controller:this.controller,location:{type:"image-icon",id:this.model.id}}))},d.createElement(g.CircularIconView,{iconType:function(){return b.typeOfIcon()==="hidden"?"hidden":"background"},backgroundImage:this.bindFn(this.getBackgroundImage),backgroundOpacity:this.const(1),whiteIcon:this.bindFn(this.isSelected)}))},f.prototype.isSelected=function(){return this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)},f.prototype.typeOfIcon=function(){return this.model.loadStatus==="loading"?"loading":this.model.loadStatus==="failed"?"failed":this.hasError()?"error":this.model.shouldGraph?"image":"hidden"},f.prototype.myOptionsOpen=function(){var b=this.controller.getOpenItemMenu();return!!b&&b.model===this.model},f.prototype.toggleOptions=function(b){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"image",model:this.model,icon:this.rootElt,focusFirstOption:b.device==="keyboard"}})},f.prototype.hasError=function(){return!!this.model.error&&this.controller.getBrailleMode()==="none"},f.prototype.getBackgroundImage=function(){return this.model.image_url===this.lastURL?this.lastEncodedURL:(this.lastURL=this.model.image_url,this.lastEncodedURL='url("'+r.coerceURL(this.model.image_url)+'")',this.lastEncodedURL)},f.prototype.toggleImageShown=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id}),this.controller.dispatch({type:"set-focus-location",location:{type:"image-icon",id:this.model.id}})},f.prototype.getIconAriaLabel=function(){return this.controller.isInEditListMode()?this.myOptionsOpen()?this.controller.t("Hide Options"):this.controller.t("Show Options"):this.model.hidden?this.controller.t("Show Image"):this.controller.t("Hide Image")},f}(d.Class);o.default=p}),q("expressions/image-upload-view",["require","exports","tslib","dcgview","jquery","main/manage-focus-helper"],function(O,o,w,r,d,i){Object.defineProperty(o,"__esModule",{value:!0});var l=function(g){function y(){return g!==null&&g.apply(this,arguments)||this}return w.__extends(y,g),y.prototype.init=function(){this.controller=this.props.controller()},y.prototype.template=function(){return r.createElement("div",{class:r.const("dcg-do-not-blur"),onTap:this.bindFn(this.newImage),handleEvent:r.const("true"),role:r.const("button"),tabindex:r.const(0),"aria-label":this.props.ariaLabel,manageFocus:this.const(this.props.location?i.manageFocusHelper({controller:this.controller,location:this.props.location()}):void 0)},this.children,r.createElement("input",{type:r.const("file"),accept:r.const("image/*"),style:r.const("display: none"),didMount:this.bindFn(this.didMountFileInput)}))},y.prototype.didMountFileInput=function(p){var u=this;this.fileInputNode=p,d(p).on("change",function(){u.props.onFileChange(p.files),d(p).val("")})},y.prototype.newImage=function(){this.fileInputNode.click()},y}(r.Class);o.ImageUploadView=l}),q("loadcss!expressions/clickable_image_info_view",function(){}),q("expressions/clickable_image_info_view",["require","exports","tslib","dcgview","./circular-icon-view","../lib/tooltip","./image-upload-view","./clickable_info_view","loadcss!./clickable_image_info_view"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=r.Components.Switch,p=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return w.__extends(f,u),f.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},f.prototype.template=function(){var b=this;return r.createElement("div",{class:r.const("dcg-do-blur dcg-indent-in-folder"),tapboundary:r.const("true"),handleEvent:r.const("true")},r.createElement(g.ClickableInfoView,{controller:function(){return b.props.controller()},model:function(){return b.model}}),r.createElement("div",{class:r.const("dcg-clickable-image-info-view"),role:r.const("group"),"aria-label":function(){return b.controller.t("Clickable Image Options")}},r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-clickable-image-label")},r.const("Hovered:")),r.createElement(i.Tooltip,{tooltip:function(){return b.tooltip("hovered")},gravity:this.const("s")},r.createElement(l.ImageUploadView,{controller:function(){return b.controller},ariaLabel:function(){return b.tooltip("hovered")},onFileChange:function(m){return b.updateImage("hovered",m)}},r.createElement(y,{key:this.bindFn(this.hoveredStatus)},function(){return r.createElement(d.CircularIconView,{iconType:b.bindFn(b.hoveredStatus),backgroundImage:b.const(b.hoveredStatus()==="background"?"url("+b.model.clickableInfo.hoveredImage+")":"")})}))),r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-clickable-image-label")},r.const("Depressed:")),r.createElement(i.Tooltip,{tooltip:function(){return b.tooltip("depressed")},gravity:this.const("s")},r.createElement(l.ImageUploadView,{controller:function(){return b.controller},ariaLabel:function(){return b.tooltip("depressed")},onFileChange:function(m){return b.updateImage("depressed",m)}},r.createElement(y,{key:this.bindFn(this.depressedStatus)},function(){return r.createElement(d.CircularIconView,{iconType:function(){return b.depressedStatus()},backgroundImage:b.const(b.depressedStatus()==="background"?"url("+b.model.clickableInfo.depressedImage+")":"")})})))))},f.prototype.hoveredStatus=function(){return this.hoveredUploading?"loading":this.model.clickableInfo.hoveredImage?"background":"hidden"},f.prototype.depressedStatus=function(){return this.depressedUploading?"loading":this.model.clickableInfo.depressedImage?"background":"hidden"},f.prototype.tooltip=function(b){return(b==="hovered"?this.model.clickableInfo.hoveredImage:this.model.clickableInfo.depressedImage)?b==="depressed"?this.controller.t("Change Depressed Image"):this.controller.t("Change Hovered Image"):b==="depressed"?this.controller.t("Add Depressed Image"):this.controller.t("Add Hovered Image")},f.prototype.updateImage=function(b,m){var c=this;if(m&&m[0]){var n=m[0];b==="hovered"&&(this.hoveredUploading=!0),b==="depressed"&&(this.depressedUploading=!0),this.controller.getGraphSettings().config.imageUploadCallback(n,function(s,v){b==="hovered"&&(c.hoveredUploading=!1),b==="depressed"&&(c.depressedUploading=!1),!s&&v&&(b==="hovered"?c.controller.dispatch({type:"set-hovered-image",id:c.model.id,url:v}):c.controller.dispatch({type:"set-depressed-image",id:c.model.id,url:v}))})}},f}(r.Class);o.ClickableImageInfoView=p}),q("loadcss!expressions/image-view",function(){}),q("expressions/image-view",["require","exports","tslib","keys","jquery","underscore","./abstract-item-view","./smart_textarea","dcgview","dcgview-helpers/mathquill-view","lib/conditional_blur","expressions/promptslider_view","./image-icon-view","./clickable_image_info_view","graphing-calc/models/image","./expression-edit-actions","../dcgview-helpers/mathquill-braille-wrapper","jquery.handleevent","loadcss!./image-view"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n,s){Object.defineProperty(o,"__esModule",{value:!0});var v=y.Components,A=v.If,M=v.SwitchUnion,C=function(S){function x(){return S!==null&&S.apply(this,arguments)||this}return w.__extends(x,S),x.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},x.prototype.template=function(){var B=this;return y.createElement("div",{class:y.const("dcg-image-input-mathquill")},y.createElement(s.default,{latex:function(){return B.model[B.props.name()]},controller:this.props.controller,brailleShouldFocus:function(){return B.props.focusedInput()===B.props.name()},selectOnFocus:this.const(!0),onBrailleInput:this.bindFn(this.handleLatexChanged),onBrailleFocusedChanged:this.bindFn(this.handleMQFocusedChanged),onBrailleKeydown:this.bindFn(this.handleBrailleKeydown),hasError:function(){return c.hasInputError(B.model,B.props.name())},ariaLabel:function(){return B.controller.t(B.props.name())}},y.createElement(p.default,{latex:function(){return B.model[B.props.name()]},isFocused:function(){return B.props.focusedInput()===B.props.name()},capExpressionSize:function(){return B.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return B.controller.t(B.props.name())},getAriaPostLabel:this.const(""),hasError:this.const(!1),onUserPressedKey:function(Z,X){return B.handlePressedKey(Z,X)},onUserChangedLatex:this.bindFn(this.handleLatexChanged),onExpressionSizeExceeded:function(){return B.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:this.bindFn(this.handleMQFocusedChanged),needsSystemKeypad:function(){return!B.controller.isKeypadEnabled()}},y.createElement("span",{class:function(){return{"dcg-focus":B.props.focusedInput()===B.props.name(),"dcg-invalid":c.hasInputError(B.model,B.props.name())}}}))))},x.prototype.getInputs=function(){return this.controller.canUseAdvancedStyling()?["center","angle","opacity","width","height"]:["center","angle","width","height"]},x.prototype.handlePressedKey=function(B,Z){var X=this.props.name(),ee=p.default.getFocusedMathquill(),W=this.getInputs(),U=W.indexOf(X);if(!this.controller.isInEditListMode()){if(B==="Enter")return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});if(B==="Esc")return void u.default()}var F=-1;B==="Up"&&(F=U-1),B==="Down"&&(F=U+1),B==="Left"&&(F=U-2),B==="Right"&&(F=U+2);var G=B;if(F>=0&&F<W.length){var ie=!1;if(ee)ie=p.default.applyArrowKeyAndReturnIfWasAtBounds(ee,G,Z);else if(B==="Up"||B==="Down")ie=!0;else{var ne=s.getFocusedBrailleElement();ie=ne&&(B==="Left"&&ne.selectionStart===0||B==="Right"&&ne.selectionStart===d(ne).val().length)}return void(ie&&(this.focusInput(W[F]),Z&&Z.preventDefault()))}ee&&(ee.keystroke(B,Z),this.handleLatexChanged(ee.latex()))},x.prototype.handleBrailleKeydown=function(B){var Z=r.lookup(B);Z&&this.handlePressedKey(Z,d.Event(B))},x.prototype.focusInput=function(B){this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.model.id,location:B}})},x.prototype.anyInputHasError=function(){var B=this;return i.any(this.getInputs(),function(Z){return c.hasInputError(B.model,Z)})},x.prototype.handleLatexChanged=function(B){var Z=this.props.name();this.model.draggingOnGraphpaper||c.getMQAttribute(this.model,Z)!==B&&this.controller.dispatch({type:"set-image-mq-attribute",id:this.model.id,attribute:Z,latex:B})},x.prototype.handleMQFocusedChanged=function(B){var Z=this.props.name();B?this.props.focusedInput()!==Z&&this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.model.id,location:Z}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"image",id:this.model.id,location:Z}})},x}(y.Class),D=function(S){function x(){return S!==null&&S.apply(this,arguments)||this}return w.__extends(x,S),x.prototype.didMount=function(){this.onItemViewMounted()},x.prototype.willUnmount=function(){this.onItemViewUnmounted()},x.prototype.template=function(){var B=this;return y.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressionimage":!0,"dcg-inFolder":!!B.model.folderId,"dcg-selected":B.controller.isItemSelected(B.id),"dcg-dragging":!!B.controller.isItemBeingDragged(B.id),"dcg-input-focused":B.getFocusedInput()&&B.getFocusedInput()!=="name"}},"expr-id":function(){return B.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},y.createElement("div",{class:y.const("dcg-fade-container")},y.createElement("div",{class:y.const("dcg-main")},M(function(){return B.model.loadStatus},{failed:function(){return y.createElement("div",null,y.createElement("div",{class:y.const("dcg-image-failed")},function(){return B.controller.t("Failed to load image.")}),y.createElement("div",{role:y.const("button"),tabindex:y.const(0),class:y.const("dcg-retry-loading-image"),onTap:B.bindFn(B.onRetryLoad)},function(){return B.controller.t("Retry.")}))},loading:function(){return y.createElement("div",null,y.createElement("div",{class:y.const("dcg-image-loading")},function(){return B.controller.t("Loading image...")}),y.createElement("div",{role:y.const("button"),tabindex:y.const(0),class:y.const("dcg-retry-loading-image"),onTap:B.bindFn(B.onRetryLoad)},function(){return B.controller.t("Retry.")}))},loaded:function(){return y.createElement("div",{class:y.const("dcg-image-loaded")},y.createElement(g.default,{shouldFocus:function(){return B.getFocusedInput()==="name"},text:function(){return B.model.name},placeholder:function(){return B.controller.t("Enter a note...")},showLinks:function(){return B.controller.areLinksEnabled()},onInput:B.bindFn(B.onNameInput),onFocusChange:B.bindFn(B.onNameFocusChange),onSpecialKey:B.bindFn(B.onNameSpecialKey),readonly:B.const(!1)}),y.createElement("div",{class:function(){return{"dcg-do-blur":!0,"dcg-image-input-grid":!0}},handleEvent:y.const("true")},y.createElement("div",{class:y.const("dcg-image-input-name")},function(){return B.controller.t("Center:")}),y.createElement(C,{name:B.const("center"),controller:function(){return B.controller},model:function(){return B.model},focusedInput:B.bindFn(B.getFocusedInput)}),y.createElement("div",{class:y.const("dcg-image-input-name")},function(){return B.controller.t("Width:")}),y.createElement(C,{name:B.const("width"),controller:function(){return B.controller},model:function(){return B.model},focusedInput:B.bindFn(B.getFocusedInput)}),y.createElement("div",{class:y.const("dcg-image-input-name")},function(){return B.controller.t("Angle:")}),y.createElement(C,{name:B.const("angle"),controller:function(){return B.controller},model:function(){return B.model},focusedInput:B.bindFn(B.getFocusedInput)}),y.createElement("div",{class:y.const("dcg-image-input-name")},function(){return B.controller.t("Height:")}),y.createElement(C,{name:B.const("height"),controller:function(){return B.controller},model:function(){return B.model},focusedInput:B.bindFn(B.getFocusedInput)}),y.createElement(A,{predicate:function(){return B.controller.canUseAdvancedStyling()}},function(){return y.createElement("div",{class:y.const("dcg-image-input-name")},function(){return B.controller.t("Opacity:")})}),y.createElement(A,{predicate:function(){return B.controller.canUseAdvancedStyling()}},function(){return y.createElement(C,{name:B.const("opacity"),controller:function(){return B.controller},model:function(){return B.model},focusedInput:B.bindFn(B.getFocusedInput)})})))}})),y.createElement("span",{class:y.const("dcg-fadeout")}),y.createElement("i",{class:y.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:y.const("true"),onTap:this.bindFn(this.onDelete)}),y.createElement(A,{predicate:function(){return B.shouldShowClickableProperties()}},function(){return y.createElement(m.ClickableImageInfoView,{controller:function(){return B.props.controller()},model:function(){return B.model}})}),y.createElement(A,{predicate:this.bindFn(this.shouldShowBrailleError)},function(){return y.createElement("div",{class:B.getFooterClass()},y.createElement("div",{tabindex:y.const(0),class:y.const("dcg-expression-braille-error"),"aria-roledescription":y.const("error"),"aria-label":function(){return B.controller.unpack(B.model.error)}},y.createElement("i",{class:y.const("dcg-icon-error")}),function(){return B.controller.unpack(B.model.error)}))}),y.createElement(A,{predicate:function(){return B.model.missingVariables.length>0&&B.controller.areSlidersEnabled()}},function(){return y.createElement("div",{class:B.getFooterClass()},y.createElement(f.default,{model:B.props.model,controller:B.props.controller}))})),y.createElement("span",{class:y.const("dcg-tab dcg-action-drag dcg-action-icon-touch"),handleevent:y.const("true"),tapboundary:y.const("true"),disablescroll:y.const("true"),style:y.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},y.createElement("span",{class:y.const("dcg-num")},function(){return B.model.displayIndex}),y.createElement("div",{class:y.const("dcg-tab-interior dcg-action-icon-mouse")},y.createElement(b.default,{model:this.props.model,controller:this.props.controller}))),y.createElement(n.ExpressionEditActions,{controller:this.props.controller,id:function(){return B.model.id}}))},x.prototype.getFooterClass=function(){return this.isFirstRender()?this.const("dcg-expression-bottom dcg-indent-in-folder"):this.const("dcg-expression-bottom dcg-fadein-bottom dcg-indent-in-folder")},x.prototype.onNameInput=function(B){this.controller.dispatch({type:"set-image-name",id:this.id,name:B})},x.prototype.onNameFocusChange=function(B){B?this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.id,location:"name"}}):this.getFocusedInput()==="name"&&this.controller.dispatch({type:"blur-focus-location",location:{type:"image",id:this.id,location:"name"}})},x.prototype.onNameSpecialKey=function(B){return this.controller.dispatch({type:"on-special-key-pressed",key:B})},x.prototype.getFocusedInput=function(){var B=this.controller.getFocusLocation();if(B&&B.type==="image"&&B.id===this.model.id)return B.location},x.prototype.onRetryLoad=function(){this.controller.dispatch({type:"image-retry-loading",id:this.id})},x.prototype.shouldShowClickableProperties=function(){return!!this.controller.canAuthorClickableObjects()&&this.model.clickableInfo.enabled},x.prototype.shouldShowBrailleError=function(){return this.controller.getBrailleMode()!=="none"&&!!this.model.error},x.prototype.onMouseSelect=function(B){B.type==="dcg-tap"&&B.device==="mouse"||B.type==="dcg-tapstart"&&B.device==="touch"||B.wasHandled()||(B.handle(),this.controller.dispatch({type:"set-selected-id",id:this.id}))},x}(l.default);o.default=D}),q("expressions/shell_view",["require","exports","tslib","dcgview","./abstract-item-view"],function(O,o,w,r,d){Object.defineProperty(o,"__esModule",{value:!0});var i=function(l){function g(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(g,l),g.prototype.didMount=function(){this.onItemViewMounted()},g.prototype.willUnmount=function(){this.onItemViewUnmounted()},g.prototype.template=function(){var y="";return this.model.cachedRenderHeight&&(y="height:"+this.model.cachedRenderHeight+"px"),r.createElement("div",{class:r.const("dcg-do-not-blur dcg-expressionitem dcg-shell"),"expr-id":this.const(this.model.id),onTap:this.bindFn(this.onMouseSelect),style:r.const(y)})},g}(d.default);o.default=i}),q("expressions/drag_container_view",["require","exports","tslib","dcgview"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=function(i){function l(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(l,i),l.prototype.init=function(){this.controller=this.props.controller()},l.prototype.template=function(){var g=this;return r.createElement("div",{class:r.const("dcg-drag-container"),style:function(){return{top:g.getTopPx()}}},this.children)},l.prototype.getTopPx=function(){var g=this.controller.getRawDragState();if(g)return g.itemTop+"px"},l}(r.Class);o.default=d}),q("vendor/papaparse",["require","jquery"],function(O){function o(m,c){var n=g(c);if(typeof m=="string"){if(!n.download)return new i(n).parse(m);var s=new r(n);s.stream(m)}else if(m instanceof File)if(n.step||n.chunk){var s=new d(n);s.stream(m)}else new i(n),reader=new FileReader,reader.onload=function(v){var A=new i(n);A.parse(v.target.result)},reader.onerror=function(){p(n.error)&&n.error(reader.error,m)},reader.readAsText(m,n.encoding)}function w(m,c){function n(S){if(typeof S!="object")return[];var x=[];for(var B in S)x.push(B);return x}function s(S,x){var B="";typeof S=="string"&&(S=JSON.parse(S)),typeof x=="string"&&(x=JSON.parse(x));var Z=S instanceof Array&&S.length>0,X=!(x[0]instanceof Array);if(Z){for(var ee=0;ee<S.length;ee++)ee>0&&(B+=C),B+=v(S[ee],ee);x.length>0&&(B+=D)}for(var W=0;W<x.length;W++){for(var U=Z?S.length:x[W].length,F=0;F<U;F++){F>0&&(B+=C);var G=Z&&X?S[F]:F;B+=v(x[W][G],F)}W<x.length-1&&(B+=D)}return B}function v(S,x){return S==null?"":(S=S.toString().replace(/"/g,'""'),typeof M=="boolean"&&M||M instanceof Array&&M[x]||A(S,b.BAD_DELIMITERS)||S.indexOf(C)>-1||S.charAt(0)==" "||S.charAt(S.length-1)==" "?'"'+S+'"':S)}function A(S,x){for(var B=0;B<x.length;B++)if(S.indexOf(x[B])>-1)return!0;return!1}var M=!1,C=",",D=`\r
`;if(function(){typeof c=="object"&&(typeof c.delimiter=="string"&&c.delimiter.length==1&&b.BAD_DELIMITERS.indexOf(c.delimiter)==-1&&(C=c.delimiter),(typeof c.quotes=="boolean"||c.quotes instanceof Array)&&(M=c.quotes),typeof c.newline=="string"&&(D=c.newline))}(),typeof m=="string"&&(m=JSON.parse(m)),m instanceof Array){if(!m.length||m[0]instanceof Array)return s(null,m);if(typeof m[0]=="object")return s(n(m[0]),m)}else if(typeof m=="object")return typeof m.data=="string"&&(m.data=JSON.parse(m.data)),m.data instanceof Array&&(m.fields||(m.fields=m.data[0]instanceof Array?m.fields:n(m.data[0])),m.data[0]instanceof Array||typeof m.data[0]=="object"||(m.data=[m.data])),s(m.fields||[],m.data||[]);throw"exception: Unable to serialize unrecognized input"}function r(m){m=m||{},m.chunkSize||(m.chunkSize=b.RemoteChunkSize);var c,n,s=0,v="",A="",M=new i(y(m));this.stream=function(C){function D(){if(c=new XMLHttpRequest,c.onload=S,c.onerror=x,c.open("GET",C,!0),m.step){var Z=s+m.chunkSize-1;c.setRequestHeader("Range","bytes="+s+"-"+Z)}c.send(),s+=m.chunkSize}function S(){if(c.readyState==4){if(c.status<200||c.status>=400)return void x();v+=A+c.responseText,A="";var Z=!m.step||s>B(c);if(!Z){var X=v.lastIndexOf(`
`);if(X<0&&(X=v.lastIndexOf("\r")),!(X>-1))return void n();A=v.substring(X+1),v=v.substring(0,X)}var ee=M.parse(v);v="",p(m.chunk)&&(m.chunk(ee),ee=void 0),Z||ee.meta.paused||n()}}function x(){p(m.error)&&m.error(c.statusText)}function B(Z){var X=Z.getResponseHeader("Content-Range");return parseInt(X.substr(X.lastIndexOf("/")+1))}(n=function(){D()})()}}function d(m){m=m||{},m.chunkSize||(m.chunkSize=b.LocalChunkSize);var c,n=0,s="",v="",A=new i(y(m)),M=typeof FileReader=="function";this.stream=function(C){function D(){n<C.size&&S()}function S(){var X=Math.min(n+m.chunkSize,C.size),ee=c.readAsText(Z.call(C,n,X),m.encoding);M||x({target:{result:ee}})}function x(X){n+=m.chunkSize,s+=v+X.target.result,v="";var ee=n>=C.size;if(!ee){var W=s.lastIndexOf(`
`);if(W<0&&(W=s.lastIndexOf("\r")),!(W>-1))return void D();v=s.substring(W+1),s=s.substring(0,W)}var U=A.parse(s);s="",p(m.chunk)&&(m.chunk(U,C),U=void 0),ee||U.meta.paused||D()}function B(){p(m.error)&&m.error(c.error,C)}var Z=C.slice||C.webkitSlice||C.mozSlice;M?(c=new FileReader,c.onload=x,c.onerror=B):c=new FileReaderSync,D()}}function i(m){function c(){return W&&x&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+b.DefaultDelimiter+"'"),x=!1),n()&&s(),v()}function n(){return m.header&&ee.length==0}function s(){if(W){for(var U=0;n()&&U<W.data.length;U++)for(var F=0;F<W.data[U].length;F++)ee.push(W.data[U][F]);W.data.splice(0,1)}}function v(){if(!W||!m.header&&!m.dynamicTyping)return W;for(var U=0;U<W.data.length;U++){for(var F={},G=0;G<W.data[U].length;G++){if(m.dynamicTyping){var ie=W.data[U][G];W.data[U][G]=ie=="true"||ie!="false"&&M(ie)}m.header&&(G>=ee.length?(F.__parsed_extra||(F.__parsed_extra=[]),F.__parsed_extra.push(W.data[U][G])):F[ee[G]]=W.data[U][G])}m.header&&(W.data[U]=F,G>ee.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+ee.length+" fields but parsed "+G,U):G<ee.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+ee.length+" fields but parsed "+G,U))}return m.header&&W.meta&&(W.meta.fields=ee),W}function A(U){for(var F,G,ie,ne=[",","	","|",";",b.RECORD_SEP,b.UNIT_SEP],Y=0;Y<ne.length;Y++){var ge=ne[Y],te=0,H=0;ie=void 0;for(var pe=new l({delimiter:ge,preview:10}).parse(U),fe=0;fe<pe.data.length;fe++){var re=pe.data[fe].length;H+=re,ie!==void 0?re>1&&(te+=Math.abs(re-ie),ie=re):ie=re}H/=pe.data.length,(G===void 0||te<G)&&H>1.99&&(G=te,F=ge)}return m.delimiter=F,{successful:!!F,bestDelimiter:F}}function M(U){return B.test(U)?parseFloat(U):U}function C(U,F,G,ie){W.errors.push({type:U,code:F,message:G,row:ie})}var D,S,x,B=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,Z=this,X=!1,ee=[],W={data:[],errors:[],meta:{}};m=y(m),this.parse=function(U){if(x=!1,!m.delimiter){var F=A(U);F.successful?m.delimiter=F.bestDelimiter:(x=!0,m.delimiter=b.DefaultDelimiter),W.meta.delimiter=m.delimiter}if(p(m.step)){var G=m.step;m.step=function(ie){W=ie,n()?c():G(c(),Z)}}return m.preview&&m.header&&m.preview++,D=U,S=new l(m),W=S.parse(D),c(),p(m.complete)&&!X&&m.complete(W),X?{meta:{paused:!0}}:W},this.pause=function(){X=!0,S.abort(),D=D.substr(S.getCharIndex())},this.resume=function(){X=!1,S=new l(m),S.parse(D),p(m.complete)&&!X&&m.complete(W)},this.abort=function(){S.abort(),p(m.complete)&&m.complete(W),D=""}}function l(m){function c(){for(;he<te.length&&!ue&&!(re>0&&ye>=re);)se=='"'?v():xe?A():M(),n();return s()}function n(){he++,se=te[he]}function s(){if(ue&&ie("Abort","ParseAbort","Parsing was aborted by the user's step function"),xe&&ie("Quotes","MissingQuotes","Unescaped or mismatched quotes"),Z(),!p(fe))return ge()}function v(){F()&&!U()?xe=!xe:(S(),xe&&U()?he++:ie("Quotes","UnexpectedQuotes","Unexpected quotes"))}function A(){(ee(he)||W(he))&&Me++,S()}function M(){se==H?x():ee(he)?(B(),n()):W(he)?B():C()?D():S()}function C(){return!!pe&&(he==0||W(he-1)||ee(he-2))&&te[he]===pe}function D(){for(;!ee(he)&&!W(he)&&he<te.length;)n()}function S(){Be[Re][Ve]+=se}function x(){Be[Re].push(""),Ve=Be[Re].length-1}function B(){Z(),Me++,ye++,Be.push([]),Re=Be.length-1,x()}function Z(){X(),p(fe)&&(Be[Re]&&fe(ge()),Y())}function X(){Be[Re].length==1&&P.test(Be[Re][0])&&(m.keepEmptyRows?Be[Re].splice(0,1):Be.splice(Re,1),Re=Be.length-1)}function ee(Ae){return Ae<te.length-1&&(te[Ae]=="\r"&&te[Ae+1]==`
`||te[Ae]==`
`&&te[Ae+1]=="\r")}function W(Ae){return te[Ae]=="\r"||te[Ae]==`
`}function U(){return!F()&&he<te.length-1&&te[he+1]=='"'}function F(){return!xe&&G(he-1)||G(he+1)}function G(Ae){typeof Ae!="number"&&(Ae=he);var _e=te[Ae];return Ae<=-1||Ae>=te.length||_e==H||_e=="\r"||_e==`
`}function ie(Ae,_e,qe){ke.push({type:Ae,code:_e,message:qe,line:Me,row:Re,index:he})}function ne(Ae){te=Ae,xe=!1,he=0,ye=0,Me=1,Y(),Be=[[""]],se=te[he]}function Y(){Be=[],ke=[],Re=0,Ve=0}function ge(){return{data:Be,errors:ke,meta:{lines:Me,delimiter:H,aborted:ue,truncated:re>0&&he<te.length}}}var te,H,pe,fe,re,se,he,xe,Me,Be,ke,Re,Ve,ye,P=/^\s*$/,ue=!1;m=m||{},H=m.delimiter,pe=m.comments,fe=m.step,re=m.preview,(typeof H!="string"||H.length!=1||b.BAD_DELIMITERS.indexOf(H)>-1)&&(H=","),pe===!0?pe="#":(typeof pe!="string"||pe.length!=1||b.BAD_DELIMITERS.indexOf(pe)>-1||pe==H)&&(pe=!1),this.parse=function(Ae){if(typeof Ae!="string")throw"Input must be a string";return ne(Ae),c()},this.abort=function(){ue=!0},this.getCharIndex=function(){return he}}function g(m){typeof m!="object"&&(m={});var c=y(m);return(typeof c.delimiter!="string"||c.delimiter.length!=1||b.BAD_DELIMITERS.indexOf(c.delimiter)>-1)&&(c.delimiter=f.delimiter),typeof c.header!="boolean"&&(c.header=f.header),typeof c.dynamicTyping!="boolean"&&(c.dynamicTyping=f.dynamicTyping),typeof c.preview!="number"&&(c.preview=f.preview),typeof c.step!="function"&&(c.step=f.step),typeof c.complete!="function"&&(c.complete=f.complete),typeof c.error!="function"&&(c.error=f.error),typeof c.encoding!="string"&&(c.encoding=f.encoding),typeof c.download!="boolean"&&(c.download=f.download),typeof c.keepEmptyRows!="boolean"&&(c.keepEmptyRows=f.keepEmptyRows),c}function y(m){if(typeof m!="object")return m;var c=m instanceof Array?[]:{};for(var n in m)c[n]=y(m[n]);return c}function p(m){return typeof m=="function"}var u=O("jquery"),f={delimiter:"",header:!1,dynamicTyping:!1,preview:0,step:void 0,encoding:"",comments:!1,complete:void 0,error:void 0,download:!1,chunk:void 0,keepEmptyRows:!1},b={};return b.parse=o,b.unparse=w,b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK="\uFEFF",b.BAD_DELIMITERS=["\r",`
`,'"',b.BYTE_ORDER_MARK],b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=",",b.Parser=l,b.ParserHandle=i,b.NetworkStreamer=r,b.FileStreamer=d,u.fn.parse=function(m){function c(){if(A.length!=0){var M=A[0];if(p(m.before)){var C=m.before(M.file,M.inputElem);if(typeof C=="object"){if(C.action=="abort")return void n("AbortError",M.file,M.inputElem,C.reason);if(C.action=="skip")return void s();typeof C.config=="object"&&(M.instanceConfig=u.extend(M.instanceConfig,C.config))}else if(C=="skip")return void s()}var D=M.instanceConfig.complete;M.instanceConfig.complete=function(S){p(D)&&D(S,M.file,M.inputElem),s()},b.parse(M.file,M.instanceConfig)}}function n(M,C,D,S){p(m.error)&&m.error({name:M},C,D,S)}function s(){A.splice(0,1),c()}var v=m.config||{},A=[];return this.each(function(M){if(u(this).prop("tagName").toUpperCase()!="INPUT"||u(this).attr("type").toLowerCase()!="file"||!window.FileReader||!this.files||this.files.length==0)return!0;for(var C=0;C<this.files.length;C++)A.push({file:this.files[C],inputElem:this,instanceConfig:u.extend({},v)})}),c(),this},b}),q("geometry/math/isNumber",["require","exports"],function(O,o){function w(r){var d;if(typeof r=="number")d=r+"";else{if(typeof r!="string")return!1;d=r}return d.trim().match(/^-?[0-9]*\.?[0-9]*$/)}Object.defineProperty(o,"__esModule",{value:!0}),o.isNumber=w}),q("main/data_helpers",["require","exports","vendor/papaparse","underscore","bugsnag","geometry/math/isNumber"],function(O,o,w,r,d,i){function l(y){var p=y.split(/\r?\n/),u=[],f=!1;if(!(p.length<2)){for(var b=0;b<p.length;b++){var m=p[b];if(m.trim()){b>0&&!i.isNumber(m.replace(/,(\d{3})/g,"$1"))&&(f=!0);var c={content:m};u.push(c)}}if(!f){var n=r.pluck(u,"content").map(function(s){return s.replace(/,(\d{3})/g,"$1")});return i.isNumber(n[0])||(n=n.slice(1)),[{content:"\\left["+n.join(",")+"\\right]",numberList:!0}]}return u}}function g(y){if(!/^\s*$/.test(y)){var p=w.parse(y,{preview:1e3}),u=[];if(p.errors.length&&!p.data.length)return void d.notify("PapaParse.parse returned errors.",{metaData:{input:y,output:p.errors}});if(p.data.length&&!(p.data.length<2)){for(var f=p.data[0].length,b=0;b<f;b++)u.push([]);for(var m=0;m<p.data.length;m++)if(m!==0||!isNaN(parseFloat(p.data[m][0]))){if(p.data[m].length<2)return;if(p.data[m][0]||p.data[m][1])for(var b=0;b<f;b++){var c=(p.data[m][b]||"").replace(/,(\d{3})/g,"$1");if(c&&isNaN(parseFloat(c)))return;u[b].push(c)}}if(!(u[0].length<2))return u}}}Object.defineProperty(o,"__esModule",{value:!0}),o.getExpressions=l,o.parse=g}),q("loadcss!new_expression",function(){}),q("expressions/new_expression_view",["require","exports","tslib","dcgview","loadcss!new_expression"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=function(i){function l(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(l,i),l.prototype.template=function(){return this.controller=this.props.controller(),r.createElement("div",{class:r.const("dcg-expressionitem dcg-new-expression dcg-opened")},r.createElement("div",{class:r.const("dcg-new-math-div dcg-do-not-blur dcg-action-newmath"),onTap:this.bindFn(this.newMath)},r.createElement("div",{class:r.const("dcg-new-expression-fade")})),r.createElement("span",{class:r.const("dcg-tab")},r.createElement("span",{class:r.const("dcg-num dcg-variable-index")},this.bindFn(this.getIndex)),r.createElement("div",{class:r.const("dcg-tab-interior")})))},l.prototype.getIndex=function(){return this.controller.getNextDisplayIndex()},l.prototype.newMath=function(){this.controller.dispatch({type:"new-expression-at-end"})},l}(r.Class);o.default=d}),q("loadcss!add_expression",function(){}),q("expressions/add_expression_view",["require","exports","tslib","keys","browser","lib/tooltip","dcgview","jquery","./image-upload-view","main/manage-focus-helper","loadcss!add_expression"],function(O,o,w,r,d,i,l,g,y,p){Object.defineProperty(o,"__esModule",{value:!0});var u=l.Components.If,f=function(b){function m(){return b!==null&&b.apply(this,arguments)||this}return w.__extends(m,b),m.prototype.init=function(){this.controller=this.props.controller()},m.prototype.template=function(){var c=this;return l.createElement("div",{class:l.const("dcg-add-expression-container")},l.createElement(i.Tooltip,{tooltip:function(){return c.controller.t("Add Item")},gravity:function(){return c.controller.isNarrow()?"ne":"se"}},l.createElement("span",{class:function(){return{"dcg-icon-btn":!0,"dcg-add-expression-btn":!0,"dcg-action-add-expression":!0,"dcg-do-blur":!0,"dcg-active":c.controller.isAddExpressionOpen()}},handleEvent:l.const("true"),role:l.const("button"),tabindex:l.const("0"),"aria-haspopup":l.const("true"),"aria-expanded":function(){return c.controller.isAddExpressionOpen()},"aria-label":function(){return c.controller.t("Add Item")},didMount:function(n){c.toggleButtonNode=n},onTap:this.bindFn(this.toggleAddExpression),manageFocus:this.const(p.manageFocusHelper({controller:this.controller,location:{type:"add-item-btn"}}))},l.createElement("i",{class:l.const("dcg-icon-plus")}))),l.createElement(u,{predicate:function(){return c.controller.isAddExpressionOpen()}},function(){return l.createElement("div",{class:function(){return{"dcg-add-expression-dropdown":!0,"dcg-popover":!0,"dcg-bottom":!c.controller.isNarrow(),"dcg-right":c.controller.isNarrow()}},role:l.const("complementary"),"aria-label":l.const("Add Item Menu"),didMount:c.bindFn(c.didMountPopover),didUnmount:c.bindFn(c.didUnmountPopover)},l.createElement("div",{class:l.const("dcg-popover-interior")},l.createElement("div",{class:l.const("dcg-new-item dcg-do-not-blur dcg-action-newexpression"),role:l.const("button"),tabindex:l.const(0),"aria-label":function(){return c.controller.t("Add Expression")},onTap:c.bindFn(c.newExpression),handleEvent:l.const("true"),manageFocus:c.const(p.manageFocusHelper({controller:c.controller,location:{type:"add-expression-btn"}}))},l.createElement("i",{class:l.const("dcg-icon-new-expression dcg-expression-icon")}),function(){return c.controller.t("expression")}),l.createElement(u,{predicate:function(){return c.controller.areNotesEnabled()}},function(){return l.createElement("div",{class:l.const("dcg-new-item dcg-do-not-blur dcg-action-newtext"),role:l.const("button"),tabindex:l.const(0),"aria-label":function(){return c.controller.t("Add Note")},onTap:c.bindFn(c.newText),handleEvent:l.const("true")},l.createElement("i",{class:l.const("dcg-icon-new-text dcg-expression-icon")}),function(){return c.controller.t("note")})}),l.createElement("div",{class:l.const("dcg-new-item dcg-do-not-blur dcg-action-newtable"),role:l.const("button"),tabindex:l.const(0),"aria-label":function(){return c.controller.t("Add Table")},onTap:c.bindFn(c.newTable),handleEvent:l.const("true"),manageFocus:c.const(p.manageFocusHelper({controller:c.controller,location:{type:"add-table-btn"}}))},l.createElement("i",{class:l.const("dcg-icon-new-table dcg-expression-icon")}),function(){return c.controller.t("table")}),l.createElement(u,{predicate:function(){return c.controller.areFoldersEnabled()}},function(){return l.createElement("div",{class:l.const("dcg-new-item dcg-do-not-blur dcg-action-newfolder"),role:l.const("button"),tabindex:l.const(0),"aria-label":function(){return c.controller.t("Add Folder")},onTap:c.bindFn(c.newFolder),handleEvent:l.const("true"),manageFocus:c.const(p.manageFocusHelper({controller:c.controller,location:{type:"add-folder-btn"}}))},l.createElement("i",{class:l.const("dcg-icon-new-folder dcg-expression-icon")}),function(){return c.controller.t("folder")})}),l.createElement(u,{predicate:function(){return c.controller.areImagesEnabled()}},function(){return l.createElement(y.ImageUploadView,{controller:function(){return c.controller},ariaLabel:function(){return c.controller.t("Add Image")},onFileChange:function(n){return c.insertFiles(n)},location:c.const({type:"add-image-btn"})},l.createElement("div",{class:l.const("dcg-new-item dcg-action-newimage")},l.createElement("i",{class:l.const("dcg-icon-new-image dcg-expression-icon")}),function(){return c.controller.t("image")}))})),l.createElement("span",{class:l.const("dcg-arrow")}))}))},m.prototype.didMountPopover=function(c){var n=this;this.popoverNode=c,g(document).on("dcg-tapstart.add-expression-view wheel.add-expression-view",function(s){n.eventShouldClosePopover(s)&&n.controller.dispatch({type:"close-add-expression",focusIconAfterClose:s.device==="keyboard"})}),g(document).on("keydown.add-expression-view",function(s){if(r.lookup(s)==="Esc"&&n.controller.dispatch({type:"close-add-expression",focusIconAfterClose:!0}),r.lookup(s)==="Tab"&&!s.altKey&&!s.metaKey&&!s.ctrlKey){var v=n.controller.getFocusLocation();if(!v)return;var A=void 0;A=n.controller.areImagesEnabled()?{type:"add-image-btn"}:n.controller.areFoldersEnabled()?{type:"add-folder-btn"}:{type:"add-table-btn"},s.shiftKey||v.type!==A.type?s.shiftKey&&v.type==="add-item-btn"&&(n.controller.dispatch({type:"set-focus-location",location:A}),s.preventDefault(),s.stopPropagation()):(n.controller.dispatch({type:"set-focus-location",location:{type:"add-item-btn"}}),s.preventDefault(),s.stopPropagation())}}),d.IS_IPAD&&d.IS_IN_IFRAME&&g(c).on("dcg-tapstart",function(s){return s.preventDefault()}),g(c).find(".dcg-new-item").on("touchstart",function(s){return s.preventDefault()})},m.prototype.didUnmountPopover=function(){g(document).off(".add-expression-view")},m.prototype.toggleAddExpression=function(c){this.controller.dispatch({type:"toggle-add-expression",focusOnOpen:c.device==="keyboard"})},m.prototype.newExpression=function(){this.controller.dispatch({type:"new-expression"})},m.prototype.newText=function(){this.controller.dispatch({type:"new-text"})},m.prototype.newFolder=function(){this.controller.dispatch({type:"new-folder"})},m.prototype.newTable=function(){this.controller.dispatch({type:"new-table"})},m.prototype.insertFiles=function(c){this.controller.dispatch({type:"new-images",files:c})},m.prototype.eventShouldClosePopover=function(c){var n=!!g(c.target).closest(this.popoverNode).length,s=!!g(c.target).closest(this.toggleButtonNode).length;return!(n||s)},m}(l.Class);o.default=f}),q("loadcss!expressions/expressions-header",function(){}),q("expressions/expressions-header",["require","exports","tslib","./add_expression_view","dcgview","lib/tooltip","main/manage-focus-helper","loadcss!./expressions-header"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=d.Components.If,y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.init=function(){this.controller=this.props.controller()},u.prototype.template=function(){var f=this;return d.createElement("div",{class:function(){return{"dcg-expression-top-bar":!0,"dcg-expressions-scrolled":f.props.expsScrolled()}},role:d.const("toolbar"),"aria-label":function(){return f.controller.t("Expression Bar")},didMount:function(b){f.node=b},onTapStart:this.bindFn(this.clearSelectionOnMobile),style:function(){return{background:f.controller.hasBackgroundColor()?f.controller.getPillboxBackgroundColor():void 0}}},d.createElement("div",{class:d.const("dcg-left-buttons")},d.createElement(g,{predicate:this.bindFn(this.showHamburger)},function(){return d.createElement("span",{class:d.const("dcg-action-opendrawer dcg-tooltip dcg-icon-btn dcg-in-api-action-opendrawer"),handleEvent:d.const("true"),tooltip:function(){return f.controller.t("Open Graph (ctrl+o)")},role:d.const("button"),tabindex:d.const("0"),"aria-label":function(){return f.controller.t("Open Graph")},onTap:function(){return f.controller.dispatch({type:"open-drawer"})}},d.createElement("i",{class:d.const("dcg-icon-hamburger")}))}),d.createElement(g,{predicate:function(){return!f.controller.isInEditListMode()}},function(){return d.createElement(r.default,{controller:function(){return f.props.controller()}})}),d.createElement(g,{predicate:this.bindFn(this.showRerandomize)},function(){return d.createElement(i.Tooltip,{tooltip:function(){return f.controller.t("Randomize")},gravity:function(){return f.controller.isNarrow()?"n":"s"}},d.createElement("span",{class:d.const("dcg-icon-btn"),handleEvent:d.const("true"),role:d.const("button"),tabindex:d.const("0"),"aria-label":function(){return f.controller.t("Randomize")},onTap:function(){return f.controller.dispatch({type:"re-randomize"})}},d.createElement("i",{class:d.const("dcg-icon-randomize")})))}),d.createElement(g,{predicate:function(){return f.controller.isInEditListMode()&&!f.controller.hasDefaultState()}},function(){return d.createElement("span",{class:d.const("dcg-btn-red dcg-action-clearall"),role:d.const("button"),tabindex:d.const("0"),onTap:function(){return f.controller.dispatch({type:"clear-graph"})}},function(){return f.controller.t("Delete All")})}),d.createElement(g,{predicate:function(){return f.controller.isInEditListMode()&&f.controller.hasDefaultState()}},function(){return d.createElement("span",{class:d.const("dcg-btn-red dcg-action-reset"),role:d.const("button"),tabindex:d.const("0"),onTap:function(){return f.controller.dispatch({type:"reset-graph"})}},function(){return f.controller.t("Reset")})})),d.createElement("div",{class:d.const("dcg-center-buttons")},d.createElement(i.Tooltip,{tooltip:function(){return f.controller.t("Undo (ctrl+z)")},gravity:function(){return f.controller.isNarrow()?"n":"s"},disabled:function(){return!f.controller.canUndo()}},d.createElement("span",{class:function(){return{"dcg-action-undo":!0,"dcg-icon-btn":!0,"dcg-disabled":!f.controller.canUndo()}},role:d.const("button"),tabindex:function(){return f.controller.canUndo()?0:-1},"aria-label":function(){return f.controller.t("Undo")},onTap:function(){return f.controller.dispatch({type:"undo"})},"aria-disabled":function(){return!f.controller.canUndo()}},d.createElement("i",{class:d.const("dcg-icon-undo")}))),d.createElement(i.Tooltip,{tooltip:function(){return f.controller.t("Redo (ctrl+y)")},gravity:function(){return f.controller.isNarrow()?"n":"s"},disabled:function(){return!f.controller.canRedo()}},d.createElement("span",{class:function(){return{"dcg-action-redo":!0,"dcg-icon-btn":!0,"dcg-disabled":!f.controller.canRedo()}},role:d.const("button"),tabindex:function(){return f.controller.canRedo()?0:-1},"aria-label":function(){return f.controller.t("Redo")},onTap:function(){return f.controller.dispatch({type:"redo"})},"aria-disabled":function(){return!f.controller.canRedo()}},d.createElement("i",{class:d.const("dcg-icon-redo")})))),d.createElement("div",{class:d.const("dcg-right-buttons")},d.createElement(g,{predicate:function(){return!f.controller.isInEditListMode()}},function(){return d.createElement(i.Tooltip,{tooltip:function(){return f.controller.t("Edit List")},gravity:function(){return f.controller.isNarrow()?"n":"s"}},d.createElement("span",{class:d.const("dcg-icon-btn dcg-action-toggle-edit"),handleEvent:d.const("true"),role:d.const("button"),tabindex:d.const("0"),"aria-label":function(){return f.controller.t("Edit Expression List")},onTap:f.bindFn(f.toggleEditListMode),manageFocus:f.const(l.manageFocusHelper({controller:f.controller,location:{type:"edit-list-toggle"}}))},d.createElement("i",{class:d.const("dcg-icon-settings")})))}),d.createElement(g,{predicate:function(){return f.controller.isInEditListMode()}},function(){return d.createElement("span",{class:d.const("dcg-btn-blue dcg-action-toggle-edit dcg-do-not-blur"),handleEvent:d.const("true"),role:d.const("button"),tabindex:d.const("0"),onTap:f.bindFn(f.toggleEditListMode),manageFocus:f.const(l.manageFocusHelper({controller:f.controller,location:{type:"edit-list-toggle"}}))},function(){return f.controller.t("Done")})}),d.createElement(g,{predicate:function(){return!f.controller.isInEditListMode()&&f.controller.getGraphSettings().config.graphpaper}},function(){return d.createElement(i.Tooltip,{tooltip:function(){return f.controller.t("Hide Expression List")},gravity:function(){return f.controller.isNarrow()?"nw":"sw"}},d.const(" "),d.createElement("span",{class:function(){return{"dcg-resize-list-btn":!0,"dcg-action-hideexpressions":!0,"dcg-icon-btn":!0,"dcg-rotated":f.controller.isNarrow()}},role:d.const("button"),tabindex:d.const("0"),"aria-label":function(){return f.controller.t("Hide Expression List")},onTap:function(){return f.controller.dispatch({type:"hide-expressions-list"})}},d.createElement("i",{class:d.const("dcg-icon-hide")})))})))},u.prototype.showRerandomize=function(){return this.controller.anyItemDependsOnRandomSeed()},u.prototype.showHamburger=function(){return!!this.controller.getGraphSettings().config.showHamburger&&!this.controller.isInEditListMode()&&!this.controller.isNarrow()},u.prototype.clearSelectionOnMobile=function(f){f.wasHandled()||this.controller.dispatch({type:"set-none-selected"})},u.prototype.toggleEditListMode=function(f){this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!this.controller.isInEditListMode(),focusExpressionList:!1}),f.device==="keyboard"&&this.controller.dispatch({type:"set-focus-location",location:{type:"edit-list-toggle"}})},u}(d.Class);o.default=y}),q("main/load-graph-from-link",["require","exports","core/graphing-calc/migrate-state","jquery"],function(O,o,w,r){function d(i,l,g,y){var p=!1;i.dispatch({type:"toast/show",toast:{message:i.t("Importing graph..."),hideAfter:0,toastStyle:"cover",onHide:function(){p=!0}}});var u=i.getState(),f=function(){p||i.dispatch({type:"toast/show",toast:{message:i.t("Error importing graph. Check the URL?"),toastStyle:"error",hideAfter:12e3}})},b=function(n){if(!n||!n.expressions||!n.expressions.list)return!1;for(var s=n.expressions.list,v=0;v<s.length;v++)if(s[v].type==="folder")return!1;return!0},m=function(n,s){if(!p){var v=i.getSelectedItem();if(!b(n))return void i.dispatch({type:"toast/show",toast:{message:i.t("Only graphs without folders can be inserted into a folder."),toastStyle:"error",hideAfter:12e3}});v&&i.dispatch({type:"set-folder-title",id:v.id,title:s}),n.expressions.list.forEach(function(A){A.id=i.generateId()}),i.dispatch({type:"insert-several-expressions",expressions:n.expressions.list}),i.dispatch({type:"toast/show",toast:{message:i.t("Graph imported!")}})}},c=function(n){p||(i.dispatch({type:"set-state",state:n}),i.dispatch({type:"toast/show",toast:{message:i.t("Graph imported!"),undoCallback:function(){i.dispatch({type:"set-state",state:u})}}}))};r.getJSON(l).done(function(n){var s=w.migrateToLatest(n.state);y(s,function(v,A){v||!A?f():g==="set-state"?c(A):m(A,n.title)})}).fail(f)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=d}),q("lib/get-clipboard-data",["require","exports"],function(O,o){function w(r){return window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):r&&r.clipboardData&&r.clipboardData.getData?r.clipboardData.getData("text/plain"):void 0}Object.defineProperty(o,"__esModule",{value:!0}),o.default=w}),q("loadcss!expressions/exp-list-resizer",function(){}),q("expressions/exp-list-resizer",["require","exports","tslib","dcgview","jquery","underscore","loadcss!./exp-list-resizer"],function(O,o,w,r,d,i){Object.defineProperty(o,"__esModule",{value:!0});var l=r.Components.If,g=function(y){function p(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(p,y),p.prototype.init=function(){this.guid=i.uniqueId("dcg-exp-list-resize")},p.prototype.template=function(){var u=this;return r.createElement(l,{predicate:this.bindFn(this.isVisible)},function(){return r.createElement("div",{class:r.const("dcg-exp-list-resizer"),onTapStart:u.bindFn(u.onTapStart)})})},p.prototype.isVisible=function(){return!this.props.controller().expressionsAreFullWidth()&&this.props.controller().isListVisible()},p.prototype.onTapStart=function(u){var f=this;this.initialWidth=this.props.controller().getExpListWidth(),this.initialLeft=u.changedTouches[0].clientX,d(document).on("dcg-tapmove."+this.guid,function(b){if(f.initialLeft!==void 0&&f.initialWidth!==void 0){var m=b.changedTouches[0].clientX-f.initialLeft+f.initialWidth;f.props.controller().dispatch({type:"resize-exp-list",expListWidth:m})}}),d(document).on("dcg-tapend."+this.guid,this.bindFn(this.onTapEnd)),d(document).on("dcg-tapcancel."+this.guid,this.bindFn(this.onTapEnd))},p.prototype.onTapEnd=function(){d(document).off("."+this.guid),this.initialLeft=void 0,this.initialWidth=void 0},p}(r.Class);o.ExpListResizer=g}),q("loadcss!expressions/color-menu",function(){}),q("expressions/color-menu",["require","exports","tslib","dcgview","underscore","core/lib/color-helpers","expressions/colors","./circular-icon-view","loadcss!./color-menu"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=r.Components,p=y.For,u=y.If,f=y.Input,b=function(m){function c(){return m!==null&&m.apply(this,arguments)||this}return w.__extends(c,m),c.prototype.init=function(){this.controller=this.props.controller()},c.prototype.template=function(){var n=this;return r.createElement("div",null,r.createElement(p,{each:function(){return d.values(n.controller.getColors())}},r.createElement("div",{class:r.const("dcg-color-menu dcg-do-not-blur")},function(s){return r.createElement("span",{class:r.const("dcg-color-option"),handleevent:r.const("true"),role:r.const("button"),tabindex:r.const(0),"aria-label":function(){return l.getColorName(n.controller,s)},"aria-pressed":function(){return n.props.selectedColor()===s},onTap:function(){return n.props.onColorSelected(s)}},r.createElement(g.CircularIconView,{iconType:function(){return n.props.selectedColor()===s?"check":"none"},backgroundColor:function(){return s}}))})),r.createElement(u,{predicate:function(){return n.controller.canUseAdvancedStyling()}},function(){return r.createElement("div",{class:r.const("dcg-advanced-color-styling")},r.const("Hex:"),r.createElement(f,{class:function(){return{"dcg-error":!i.isValidHexColor(n.props.selectedColor())}},value:n.props.selectedColor,onInput:function(s){n.props.onColorSelected(s)}}))}))},c}(r.Class);o.default=b}),q("loadcss!expressions/toggle-view",function(){}),q("expressions/toggle-view",["require","exports","tslib","dcgview","loadcss!./toggle-view"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=function(i){function l(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(l,i),l.prototype.template=function(){var g=this;return r.createElement("div",{class:function(){return{"dcg-toggle-view":!0,"dcg-toggled":g.props.toggled()}},"aria-label":function(){return g.props.ariaLabel()},role:r.const("checkbox"),tabindex:r.const("0"),"aria-checked":function(){return g.props.toggled()},toggled:function(){return g.props.toggled()},onTap:this.bindFn(this.props.onChange)},r.createElement("div",{class:r.const("dcg-toggle-switch")}))},l}(r.Class);o.default=d}),q("expressions/expression_options_view",["require","exports","tslib","dcgview","underscore","core/lib/dragmode","./color-menu","core/math/expression-types","graphing-calc/models/expression","core/types/styles","expressions/toggle-view","dcgview-helpers/checkbox","./circular-icon-view","lib/aria","dcgview-helpers/mathquill-view","core/types/opacity","core/types/line-width"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n,s){Object.defineProperty(o,"__esModule",{value:!0});var v=r.Components,A=v.For,M=v.If,C=function(D){function S(){return D!==null&&D.apply(this,arguments)||this}return w.__extends(S,D),S.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},S.prototype.template=function(){var x=this;return r.createElement("div",{class:function(){return{"dcg-exp-options-menu":!0,"dcg-options-menu":!0,"dcg-colors-only":x.sections().length===0}},role:r.const("group"),"aria-label":function(){return x.controller.t("Options Menu")},didMount:function(){m.alert(x.controller.t("Options menu open."))},didUnmount:function(){m.alert(x.controller.t("Options menu closed."))}},r.createElement("div",{class:r.const("dcg-triangle")}),r.createElement("div",{class:r.const("dcg-options-menu-column-left")},r.createElement(M,{predicate:function(){return x.sections().indexOf("pointStyles")>=0}},function(){return r.createElement("div",{class:r.const("dcg-styles-div dcg-options-menu-section dcg-styles-section")},r.createElement("div",{class:function(){return{"dcg-styles-menu":!0,"dcg-dividing-line-after":x.hasNextSection("pointStyles")}},role:r.const("group"),"aria-label":function(){return x.controller.t("Point Style Options")}},r.createElement("span",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-toggle-title")},function(){return x.shouldPreventPointsToggle()?x.controller.t("Style"):x.controller.t("Points")}),r.createElement(M,{predicate:function(){return!x.shouldPreventPointsToggle()}},function(){return r.createElement(u.default,{ariaLabel:function(){return x.controller.t("Points")},toggled:function(){return x.getDisplayProps().points},onChange:x.bindFn(x.onTogglePoints)})}),r.createElement(M,{predicate:function(){return x.getDisplayProps().points||x.shouldPreventPointsToggle()}},function(){return r.createElement(A,{each:x.bindFn(x.getValidPointStyles)},r.createElement("div",{class:r.const("dcg-style-icons")},function(B){return r.createElement("div",{class:r.const("dcg-style-icon-container"),onTap:function(){return x.onPointStyleSelected(B)},role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return B},"aria-pressed":function(){return x.model.pointStyle!==B}},r.createElement(b.CircularIconView,{backgroundColor:function(){return x.model.color},semiTransparent:function(){return x.model.pointStyle!==B},iconType:function(){return B==="CROSS"?"point-cross":B==="OPEN"?"point-open":"point-default"}}))}))})))}),r.createElement(M,{predicate:function(){return x.sections().indexOf("pointSizes")>=0}},function(){return r.createElement("div",{class:r.const("dcg-styles-div dcg-options-menu-section dcg-sizes-section")},r.createElement("div",{class:function(){return{"dcg-styles-menu":!0,"dcg-dividing-line-after":x.hasNextSection("pointSizes")}},role:r.const("group"),"aria-label":function(){return x.controller.t("Size Options")}},r.createElement("span",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-toggle-title")},function(){return x.controller.t("Size")}),r.createElement(A,{each:x.bindFn(x.getValidPointSizes)},r.createElement("div",{class:r.const("dcg-style-icons")},function(B){return r.createElement("div",{class:r.const("dcg-style-icon-container"),onTap:function(){return x.onDotplotPointSizeSelected(B)},role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return B},"aria-pressed":function(){return x.model.vizProps.dotplotSize!==B}},r.createElement(b.CircularIconView,{backgroundColor:function(){return x.model.color},semiTransparent:function(){return x.model.vizProps.dotplotSize!==B},iconType:function(){return x.model.pointStyle==="CROSS"?"point-cross":x.model.pointStyle==="OPEN"?"point-open":"point-default"},iconModifier:function(){return B==="medium"?"medium":B==="large"?"large":"small"}}))}))))}),r.createElement(M,{predicate:function(){return x.sections().indexOf("lineStyles")>=0}},function(){return r.createElement("div",{class:r.const("dcg-styles-div dcg-options-menu-section dcg-lines-menu")},r.createElement("div",{class:function(){return{"dcg-styles-menu":!0,"dcg-dividing-line-after":x.hasNextSection("lineStyles")}},role:r.const("group"),"aria-label":function(){return x.controller.t("Line Style Options")}},r.createElement("span",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-toggle-title")},function(){return x.shouldShowLinesToggle()?x.controller.t("Lines"):x.controller.t("Style")}),r.createElement(M,{predicate:function(){return x.shouldShowLinesToggle()}},function(){return r.createElement(u.default,{ariaLabel:function(){return x.controller.t("Lines")},toggled:function(){return x.getDisplayProps().lines},onChange:x.bindFn(x.onToggleLines)})}),r.createElement(M,{predicate:function(){return x.shouldShowLineStyles()}},function(){return r.createElement(A,{each:x.bindFn(x.getValidLineStyles)},r.createElement("div",{class:r.const("dcg-style-icons")},function(B){return r.createElement("div",{class:r.const("dcg-style-icon-container"),onTap:function(){return x.onLineStyleSelected(B)},role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return B},"aria-pressed":function(){return x.model.lineStyle!==B}},r.createElement(b.CircularIconView,{backgroundColor:function(){return x.model.color},semiTransparent:function(){return x.model.lineStyle!==B},iconType:function(){return B==="DOTTED"?"graph-dotted":B==="DASHED"?"graph-dashed":"graph-default"}}))}))}),r.createElement(M,{predicate:function(){return x.shouldShowLineStyles()&&x.controller.canUseAdvancedStyling()&&!x.isRegresssion()}},function(){return r.createElement("div",{class:r.const("dcg-variable-width")},r.const("Width:"),r.createElement(c.default,{latex:function(){return x.model.lineWidth},placeholder:function(){return""+s.DEFAULT},isFocused:function(){return x.getFocusedInput()==="linewidth"},capExpressionSize:function(){return!!x.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:x.const(!0),config:x.const({}),getAriaLabel:function(){return x.controller.t("Line Width: ")},getAriaPostLabel:x.const(""),hasError:function(){return!y.isLineWidthValid(x.model)},onUserChangedLatex:function(B){return x.dispatchLineWidthLatexIfChanged(B)},onExpressionSizeExceeded:function(){return x.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(B){return x.handleFocusedChanged(B,"linewidth")},dataLabelAttributeValue:x.const("line-width")}))})))}),r.createElement(M,{predicate:function(){return x.sections().indexOf("dragModes")>=0}},function(){return r.createElement("div",{class:function(){return{"dcg-styles-menu":!0,"dcg-dividing-line-after":x.hasNextSection("dragModes")}},role:r.const("group"),"aria-label":function(){return x.controller.t("Drag Options")}},r.createElement("div",{class:r.const("dcg-drag-menu")},r.createElement("span",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-toggle-title")},function(){return x.controller.t("Drag")}),r.createElement(u.default,{ariaLabel:function(){return x.controller.t("Drag")},toggled:function(){return x.model.reconciledDragMode!==i.DragMode.NONE},onChange:x.bindFn(x.onToggleDrag)}),r.createElement(M,{predicate:function(){return x.model.reconciledDragMode!==i.DragMode.NONE}},function(){return r.createElement(A,{each:function(){return x.getUIDragModes()}},r.createElement("div",{class:r.const("dcg-style-icons")},function(B){return r.createElement("div",{class:function(){return{"dcg-style-icon-container":!0,"dcg-disabled":x.isDisabled(B)}},onTap:function(){return x.onDragModeSelected(B)},role:r.const("button"),tabindex:function(){return x.isDisabled(B)?-1:0},"aria-label":function(){return B},"aria-pressed":function(){return x.model.reconciledDragMode!==B}},r.createElement(b.CircularIconView,{backgroundColor:function(){return x.isDisabled(B)?"#bbb":x.model.color},semiTransparent:function(){return x.model.reconciledDragMode!==B},iconType:function(){return B==="X"?"movable-horizontal":B==="Y"?"movable-vertical":"movable-both"}}))}))})))}),r.createElement(M,{predicate:function(){return x.sections().indexOf("isFillable")>=0}},function(){return r.createElement("div",{class:r.const("dcg-styles-div dcg-options-menu-section")},r.createElement("div",{class:r.const("dcg-styles-menu")},r.createElement(f.Checkbox,{checked:function(){return x.getDisplayProps().fill},onChange:x.bindFn(x.onToggleFill),ariaLabel:function(){return x.controller.t("Fill")}},function(){return x.controller.t("Fill")}),r.createElement(M,{predicate:function(){return x.getDisplayProps().fill&&x.controller.canUseAdvancedStyling()}},function(){return r.createElement("div",{class:r.const("dcg-variable-opacity")},r.const("Opacity:"),r.createElement(c.default,{latex:function(){return x.model.fillOpacity},placeholder:function(){return""+n.DEFAULT},isFocused:function(){return x.getFocusedInput()==="opacity"},capExpressionSize:function(){return!!x.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:x.const(!0),config:x.const({}),getAriaLabel:function(){return x.controller.t("Fill Opacity: ")},getAriaPostLabel:x.const(""),hasError:function(){return!y.isFillOpacityValid(x.model)},onUserChangedLatex:function(B){return x.dispatchOpacityLatexIfChanged(B)},onExpressionSizeExceeded:function(){return x.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(B){return x.handleFocusedChanged(B,"opacity")},dataLabelAttributeValue:x.const("fill-opacity"),needsSystemKeypad:function(){return!x.controller.isKeypadEnabled()}}))})))}),r.createElement(M,{predicate:function(){return x.sections().indexOf("isClickable")>=0}},function(){return r.createElement("div",null,r.createElement(f.Checkbox,{checked:function(){return!!x.model.clickableInfo.enabled},onChange:function(B){x.controller.dispatch({type:"set-clickableinfo-prop",id:x.model.id,prop:"enabled",value:B})},ariaLabel:function(){return x.controller.t("Clickable")}},function(){return x.controller.t("Clickable")}))})),r.createElement("div",{class:r.const("dcg-options-menu-column-right")},r.createElement("div",{class:r.const("dcg-colors-div dcg-options-menu-section"),role:r.const("group"),"aria-label":function(){return x.controller.t("Color Options")}},r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-title")},function(){return x.controller.t("Color")}),r.createElement(l.default,{controller:function(){return x.props.controller()},selectedColor:function(){return x.model.color},onColorSelected:this.bindFn(this.onColorSelected)}))))},S.prototype.getFocusedInput=function(){var x=this.controller.getFocusLocation();if(x&&x.type==="expression-menu"&&x.id===this.id)return x.location},S.prototype.handleFocusedChanged=function(x,B){x?this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:this.id,location:B}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"expression-menu",id:this.id,location:B}})},S.prototype.dispatchOpacityLatexIfChanged=function(x){this.model.fillOpacity!==x&&this.controller.dispatch({type:"set-item-fillopacity",id:this.id,fillOpacity:x})},S.prototype.dispatchLineWidthLatexIfChanged=function(x){this.model.lineWidth!==x&&this.controller.dispatch({type:"set-item-linewidth",id:this.id,lineWidth:x})},S.prototype.hasNextSection=function(x){var B=this.sections();return B.indexOf(x)<B.length-1},S.prototype.sections=function(){if(y.isToplevelDistribution(this.model))return[];var x=[];return this.getValidPointStyles().length>0&&x.push("pointStyles"),this.shouldShowDotplotPointSizes()&&x.push("pointSizes"),this.getValidLineStyles().length>0&&!y.isSinglePoint(this.model)&&x.push("lineStyles"),this.getUIDragModes().length>0&&x.push("dragModes"),(y.isPolygon(this.model)||y.isParametric(this.model))&&x.push("isFillable"),this.shouldShowClickable()&&x.push("isClickable"),x},S.prototype.getValidPointStyles=function(){return y.isPointOrPointList(this.model)||y.isDotPlot(this.model)?[p.PointStyle.POINT,p.PointStyle.OPEN,p.PointStyle.CROSS]:[]},S.prototype.getValidPointSizes=function(){return y.isDotPlot(this.model)?["small","medium","large"]:[]},S.prototype.shouldShowDotplotPointSizes=function(){return this.getValidPointSizes().length>0},S.prototype.shouldShowClickable=function(){return!!this.controller.canAuthorClickableObjects()&&y.isClickableAllowed(this.model)},S.prototype.getUIDragModes=function(){return this.model.formula.move_strategy?[i.DragMode.X,i.DragMode.Y,i.DragMode.XY]:[]},S.prototype.getValidLineStyles=function(){return y.isVisualization(this.model)?[]:this.model.formula.is_inequality||y.isSinglePoint(this.model)?[]:[p.LineStyle.SOLID,p.LineStyle.DASHED,p.LineStyle.DOTTED]},S.prototype.shouldPreventPointsToggle=function(){return y.isSinglePoint(this.model)||y.isDotPlot(this.model)},S.prototype.onToggleFill=function(){this.controller.dispatch({type:"set-item-fill",id:this.id,fill:!this.getDisplayProps().fill})},S.prototype.onColorSelected=function(x){this.controller.dispatch({type:"set-item-color",id:this.id,color:x})},S.prototype.shouldShowLinesToggle=function(){return y.isPointOrPointList(this.model)||y.isParametric(this.model)||y.isPolygon(this.model)},S.prototype.shouldShowLineStyles=function(){return this.getDisplayProps().lines||!this.shouldShowLinesToggle()},S.prototype.onTogglePoints=function(){this.controller.dispatch({type:"set-item-points",id:this.id,points:!this.getDisplayProps().points})},S.prototype.onPointStyleSelected=function(x){this.model.pointStyle!==x&&this.controller.dispatch({type:"set-item-pointstyle",id:this.id,pointStyle:x})},S.prototype.onDotplotPointSizeSelected=function(x){this.model.vizProps.dotplotSize!==x&&this.controller.dispatch({type:"set-visualization-prop",id:this.id,prop:"dotplotSize",latex:x})},S.prototype.onToggleLines=function(){this.controller.dispatch({type:"set-item-lines",id:this.id,lines:!this.getDisplayProps().lines})},S.prototype.onLineStyleSelected=function(x){this.model.lineStyle!==x&&this.controller.dispatch({type:"set-item-linestyle",id:this.id,lineStyle:x})},S.prototype.isDisabled=function(x){var B=this.controller.getEnabledDragModesForItem(this.id);return!d.contains(B,x)},S.prototype.getDragMode=function(){return this.model.reconciledDragMode||this.model.dragMode},S.prototype.getDisplayProps=function(){var x=this.model,B=x.points,Z=x.lines,X=x.fill;return g.getReconciledExpressionProps(this.model.formula.expression_type,{points:B,lines:Z,fill:X})},S.prototype.onToggleDrag=function(){var x=this.model.reconciledDragMode!==i.DragMode.NONE?i.DragMode.NONE:i.DragMode.XY;this.controller.dispatch({type:"set-item-dragmode",id:this.id,dragMode:x})},S.prototype.onDragModeSelected=function(x){this.isDisabled(x)||this.controller.dispatch({type:"set-item-dragmode",id:this.id,dragMode:x})},S.prototype.isRegresssion=function(){return this.model.formula&&this.model.formula.is_regression},S}(r.Class);o.ExpressionOptionsMenuView=C}),q("expressions/image_options_view",["require","exports","tslib","dcgview","dcgview-helpers/checkbox","./circular-icon-view","./image-upload-view","lib/coerce-url"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=r.Components,p=y.For,u=y.If,f=function(b){function m(){return b!==null&&b.apply(this,arguments)||this}return w.__extends(m,b),m.prototype.template=function(){var c=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-exp-options-menu dcg-image-options-menu dcg-options-menu")},r.createElement("div",{class:r.const("dcg-triangle")}),r.createElement("div",{class:r.const("dcg-opacities-menu dcg-dividing-line-after")},r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-title")},function(){return c.controller.t("Opacity")}),r.createElement(p,{each:function(){return c.controller.getImageOpacities()}},r.createElement("div",{class:r.const("dcg-opacities-menu"),role:r.const("group"),"aria-label":function(){return c.controller.t("Opacity")}},function(n){return r.createElement("span",{class:r.const("dcg-opacity-option"),role:r.const("button"),tabindex:r.const(0),"aria-label":function(){return"opacity: "+n},"aria-pressed":function(){return c.isOpacitySelected(n)},handleevent:r.const("true"),onTap:function(){return c.onSelectOpacity(n)}},r.createElement(i.CircularIconView,{backgroundImage:c.bindFn(c.getBackgroundImage),iconType:function(){return c.isOpacitySelected(n)?"check":"none"},backgroundOpacity:function(){return parseFloat(n)}}))}))),r.createElement("div",{class:r.const("dcg-styles-div dcg-options-menu-section")},r.createElement("div",{class:r.const("dcg-styles-menu"),role:r.const("group"),"aria-label":function(){return c.controller.t("Styles")}},r.createElement(d.Checkbox,{checked:function(){return!c.model.foreground},onChange:this.bindFn(this.onToggleForeground),ariaLabel:function(){return c.controller.t("Place behind graphs")}},function(){return c.controller.t("Place behind graphs")})),r.createElement(u,{predicate:this.bindFn(this.shouldShowClickable)},function(){return r.createElement("div",null,r.createElement(d.Checkbox,{checked:function(){return!!c.model.clickableInfo.enabled},onChange:function(n){c.controller.dispatch({type:"set-clickableinfo-prop",id:c.model.id,prop:"enabled",value:n})},ariaLabel:function(){return c.controller.t("Clickable")}},function(){return c.controller.t("Clickable")}))}),r.createElement(u,{predicate:function(){return c.controller.canUseAdvancedStyling()}},function(){return r.createElement(l.ImageUploadView,{controller:function(){return c.controller},ariaLabel:function(){return c.controller.t("Change Image")},onFileChange:function(n){return c.insertFiles(n)},location:c.const({type:"change-image-btn",id:c.id})},r.createElement("div",{class:r.const("dcg-action-changeimage")},function(){return c.controller.t("Change Image")}))})))},m.prototype.onToggleForeground=function(c){this.controller.dispatch({type:"set-image-in-foreground",id:this.id,foreground:!c})},m.prototype.onSelectOpacity=function(c){this.controller.dispatch({type:"set-image-opacity",id:this.id,opacity:c})},m.prototype.isOpacitySelected=function(c){return this.model.opacity===c},m.prototype.insertFiles=function(c){this.controller.dispatch({type:"change-image",files:c,id:this.id})},m.prototype.getBackgroundImage=function(){return this.model.image_url===this.lastURL?this.lastEncodedURL:(this.lastURL=this.model.image_url,this.lastEncodedURL='url("'+g.coerceURL(this.model.image_url)+'")',this.lastEncodedURL)},m.prototype.shouldShowClickable=function(){return!!this.controller.canAuthorClickableObjects()},m}(r.Class);o.ImageOptionsView=f}),q("expressions/tables/table_column_menu_view",["require","exports","tslib","dcgview","expressions/color-menu","core/lib/dragmode","core/types/styles","expressions/toggle-view","../circular-icon-view"],function(O,o,w,r,d,i,l,g,y){Object.defineProperty(o,"__esModule",{value:!0});var p=r.Components,u=p.For,f=p.If,b=function(m){function c(){return m!==null&&m.apply(this,arguments)||this}return w.__extends(c,m),c.prototype.template=function(){var n=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.columnId=this.model.id,this.tableModel=this.model.table,this.tableId=this.tableModel.id,r.createElement("div",{class:r.const("dcg-table-column-menu dcg-options-menu")},r.createElement("div",{class:r.const("dcg-triangle")}),r.createElement("div",{class:r.const("dcg-options-menu-column-left")},r.createElement("div",{class:r.const("dcg-options-menu-section")},r.createElement("span",{class:r.const("dcg-toggle-title")},function(){return n.controller.t("Points")}),r.createElement(g.default,{ariaLabel:function(){return n.controller.t("Points")},toggled:function(){return n.model.points},onChange:function(){return n.onTogglePoints(!n.model.points)}}),r.createElement(f,{predicate:function(){return n.model.points}},function(){return r.createElement(u,{each:function(){return n.controller.getPointStyles()}},r.createElement("div",{class:r.const("dcg-style-icons")},function(s){return r.createElement("div",{class:r.const("dcg-style-icon-container"),onTap:function(){return n.onPointStyleSelected(s)}},r.createElement(y.CircularIconView,{backgroundColor:function(){return n.model.color},semiTransparent:function(){return n.model.pointStyle!==s},iconType:function(){return s==="CROSS"?"point-cross":s==="OPEN"?"point-open":"point-default"}}))}))})),r.createElement("div",{class:r.const("dcg-options-menu-section")},r.createElement("span",{class:r.const("dcg-toggle-title")},function(){return n.controller.t("Lines")}),r.createElement(g.default,{ariaLabel:function(){return n.controller.t("Lines")},toggled:function(){return n.model.lines},onChange:function(){return n.onToggleLines(!n.model.lines)}}),r.createElement(f,{predicate:function(){return n.model.lines}},function(){return r.createElement("div",{class:r.const("dcg-line-options")},r.createElement(u,{each:function(){return n.controller.getLineStyles()}},r.createElement("div",{class:r.const("dcg-style-icons")},function(s){return r.createElement("div",{class:r.const("dcg-style-icon-container"),onTap:function(){return n.onLineStyleSelected(s)}},r.createElement(y.CircularIconView,{backgroundColor:function(){return n.model.color},semiTransparent:function(){return n.model.lineStyle!==s},iconType:function(){return s==="DOTTED"?"graph-dotted":s==="DASHED"?"graph-dashed":"graph-default"}}))})))})),r.createElement(f,{predicate:function(){return n.model.draggable}},function(){return r.createElement("div",{class:r.const("dcg-drag-div dcg-options-menu-section")},r.createElement("span",{class:r.const("dcg-toggle-title")},function(){return n.controller.t("Drag")}),r.createElement(g.default,{ariaLabel:function(){return n.controller.t("Drag")},toggled:function(){return n.model.dragMode!==i.DragMode.NONE},onChange:function(){return n.onToggleDrag()}}),r.createElement(f,{predicate:function(){return n.model.dragMode!==i.DragMode.NONE}},function(){return r.createElement(u,{each:function(){return n.controller.getUIDragModes()}},r.createElement("div",{class:r.const("dcg-style-icons")},function(s){return r.createElement("div",{class:r.const("dcg-style-icon-container"),onTap:function(){return n.onDragModeSelected(s)}},r.createElement(y.CircularIconView,{backgroundColor:function(){return n.model.color},semiTransparent:function(){return n.model.dragMode!==s},iconType:function(){return s==="X"?"movable-horizontal":s==="Y"?"movable-vertical":"movable-both"}}))}))}))})),r.createElement("div",{class:r.const("dcg-options-menu-column-right")},r.createElement("div",{class:r.const("dcg-colors-div dcg-options-menu-section")},r.createElement("div",{class:r.const("dcg-toggle-title")},function(){return n.controller.t("Color")}),r.createElement(d.default,{controller:function(){return n.props.controller()},selectedColor:function(){return n.model.color},onColorSelected:this.bindFn(this.onColorSelected)}))))},c.prototype.getPointStyleClass=function(n){switch(n){case l.PointStyle.CROSS:return"dcg-graph-CROSS";case l.PointStyle.OPEN:return"dcg-graph-OPEN";default:return"dcg-graph-POINT"}},c.prototype.getLineStyleClass=function(n){switch(n){case l.LineStyle.DASHED:return"dcg-graph-DASHED";case l.LineStyle.DOTTED:return"dcg-graph-DOTTED";default:return"dcg-graph-SOLID"}},c.prototype.onColorSelected=function(n){this.controller.dispatch({type:"set-tablecolumn-color",tableId:this.tableId,columnId:this.columnId,color:n})},c.prototype.onTogglePoints=function(n){this.controller.dispatch({type:"set-tablecolumn-points",tableId:this.tableId,columnId:this.columnId,bool:n})},c.prototype.onPointStyleSelected=function(n){this.controller.dispatch({type:"set-tablecolumn-pointstyle",tableId:this.tableId,columnId:this.columnId,pointStyle:n})},c.prototype.onToggleLines=function(n){this.controller.dispatch({type:"set-tablecolumn-lines",tableId:this.tableId,columnId:this.columnId,bool:n})},c.prototype.onLineStyleSelected=function(n){this.controller.dispatch({type:"set-tablecolumn-linestyle",tableId:this.tableId,columnId:this.columnId,lineStyle:n})},c.prototype.onToggleDrag=function(){var n=this.columnId,s=this.tableId,v=this.model.dragMode===i.DragMode.NONE?i.DragMode.XY:i.DragMode.NONE;this.controller.dispatch({type:"set-tablecolumn-dragmode",tableId:s,columnId:n,dragMode:v})},c.prototype.onDragModeSelected=function(n){var s=this.columnId,v=this.tableId;this.model.dragMode!==n&&this.controller.dispatch({type:"set-tablecolumn-dragmode",tableId:v,columnId:s,dragMode:n})},c}(r.Class);o.TableColumnMenuView=b}),q("loadcss!expressions/slider-speed-view",function(){}),q("expressions/slider_speed_view",["require","exports","tslib","underscore","lib/aria","dcgview","core/graphing-calc/json/expression","loadcss!./slider-speed-view"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=[.05,.1,.15,.2,.35,.5,.75,1,1.5,2,3.5,5,7.5,10,15,20],y=r.min(g),p=r.max(g),u=function(f){function b(){return f!==null&&f.apply(this,arguments)||this}return w.__extends(b,f),b.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},b.prototype.template=function(){var m=this;return i.createElement("div",{class:i.const("dcg-slider-speed-container dcg-do-not-blur"),handleEvent:i.const("true")},i.createElement("span",{class:function(){return{"dcg-action-slower":!0,"dcg-disabled":m.isSlowerDisabled()}},onTap:function(){return m.animateSlower()},role:i.const("button"),"aria-label":function(){return m.getSlowerAriaLabel()},tabindex:function(){return m.isSlowerDisabled()?-1:0},"aria-disabled":function(){return m.isSlowerDisabled()}},i.createElement("i",{class:i.const("dcg-icon-show")})),i.createElement("span",{class:i.const("dcg-variable-speed")},this.bindFn(this.computeSpeed),i.const("x")),i.createElement("span",{class:function(){return{"dcg-action-faster":!0,"dcg-disabled":m.isFasterDisabled()}},onTap:function(){return m.animateFaster()},role:i.const("button"),"aria-label":function(){return m.getFasterAriaLabel()},tabindex:function(){return m.isFasterDisabled()?-1:0},"aria-disabled":function(){return m.isFasterDisabled()}},i.createElement("i",{class:i.const("dcg-icon-show")})))},b.prototype.computeSpeed=function(){var m=l.DEFAULT_SLIDER_PERIOD/this.model.slider.animationPeriod;return m=Number(m.toFixed(3))},b.prototype.isSlowerDisabled=function(){return y>=this.computeSpeed()},b.prototype.isFasterDisabled=function(){return p<=this.computeSpeed()},b.prototype.animateSlower=function(){var m=this.computeSpeed(),c=r.filter(g,function(n){return n<m});c.length!==0&&this.setPeriodFromSpeed(r.max(c))},b.prototype.animateFaster=function(){var m=this.computeSpeed(),c=r.filter(g,function(n){return n>m});c.length!==0&&this.setPeriodFromSpeed(r.min(c))},b.prototype.setPeriodFromSpeed=function(m){var c=l.DEFAULT_SLIDER_PERIOD/m;this.controller.dispatch({type:"set-slider-animationperiod",id:this.model.id,animationPeriod:c}),d.alert(this.controller.t("Animating at __speed__x",{speed:m+""}))},b.prototype.getSlowerAriaLabel=function(){return this.controller.t("Animate Slower")},b.prototype.getFasterAriaLabel=function(){return this.controller.t("Animate Faster")},b}(i.Class);o.default=u}),q("loadcss!expressions/slider-options-view",function(){}),q("expressions/slider-options-view",["require","exports","tslib","dcgview","core/types/slider-loop-modes","../lib/tooltip","./slider_speed_view","loadcss!toggle","loadcss!./slider-options-view"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=r.Components.For,y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},u.prototype.template=function(){var f=this;return r.createElement("div",{class:r.const("dcg-exp-options-menu dcg-slider-options-view dcg-options-menu")},r.createElement("div",{class:r.const("dcg-triangle")}),r.createElement("div",{class:r.const("dcg-slider-menu")},r.createElement("div",{role:r.const("group"),"aria-label":function(){return f.controller.t("Animation Mode")}},r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-title")},function(){return f.controller.t("Animation Mode")}),r.createElement(g,{each:this.bindFn(this.getAnimationOptions),key:function(b){return b.key}},r.createElement("div",{class:r.const("dcg-toggle")},function(b){return r.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":f.isSelected(b.key)}},role:r.const("button"),tabindex:r.const(0),"aria-label":function(){return b.aria},"aria-pressed":function(){return f.isSelected(b.key)},onTap:function(){return f.props.controller().dispatch({type:"set-slider-loopmode",id:f.props.model().id,loopMode:b.key})}},r.createElement(i.Tooltip,{tooltip:function(){return b.aria},offset:function(){return{top:5}},gravity:f.getAnimationOptionTooltipGravity(b)},r.createElement("i",{class:function(){return d.getSliderIcon(b.key)}})))})))),r.createElement("div",{class:r.const("dcg-slider-menu dcg-slider-speed-menu"),role:r.const("group"),"aria-label":function(){return f.controller.t("Speed")}},r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-title")},function(){return f.controller.t("Speed")}),r.createElement("div",{class:r.const("dcg-slider-speed-container")},r.createElement(l.default,w.__assign({},this.props)))))},u.prototype.getAnimationOptionTooltipGravity=function(f){return this.getAnimationOptions()[0].key===f.key?this.const("se"):this.const("s")},u.prototype.getAnimationOptions=function(){return[{key:d.SliderLoopMode.LOOP_FORWARD_REVERSE,aria:this.controller.t("Loop forwards and backwards")},{key:d.SliderLoopMode.LOOP_FORWARD,aria:this.controller.t("Repeat in one direction")},{key:d.SliderLoopMode.PLAY_ONCE,aria:this.controller.t("Play once")},{key:d.SliderLoopMode.PLAY_INDEFINITELY,aria:this.controller.t("Play indefinitely")}]},u.prototype.isSelected=function(f){return this.model.slider.loopMode===f},u}(r.Class);o.SliderOptionsView=y}),q("loadcss!expressions/item-settings-view",function(){}),q("expressions/item-settings-view",["require","exports","tslib","dcgview","keys","underscore","jquery","./expression_options_view","./image_options_view","./tables/table_column_menu_view","./slider-options-view","lib/animation-frame","loadcss!./item-settings-view"],function(O,o,w,r,d,i,l,g,y,p,u,f){Object.defineProperty(o,"__esModule",{value:!0});var b=r.Components.Switch,m=function(c){function n(){return c!==null&&c.apply(this,arguments)||this}return w.__extends(n,c),n.prototype.init=function(){this.controller=this.props.controller()},n.prototype.template=function(){var s=this;return r.createElement(b,{key:this.bindFn(this.getActiveGuid)},function(){var v=s.controller.getOpenItemMenu();return v?v.type==="expression"?r.createElement("div",{class:r.const("dcg-options-menu-container"),didMount:s.bindFn(s.didMountView),didUnmount:s.bindFn(s.didUnmountView)},r.createElement(g.ExpressionOptionsMenuView,{controller:s.props.controller,model:function(){return v.model}})):v.type==="image"?r.createElement("div",{class:r.const("dcg-options-menu-container"),didMount:s.bindFn(s.didMountView),didUnmount:s.bindFn(s.didUnmountView)},r.createElement(y.ImageOptionsView,{controller:s.props.controller,model:function(){return v.model}})):v.type==="table-column"?r.createElement("div",{class:r.const("dcg-options-menu-container"),didMount:s.bindFn(s.didMountView),didUnmount:s.bindFn(s.didUnmountView)},r.createElement(p.TableColumnMenuView,{controller:s.props.controller,model:function(){return v.model}})):v.type==="slider"?r.createElement("div",{class:r.const("dcg-options-menu-container"),didMount:s.bindFn(s.didMountView),didUnmount:s.bindFn(s.didUnmountView)},r.createElement(u.SliderOptionsView,{controller:s.props.controller,model:function(){return v.model}})):v:r.createElement("span",null)})},n.prototype.getActiveGuid=function(){var s=this.controller.getOpenItemMenu();if(s)return s.model.guid},n.prototype.getActiveIcon=function(){var s=this.controller.getOpenItemMenu();if(s)return l(s.icon)},n.prototype.didMountView=function(s){var v=this;this.guid=i.uniqueId("dcg-item-settings-view"),this.openView=s,this.positionMenu(),this.moveFocusIfAppropriate(),l(document).on("keydown."+this.guid,function(A){var M=d.lookup(A);M==="Esc"?(v.focusIcon(),v.hideOptions()):M!=="Tab"||A.altKey||A.ctrlKey||A.metaKey||(A.shiftKey?A.shiftKey&&(v.isIconModelFocused()?(A.preventDefault(),A.stopPropagation(),v.focusLastOption()):v.isFirstOptionViewFocused()?(A.preventDefault(),A.stopPropagation(),v.focusIcon()):v.focusAnywhere()):v.isIconModelFocused()?(A.preventDefault(),A.stopPropagation(),v.focusFirstOption()):v.isLastOptionViewFocused()?(A.preventDefault(),A.stopPropagation(),v.focusIcon()):v.focusAnywhere())}),f.requestAnimationFrame(function(){v.openView&&v.controller.getExppanelSelectorOrThrow().on("scroll."+v.guid,function(){v.hideOptions()})}),l(document).on("dcg-tapstart."+this.guid,function(A){if(v.openView){var M=l(A.target);if(!M.closest(v.getActiveIcon()).length){if(M.closest(v.openView).length){if(!M.is(':input, [role="textbox"], [tabindex="0"]:visible'))return;var C=v.getDOMTabStops(),D=C.$first,S=C.$last;return void(D!==void 0&&D.is(M)?v.focusFirstOption():S!==void 0&&S.is(M)?v.focusLastOption():A.target.hasAttribute("dataLabelAttributeValue")||A.target.getAttribute("dataLabelAttributeValue")==="fill-opacity"||v.focusAnywhere())}M.closest(".dcg-keypad,.dcg-show-keypad-container").length||v.hideOptions()}}})},n.prototype.didUnmountView=function(){l(document).off("."+this.guid),this.openView=void 0},n.prototype.didUpdate=function(){this.moveFocusIfAppropriate()},n.prototype.moveFocusIfAppropriate=function(){var s=this.getDOMTabStops(),v=s.$first,A=s.$last;v!==void 0&&A!==void 0&&(this.shouldMoveFocusToFirstOption()?v.focus():this.shouldMoveFocusToLastOption()&&A.focus())},n.prototype.open=function(){return!!this.controller.getOpenItemMenu()},n.prototype.hideOptions=function(){this.open()&&this.controller.dispatch({type:"close-item-settings-menu"})},n.prototype.positionMenu=function(){var s=this.getActiveIcon();if(s&&this.openView){var v=this.controller.getExppanelSelectorOrThrow(),A=s.offset(),M={top:A.top-v.closest(".dcg-container").offset().top,left:A.left-v.closest(".dcg-container").offset().left};l(this.openView).css({top:M.top+"px",left:M.left+"px",display:"block"})}},n.prototype.isIconModelFocused=function(){var s=this.controller.getOpenItemMenu();return s!==void 0&&(s.type==="slider"?this.controller.isFocusLocationFocused({type:"slider-animation-properties-icon",id:s.model.id}):s.type==="image"?this.controller.isFocusLocationFocused({type:"image-icon",id:s.model.id}):this.controller.isFocusLocationFocused({type:"expression-icon",id:s.model.id}))},n.prototype.focusIcon=function(){var s=this.controller.getOpenItemMenu();s&&(s.type==="slider"?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-animation-properties-icon",id:s.model.id}}):s.type==="image"?this.controller.dispatch({type:"set-focus-location",location:{type:"image-icon",id:s.model.id}}):this.controller.dispatch({type:"set-focus-location",location:{type:"expression-icon",id:s.model.id}}))},n.prototype.isFirstOptionViewFocused=function(){var s=this.getDOMTabStops().$first;return s!==void 0&&s.is(":focus")},n.prototype.shouldMoveFocusToFirstOption=function(){var s=this.controller.getOpenItemMenu();return s!==void 0&&!this.isFirstOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"expression-menu",id:s.model.id,location:"start"})},n.prototype.focusFirstOption=function(){var s=this.controller.getOpenItemMenu();s&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:s.model.id,location:"start"}})},n.prototype.isLastOptionViewFocused=function(){var s=this.getDOMTabStops().$last;return s!==void 0&&s.is(":focus")},n.prototype.shouldMoveFocusToLastOption=function(){var s=this.controller.getOpenItemMenu();return s!==void 0&&!this.isLastOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"expression-menu",id:s.model.id,location:"end"})},n.prototype.focusLastOption=function(){var s=this.controller.getOpenItemMenu();s&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:s.model.id,location:"end"}})},n.prototype.focusAnywhere=function(){var s=this.controller.getOpenItemMenu();s&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:s.model.id,location:"anywhere"}})},n.prototype.getDOMTabStops=function(){if(this.openView===void 0)return{};var s=l(this.openView),v=s.find(':input, [role="textbox"], [tabindex="0"]:visible');return{$first:v.first(),$last:v.last()}},n}(r.Class);o.ItemSettingsView=m}),q("loadcss!expressions/author-ide-bar-view",function(){}),q("expressions/author-ide-bar-view",["require","exports","tslib","dcgview","loadcss!./author-ide-bar-view"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=r.Components,i=d.Input,l=d.If,g=function(y){function p(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(p,y),p.prototype.init=function(){this.controller=this.props.controller()},p.prototype.template=function(){var u=this;return r.createElement("div",{class:r.const("dcg-author-ide-bar")},r.const("search:"),r.const(" "),r.createElement(i,{onInput:this.bindFn(this.onChange),value:function(){return u.controller.getIDESearchStr()}}),r.createElement(l,{predicate:function(){return!!u.controller.getIDESearchStr()}},function(){return r.createElement("i",{onTap:function(){return u.onChange("")},class:r.const("dcg-icon-remove")})}))},p.prototype.onChange=function(u){this.controller.dispatch({type:"update-ide-search-str",str:u})},p}(r.Class);o.AuthorIDEBar=g}),q("loadcss!expressions/list-view",function(){}),q("loadcss!expressions",function(){}),q("expressions/list-view",["require","exports","tslib","touchtracking","keys","dcgview","jquery","underscore","lib/conditional_blur","./expression_view","./text_view","./table-view","./folder-view","./image-view","./shell_view","./drag_container_view","main/data_helpers","./new_expression_view","./expressions-header","main/load-graph-from-link","lib/get-clipboard-data","graphing-calc/models/abstract-item","graphing-calc/models/list","./exp-list-resizer","./item-settings-view","./author-ide-bar-view","loadcss!./list-view","loadcss!expressions","jquery.handleevent"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n,s,v,A,M,C,D,S,x,B,Z){Object.defineProperty(o,"__esModule",{value:!0});var X=i.Components,ee=X.If,W=X.For,U=X.Switch,F=X.SwitchUnion,G=function(ie){function ne(){var Y=ie!==null&&ie.apply(this,arguments)||this;return Y.guid=g.uniqueId("listView"),Y}return w.__extends(ne,ie),ne.prototype.init=function(){this.controller=this.props.controller()},ne.prototype.template=function(){var Y=this;return i.createElement("div",{didMount:this.bindFn(this.didMountContainer)},i.createElement("div",{class:i.const("dcg-exppanel-outer"),onDrop:this.bindFn(this.onDrop),style:function(){return Y.computeExppanelOuterStyle()}},i.createElement("div",{class:function(){return{"dcg-exppanel-container":!0,"dcg-add-shadow":Y.controller.shouldRenderList()}},style:function(){return{transform:Y.controller.isListVisible()?void 0:Y.controller.isNarrow()?"translate(0, 100%)":"translate(-100%, 0)"}}},i.createElement(ee,{predicate:function(){return Y.controller.isFileDraggedOver()}},function(){return i.createElement("div",{class:i.const("dcg-drop-image")},i.createElement("span",null,function(){return Y.controller.t("Drop Image Here")}))}),i.createElement(ee,{predicate:function(){return Y.controller.shouldRenderList()}},function(){return i.createElement("div",{class:function(){return{"dcg-exppanel":!0,"dcg-disable-horizontal-scroll-to-cursor":!0,"dcg-isDragging":Y.controller.isDragDropActive(),"dcg-has-background-color":Y.controller.hasBackgroundColor()}},style:function(){return{background:Y.controller.getBackgroundColor()}},onPaste:Y.bindFn(Y.onPaste),onTapStart:Y.bindFn(Y.onExppanelTapstart),didMount:Y.bindFn(Y.didMountExppanel)},i.createElement(x.ExpListResizer,{controller:Y.props.controller}),i.createElement("div",{class:i.const("dcg-expressionlist"),role:i.const("complementary"),"aria-label":i.const("Expression List")},i.createElement(W,{each:function(){return Y.controller.getAllItemModels()},key:function(ge){return ge.guid}},i.createElement("span",{class:i.const("dcg-template-expressioneach")},function(ge){return F(function(){return D.getDisplayState(ge)},{shell:function(){return Y.makeShellViewForModel(ge)},render:function(){return Y.makeViewForModel(ge)},none:function(){}})})),i.createElement(ee,{predicate:function(){return!Y.props.controller().getIDESearchStr()}},function(){return i.createElement(v.default,{controller:function(){return Y.props.controller()}})}),i.createElement(U,{key:function(){return Y.controller.getDraggedItemId()}},function(ge){if(ge){var te=Y.controller.getItemModel(ge);return i.createElement(n.default,{controller:Y.props.controller},Y.makeDragCopyViewForModel(te))}}),i.createElement("div",{class:i.const("dcg-expressions-branding"),style:function(){return{opacity:Y.controller.isKeypadOpen()?0:1}}},i.createElement(ee,{predicate:function(){return Y.controller.canEditOnWeb()}},function(){return i.createElement("span",{role:i.const("link"),tabindex:i.const(0),class:i.const("dcg-edit-branding"),onTap:function(){return Y.controller.dispatch({type:"open-on-web"})}},i.createElement("div",{class:i.const("dcg-powered-by"),"aria-label":function(){return Y.controller.t("Edit graph on Desmos")}},function(){return Y.controller.t("edit graph on")}),i.createElement("i",{class:i.const("dcg-icon-desmos")}))}),i.createElement(ee,{predicate:function(){return!Y.controller.canEditOnWeb()}},function(){return i.createElement("span",{class:i.const("dcg-noedit-branding")},i.createElement("div",{class:i.const("dcg-powered-by"),"aria-label":function(){return Y.controller.t("powered by Desmos")}},function(){return Y.controller.t("powered by")}),i.createElement("i",{class:i.const("dcg-icon-desmos")}))}))))}),i.createElement(ee,{predicate:function(){return Y.controller.isAuthorIDE()}},function(){return i.createElement(Z.AuthorIDEBar,w.__assign({},Y.props))}),i.createElement(ee,{predicate:function(){return Y.controller.shouldRenderList()}},function(){return i.createElement(A.default,{controller:Y.props.controller,expsScrolled:function(){return!!Y.exppanel&&Y.exppanel.scrollTop>0}})}))),i.createElement(B.ItemSettingsView,{controller:this.props.controller}))},ne.prototype.makeShellViewForModel=function(Y){return i.createElement(c.default,{controller:this.props.controller,model:function(){return Y},onDragPending:function(){},isDragCopy:function(){return!1}})},ne.prototype.computeExppanelOuterStyle=function(){this.getListBottomAndUpdateLastExpressionPadding();var Y=this.controller.computeMajorLayout().list,ge=Y.top;return Y.top>0&&!this.controller.isListVisible()&&(ge-=Y.height),{position:"absolute",left:"0px",top:ge+"px",width:Y.width+"px",height:Y.height+"px"}},ne.prototype.makeDragCopyViewForModel=function(Y){return this.makeViewForModel(Y,!0)},ne.prototype.makeViewForModel=function(Y,ge){var te=this;ge===void 0&&(ge=!1);var H;if(Y.type==="table")H=i.createElement(f.default,{controller:this.props.controller,model:function(){return Y},onDragPending:function(pe){return te.onDragPending(pe,Y.id)},isDragCopy:function(){return ge}});else if(Y.type==="folder")H=i.createElement(b.default,{controller:this.props.controller,model:function(){return Y},onDragPending:function(pe){return te.onDragPending(pe,Y.id)},isDragCopy:function(){return ge}});else if(Y.type==="text")H=i.createElement(u.default,{controller:this.props.controller,model:function(){return Y},onDragPending:function(pe){return te.onDragPending(pe,Y.id)},isDragCopy:function(){return ge}});else if(Y.type==="image")H=i.createElement(m.default,{controller:this.props.controller,model:function(){return Y},onDragPending:function(pe){return te.onDragPending(pe,Y.id)},isDragCopy:function(){return ge}});else{if(Y.type!=="expression")return;H=i.createElement(p.default,{controller:this.props.controller,model:function(){return Y},onDragPending:function(pe){return te.onDragPending(pe,Y.id)},isDragCopy:function(){return ge}})}return H},ne.prototype.didUnmount=function(){l(document.documentElement).off("."+this.guid)},ne.prototype.didMountContainer=function(Y){this.node=Y,l(document.documentElement).on("keydown."+this.guid,this.bindFn(this.handleKeyDown))},ne.prototype.didMountExppanel=function(Y){this.exppanel=Y},ne.prototype.getListBottomAndUpdateLastExpressionPadding=function(){var Y=this.controller.getKeypadHeight(),ge=this.__listBottom||0;return this.__listBottom=Y,Y===0&&ge!==0&&r.isTapActive()&&this.padLastExpressionUntilTapEnd(ge),Y},ne.prototype.padLastExpression=function(Y){l(this.node).find(".dcg-expressionitem.dcg-new-expression").css("margin-bottom",Y+"px")},ne.prototype.unpadLastExpression=function(){l(this.node).find(".dcg-expressionitem.dcg-new-expression").css("margin-bottom","0")},ne.prototype.padLastExpressionUntilTapEnd=function(Y){var ge=this;this.padLastExpression(Y),l(document).on("dcg-tap.animating-bottom",function(){ge.unpadLastExpression(),l(document).off("dcg-tap.animating-bottom")})},ne.prototype.handleKeyDown=function(Y){if(!this.controller.inAudioTraceMode()){var ge=d.lookup(Y);if(!this.controller.isInEditListMode()||Y.altKey||Y.ctrlKey||Y.metaKey){if((!document.activeElement||!l.contains(document.body,document.activeElement))&&!l(Y.target).closest(this.exppanel).length&&l.contains(document.documentElement,Y.target)){var te=this.controller.getSelectedItem();if(te)switch(ge){case d.UP:Y.preventDefault(),this.controller.dispatch({type:"select-previous-expression"});break;case d.DOWN:Y.preventDefault(),this.controller.dispatch({type:"select-next-expression"});break;case d.ESCAPE:Y.preventDefault(),this.controller.dispatch({type:"set-none-selected"});break;case d.RIGHT:Y.preventDefault(),te&&(te.type==="expression"&&te.sliderExists?(this.controller.dispatch({type:"adjust-slider-by-keyboard",id:te.id,adjustment:"up"}),this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:te.id}})):this.controller.dispatch({type:"move-focus-to-item",id:te.id,where:"start"}));break;case d.TAB:Y.preventDefault(),te&&this.controller.dispatch({type:"move-focus-to-item",id:te.id,where:"start"});break;case d.LEFT:Y.preventDefault(),te&&(te.type==="expression"&&te.sliderExists?(this.controller.dispatch({type:"adjust-slider-by-keyboard",id:te.id,adjustment:"down"}),this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:te.id}})):this.controller.dispatch({type:"move-focus-to-item",id:te.id,where:"end"}));break;case d.BACKSPACE:Y.preventDefault(),te&&this.controller.dispatch({type:"upward-delete-selected-expression"});break;case d.DELETE:Y.preventDefault(),te&&this.controller.dispatch({type:"downward-delete-selected-expression"});break;case d.ENTER:Y.wasHandled("create-expression-with-keyboard")||(Y.preventDefault(),Y.handle("create-expression-with-keyboard"),te&&this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"}));break;default:if(Y.metaKey||Y.ctrlKey||ge===d.SHIFT||ge===d.SPACEBAR)return;te&&(te.type==="table"||this.controller.dispatch({type:"move-focus-to-item",id:te.id,where:"end"}))}}}else if(ge===d.TAB){var H=this.controller.getItemModelByIndex(0);if(!H)return;var pe=this.controller.getFocusLocation();if(!pe)return;var fe=(pe.type==="readonly-expression"&&H.type==="expression"||pe.type==="table-container"&&H.type==="table"||pe.type===H.type)&&pe.id===H.id,re={type:"edit-list-toggle"},se=this.controller.isFocusLocationFocused(re);Y.shiftKey&&fe?(Y.preventDefault(),Y.stopPropagation(),this.controller.dispatch({type:"set-focus-location",location:re})):!Y.shiftKey&&se&&(Y.preventDefault(),Y.stopPropagation(),this.controller.dispatch({type:"move-focus-to-item",id:H.id,where:H.type==="table"?"container":void 0}))}else if(ge===d.UP||ge===d.DOWN){var te=this.controller.getSelectedItem();if(!te)return;var he=this.controller.getListModel(),xe=ge===d.UP?S.findPrevSelectableItem(he,te.index):S.findNextSelectableItem(he,te.index);if(!xe)return;this.controller.dispatch({type:"move-focus-to-item",id:xe.id,where:xe.type==="table"?"container":"start"})}}},ne.prototype.onDragPending=function(Y,ge){var te=this;Y.preventDefault(),y.default();var H=Y.touches[0].clientY,pe=H,fe=setTimeout(function(){l(document).off(".dragpending"),te.onDragStart(Y,ge,H,pe)},500);l(document).on("dcg-tapmove.dragpending",function(re){pe=re.touches[0].clientY,Math.abs(pe-H)>3&&(clearTimeout(fe),l(document).off(".dragpending"),te.onDragStart(Y,ge,H,pe))}),l(document).on("dcg-tapend.dragpending",function(){clearTimeout(fe),l(document).off(".dragpending")})},ne.prototype.onDragStart=function(Y,ge,te,H){Y.touches.length===1&&(Y.wasHandled("dcg-longhold")||this.controller.dispatch({type:"start-dragdrop",id:ge,grabY:te,mouseY:H}))},ne.prototype.onExppanelTapstart=function(Y){Y.device!=="mouse"&&l(Y.target).closest(".dcg-expressionitem").length===0&&y.default()},ne.prototype.onPaste=function(Y){var ge=this,te=this.controller.getGraphSettings().config,H=C.default(Y);if(H){var pe=/^\s*https?:\/\/([a-zA-Z0-9]*\.)?desmos\.com(:[0-9]+)?\/calculator\/./.test(H),fe=this.controller.getSelectedItem();if(te.pasteGraphLink&&fe&&fe.type==="folder"&&pe&&fe.title===""&&this.controller.getNumberOfItemsInFolder(fe.id)===0)return Y.stopPropagation(),Y.preventDefault(),void M.default(this.controller,H,"inject",function(Me,Be){return Be(null,Me)});if(!fe||fe.type!=="text"&&fe.type!=="folder"){if(te.pasteGraphLink&&pe){Y.stopPropagation(),Y.preventDefault();var re=te.pasteGraphLinkCallback?te.pasteGraphLinkCallback:function(Me,Be){return Be(null,Me)};return void M.default(this.controller,H,"set-state",re)}if(te.pasteTableData){var se=s.parse(H);if(se!==void 0)return Y.stopPropagation(),Y.preventDefault(),this.controller.dispatch({type:"paste-table",data:se})}var he=s.getExpressions(H);if(he!==void 0){Y.stopPropagation(),Y.preventDefault();var xe=[];return void(he.length===1&&he[0].numberList?this.controller.dispatch({type:"append-number-list",latex:he[0].content}):(he.forEach(function(Me){xe.push({type:"expression",id:ge.controller.generateId(),latex:Me.content})}),this.controller.dispatch({type:"insert-several-expressions",expressions:xe})))}}}},ne.prototype.onDrop=function(Y){if(this.controller.areImagesEnabled()){var ge=Y.dataTransfer&&Y.dataTransfer.files;ge&&this.controller.dispatch({type:"new-images",files:ge})}},ne}(i.Class);o.default=G}),q("graphing-calc/keypads/dcgview-graphing",["require","exports","tslib","dcgview"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=function(i){function l(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(l,i),l.prototype.init=function(){this.controller=this.props.controller(),this.dispatch=this.controller.dispatch},l}(r.Class);o.default=d}),q("loadcss!keypad/btn",function(){}),q("keypad/btn",["require","exports","tslib","dcgview","loadcss!./btn"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=function(i){function l(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(l,i),l.prototype.template=function(){var g=this;return r.createElement("div",{class:function(){return{"dcg-keypad-btn-container":!0,"dcg-keypad-short-btn":g.props.style()==="popover-short"}},style:function(){return{"flex-grow":g.getColSpan()}}},r.createElement("span",{role:r.const("button"),class:this.bindFn(this.getClasses),"dcg-command":this.props.command,"aria-label":this.bindFn(this.getAriaLabel),onTap:this.props.onTap},r.createElement("span",{class:r.const("dcg-keypad-btn-content")},this.children)))},l.prototype.getClasses=function(){var g={"dcg-keypad-btn":!0,"dcg-keypad-btn-active":this.isActive()},y=this.props.style();switch(y){case"default":g["dcg-btn-light-on-gray"]=!0;break;case"highlight":g["dcg-btn-dark-on-gray"]=!0;break;case"popover-short":case"popover":g["dcg-btn-light-gray"]=!0;break;case"blue":g["dcg-btn-short-blue"]=!0;break;case"tall-blue":g["dcg-btn-tall-blue"]=!0;break;default:return y}return g},l.prototype.isActive=function(){return!!this.props.active&&this.props.active()},l.prototype.getAriaLabel=function(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()},l.prototype.getColSpan=function(){return this.props.colspan?this.props.colspan():void 0},l}(r.Class);o.default=d}),q("keypad/keys",["require","exports","./btn","dcgview-helpers/static-mathquill-view","dcgview","lib/i18n"],function(O,o,w,r,d,i){function l(v,A){return v===void 0?d.const(A):d.const(v)}function g(v){return function(A,M,C){return C===void 0&&(C={}),d.createElement(w.default,{command:d.const(v.command||v.typedText||v.keys[0]),ariaLabel:d.const(v.ariaLabel||v.typedText||v.keys[0]),colspan:l(C.colspan,1),style:function(){return C.style||"default"},onTap:function(){return M({type:"keypad/type-text",text:v.typedText||v.keys[0]})}},n(function(){return v.keys[0]==="{"||v.keys[0]==="["},{true:function(){return d.createElement("span",{class:d.const("dcg-mq-math-mode"),style:d.const("font-size: 120%")},d.const(v.keys[0]),d.const("\xA0"),d.createElement("span",{style:d.const("color: #999")},d.const(v.keys[1])))},false:function(){return d.createElement("span",null,d.createElement(r.default,{latex:d.const(v.keys[0])}),d.createElement("span",{style:d.const("color: #999")},d.createElement(r.default,{latex:d.const(v.keys[1])})))}}))}}function y(v){return function(A,M,C){return C===void 0&&(C={}),d.createElement(w.default,{command:d.const(v.command||v.typedText||v.keys[1]),ariaLabel:d.const(v.ariaLabel||v.typedText||v.keys[1]),colspan:l(C.colspan,1),style:l(C.style,"default"),onTap:function(){return M({type:"keypad/type-text",text:v.typedText||v.keys[1]})}},n(function(){return v.keys[1]==="}"||v.keys[1]==="]"},{true:function(){return d.createElement("span",{class:d.const("dcg-mq-math-mode"),style:d.const("font-size: 120%")},d.createElement("span",{style:d.const("color: #999")},d.const(v.keys[0])),d.const("\xA0"),d.const(v.keys[1]))},false:function(){return d.createElement("span",null,d.createElement("span",{style:d.const("color: #999")},d.createElement(r.default,{latex:d.const(v.keys[0])})),d.createElement(r.default,{latex:d.const(v.keys[1])}))}}))}}function p(v){return function(A,M,C){return C===void 0&&(C={}),d.createElement(w.default,{command:d.const(v.command||A),ariaLabel:d.const(v.ariaLabel||A),colspan:l(C.colspan,1),style:function(){return C.style||"default"},onTap:function(){return M({type:"keypad/type-text",text:v.typedText||A})}},d.createElement(r.default,{latex:d.const(v.content||A)}))}}function u(v){return function(A,M,C){return C===void 0&&(C={}),d.createElement(w.default,{command:d.const(v.command||A),ariaLabel:d.const(v.ariaLabel||A),colspan:l(C.colspan,1),style:function(){return C.style||"default"},onTap:function(){return M({type:"keypad/type-text",text:v.typedText||A})}},d.createElement("span",{class:d.const("dcg-mq-math-mode")},d.const(v.content||A)))}}function f(v){return function(A,M,C){return C===void 0&&(C={}),d.createElement(w.default,{command:d.const(A),ariaLabel:d.const(v.ariaLabel||A),colspan:l(C.colspan,1),style:function(){return C.style||"default"},onTap:function(){return M({type:"keypad/type-text",text:A+"("})}},d.createElement(r.default,{latex:d.const(A)}))}}function b(v){return function(A,M,C){return C===void 0&&(C={}),d.createElement(w.default,{command:d.const(v.command),ariaLabel:d.const(v.ariaLabel||v.command),colspan:l(C.colspan,1),style:function(){return C.style||"default"},onTap:function(){M({type:"keypad/custom-command",command:v.command})}},d.createElement(r.default,{latex:d.const(v.content)}))}}function m(v,A,M){M===void 0&&(M={});var C=v.dispatch;return s[A](A,C,M)}function c(v){return v===void 0&&(v=1),d.createElement("div",{style:d.const("flex-grow:"+v)})}Object.defineProperty(o,"__esModule",{value:!0});var n=d.Components.IfElse,s={"{":u({ariaLabel:i.t("Left Bracket")}),"}":u({ariaLabel:i.t("Right Bracket")}),"(":p({ariaLabel:i.t("Left Parenthesis")}),")":p({ariaLabel:i.t("Right Parenthesis")}),sqrt:p({content:"\\sqrt{}",ariaLabel:i.t("Square Root")}),"/":p({content:"\xF7",ariaLabel:i.t("Divide")}),"*":p({content:"\xD7",ariaLabel:i.t("Times")}),"-":p({ariaLabel:i.t("Minus")}),"+":p({ariaLabel:i.t("Plus")}),".":p({ariaLabel:i.t("Decimal")}),ans:function(v,A,M){return M===void 0&&(M={}),d.createElement(w.default,{command:d.const(v),ariaLabel:function(){return i.t("Answer")},colspan:l(M.colspan,1),style:function(){return M.style||"default"},onTap:function(){return A({type:"keypad/type-text",text:v})}},d.const("ans"))},enter:function(v,A,M){return M===void 0&&(M={}),d.createElement(w.default,{command:d.const(v),ariaLabel:function(){return i.t("Enter")},colspan:l(M.colspan,1),style:function(){return M.style||"default"},onTap:function(){return A({type:"keypad/press-key",key:"Enter"})}},d.createElement("i",{class:d.const("dcg-icon-arrow-enter")}))},shift:function(v,A,M){return M===void 0&&(M={}),d.createElement(w.default,{command:d.const(v),ariaLabel:function(){return i.t("Shift")},colspan:l(M.colspan,1),style:function(){return M.style||"default"},active:l(M.active,!1),onTap:function(){return A({type:"keypad/shift"})}},d.createElement("i",{class:d.const("dcg-icon-shift")}))},left:function(v,A,M){return M===void 0&&(M={}),d.createElement(w.default,{command:d.const(v),ariaLabel:function(){return i.t("Left Arrow")},colspan:l(M.colspan,1),style:function(){return M.style||"default"},onTap:function(){return A({type:"keypad/press-key",key:"Left"})}},d.createElement("i",{class:d.const("dcg-icon-arrow-left")}))},right:function(v,A,M){return M===void 0&&(M={}),d.createElement(w.default,{command:d.const(v),ariaLabel:function(){return i.t("Right Arrow")},colspan:l(M.colspan,1),style:function(){return M.style||"default"},onTap:function(){return A({type:"keypad/press-key",key:"Right"})}},d.createElement("i",{class:d.const("dcg-icon-arrow-right")}))},123:function(v,A,M){return M===void 0&&(M={}),d.createElement(w.default,{command:d.const(v),ariaLabel:function(){return i.t("Toggle Numbers")},colspan:l(M.colspan,1),style:function(){return M.style||"default"},onTap:function(){return A({type:"keypad/123"})}},d.const("1 2 3"))},ABC:function(v,A,M){return M===void 0&&(M={}),d.createElement(w.default,{command:d.const(v),ariaLabel:function(){return i.t("Toggle Letters")},colspan:l(M.colspan,1),style:function(){return M.style||"default"},onTap:function(){return A({type:"keypad/abc"})}},d.const("A B C"))},backspace:function(v,A,M){return M===void 0&&(M={}),d.createElement(w.default,{command:d.const(v),ariaLabel:function(){return i.t("Backspace")},colspan:l(M.colspan,1),style:function(){return M.style||"default"},onTap:function(){return A({type:"keypad/press-key",key:"Backspace"})}},d.createElement("i",{class:d.const("dcg-icon-delete")}))},pi:p({content:"\\pi",ariaLabel:i.t("Pi")}),alpha:p({content:"\\alpha",ariaLabel:i.t("Alpha")}),beta:p({content:"\\beta",ariaLabel:i.t("Beta")}),theta:p({content:"\\theta",ariaLabel:i.t("Theta")}),tau:p({content:"\\tau",ariaLabel:i.t("Tau")}),"a^2":b({command:"a^2",content:"a^2",ariaLabel:i.t("Squared")}),"a^3":b({command:"a^3",content:"a^3",ariaLabel:i.t("Cubed")}),"x^3":b({command:"a^3",content:"x^3",ariaLabel:i.t("Cubed")}),"a^b":p({content:"a^b",typedText:"^",ariaLabel:i.t("Superscript")}),a_b:p({content:"a_b",typedText:"_",ariaLabel:i.t("Subscript")}),"a/b":p({content:"\\frac{a}{b}",typedText:"/",ariaLabel:i.t("A over B")}),"x^2":b({command:"a^2",content:"x^2",ariaLabel:i.t("Squared")}),"x^y":p({content:"x^y",typedText:"^",ariaLabel:i.t("Superscript")}),"x/y":p({content:"\\frac{x}{y}",typedText:"/",ariaLabel:i.t("A over B")}),nthroot:b({command:"nthroot",content:"\\sqrt[n]{}",ariaLabel:i.t("Nth Root")}),ythroot:b({command:"nthroot",content:"\\sqrt[y]{}",ariaLabel:i.t("Yth Root")}),sin:f({ariaLabel:i.t("Sine")}),cos:f({ariaLabel:i.t("Cosine")}),tan:f({ariaLabel:i.t("Tangent")}),sec:f({ariaLabel:i.t("Secant")}),csc:f({ariaLabel:i.t("Cosecant")}),cot:f({ariaLabel:i.t("Cotangent")}),sinh:f({ariaLabel:i.t("Hyperbolic Sine")}),cosh:f({ariaLabel:i.t("Hyperbolic Cosine")}),tanh:f({ariaLabel:i.t("Hyperbolic Tangent")}),sech:f({ariaLabel:i.t("Hyperbolic Secant")}),csch:f({ariaLabel:i.t("Hyperbolic Cosecant")}),coth:f({ariaLabel:i.t("Hyperbolic Cotangent")}),arcsin:b({command:"arcsin",content:"sin^{-1}",ariaLabel:i.t("Inverse Sine")}),arccos:b({command:"arccos",content:"cos^{-1}",ariaLabel:i.t("Inverse Cosine")}),arctan:b({command:"arctan",content:"tan^{-1}",ariaLabel:i.t("Inverse Tangent")}),arccsc:b({command:"arccsc",content:"csc^{-1}",ariaLabel:i.t("Inverse Cosecant")}),arcsec:b({command:"arcsec",content:"sec^{-1}",ariaLabel:i.t("Inverse Secant")}),arccot:b({command:"arccot",content:"cot^{-1}",ariaLabel:i.t("Inverse Cotangent")}),"|a|":p({typedText:"|",ariaLabel:i.t("Absolute Value")}),"|x|":p({typedText:"|",ariaLabel:i.t("Absolute Value")}),ln:f({ariaLabel:i.t("Natural Log")}),log:f({ariaLabel:i.t("Log")}),quantile:f({ariaLabel:i.t("Quantile")}),quartile:f({ariaLabel:i.t("Quartile")}),var:f({}),varp:f({}),nCr:f({}),loga:b({command:"loga",content:"log_a",ariaLabel:i.t("Log A")}),stdev:f({ariaLabel:i.t("Standard Deviation")}),mad:f({}),nPr:f({}),total:f({}),length:f({}),min:f({}),max:f({}),cov:f({ariaLabel:i.t("Co Variance")}),corr:f({ariaLabel:i.t("Correlation")}),spearman:f({ariaLabel:i.t("Spearman Rank Correlation")}),stats:f({ariaLabel:i.t("Summary statistics")}),polygon:f({ariaLabel:i.t("Polygon")}),mean:f({ariaLabel:i.t("Mean")}),stdevp:f({ariaLabel:i.t("Standard Deviation of Population")}),mod:f({}),"e^x":p({typedText:"e^",ariaLabel:i.t("Exponent")}),"10^n":p({content:"\\times10^{n}",typedText:"*10^",ariaLabel:i.t("Times ten to the power of")}),"a^{-1}":p({typedText:"^-1",ariaLabel:i.t("Reciprocal")}),sum:p({content:"\\sum",ariaLabel:i.t("Sum")}),prod:p({content:"\\prod",ariaLabel:i.t("Product")}),floor:f({ariaLabel:i.t("Floor")}),ceil:f({ariaLabel:i.t("Ceiling")}),round:f({ariaLabel:i.t("Round")}),abs:f({ariaLabel:i.t("Absolute Value")}),"!":p({ariaLabel:i.t("Factorial")}),"n!":p({typedText:"!",ariaLabel:i.t("Factorial")}),median:f({ariaLabel:i.t("Median")}),lcm:f({}),gcd:f({}),gcf:f({}),ddx:b({command:"ddx",content:"\\frac{d}{dx}"}),int:p({content:"\\int",ariaLabel:i.t("Integral")}),"%":p({content:"\\%",ariaLabel:i.t("Percent Of")}),exp:p({}),sign:f({}),normaldist:f({ariaLabel:i.t("Normal Distribution")}),poissondist:f({ariaLabel:i.t("Poisson Distribution")}),binomialdist:f({ariaLabel:i.t("Binomial Distribution")}),uniformdist:f({ariaLabel:i.t("Uniform Distribution")}),erf:f({ariaLabel:i.t("Error Function")}),histogram:f({ariaLabel:i.t("Histogram")}),boxplot:f({ariaLabel:i.t("Box Plot")}),dotplot:f({ariaLabel:i.t("Dot Plot")}),tscore:f({ariaLabel:i.t("T Score")}),ittest:f({ariaLabel:i.t("Independent T Test")}),ttest:f({ariaLabel:i.t("T Test")}),tdist:f({ariaLabel:i.t("Student-t Distribution")}),pdf:f({ariaLabel:i.t("Probability Density Function")}),cdf:f({ariaLabel:i.t("Cumulative Density Function")}),random:f({ariaLabel:i.t("Random Number")}),inversecdf:f({ariaLabel:i.t("Inverse CDF function")}),"A^-1":b({command:"A^-1",content:"A^{-1}",ariaLabel:i.t("Inverse")}),"A^T":b({command:"A^T",content:"A^T",ariaLabel:i.t("Transpose")}),"A^2":b({command:"A^2",content:"A^2",ariaLabel:i.t("Squared")}),det:f({ariaLabel:"Determinant"}),"A^n":p({content:"A^n",typedText:"^",ariaLabel:i.t("Exponent")}),a:p({}),b:p({}),c:p({}),d:p({}),e:p({}),f:p({}),g:p({}),h:p({}),i:p({}),j:p({}),k:p({}),l:p({}),m:p({}),n:p({}),o:p({}),p:p({}),q:p({}),r:p({}),s:p({}),t:p({}),u:p({}),v:p({}),w:p({}),x:p({}),boldX:p({content:"x",typedText:"x"}),y:p({}),boldY:p({content:"y",typedText:"y"}),z:p({}),A:p({}),B:p({}),C:p({}),D:p({}),E:p({}),F:p({}),G:p({}),H:p({}),I:p({}),J:p({}),K:p({}),L:p({}),M:p({}),N:p({}),O:p({}),P:p({}),Q:p({}),R:p({}),S:p({}),T:p({}),U:p({}),V:p({}),W:p({}),X:p({}),Y:p({}),Z:p({}),0:p({}),1:p({}),2:p({}),3:p({}),4:p({}),5:p({}),6:p({}),7:p({}),8:p({}),9:p({}),",":p({}),"=":p({}),"[":p({}),"]":p({}),"{}_left":g({keys:["{","}"]}),"{}_right":y({keys:["{","}"]}),"()_left":g({keys:["(",")"]}),"()_right":y({keys:["(",")"]}),"[]_left":g({keys:["[","]"]}),"[]_right":y({keys:["[","]"]}),",'_left":g({keys:[",","\u2032"]}),",'_right":y({keys:[",","\u2032"],typedText:"'"}),'"':p({}),"'":p({}),"~":p({}),":":p({}),">":p({}),"<":p({}),">=":p({content:"\\ge"}),"<=":p({content:"\\le"}),"!%_left":g({keys:["!","{}^{%}"]}),"!%_right":y({keys:["!","{}^{%}"],typedText:"%"}),"~:_left":g({keys:["~","{}^{:}"]}),"~:_right":y({keys:["~","{}^{:}"],typedText:":"})};o.view=m,o.spacer=c}),q("keypad/dcgview-keypad",["require","exports","tslib","dcgview"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=function(i){function l(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(l,i),l.prototype.init=function(){this.controller=this.props.controller()},l}(r.Class);o.default=d}),q("loadcss!keypad/keypad",function(){}),q("keypad/keypad",["require","exports","tslib","dcgview","./dcgview-keypad","loadcss!./keypad"],function(O,o,w,r,d){Object.defineProperty(o,"__esModule",{value:!0});var i=function(l){function g(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(g,l),g.prototype.template=function(){return r.createElement("div",{class:r.const("dcg-basic-keypad dcg-do-not-blur")},this.children)},g}(d.default);o.default=i}),q("loadcss!keypad/row",function(){}),q("keypad/row",["require","exports","tslib","dcgview","loadcss!./row"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=function(i){function l(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(l,i),l.prototype.template=function(){return r.createElement("div",{class:r.const("dcg-keypad-row")},this.children)},l}(r.Class);o.default=d}),q("graphing-calc/keypads/qwerty",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){return r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"q"),i.view(this,"w"),i.view(this,"e"),i.view(this,"r"),i.view(this,"t"),i.view(this,"y"),i.view(this,"u"),i.view(this,"i"),i.view(this,"o"),i.view(this,"p")),r.createElement(g.default,null,i.view(this,"a"),i.view(this,"s"),i.view(this,"d"),i.view(this,"f"),i.view(this,"g"),i.view(this,"h"),i.view(this,"j"),i.view(this,"k"),i.view(this,"l"),i.view(this,"theta")),r.createElement(g.default,null,i.view(this,"shift",{colspan:1.364,style:"highlight"}),i.spacer(.136),i.view(this,"z"),i.view(this,"x"),i.view(this,"c"),i.view(this,"v"),i.view(this,"b"),i.view(this,"n"),i.view(this,"m"),i.spacer(.136),i.view(this,"backspace",{colspan:1.364,style:"highlight"})),r.createElement(g.default,null,i.view(this,"123",{colspan:1.818,style:"highlight"}),i.spacer(.182),i.view(this,"a_b"),i.view(this,"!%_left"),i.view(this,"[]_left"),i.view(this,"{}_left"),i.view(this,"~:_left"),i.view(this,",'_left"),i.spacer(.182),i.view(this,"enter",{colspan:1.818,style:"blue"})))},u}(d.default);o.default=y}),q("graphing-calc/keypads/qwerty-capital",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){return r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"Q"),i.view(this,"W"),i.view(this,"E"),i.view(this,"R"),i.view(this,"T"),i.view(this,"Y"),i.view(this,"U"),i.view(this,"I"),i.view(this,"O"),i.view(this,"P")),r.createElement(g.default,null,i.view(this,"A"),i.view(this,"S"),i.view(this,"D"),i.view(this,"F"),i.view(this,"G"),i.view(this,"H"),i.view(this,"J"),i.view(this,"K"),i.view(this,"L"),i.view(this,"tau")),r.createElement(g.default,null,i.view(this,"shift",{colspan:1.364,active:!0,style:"highlight"}),i.spacer(.136),i.view(this,"Z"),i.view(this,"X"),i.view(this,"C"),i.view(this,"V"),i.view(this,"B"),i.view(this,"N"),i.view(this,"M"),i.spacer(.136),i.view(this,"backspace",{colspan:1.364,style:"highlight"})),r.createElement(g.default,null,i.view(this,"123",{colspan:1.818,style:"highlight"}),i.spacer(.182),i.view(this,"a^b"),i.view(this,"!%_right"),i.view(this,"[]_right"),i.view(this,"{}_right"),i.view(this,"~:_right"),i.view(this,",'_right"),i.spacer(.182),i.view(this,"enter",{colspan:1.818,style:"blue"})))},u}(d.default);o.default=y}),q("graphing-calc/keypads/numbers",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row","keypad/btn"],function(O,o,w,r,d,i,l,g,y){Object.defineProperty(o,"__esModule",{value:!0});var p=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return w.__extends(f,u),f.prototype.template=function(){var b=this;return r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"boldX"),i.view(this,"boldY"),i.view(this,"a^2"),i.view(this,"a^b"),i.spacer(.5),i.view(this,"7",{style:"highlight"}),i.view(this,"8",{style:"highlight"}),i.view(this,"9",{style:"highlight"}),i.view(this,"/"),i.spacer(.5),r.createElement(y.default,{command:this.const("functions"),ariaLabel:function(){return b.controller.t("Functions")},colspan:this.const(2),style:this.const("highlight"),active:function(){return b.controller.isKeypadFunctionsPopoverOpen()},onTap:function(){return b.dispatch({type:"keypad/functions"})}},this.bindFn(this.getFuncsBtnText))),r.createElement(g.default,null,i.view(this,"("),i.view(this,")"),i.view(this,"<"),i.view(this,">"),i.spacer(.5),i.view(this,"4",{style:"highlight"}),i.view(this,"5",{style:"highlight"}),i.view(this,"6",{style:"highlight"}),i.view(this,"*"),i.spacer(.5),i.view(this,"left",{style:"highlight"}),i.view(this,"right",{style:"highlight"})),r.createElement(g.default,null,i.view(this,"|a|"),i.view(this,","),i.view(this,"<="),i.view(this,">="),i.spacer(.5),i.view(this,"1",{style:"highlight"}),i.view(this,"2",{style:"highlight"}),i.view(this,"3",{style:"highlight"}),i.view(this,"-"),i.spacer(1),i.view(this,"backspace",{colspan:1.5,style:"highlight"})),r.createElement(g.default,null,i.view(this,"ABC",{colspan:2,style:"highlight"}),i.view(this,"sqrt"),i.view(this,"pi"),i.spacer(.5),i.view(this,"0",{style:"highlight"}),i.view(this,".",{style:"highlight"}),i.view(this,"="),i.view(this,"+"),i.spacer(.5),i.view(this,"enter",{colspan:2,style:"blue"})))},f.prototype.getFuncsBtnText=function(){return this.controller.isNarrow()?this.controller.t("funcs"):this.controller.t("functions")},f}(d.default);o.default=p}),q("graphing-calc/keypads/letters",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){return r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"a"),i.view(this,"b"),i.view(this,"c"),i.view(this,"d"),i.view(this,"e"),i.view(this,"f"),i.view(this,"g"),i.view(this,"h"),i.view(this,"i"),i.view(this,"j")),r.createElement(g.default,null,i.view(this,"k"),i.view(this,"l"),i.view(this,"m"),i.view(this,"n"),i.view(this,"o"),i.view(this,"p"),i.view(this,"q"),i.view(this,"r"),i.view(this,"s"),i.view(this,"t")),r.createElement(g.default,null,i.view(this,"shift",{style:"highlight"}),i.view(this,"u"),i.view(this,"v"),i.view(this,"w"),i.view(this,"x"),i.view(this,"y"),i.view(this,"z"),i.view(this,"theta"),i.view(this,"backspace",{colspan:2,style:"highlight"})),r.createElement(g.default,null,i.view(this,"123",{colspan:2,style:"highlight"}),i.view(this,"a_b"),i.view(this,"!%_left"),i.view(this,"[]_left"),i.view(this,"{}_left"),i.view(this,"~:_left"),i.view(this,",'_left"),i.view(this,"enter",{colspan:2,style:"blue"})))},u}(d.default);o.default=y}),q("graphing-calc/keypads/letters-capital",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){return r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"A"),i.view(this,"B"),i.view(this,"C"),i.view(this,"D"),i.view(this,"E"),i.view(this,"F"),i.view(this,"G"),i.view(this,"H"),i.view(this,"I"),i.view(this,"J")),r.createElement(g.default,null,i.view(this,"K"),i.view(this,"L"),i.view(this,"M"),i.view(this,"N"),i.view(this,"O"),i.view(this,"P"),i.view(this,"Q"),i.view(this,"R"),i.view(this,"S"),i.view(this,"T")),r.createElement(g.default,null,i.view(this,"shift",{style:"highlight"}),i.view(this,"U"),i.view(this,"V"),i.view(this,"W"),i.view(this,"X"),i.view(this,"Y"),i.view(this,"Z"),i.view(this,"tau"),i.view(this,"backspace",{colspan:2,style:"highlight"})),r.createElement(g.default,null,i.view(this,"123",{colspan:2,style:"highlight"}),i.view(this,"a^b"),i.view(this,"!%_right"),i.view(this,"[]_right"),i.view(this,"{}_right"),i.view(this,"~:_right"),i.view(this,",'_right"),i.view(this,"enter",{colspan:2,style:"blue"})))},u}(d.default);o.default=y}),q("graphing-calc/keypads/trig",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=r.Components.If,y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){var f=this;return r.createElement(l.default,{controller:this.props.controller},this.b("sin"),this.b("arcsin"),this.b("sinh"),this.b("cos"),this.b("arccos"),this.b("cosh"),this.b("tan"),this.b("arctan"),this.b("tanh"),r.createElement(g,{predicate:this.bindFn(this.isNotRestricted)},function(){return f.b("csc")}),r.createElement(g,{predicate:this.bindFn(this.isNotRestricted)},function(){return f.b("arccsc")}),r.createElement(g,{predicate:this.bindFn(this.isNotRestricted)},function(){return f.b("csch")}),r.createElement(g,{predicate:this.bindFn(this.isNotRestricted)},function(){return f.b("sec")}),r.createElement(g,{predicate:this.bindFn(this.isNotRestricted)},function(){return f.b("arcsec")}),r.createElement(g,{predicate:this.bindFn(this.isNotRestricted)},function(){return f.b("sech")}),r.createElement(g,{predicate:this.bindFn(this.isNotRestricted)},function(){return f.b("cot")}),r.createElement(g,{predicate:this.bindFn(this.isNotRestricted)},function(){return f.b("arccot")}),r.createElement(g,{predicate:this.bindFn(this.isNotRestricted)},function(){return f.b("coth")}))},u.prototype.b=function(f){return i.view(this,f,{style:"popover"})},u.prototype.isNotRestricted=function(){return!this.controller.areFunctionsRestricted()},u}(d.default);o.default=y}),q("graphing-calc/keypads/stats",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=r.Components.If,y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){var f=this;return r.createElement(l.default,{controller:this.props.controller},this.b("total"),this.b("length"),this.b("mean"),this.b("median"),this.b("min"),this.b("max"),this.b("quartile"),this.b("quantile"),this.b("stdev"),this.b("stdevp"),r.createElement(g,{predicate:this.bindFn(this.isNotRestricted)},function(){return f.b("mad")}),this.b("var"),r.createElement(g,{predicate:this.bindFn(this.isNotRestricted)},function(){return f.b("cov")}),this.b("corr"),this.b("spearman"),this.b("nCr"),this.b("nPr"),this.b("stats"),r.createElement(g,{predicate:this.bindFn(this.areDistributionsEnabled)},function(){return f.b("ttest")}),r.createElement(g,{predicate:this.bindFn(this.areDistributionsEnabled)},function(){return f.b("tscore")}),r.createElement(g,{predicate:this.bindFn(this.areDistributionsEnabled)},function(){return f.b("ittest")}))},u.prototype.b=function(f){return i.view(this,f,{style:"popover-short"})},u.prototype.isNotRestricted=function(){return!this.controller.areFunctionsRestricted()},u.prototype.areDistributionsEnabled=function(){return this.controller.areDistributionsEnabled()},u}(d.default);o.default=y}),q("graphing-calc/keypads/misc",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=function(y){function p(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(p,y),p.prototype.template=function(){return r.createElement(l.default,{controller:this.props.controller},this.b("lcm"),this.b("gcd"),this.b("mod"),this.b("ceil"),this.b("floor"),this.b("round"),this.b("sign"),this.b("%"),this.b("exp"),this.b("ln"),this.b("nthroot"),this.b("polygon"),this.b("log"),this.b("loga"),this.b("ddx"),this.b("int"),this.b("sum"),this.b("prod"))},p.prototype.b=function(u){return i.view(this,u,{style:"popover"})},p}(d.default);o.default=g}),q("graphing-calc/keypads/distributions",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=function(y){function p(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(p,y),p.prototype.template=function(){var u=this;return r.createElement(l.default,{controller:this.props.controller},r.createElement("div",{class:r.const("dcg-section-heading")},function(){return u.controller.t("Visualizations")},r.createElement("a",{href:r.const("https://support.desmos.com/hc/en-us/articles/360022405991"),target:r.const("_blank"),"aria-label":function(){return u.controller.t("Visualizations")}},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))),this.b("histogram"),this.b("dotplot"),this.b("boxplot"),r.createElement("div",{class:r.const("dcg-section-heading")},function(){return u.controller.t("Distributions")},r.createElement("a",{href:r.const("https://support.desmos.com/hc/en-us/articles/360022401451#distributions"),target:r.const("_blank"),"aria-label":function(){return u.controller.t("Distributions")}},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))),this.b("normaldist"),this.b("tdist"),this.b("poissondist"),this.b("binomialdist"),this.b("uniformdist"),r.createElement("div",{class:r.const("dcg-popover-section-separator")}),this.b("pdf"),this.b("cdf"),this.b("inversecdf"),this.b("random"))},p.prototype.b=function(u){return i.view(this,u,{style:"popover-short"})},p}(d.default);o.default=g}),q("loadcss!graphing-calc/keypads/functions-popover",function(){}),q("graphing-calc/keypads/functions-popover",["require","exports","tslib","dcgview","./dcgview-graphing","./trig","./stats","./misc","./distributions","loadcss!./functions-popover"],function(O,o,w,r,d,i,l,g,y){Object.defineProperty(o,"__esModule",{value:!0});var p=r.Components,u=p.SwitchUnion,f=p.If,b=function(m){function c(){return m!==null&&m.apply(this,arguments)||this}return w.__extends(c,m),c.prototype.template=function(){var n=this;return r.createElement("div",{class:r.const("dcg-functions-popover dcg-popover dcg-top")},r.createElement("div",{class:r.const("dcg-popover-interior")},r.createElement("div",{class:r.const("dcg-popover-header")},r.createElement("span",{role:r.const("button"),"dcg-command":r.const("trigTab"),class:function(){return{"dcg-heading":!0,"dcg-selected":n.controller.getKeypadFunctionsTab()==="trig"}},onTap:function(){n.dispatch({type:"keypad/set-functions-tab",tab:"trig"})}},function(){return n.controller.t("trig")}),r.createElement("span",{role:r.const("button"),"dcg-command":r.const("statsTab"),class:function(){return{"dcg-heading":!0,"dcg-selected":n.controller.getKeypadFunctionsTab()==="stats"}},onTap:function(){n.dispatch({type:"keypad/set-functions-tab",tab:"stats"})}},function(){return n.controller.t("stats")}),r.createElement(f,{predicate:function(){return n.controller.areDistributionsEnabled()}},function(){return r.createElement("span",{role:r.const("button"),"dcg-command":r.const("distTab"),class:function(){return{"dcg-heading":!0,"dcg-selected":n.controller.getKeypadFunctionsTab()==="dist"}},onTap:function(){n.dispatch({type:"keypad/set-functions-tab",tab:"dist"})}},function(){return n.controller.t("dist")})}),r.createElement("span",{role:r.const("button"),"dcg-command":r.const("miscTab"),class:function(){return{"dcg-heading":!0,"dcg-selected":n.controller.getKeypadFunctionsTab()==="misc"}},onTap:function(){n.dispatch({type:"keypad/set-functions-tab",tab:"misc"})}},function(){return n.controller.t("misc")})),r.createElement("div",{class:r.const("dcg-interior-buttons")},u(function(){return n.controller.getKeypadFunctionsTab()},{trig:function(){return r.createElement(i.default,{controller:n.props.controller})},stats:function(){return r.createElement(l.default,{controller:n.props.controller})},misc:function(){return r.createElement(g.default,{controller:n.props.controller})},dist:function(){return r.createElement(y.default,{controller:n.props.controller})}}))),r.createElement("div",{class:r.const("dcg-arrow")}))},c}(d.default);o.default=b}),q("loadcss!graphing-calc/keypads/graphing-keypad-container",function(){}),q("graphing-calc/keypads/main",["require","exports","tslib","dcgview","./dcgview-graphing","./qwerty","./qwerty-capital","./numbers","./letters","./letters-capital","./functions-popover","jquery","underscore","../../lib/tooltip","loadcss!./graphing-keypad-container"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m){Object.defineProperty(o,"__esModule",{value:!0});var c=r.Components,n=c.SwitchUnion,s=c.If,v=function(A){function M(){return A!==null&&A.apply(this,arguments)||this}return w.__extends(M,A),M.prototype.template=function(){var C=this;return r.createElement("div",{class:r.const("dcg-keypad"),role:r.const("complementary"),"aria-label":r.const("Keypad")},r.createElement("div",{class:r.const("dcg-keys-container"),style:this.bindFn(this.computeStyles),didMount:this.bindFn(this.didMountContainer)},r.createElement("div",{class:r.const("dcg-keys-background dcg-do-not-blur"),style:function(){return{background:C.controller.getPillboxBackgroundColor()}}},r.createElement("div",{class:r.const("dcg-keys")},n(function(){return C.controller.getKeypadLayout()},{letters:function(){return r.createElement(i.default,{controller:C.props.controller})},capitalLetters:function(){return r.createElement(l.default,{controller:C.props.controller})},mainNumbers:function(){return r.createElement(g.default,{controller:C.props.controller})},noQwertyLetters:function(){return r.createElement(y.default,{controller:C.props.controller})},noQwertyCapitalLetters:function(){return r.createElement(p.default,{controller:C.props.controller})}}),r.createElement(s,{predicate:function(){return C.controller.isKeypadFunctionsPopoverOpen()}},function(){return r.createElement(u.default,{controller:C.props.controller})})),r.createElement(s,{predicate:this.bindFn(this.isHideKeypadButtonVisible)},function(){return r.createElement("div",{class:r.const("dcg-minimize-keypad-container")},r.createElement(m.Tooltip,{tooltip:function(){return C.controller.t("Hide Keypad")},gravity:C.const("ne"),offset:C.const({left:6})},r.createElement("div",{role:r.const("button"),"aria-label":function(){return C.controller.t("Hide Keypad")},class:r.const("dcg-minimize-keypad"),style:function(){return{"border-bottom-color":C.controller.getPillboxBackgroundColor(),background:C.controller.getPillboxBackgroundColor()}},onTap:function(){C.controller.dispatch({type:"keypad/set-minimized",minimized:!0})}},r.createElement("i",{class:r.const("dcg-icon-keyboard")}),r.createElement("i",{class:r.const("dcg-icon-caret-down")}))))}))),r.createElement(s,{predicate:this.bindFn(this.isShowKeypadButtonVisible)},function(){return r.createElement("div",{class:r.const("dcg-show-keypad-container")},r.createElement(m.Tooltip,{tooltip:function(){return C.controller.t("Show Keypad")},gravity:C.const("ne")},r.createElement("div",{role:r.const("button"),"aria-label":function(){return C.controller.t("Show Keypad")},class:r.const("dcg-btn-flat-gray dcg-show-keypad dcg-do-not-blur"),style:function(){return{background:C.controller.getPillboxBackgroundColor()}},onTap:function(){C.controller.dispatch({type:"keypad/set-minimized",minimized:!1})}},r.createElement("i",{class:r.const("dcg-icon-keyboard")}),r.createElement("i",{class:r.const("dcg-icon-caret-up dcg-do-not-blur")}))))}))},M.prototype.didMountContainer=function(C){this.containerElt=C},M.prototype.isShowKeypadButtonVisible=function(){return!this.controller.isAuthorIDE()&&this.controller.getBrailleMode()==="none"&&!this.controller.isKeypadOpen()&&!this.controller.isNarrow()&&!this.controller.isInEditListMode()&&this.controller.isListVisible()},M.prototype.isHideKeypadButtonVisible=function(){return this.controller.getBrailleMode()==="none"&&this.controller.isKeypadOpen()&&!this.controller.isNarrow()},M.prototype.didMount=function(){this.updatePopoverPosition()},M.prototype.didUpdate=function(){this.updatePopoverPosition()},M.prototype.computeStyles=function(){var C={};return this.controller.isNarrow()||(C.transition="transform .3s, opacity .3s"),this.controller.isKeypadOpen()||(C.opacity="0",C.transform="translate3d(0, 255px, 0)"),C},M.prototype.updatePopoverPosition=function(){if(!this.controller.isKeypadFunctionsPopoverOpen())return void(this.__popoverCache=void 0);var C=this.controller.computeMajorLayout(),D={keypadTop:C.keypad.top,keypadWidth:C.keypad.width,keypadHeight:C.keypad.height,showToLeft:C.grapher.height<525};if(!b.isEqual(D,this.__popoverCache)){this.__popoverCache=D;var S=f(this.containerElt),x=S.find("[dcg-command=functions]"),B=S.find(".dcg-functions-popover"),Z=S.find(".dcg-arrow");if(D.showToLeft){B.removeClass("dcg-top").addClass("dcg-left");var X=D.keypadHeight-(x.offset().top-S.offset().top),ee=X-x.outerHeight()/2-2-10;Z.css({left:"auto",bottom:ee})}else B.removeClass("dcg-left").addClass("dcg-top"),Z.css({left:B.width()-x.width()/2,bottom:"auto"})}},M}(d.default);o.default=v}),q("loadcss!pillboxes",function(){}),q("main/graphpaper-branding-view",["require","exports","tslib","dcgview","loadcss!pillboxes"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=r.Components.SwitchUnion,i=function(l){function g(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(g,l),g.prototype.template=function(){var y=this;return this.controller=this.props.controller(),d(function(){return y.controller.getBrandingMode()},{"static-edit-link":function(){return r.createElement("div",{class:r.const("dcg-graphpaper-branding")},r.createElement("a",{href:function(){return y.controller.getEditLink()},target:r.const("_blank")},r.createElement("span",{class:r.const("dcg-powered-by"),"aria-label":function(){return y.controller.t("Edit graph on Desmos")}},function(){return y.controller.t("edit graph on")}),r.createElement("i",{class:r.const("dcg-icon-desmos")})))},"edit-link":function(){return r.createElement("div",{class:r.const("dcg-graphpaper-branding")},r.createElement("span",{class:r.const("dcg-edit-branding"),onTap:function(){return y.controller.dispatch({type:"open-on-web"})}},r.createElement("span",{class:r.const("dcg-powered-by"),"aria-label":function(){return y.controller.t("Edit graph on Desmos")}},function(){return y.controller.t("edit graph on")}),r.createElement("i",{class:r.const("dcg-icon-desmos")})))},"powered-by":function(){return r.createElement("div",{class:r.const("dcg-graphpaper-branding dcg-unclickable")},r.createElement("span",{class:r.const("dcg-powered-by"),"aria-label":function(){return y.controller.t("Powered by Desmos")}},function(){return y.controller.t("powered by")}),r.createElement("i",{class:r.const("dcg-icon-desmos")}))}})},g}(r.Class);o.default=i}),q("loadcss!main/settings-view",function(){}),q("main/settings-view",["require","exports","tslib","keys","scroll_helpers","lib/tooltip","dcgview","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","jquery","core/graphing-calc/json/graph-settings","core/math/evaluate-single-expression","graphing/viewport","dcgview-helpers/checkbox","main/manage-focus-helper","../dcgview-helpers/mathquill-braille-wrapper","loadcss!./settings-view"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n){Object.defineProperty(o,"__esModule",{value:!0});var s=l.Components,v=s.Input,A=s.If,M=function(D){function S(){return D!==null&&D.apply(this,arguments)||this}return w.__extends(S,D),S.prototype.template=function(){var x=this;return l.createElement(n.default,{latex:function(){return x.props.parent().getLimitLatex(x.props.limit())},controller:this.props.controller,ariaLabel:function(){return x.props.ariaLabel()},onBrailleInput:function(B){return x.props.parent().setLimitLatex(x.props.limit(),B)},onBrailleFocusedChanged:function(B){return x.props.parent().onFocusedChanged(x.props.limit(),B)},brailleShouldFocus:function(){return x.props.parent().getFocusedLimit()===x.props.limit()},hasError:function(){return x.props.parent().isLimitInvalid(x.props.limit())},onExpressionSizeExceeded:function(){},dataDCGLimit:function(){return x.props.limit()}},l.createElement(y.default,{isFocused:function(){return x.props.parent().getFocusedLimit()===x.props.limit()},latex:function(){return x.props.parent().getLimitLatex(x.props.limit())},capExpressionSize:function(){return x.props.parent().getCapExpressionSize()},config:this.const({}),getAriaLabel:function(){return x.props.ariaLabel()},getAriaPostLabel:this.const(""),onUserChangedLatex:function(B){return x.props.parent().setLimitLatex(x.props.limit(),B)},onFocusedChanged:function(B){return x.props.parent().onFocusedChanged(x.props.limit(),B)},hasError:this.const(!1),selectOnFocus:this.const(!0),needsSystemKeypad:function(){return x.props.needsSystemKeypad()}},l.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-math-input":!0,"dcg-invalid":x.props.parent().isLimitInvalid(x.props.limit()),"dcg-focus":x.props.parent().getFocusedLimit()===x.props.limit()}},"data-dcg-limit":function(){return x.props.limit()}})))},S}(l.Class),C=function(D){function S(){return D!==null&&D.apply(this,arguments)||this}return w.__extends(S,D),S.prototype.template=function(){var x=this;return this.controller=this.props.controller(),l.createElement("div",{class:l.const("dcg-settings-view-container")},l.createElement(i.Tooltip,{tooltip:function(){return x.controller.t("Graph Settings")},gravity:this.const("w")},l.createElement("div",{class:l.const("dcg-btn-flat-gray dcg-settings-pillbox dcg-action-settings"),role:l.const("button"),tabindex:l.const("0"),"aria-haspopup":l.const("true"),"aria-expanded":function(){return x.controller.isGraphSettingsOpen()},"aria-label":function(){return x.controller.t("Graph Settings")},onTap:this.bindFn(this.onTapSettingsButton),manageFocus:this.const(c.manageFocusHelper({controller:this.controller,location:{type:"settings",location:"icon"}})),style:function(){return{background:x.controller.getPillboxBackgroundColor()}}},l.createElement("i",{class:l.const("dcg-icon-wrench"),"aria-hidden":l.const("true")}))),l.createElement(A,{predicate:function(){return x.controller.isGraphSettingsOpen()}},function(){return l.createElement("div",{class:l.const("dcg-settings-container dcg-left dcg-popover dcg-constrained-height-popover"),style:x.bindFn(x.getContainerStyle),didMount:x.bindFn(x.didMountContainer),didUnmount:x.bindFn(x.didUnmountContainer)},l.createElement("div",{class:l.const("dcg-popover-interior"),role:l.const("complementary"),"aria-label":l.const("Graph Settings")},l.createElement("div",{class:l.const("dcg-visual-settings")},l.createElement("div",{class:function(){return{"dcg-modern-btn":!0,"dcg-action-projectormode":!0,"dcg-active":x.getProjectorMode()}},role:l.const("button"),tabindex:l.const("0"),"aria-label":function(){return x.controller.t("Projector Mode")},"aria-pressed":x.bindFn(x.getProjectorMode),onTap:x.bindFn(x.toggleProjectorMode),manageFocus:x.const(c.manageFocusHelper({controller:x.controller,location:{type:"settings",location:"projector-mode"}}))},function(){return x.controller.t("Projector Mode")}),l.createElement(m.Checkbox,{ariaLabel:function(){return x.controller.t("Reverse Contrast")},onChange:x.bindFn(x.toggleInvertedColors),checked:function(){return x.controller.getInvertedColors()},green:x.const(!0)},function(){return x.controller.t("Reverse Contrast")})),l.createElement("div",{class:l.const("dcg-braille-container")},l.createElement("div",{class:l.const("dcg-group-title")},l.const("Braille Mode")),l.createElement("div",{role:l.const("group"),"aria-label":function(){return x.controller.t("Braille Mode")},class:l.const("dcg-braille-options-buttons")},l.createElement("span",{class:function(){return{"dcg-modern-btn":!0,"dcg-braille-option":!0,"dcg-active":x.controller.getBrailleMode()==="none"}},role:l.const("button"),onTap:function(){return x.controller.dispatch({type:"set-braille-mode",mode:"none"})},tabindex:l.const(0),"aria-label":function(){return x.controller.t("Off")},"aria-pressed":function(){return x.controller.getBrailleMode()==="none"}},function(){return x.controller.t("Off")}),l.createElement("span",{class:function(){return{"dcg-modern-btn":!0,"dcg-braille-option":!0,"dcg-active":x.controller.getBrailleMode()==="nemeth"}},role:l.const("button"),onTap:function(){return x.controller.dispatch({type:"set-braille-mode",mode:"nemeth"})},tabindex:l.const(0),"aria-label":function(){return x.controller.t("Nemeth")},"aria-pressed":function(){return x.controller.getBrailleMode()==="nemeth"}},function(){return x.controller.t("Nemeth")}),l.createElement("span",{class:function(){return{"dcg-modern-btn":!0,"dcg-braille-option":!0,"dcg-active":x.controller.getBrailleMode()==="ueb"}},role:l.const("button"),onTap:function(){return x.controller.dispatch({type:"set-braille-mode",mode:"ueb"})},tabindex:l.const(0),"aria-label":function(){return x.controller.t("UEB")},"aria-pressed":function(){return x.controller.getBrailleMode()==="ueb"}},function(){return x.controller.t("UEB")})),l.createElement(A,{predicate:function(){return x.controller.getBrailleMode()!=="none"}},function(){return l.createElement("div",{class:l.const("dcg-checkbox-title dcg-six-key-checkbox")},l.createElement(m.Checkbox,{ariaLabel:function(){return x.controller.t("Six Key Braille Input")},onChange:function(B){return x.controller.dispatch({type:"set-six-key-input",useSixKeyInput:B})},checked:function(){return x.controller.getSixKeyInput()},green:x.const(!0)},function(){return x.controller.t("Six Key Braille Input")}),l.createElement("a",{href:l.const("https://www.desmos.com/accessibility#braille"),class:l.const("dcg-six-key-info"),target:l.const("_blank")},l.createElement("i",{class:l.const("dcg-icon-question-sign")})))})),l.createElement("div",{class:l.const("dcg-top-section-flex dcg-grid-settings-container")},l.createElement("div",{class:l.const("dcg-grid-settings")},l.createElement(m.Checkbox,{ariaLabel:function(){return x.controller.t("Grid")},onChange:x.bindFn(x.toggleGrid),checked:x.bindFn(x.getShowGrid),green:x.const(!0)},function(){return x.controller.t("Grid")}),l.createElement(A,{predicate:x.bindFn(x.getShowGrid)},function(){return l.createElement("div",{class:l.const("dcg-circle-icon-group dcg-grid-group")},l.createElement("div",{class:function(){return{"dcg-circle-icon":!0,"dcg-action-cartesian":!0,"dcg-active":!x.getPolarMode()}},role:l.const("button"),tabindex:l.const("0"),ariaPressed:function(){return!x.getPolarMode()},"aria-label":function(){return x.controller.t("Cartesian Grid")},onTap:x.bindFn(x.setCartesianMode)}),l.const("\xA0"),l.createElement("div",{class:function(){return{"dcg-circle-icon":!0,"dcg-action-polar":!0,"dcg-active":x.getPolarMode()}},role:l.const("button"),tabindex:l.const("0"),ariaPressed:function(){return x.getPolarMode()},"aria-label":function(){return x.controller.t("Polar Grid")},onTap:x.bindFn(x.setPolarMode)}))}),l.createElement(m.Checkbox,{ariaLabel:function(){return x.controller.t("Arrows")},onChange:x.bindFn(x.toggleArrows),checked:function(){return x.getAxisArrowMode()!==u.AxisArrowModes.NONE},green:x.const(!0)},function(){return x.controller.t("Arrows")}),l.createElement(A,{predicate:function(){return x.getAxisArrowMode()!==u.AxisArrowModes.NONE}},function(){return l.createElement("div",{class:l.const("dcg-circle-icon-group dcg-arrow-group")},l.createElement("div",{role:l.const("button"),tabindex:l.const("0"),class:function(){return{"dcg-circle-icon":!0,"dcg-arrows":!0,"dcg-active":x.getAxisArrowMode()===u.AxisArrowModes.BOTH}},"dcg-arrows":l.const("BOTH"),"aria-label":function(){return x.controller.t("Show Both")},"aria-pressed":function(){return x.getAxisArrowMode()===u.AxisArrowModes.BOTH},onTap:function(){return x.setAxisArrowMode(u.AxisArrowModes.BOTH)}},l.createElement("i",{class:l.const("dcg-icon-arrows-two")})),l.const("\xA0"),l.createElement("div",{role:l.const("button"),tabindex:l.const("0"),class:function(){return{"dcg-circle-icon":!0,"dcg-arrows":!0,"dcg-active":x.getAxisArrowMode()===u.AxisArrowModes.POSITIVE}},"dcg-arrows":l.const("POSITIVE"),"aria-label":function(){return x.controller.t("Show Positive")},"aria-pressed":function(){return x.getAxisArrowMode()===u.AxisArrowModes.POSITIVE},onTap:function(){return x.setAxisArrowMode(u.AxisArrowModes.POSITIVE)}},l.createElement("i",{class:l.const("dcg-icon-arrows-one")})))})),l.createElement("div",{class:l.const("dcg-top-checkboxes-container")},l.createElement(m.Checkbox,{ariaLabel:function(){return x.controller.t("Axis Numbers")},onChange:x.bindFn(x.toggleAxisNumbers),checked:x.bindFn(x.getAxisNumbers),small:x.const(!0),green:x.const(!0)},function(){return x.controller.t("Axis Numbers")}),l.createElement(A,{predicate:function(){return x.getShowGrid()&&!x.getPolarMode()}},function(){return l.createElement(m.Checkbox,{ariaLabel:function(){return x.controller.t("Minor Gridlines")},onChange:x.bindFn(x.toggleMinorGridlines),checked:x.bindFn(x.getMinorGridlines),small:x.const(!0),green:x.const(!0)},function(){return x.controller.t("Minor Gridlines")})}),l.createElement(A,{predicate:function(){return x.controller.canUseAdvancedStyling()&&!x.getPolarMode()}},function(){return l.createElement(m.Checkbox,{checked:function(){return x.controller.getGraphSettings().restrictGridToFirstQuadrant},ariaLabel:x.const("One Quadrant"),onChange:function(B){return x.controller.dispatch({type:"set-graph-settings",restrictGridToFirstQuadrant:B})},small:x.const(!0),green:x.const(!0)},l.const("One Quadrant"))}),l.createElement(A,{predicate:function(){return!x.getSquareAxes()}},function(){return l.createElement("div",{role:l.const("button"),tabindex:l.const("0"),class:l.const("dcg-action-zoom-square dcg-btn-light-gray"),onTap:x.bindFn(x.zoomSquare)},function(){return x.controller.t("Zoom Square")})}))),l.createElement("div",{class:l.const("dcg-axes-settings-container")},l.createElement("div",{class:l.const("dcg-checkbox-title dcg-x-axis-title")},l.createElement(m.Checkbox,{ariaLabel:function(){return x.controller.t("X-Axis")},onChange:x.bindFn(x.toggleXAxis),checked:x.bindFn(x.getShowXAxis),green:x.const(!0)},function(){return x.controller.t("X-Axis")}),l.createElement(v,{class:x.const("dcg-axis-label dcg-x-axis-label"),placeholder:function(){return x.controller.t("add a label")},"aria-label":function(){return x.controller.t("add x-axis label")},disabled:function(){return!x.getShowXAxis()||void 0},"aria-disabled":function(){return!x.getShowXAxis()||void 0},onInput:x.bindFn(x.onXAxisLabelInput),value:x.bindFn(x.getXAxisLabel)})),l.createElement("div",{class:l.const("dcg-editable-mathquill-container dcg-x-axis-options")},l.createElement(M,{limit:x.const("xmin"),ariaLabel:function(){return x.controller.t("X Axis Minimum: ")},needsSystemKeypad:function(){return!x.controller.isKeypadEnabled()},parent:x.const(x),controller:x.props.controller}),l.createElement(g.default,{latex:x.const("\\le x\\le")},l.createElement("span",{class:l.const("dcg-interval-interior")})),l.createElement(M,{limit:x.const("xmax"),ariaLabel:function(){return x.controller.t("X Axis Maximum: ")},needsSystemKeypad:function(){return!x.controller.isKeypadEnabled()},parent:x.const(x),controller:x.props.controller}),l.createElement(A,{predicate:function(){return!x.getPolarMode()}},function(){return l.createElement("span",{class:l.const("dcg-step-container")},l.createElement("span",{class:l.const("dcg-step-label"),"aria-hidden":l.const("true")},function(){return x.controller.t("Step:")}),l.createElement(M,{limit:x.const("xstep"),ariaLabel:function(){return x.controller.t("X Axis Step Size: ")},needsSystemKeypad:function(){return!x.controller.isKeypadEnabled()},parent:x.const(x),controller:x.props.controller}))})),l.createElement("div",{class:l.const("dcg-checkbox-title dcg-y-axis-title")},l.createElement(m.Checkbox,{ariaLabel:function(){return x.controller.t("Y-Axis")},onChange:x.bindFn(x.toggleYAxis),checked:x.bindFn(x.getShowYAxis),green:x.const(!0)},function(){return x.controller.t("Y-Axis")}),l.createElement(v,{class:x.const("dcg-axis-label dcg-y-axis-label"),placeholder:function(){return x.controller.t("add a label")},"aria-label":function(){return x.controller.t("add y-axis label")},disabled:function(){return!x.getShowYAxis()||void 0},"aria-disabled":function(){return!x.getShowYAxis()||void 0},onInput:x.bindFn(x.onYAxisLabelInput),value:x.bindFn(x.getYAxisLabel)})),l.createElement("div",{class:l.const("dcg-editable-mathquill-container dcg-y-axis-options")},l.createElement(M,{limit:x.const("ymin"),ariaLabel:function(){return x.controller.t("Y Axis Minimum: ")},needsSystemKeypad:function(){return!x.controller.isKeypadEnabled()},parent:x.const(x),controller:x.props.controller}),l.createElement(g.default,{latex:x.const("\\le y\\le")},l.createElement("span",{class:l.const("dcg-interval-interior")})),l.createElement(M,{limit:x.const("ymax"),ariaLabel:function(){return x.controller.t("Y Axis Maximum: ")},needsSystemKeypad:function(){return!x.controller.isKeypadEnabled()},parent:x.const(x),controller:x.props.controller}),l.createElement(A,{predicate:function(){return!x.getPolarMode()}},function(){return l.createElement("span",{class:l.const("dcg-step-container")},l.createElement("span",{class:l.const("dcg-step-label"),"aria-hidden":l.const("true")},function(){return x.controller.t("Step:")}),l.createElement(M,{limit:x.const("ystep"),ariaLabel:function(){return x.controller.t("Y Axis Step Size: ")},needsSystemKeypad:function(){return!x.controller.isKeypadEnabled()},parent:x.const(x),controller:x.props.controller}))}))),l.createElement("div",{class:l.const("dcg-radiangroup"),role:l.const("group"),"aria-label":function(){return x.controller.t("Angle Settings")}},l.createElement("div",{class:function(){return{"dcg-action-radianmode":!0,"dcg-modern-btn":!0,"dcg-active":!x.getDegreeMode()}},"aria-pressed":function(){return!x.getDegreeMode()},role:l.const("button"),tabindex:l.const("0"),"aria-label":function(){return x.controller.t("Radians")},onTap:x.bindFn(x.setRadianMode)},function(){return x.controller.t("Radians")}),l.createElement("div",{class:function(){return{"dcg-action-degreemode":!0,"dcg-modern-btn":!0,"dcg-active":x.getDegreeMode()}},"aria-pressed":x.bindFn(x.getDegreeMode),role:l.const("button"),tabindex:l.const("0"),"aria-label":function(){return x.controller.t("Degrees")},onTap:x.bindFn(x.setDegreeMode),manageFocus:x.const(c.manageFocusHelper({controller:x.controller,location:{type:"settings",location:"degree-mode"}}))},function(){return x.controller.t("Degrees")})),l.createElement("div",{class:l.const("dcg-arrow")})))}))},S.prototype.didMountContainer=function(x){var B=this;this.node=x,p(document).on("dcg-tapstart.settings-view wheel.settings-view",function(Z){B.eventShouldClosePopover(Z)&&B.controller.dispatch({type:"close-graph-settings",focusIconAfterClose:Z.device==="keyboard"})}),p(document).on("keydown.settings-view",function(Z){if(r.lookup(Z)==="Esc"&&B.controller.dispatch({type:"close-graph-settings",focusIconAfterClose:!0}),B.controller.isGraphSettingsOpen()&&r.lookup(Z)==="Tab"&&!Z.altKey&&!Z.metaKey&&!Z.ctrlKey){var X=B.controller.getFocusLocation();if(!X||X.type!=="settings")return;Z.shiftKey||X.location!=="degree-mode"?Z.shiftKey&&X.location==="icon"&&(B.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"degree-mode"}}),Z.preventDefault(),Z.stopPropagation()):(B.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"icon"}}),Z.preventDefault(),Z.stopPropagation())}})},S.prototype.didUnmountContainer=function(){p(document).off(".settings-view")},S.prototype.didUpdate=function(){if(this.controller.isGraphSettingsOpen()){var x=this.controller.getKeypadHeight();x!==this.cachedKeypadHeight&&document.activeElement&&p(document.activeElement).closest(this.node).length&&d.scrollVisible(p(document.activeElement),p(this.node).find(".dcg-popover-interior"),50),this.cachedKeypadHeight=x}},S.prototype.eventShouldClosePopover=function(x){var B=p(x.target),Z=!!B.closest(this.node).length,X=!!B.closest(".dcg-action-settings").length,ee=this.isMathquillFocused()&&B.closest(".dcg-keypad").length,W=!!B.closest(".dcg-action-undo").length||!!B.closest(".dcg-action-redo").length;return!(Z||X||ee||W)},S.prototype.onTapSettingsButton=function(x){this.controller.dispatch({type:"toggle-graph-settings",focusOnOpen:x.device==="keyboard"})},S.prototype.isMathquillFocused=function(){return this.getFocusedLimit()!==void 0},S.prototype.getLimitLatex=function(x){return this.controller.getSettingsViewModel().limitLatex[x]},S.prototype.setLimitLatex=function(x,B){B!==this.controller.getSettingsViewModel().limitLatex[x]&&this.controller.dispatch({type:"set-axis-limit-latex",limit:x,latex:B})},S.prototype.getFocusedLimit=function(){var x=this.controller.getFocusLocation();if(x&&x.type==="settings")return x.location},S.prototype.getInvalidLimits=function(){var x=!!this.controller.getGraphSettings().degreeMode,B=f.default(this.getLimitLatex("xmin"),x),Z=f.default(this.getLimitLatex("xmax"),x),X=f.default(this.getLimitLatex("ymin"),x),ee=f.default(this.getLimitLatex("ymax"),x),W=this.getLimitLatex("xstep")===""?0:f.default(this.getLimitLatex("xstep"),x),U=this.getLimitLatex("ystep")===""?0:f.default(this.getLimitLatex("ystep"),x),F={},G=new b.Viewport(B,Z,X,ee);return isFinite(B)&&isFinite(Z)?(F.xmin=!G.isXValid(),F.xmax=F.xmin):(F.xmin=!isFinite(B),F.xmax=!isFinite(Z)),isFinite(X)&&isFinite(ee)?(F.ymin=!G.isYValid(),F.ymax=F.ymin):(F.ymin=!isFinite(X),F.ymax=!isFinite(ee)),F.xstep=!isFinite(W)||W<0,F.ystep=!isFinite(U)||U<0,F},S.prototype.isLimitInvalid=function(x){return this.getInvalidLimits()[x]},S.prototype.onFocusedChanged=function(x,B){B?this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:x}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"settings",location:x}})},S.prototype.onXAxisLabelInput=function(x){this.controller.dispatch({type:"set-graph-settings",xAxisLabel:x})},S.prototype.onYAxisLabelInput=function(x){this.controller.dispatch({type:"set-graph-settings",yAxisLabel:x})},S.prototype.getXAxisLabel=function(){return this.controller.getGraphSettings().xAxisLabel},S.prototype.getYAxisLabel=function(){return this.controller.getGraphSettings().yAxisLabel},S.prototype.getShowXAxis=function(){return!!this.controller.getGraphSettings().showXAxis},S.prototype.toggleXAxis=function(){this.controller.dispatch({type:"set-graph-settings",showXAxis:!this.getShowXAxis()})},S.prototype.getShowYAxis=function(){return!!this.controller.getGraphSettings().showYAxis},S.prototype.toggleYAxis=function(){this.controller.dispatch({type:"set-graph-settings",showYAxis:!this.getShowYAxis()})},S.prototype.getAxisNumbers=function(){return!!this.controller.getGraphSettings().xAxisNumbers},S.prototype.toggleAxisNumbers=function(){var x=this.getAxisNumbers();this.controller.dispatch({type:"set-graph-settings",xAxisNumbers:!x,yAxisNumbers:!x,polarNumbers:!x})},S.prototype.getMinorGridlines=function(){return this.controller.getGraphSettings().xAxisMinorSubdivisions===0},S.prototype.toggleMinorGridlines=function(){var x=this.getMinorGridlines()?1:0;this.controller.dispatch({type:"set-graph-settings",yAxisMinorSubdivisions:x,xAxisMinorSubdivisions:x})},S.prototype.getPolarMode=function(){return!!this.controller.getGraphSettings().polarMode},S.prototype.setPolarMode=function(){this.controller.dispatch({type:"set-graph-settings",polarMode:!0})},S.prototype.setCartesianMode=function(){this.controller.dispatch({type:"set-graph-settings",polarMode:!1})},S.prototype.getDegreeMode=function(){return!!this.controller.getGraphSettings().degreeMode},S.prototype.setRadianMode=function(){this.controller.dispatch({type:"set-graph-settings",degreeMode:!1})},S.prototype.setDegreeMode=function(){this.controller.dispatch({type:"set-graph-settings",degreeMode:!0})},S.prototype.getProjectorMode=function(){return!!this.controller.getGraphSettings().config.projectorMode},S.prototype.toggleInvertedColors=function(){this.controller.dispatch({type:"set-inverted-colors",value:!this.controller.getInvertedColors()})},S.prototype.toggleProjectorMode=function(){this.controller.dispatch({type:"set-projector-mode",value:!this.getProjectorMode()})},S.prototype.getAxisArrowMode=function(){return this.controller.getGraphSettings().xAxisArrowMode},S.prototype.setAxisArrowMode=function(x){this.controller.dispatch({type:"set-graph-settings",xAxisArrowMode:x,yAxisArrowMode:x})},S.prototype.getShowGrid=function(){return this.controller.getGraphSettings().showGrid},S.prototype.toggleGrid=function(){this.controller.dispatch({type:"set-graph-settings",showGrid:!this.getShowGrid()})},S.prototype.toggleArrows=function(){var x=this.getAxisArrowMode()===u.AxisArrowModes.NONE?u.AxisArrowModes.BOTH:u.AxisArrowModes.NONE;this.controller.dispatch({type:"set-graph-settings",xAxisArrowMode:x,yAxisArrowMode:x})},S.prototype.getSquareAxes=function(){return!!this.controller.getGraphSettings().squareAxes},S.prototype.getContainerStyle=function(){return this.controller.getKeypadHeight()?"bottom: 0":""},S.prototype.zoomSquare=function(){this.controller.dispatch({type:"zoom",direction:"square"})},S.prototype.getCapExpressionSize=function(){return!!this.controller.getGraphSettings().config.capExpressionSize},S}(l.Class);o.default=C}),q("main/zoom-buttons-view",["require","exports","tslib","dcgview","lib/tooltip","loadcss!pillboxes"],function(O,o,w,r,d){Object.defineProperty(o,"__esModule",{value:!0});var i=function(l){function g(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(g,l),g.prototype.init=function(){this.controller=this.props.controller()},g.prototype.template=function(){var y=this;return r.createElement("div",{class:r.const("dcg-zoom-container")},r.createElement("div",{class:r.const("dcg-zoominout-pillbox dcg-btn-flat-gray dcg-btn-flat-gray-group"),style:function(){return{background:y.controller.getPillboxBackgroundColor()}}},r.createElement(d.Tooltip,{tooltip:function(){return y.controller.t("Zoom In")},gravity:this.const("w")},r.createElement("div",{class:r.const("dcg-action-zoomin"),role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return y.controller.t("Zoom In")},onTap:this.bindFn(this.zoomIn),style:function(){return{background:y.controller.getPillboxBackgroundColor()}}},r.createElement("i",{class:r.const("dcg-icon dcg-icon-plus"),"aria-hidden":r.const("true")}))),r.createElement(d.Tooltip,{tooltip:function(){return y.controller.t("Zoom Out")},gravity:this.const("w")},r.createElement("div",{class:r.const("dcg-option dcg-action-zoomout dcg-tooltip-e"),tooltip:function(){return y.controller.t("Zoom Out")},role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return y.controller.t("Zoom Out")},onTap:this.bindFn(this.zoomOut),style:function(){return{background:y.controller.getPillboxBackgroundColor()}}},r.createElement("i",{class:r.const("dcg-icon dcg-icon-minus"),"aria-hidden":r.const("true")})))),r.createElement(d.Tooltip,{tooltip:function(){return y.controller.t("Default Zoom")},gravity:this.const("w")},r.createElement("div",{class:function(){return{"dcg-btn-flat-gray":!0,"dcg-option":!0,"dcg-action-zoomrestore":!0,"dcg-disabled":y.getZoomedDefault()}},"aria-disabled":this.bindFn(this.getZoomedDefault),role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return y.controller.t("Restore Default Zoom")},onTap:this.bindFn(this.zoomRestore),style:function(){return{background:y.controller.getPillboxBackgroundColor()}}},r.createElement("i",{class:r.const("dcg-icon dcg-icon-home"),"aria-hidden":r.const("true")}))))},g.prototype.zoomIn=function(){this.controller.dispatch({type:"zoom",direction:"in"})},g.prototype.zoomOut=function(){this.controller.dispatch({type:"zoom",direction:"out"})},g.prototype.zoomRestore=function(){this.controller.dispatch({type:"zoom",direction:"default"})},g.prototype.getZoomedDefault=function(){return this.controller.getGraphSettings().zoomedDefault},g}(r.Class);o.default=i}),q("main/reset-button-view",["require","exports","tslib","dcgview","lib/tooltip","loadcss!pillboxes"],function(O,o,w,r,d){Object.defineProperty(o,"__esModule",{value:!0});var i=function(l){function g(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(g,l),g.prototype.init=function(){this.controller=this.props.controller()},g.prototype.template=function(){var y=this;return r.createElement("div",{class:r.const("dcg-reset-container")},r.createElement(d.Tooltip,{tooltip:function(){return y.controller.t("Reset")},gravity:this.const("w")},r.createElement("div",{class:r.const("dcg-reset-pillbox dcg-action-reset dcg-btn-flat-gray"),role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return y.controller.t("Reset")},onTap:this.bindFn(this.reset),style:function(){return{background:y.controller.getPillboxBackgroundColor()}}},r.createElement("i",{class:r.const("dcg-icon dcg-icon-reset"),"aria-hidden":r.const("true")}))))},g.prototype.reset=function(){this.controller.dispatch({type:"reset-graph"})},g}(r.Class);o.default=i}),q("main/pillbox-view",["require","exports","tslib","dcgview","./graphpaper-branding-view","./settings-view","./zoom-buttons-view","./reset-button-view","loadcss!pillboxes"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=r.Components.If,p=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return w.__extends(f,u),f.prototype.init=function(){this.controller=this.props.controller()},f.prototype.template=function(){var b=this;return r.createElement("div",null,r.createElement(y,{predicate:this.bindFn(this.shouldShowContainer)},function(){return r.createElement("div",{class:r.const("dcg-pillbox-container"),role:r.const("group"),"aria-label":function(){return b.controller.t("Graph Settings Controls")}},r.createElement("div",{class:r.const("dcg-overgraph-pillbox-elements"),style:b.bindFn(b.getContainerStyle)},r.createElement(y,{predicate:b.bindFn(b.shouldShowSettings)},function(){return r.createElement(i.default,{controller:b.props.controller})}),r.createElement(y,{predicate:b.bindFn(b.shouldShowResetButton)},function(){return r.createElement(g.default,{controller:b.props.controller})}),r.createElement(y,{predicate:b.bindFn(b.shouldShowZoomButtons)},function(){return r.createElement(l.default,{controller:b.props.controller})})))}),r.createElement(d.default,{controller:function(){return b.props.controller()}}))},f.prototype.getContainerStyle=function(){var b=this.controller.isKeypadOpen()?this.controller.getKeypadHeight():0;return this.controller.isGraphSettingsOpen()?"bottom: "+b+"px;":"bottom: auto"},f.prototype.shouldShowContainer=function(){return this.shouldShowSettings()||this.shouldShowZoomButtons()||this.shouldShowResetButton()},f.prototype.shouldShowSettings=function(){return this.controller.getGraphSettings().config.settingsMenu},f.prototype.shouldShowZoomButtons=function(){return this.controller.getGraphSettings().config.zoomButtons},f.prototype.shouldShowResetButton=function(){return this.controller.getGraphSettings().config.showResetButtonOnGraphpaper&&this.controller.hasDefaultState()},f}(r.Class);o.default=p}),q("loadcss!main/toast-view",function(){}),q("main/toast-view",["require","exports","tslib","dcgview","loadcss!./toast-view"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=r.Components.If,i=function(g){function y(){return g!==null&&g.apply(this,arguments)||this}return w.__extends(y,g),y.prototype.template=function(){var p=this;return r.createElement("span",{class:r.const("dcg-toast")},r.createElement("i",{class:r.const("dcg-icon-error")}),r.createElement(d,{predicate:function(){return!p.props.showUndo()&&(!p.props.showClose||p.props.showClose())}},function(){return r.createElement("i",{class:r.const("dcg-icon-remove"),onTap:function(){return p.props.onClose&&p.props.onClose()},role:r.const("link"),tabindex:r.const(0),"aria-label":r.const("Dismiss Notice")})}),r.createElement("span",{class:r.const("dcg-msg"),"aria-atomic":function(){return!p.props.noAria()},"aria-live":function(){return p.props.noAria()?"":"assertive"}},function(){return p.props.t(p.props.message())}),r.createElement(d,{predicate:this.props.showUndo},function(){return r.createElement("a",{role:r.const("link"),tabindex:r.const(0),class:r.const("dcg-undo"),onTap:function(){return p.props.onUndo&&p.props.onUndo()}},function(){return p.props.t("Undo")})}),r.createElement(d,{predicate:this.props.showLearnMore},function(){return r.createElement("a",{role:r.const("link"),tabindex:r.const(0),class:r.const("dcg-learn-more-link"),target:r.const("_blank"),onTap:function(){return p.props.onLearnMore&&p.props.onLearnMore()}},function(){return p.props.t("Learn more")})}),r.createElement(d,{predicate:function(){return!!p.props.link&&!!p.props.link()}},function(){return r.createElement("a",{role:r.const("link"),tabindex:r.const(0),class:r.const("dcg-learn-more-link"),target:r.const("_blank"),href:function(){return p.props.link().url}},function(){return p.props.link().text})}))},y.prototype.shouldUpdate=function(){return!!this.props.message()},y}(r.Class),l=function(g){function y(){return g!==null&&g.apply(this,arguments)||this}return w.__extends(y,g),y.prototype.template=function(){var p=this;return r.createElement("div",{class:function(){return{"dcg-toast-view":!0,"dcg-visible":!!p.props.message()}},"toast-style":function(){return p.props.toastStyle&&p.props.toastStyle()}},r.createElement(d,{predicate:function(){return!!p.props.message()}},function(){return r.createElement("div",{class:r.const("dcg-toast-wrapper")},r.createElement("div",{class:r.const("dcg-toast-cover")}),r.createElement(i,w.__assign({},p.props)))}))},y}(r.Class);o.ToastView=l}),q("main/disable-dragdrop-events",["require","exports"],function(O,o){function w(r){r.on("drag dragend dragenter dragover dragleave drop",function(d){d.preventDefault(),d.stopPropagation()})}Object.defineProperty(o,"__esModule",{value:!0}),o.default=w}),q("graphing-calc/views/main",["require","exports","tslib","touchtracking","ipad.scrollfix","dcgview","jquery","../../expressions/list-view","graphing-calc/keypads/main","main/pillbox-view","main/toast-view","main/disable-dragdrop-events","lib/tooltip"],function(O,o,w,r,d,i,l,g,y,p,u,f,b){Object.defineProperty(o,"__esModule",{value:!0});var m=i.Components.If,c=function(n){function s(){return n!==null&&n.apply(this,arguments)||this}return w.__extends(s,n),s.prototype.init=function(){this.controller=this.props.controller()},s.prototype.settings=function(){return this.controller.getGraphSettings()},s.prototype.template=function(){var v=this;return i.createElement("div",{class:i.const("dcg-calculator-api-container"),style:i.const("width: 100%; height: 100%; position: relative;")},i.createElement("div",{class:function(){return{"dcg-container":!0,"dcg-fullscreen":!v.controller.isListVisible(),"dcg-narrow":v.controller.isNarrow(),"dcg-PROJECTOR-MODE":v.settings().config.projectorMode,"dcg-inverted-colors":!!v.settings().config.invertedColors,"dcg-EDIT-LIST-MODE":v.controller.isInEditListMode(),"dcg-no-graphpaper":!v.settings().config.graphpaper,"dcg-no-branding":!v.settings().config.branding,"dcg-no-expression-topbar":!v.settings().config.expressionsTopbar,"dcg-default-border":!!v.settings().config.border,"dcg-no-hyperlinks":!v.settings().config.links,"dcg-has-background-color":v.controller.hasBackgroundColor(),"dcg-is-interactive":v.settings().config.expressions||!v.settings().config.lockViewport}},style:function(){return{"font-size":v.settings().config.fontSize+"px",background:v.getContainerBackgroundColor(),color:v.controller.getTextColor()}},role:i.const("application"),"aria-label":function(){return v.controller.t("Desmos Graphing Calculator")},"x-ms-format-detection":i.const("none"),didMount:this.bindFn(this.didMountRoot)},i.createElement(m,{predicate:function(){return v.controller.getGraphSettings().config.expressions}},function(){return i.createElement(g.default,{controller:v.props.controller})}),i.createElement(m,{predicate:function(){return v.controller.isListEnabled()&&!v.controller.isListVisible()}},function(){return i.createElement("div",{class:function(){return{"dcg-overgraph-icon-container":!0,"dcg-bottom-right":v.controller.isNarrow()}}},i.createElement(b.Tooltip,{tooltip:function(){return v.controller.t("Show List")},gravity:function(){return v.controller.isNarrow()?"nw":"se"}},i.createElement("div",{class:function(){return{"dcg-show-expressions-tab":!0,"dcg-overgraph-icon":!0,"dcg-rotated":v.controller.isNarrow()}},"aria-label":function(){return v.controller.t("Show List")},role:i.const("button"),tabindex:i.const("0"),onTap:function(){return v.controller.dispatch({type:"show-expressions-list"})}},i.createElement("i",{class:i.const("dcg-icon-show")}))))}),i.createElement(m,{predicate:this.bindFn(this.showHamburger)},function(){return i.createElement("div",{class:i.const("dcg-overgraph-icon-container")},i.createElement(b.Tooltip,{tooltip:function(){return v.controller.t("Open Graph")},gravity:v.const("se")},i.createElement("div",{role:i.const("button"),"aria-label":function(){return v.controller.t("Open Graph")},class:i.const("dcg-action-opendrawer dcg-in-api-action-opendrawer dcg-overgraph-icon"),onTap:function(){return v.controller.dispatch({type:"open-drawer"})}},i.createElement("i",{class:i.const("dcg-icon-hamburger")}))))}),i.createElement(p.default,{controller:this.props.controller}),i.createElement(u.ToastView,{message:function(){var A=v.controller.getToastData().message;return A||""},link:function(){return v.controller.getToastData().link||void 0},showUndo:function(){return!!v.controller.getToastData().undoCallback},showLearnMore:function(){return!!v.controller.getToastData().learnMoreCallback},noAria:function(){return!!v.controller.getToastData().noAria},toastStyle:function(){return v.controller.getToastData().toastStyle},t:this.controller.t,onUndo:function(){return v.controller.dispatch({type:"toast/undo"})},onLearnMore:function(){return v.controller.dispatch({type:"toast/learn-more"})},onClose:function(){return v.controller.dispatch({type:"toast/close"})}}),i.createElement("div",{class:i.const("dcg-grapher")}),i.createElement(m,{predicate:function(){return v.controller.getGraphSettings().config.keypad}},function(){return i.createElement(y.default,{controller:v.props.controller})})))},s.prototype.showHamburger=function(){return!!this.controller.getGraphSettings().config.showHamburger&&!this.controller.isInEditListMode()&&this.controller.isNarrow()},s.prototype.getContainerBackgroundColor=function(){return this.controller.hasTransparentBackground()?"none":this.controller.getBackgroundColor()},s.prototype.didMountRoot=function(v){r.monitor(v),this.controller.getGraphSettings().config.disableScrollFix||d.limitScrollOnElement(v),this.setupFileDragDrop(v)},s.prototype.setupFileDragDrop=function(v){function A(){D=l(),C.off(".filedraggedover"),S.controller.dispatch({type:"file-is-not-dragged-over"})}var M=this,C=l(v);f.default(C);var D=l(),S=this;C.on("dragenter",function(x){M.controller.areImagesEnabled()&&(D.length===0&&C.on("dcg-tapstart.filedraggedover",A),D=D.add(x.target),M.controller.dispatch({type:"file-is-dragged-over"}))}).on("dragleave",function(x){D=D.not(x.target),D.length===0&&A()}).on("drop",A)},s}(i.Class);o.default=c}),q("worker/workerpoolconnection",["require","pjs","underscore_model"],function(O){return O("pjs")(O("underscore_model").UnderscoreModel,function(o,w){o.init=function(r){w.init.call(this),this.workerPool=r,this.worker=r.allocateWorker(),this.worker.__connections[this.guid]=this},o.destroy=function(){this.sendMessage({type:"destroy"}),delete this.worker.__connections[this.guid]},o.killWorker=function(){this.worker.__isFake||this.workerPool.killWorker(this.worker)},o.onWorkerKilled=function(){},o.onResponse=function(r){},o.sendMessage=function(r){this.worker.__isFake?this.worker.postMessage(r):this.worker.postMessage({connectionId:this.guid,originalMessage:r})}})}),q("text!worker_src_underlying",[],function(){return`var requirejs,require,define;!function(e){function t(e,t){return g.call(e,t)}function r(e,t){var r,n,i,a,o,s,u,c,l,p,f=t&&t.split("/"),h=m.map,d=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(f=f.slice(0,f.length-1),e=f.concat(e.split("/")),c=0;c<e.length;c+=1)if("."===(p=e[c]))e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||d)&&h){for(r=e.split("/"),c=r.length;c>0;c-=1){if(n=r.slice(0,c).join("/"),f)for(l=f.length;l>0;l-=1)if((i=h[f.slice(0,l).join("/")])&&(i=i[n])){a=i,o=c;break}if(a)break;!s&&d&&d[n]&&(s=d[n],u=c)}!a&&s&&(a=s,o=u),a&&(r.splice(0,o,a),e=r.join("/"))}return e}function n(t,r){return function(){return l.apply(e,v.call(arguments,0).concat([t,r]))}}function i(e){return function(t){return r(t,e)}}function a(e){return function(t){h[e]=t}}function o(r){if(t(d,r)){var n=d[r];delete d[r],y[r]=!0,c.apply(e,n)}if(!t(h,r)&&!t(y,r))throw new Error("No "+r);return h[r]}function s(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function u(e){return function(){return m&&m.config&&m.config[e]||{}}}var c,l,p,f,h={},d={},m={},y={},g=Object.prototype.hasOwnProperty,v=[].slice;p=function(e,t){var n,a=s(e),u=a[0];return e=a[1],u&&(u=r(u,t),n=o(u)),u?e=n&&n.normalize?n.normalize(e,i(t)):r(e,t):(e=r(e,t),a=s(e),u=a[0],e=a[1],u&&(n=o(u))),{f:u?u+"!"+e:e,n:e,pr:u,p:n}},f={require:function(e){return n(e)},exports:function(e){var t=h[e];return void 0!==t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:u(e)}}},c=function(r,i,s,u){var c,l,m,g,v,b,x=[];if(u=u||r,"function"==typeof s){for(i=!i.length&&s.length?["require","exports","module"]:i,v=0;v<i.length;v+=1)if(g=p(i[v],u),"require"===(l=g.f))x[v]=f.require(r);else if("exports"===l)x[v]=f.exports(r),b=!0;else if("module"===l)c=x[v]=f.module(r);else if(t(h,l)||t(d,l)||t(y,l))x[v]=o(l);else{if(!g.p)throw new Error(r+" missing "+l);g.p.load(g.n,n(u,!0),a(l),{}),x[v]=h[l]}m=s.apply(h[r],x),r&&(c&&c.exports!==e&&c.exports!==h[r]?h[r]=c.exports:m===e&&b||(h[r]=m))}else r&&(h[r]=s)},requirejs=require=l=function(t,r,n,i,a){return"string"==typeof t?f[t]?f[t](r):o(p(t,r).f):(t.splice||(m=t,r.splice?(t=r,r=n,n=null):t=e),r=r||function(){},"function"==typeof n&&(n=i,i=a),i?c(e,t,r,n):setTimeout(function(){c(e,t,r,n)},4),l)},l.config=function(e){return m=e,m.deps&&l(m.deps,m.callback),l},define=function(e,r,n){r.splice||(n=r,r=[]),t(h,e)||t(d,e)||(d[e]=[e,r,n])},define.amd={jQuery:!0}}(),"undefined"!=typeof ALMOND_OVERRIDES&&ALMOND_OVERRIDES&&(define=ALMOND_OVERRIDES.define||define,require=ALMOND_OVERRIDES.require||require,requirejs=ALMOND_OVERRIDES.requirejs||requirejs),define("core/vendor/almond",function(){}),define("pjs",[],function(){return function(e,t,r){function n(e){return"object"==typeof e}function i(e){return"function"==typeof e}function a(){}function o(s,u){function c(){var e=new l;return i(e.init)&&e.init.apply(e,arguments),e}function l(){}u===r&&(u=s,s=Object),c.Bare=l;var p,f=a[e]=s[e],h=l[e]=c[e]=new a;return h.constructor=c,c.mixin=function(t){return l[e]=c[e]=o(c,t)[e],c},(c.open=function(e){if(p={},i(e)?p=e.call(c,h,f,c,s):n(e)&&(p=e),n(p))for(var r in p)t.call(p,r)&&(h[r]=p[r]);return i(h.init)||(h.init=s),c})(u)}return o}("prototype",{}.hasOwnProperty)}),function(){function e(e){function t(t,r,n,i,a,o){for(;a>=0&&a<o;a+=e){var s=i?i[a]:a;n=r(n,t[s],s,t)}return n}return function(r,n,i,a){n=b(n,a,4);var o=!w(r)&&v.keys(r),s=(o||r).length,u=e>0?0:s-1;return arguments.length<3&&(i=r[o?o[u]:u],u+=e),t(r,n,i,o,u,s)}}function t(e){return function(t,r,n){r=x(r,n);for(var i=D(t),a=e>0?0:i-1;a>=0&&a<i;a+=e)if(r(t[a],a,t))return a;return-1}}function r(e,t,r){return function(n,i,a){var o=0,s=D(n);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(r&&a&&s)return a=r(n,i),n[a]===i?a:-1;if(i!==i)return a=t(l.call(n,o,s),v.isNaN),a>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&a<s;a+=e)if(n[a]===i)return a;return-1}}function n(e,t){var r=O.length,n=e.constructor,i=v.isFunction(n)&&n.prototype||s,a="constructor";for(v.has(e,a)&&!v.contains(t,a)&&t.push(a);r--;)(a=O[r])in e&&e[a]!==i[a]&&!v.contains(t,a)&&t.push(a)}var i=this,a=i._,o=Array.prototype,s=Object.prototype,u=Function.prototype,c=o.push,l=o.slice,p=s.toString,f=s.hasOwnProperty,h=Array.isArray,d=Object.keys,m=u.bind,y=Object.create,g=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):i._=v,v.VERSION="1.8.3";var b=function(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,a){return e.call(t,r,n,i,a)}}return function(){return e.apply(t,arguments)}},x=function(e,t,r){return null==e?v.identity:v.isFunction(e)?b(e,t,r):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return x(e,t,1/0)};var _=function(e,t){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var a=arguments[i],o=e(a),s=o.length,u=0;u<s;u++){var c=o[u];t&&void 0!==r[c]||(r[c]=a[c])}return r}},S=function(e){if(!v.isObject(e))return{};if(y)return y(e);g.prototype=e;var t=new g;return g.prototype=null,t},M=function(e){return function(t){return null==t?void 0:t[e]}},E=Math.pow(2,53)-1,D=M("length"),w=function(e){var t=D(e);return"number"==typeof t&&t>=0&&t<=E};v.each=v.forEach=function(e,t,r){t=b(t,r);var n,i;if(w(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var a=v.keys(e);for(n=0,i=a.length;n<i;n++)t(e[a[n]],a[n],e)}return e},v.map=v.collect=function(e,t,r){t=x(t,r);for(var n=!w(e)&&v.keys(e),i=(n||e).length,a=Array(i),o=0;o<i;o++){var s=n?n[o]:o;a[o]=t(e[s],s,e)}return a},v.reduce=v.foldl=v.inject=e(1),v.reduceRight=v.foldr=e(-1),v.find=v.detect=function(e,t,r){var n;if(void 0!==(n=w(e)?v.findIndex(e,t,r):v.findKey(e,t,r))&&-1!==n)return e[n]},v.filter=v.select=function(e,t,r){var n=[];return t=x(t,r),v.each(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n},v.reject=function(e,t,r){return v.filter(e,v.negate(x(t)),r)},v.every=v.all=function(e,t,r){t=x(t,r);for(var n=!w(e)&&v.keys(e),i=(n||e).length,a=0;a<i;a++){var o=n?n[a]:a;if(!t(e[o],o,e))return!1}return!0},v.some=v.any=function(e,t,r){t=x(t,r);for(var n=!w(e)&&v.keys(e),i=(n||e).length,a=0;a<i;a++){var o=n?n[a]:a;if(t(e[o],o,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,r,n){return w(e)||(e=v.values(e)),("number"!=typeof r||n)&&(r=0),v.indexOf(e,t,r)>=0},v.invoke=function(e,t){var r=l.call(arguments,2),n=v.isFunction(t);return v.map(e,function(e){var i=n?t:e[t];return null==i?i:i.apply(e,r)})},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,r){var n,i,a=-1/0,o=-1/0;if(null==t&&null!=e){e=w(e)?e:v.values(e);for(var s=0,u=e.length;s<u;s++)(n=e[s])>a&&(a=n)}else t=x(t,r),v.each(e,function(e,r,n){((i=t(e,r,n))>o||i===-1/0&&a===-1/0)&&(a=e,o=i)});return a},v.min=function(e,t,r){var n,i,a=1/0,o=1/0;if(null==t&&null!=e){e=w(e)?e:v.values(e);for(var s=0,u=e.length;s<u;s++)(n=e[s])<a&&(a=n)}else t=x(t,r),v.each(e,function(e,r,n){((i=t(e,r,n))<o||i===1/0&&a===1/0)&&(a=e,o=i)});return a},v.shuffle=function(e){for(var t,r=w(e)?e:v.values(e),n=r.length,i=Array(n),a=0;a<n;a++)t=v.random(0,a),t!==a&&(i[a]=i[t]),i[t]=r[a];return i},v.sample=function(e,t,r){return null==t||r?(w(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,r){return t=x(t,r),v.pluck(v.map(e,function(e,r,n){return{value:e,index:r,criteria:t(e,r,n)}}).sort(function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,r,n){var i={};return r=x(r,n),v.each(t,function(n,a){var o=r(n,a,t);e(i,n,o)}),i}};v.groupBy=T(function(e,t,r){v.has(e,r)?e[r].push(t):e[r]=[t]}),v.indexBy=T(function(e,t,r){e[r]=t}),v.countBy=T(function(e,t,r){v.has(e,r)?e[r]++:e[r]=1}),v.toArray=function(e){return e?v.isArray(e)?l.call(e):w(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:w(e)?e.length:v.keys(e).length},v.partition=function(e,t,r){t=x(t,r);var n=[],i=[];return v.each(e,function(e,r,a){(t(e,r,a)?n:i).push(e)}),[n,i]},v.first=v.head=v.take=function(e,t,r){if(null!=e)return null==t||r?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,r){return l.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))},v.last=function(e,t,r){if(null!=e)return null==t||r?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,r){return l.call(e,null==t||r?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var P=function(e,t,r,n){for(var i=[],a=0,o=n||0,s=D(e);o<s;o++){var u=e[o];if(w(u)&&(v.isArray(u)||v.isArguments(u))){t||(u=P(u,t,r));var c=0,l=u.length;for(i.length+=l;c<l;)i[a++]=u[c++]}else r||(i[a++]=u)}return i};v.flatten=function(e,t){return P(e,t,!1)},v.without=function(e){return v.difference(e,l.call(arguments,1))},v.uniq=v.unique=function(e,t,r,n){v.isBoolean(t)||(n=r,r=t,t=!1),null!=r&&(r=x(r,n));for(var i=[],a=[],o=0,s=D(e);o<s;o++){var u=e[o],c=r?r(u,o,e):u;t?(o&&a===c||i.push(u),a=c):r?v.contains(a,c)||(a.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(P(arguments,!0,!0))},v.intersection=function(e){for(var t=[],r=arguments.length,n=0,i=D(e);n<i;n++){var a=e[n];if(!v.contains(t,a)){for(var o=1;o<r&&v.contains(arguments[o],a);o++);o===r&&t.push(a)}}return t},v.difference=function(e){var t=P(arguments,!0,!0,1);return v.filter(e,function(e){return!v.contains(t,e)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var t=e&&v.max(e,D).length||0,r=Array(t),n=0;n<t;n++)r[n]=v.pluck(e,n);return r},v.object=function(e,t){for(var r={},n=0,i=D(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r},v.findIndex=t(1),v.findLastIndex=t(-1),v.sortedIndex=function(e,t,r,n){r=x(r,n,1);for(var i=r(t),a=0,o=D(e);a<o;){var s=Math.floor((a+o)/2);r(e[s])<i?a=s+1:o=s}return a},v.indexOf=r(1,v.findIndex,v.sortedIndex),v.lastIndexOf=r(-1,v.findLastIndex),v.range=function(e,t,r){null==t&&(t=e||0,e=0),r=r||1;for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),a=0;a<n;a++,e+=r)i[a]=e;return i};var I=function(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var a=S(e.prototype),o=e.apply(a,i);return v.isObject(o)?o:a};v.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,l.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),n=function(){return I(e,n,t,this,r.concat(l.call(arguments)))};return n},v.partial=function(e){var t=l.call(arguments,1),r=function(){for(var n=0,i=t.length,a=Array(i),o=0;o<i;o++)a[o]=t[o]===v?arguments[n++]:t[o];for(;n<arguments.length;)a.push(arguments[n++]);return I(e,r,this,this,a)};return r},v.bindAll=function(e){var t,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)r=arguments[t],e[r]=v.bind(e[r],e);return e},v.memoize=function(e,t){var r=function(n){var i=r.cache,a=""+(t?t.apply(this,arguments):n);return v.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return r.cache={},r},v.delay=function(e,t){var r=l.call(arguments,2);return setTimeout(function(){return e.apply(null,r)},t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,r){var n,i,a,o=null,s=0;r||(r={});var u=function(){s=!1===r.leading?0:v.now(),o=null,a=e.apply(n,i),o||(n=i=null)};return function(){var c=v.now();s||!1!==r.leading||(s=c);var l=t-(c-s);return n=this,i=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),s=c,a=e.apply(n,i),o||(n=i=null)):o||!1===r.trailing||(o=setTimeout(u,l)),a}},v.debounce=function(e,t,r){var n,i,a,o,s,u=function(){var c=v.now()-o;c<t&&c>=0?n=setTimeout(u,t-c):(n=null,r||(s=e.apply(a,i),n||(a=i=null)))};return function(){a=this,i=arguments,o=v.now();var c=r&&!n;return n||(n=setTimeout(u,t)),c&&(s=e.apply(a,i),a=i=null),s}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}},v.once=v.partial(v.before,2);var C=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(e){if(!v.isObject(e))return[];if(d)return d(e);var t=[];for(var r in e)v.has(e,r)&&t.push(r);return C&&n(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var r in e)t.push(r);return C&&n(e,t),t},v.values=function(e){for(var t=v.keys(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n},v.mapObject=function(e,t,r){t=x(t,r);for(var n,i=v.keys(e),a=i.length,o={},s=0;s<a;s++)n=i[s],o[n]=t(e[n],n,e);return o},v.pairs=function(e){for(var t=v.keys(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n},v.invert=function(e){for(var t={},r=v.keys(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t},v.functions=v.methods=function(e){var t=[];for(var r in e)v.isFunction(e[r])&&t.push(r);return t.sort()},v.extend=_(v.allKeys),v.extendOwn=v.assign=_(v.keys),v.findKey=function(e,t,r){t=x(t,r);for(var n,i=v.keys(e),a=0,o=i.length;a<o;a++)if(n=i[a],t(e[n],n,e))return n},v.pick=function(e,t,r){var n,i,a={},o=e;if(null==o)return a;v.isFunction(t)?(i=v.allKeys(o),n=b(t,r)):(i=P(arguments,!1,!1,1),n=function(e,t,r){return t in r},o=Object(o));for(var s=0,u=i.length;s<u;s++){var c=i[s],l=o[c];n(l,c,o)&&(a[c]=l)}return a},v.omit=function(e,t,r){if(v.isFunction(t))t=v.negate(t);else{var n=v.map(P(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(n,t)}}return v.pick(e,t,r)},v.defaults=_(v.allKeys,!0),v.create=function(e,t){var r=S(e);return t&&v.extendOwn(r,t),r},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var r=v.keys(t),n=r.length;if(null==e)return!n;for(var i=Object(e),a=0;a<n;a++){var o=r[a];if(t[o]!==i[o]||!(o in i))return!1}return!0};var A=function(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var i=p.call(e);if(i!==p.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(v.isFunction(o)&&o instanceof o&&v.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),a){if((u=e.length)!==t.length)return!1;for(;u--;)if(!A(e[u],t[u],r,n))return!1}else{var c,l=v.keys(e);if(u=l.length,v.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(t,c)||!A(e[c],t[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(e,t){return A(e,t)},v.isEmpty=function(e){return null==e||(w(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=h||function(e){return"[object Array]"===p.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===p.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return null!=e&&f.call(e,t)},v.noConflict=function(){return i._=a,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=M,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,r){var n=Array(Math.max(0,e));t=b(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","\`":"&#x60;"},N=v.invert(L),q=function(e){var t=function(t){return e[t]},r="(?:"+v.keys(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(i,t):e}};v.escape=q(L),v.unescape=q(N),v.result=function(e,t,r){var n=null==e?void 0:e[t];return void 0===n&&(n=r),v.isFunction(n)?n.call(e):n};var F=0;v.uniqueId=function(e){var t=++F+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var R=/(.)^/,V={"'":"'","\\\\":"\\\\","\\r":"r","\\n":"n","\\u2028":"u2028","\\u2029":"u2029"},k=/\\\\|'|\\r|\\n|\\u2028|\\u2029/g,B=function(e){return"\\\\"+V[e]};v.template=function(e,t,r){!t&&r&&(t=r),t=v.defaults({},t,v.templateSettings);var n=RegExp([(t.escape||R).source,(t.interpolate||R).source,(t.evaluate||R).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(n,function(t,r,n,o,s){return a+=e.slice(i,s).replace(k,B),i=s+t.length,r?a+="'+\\n((__t=("+r+"))==null?'':_.escape(__t))+\\n'":n?a+="'+\\n((__t=("+n+"))==null?'':__t)+\\n'":o&&(a+="';\\n"+o+"\\n__p+='"),t}),a+="';\\n",t.variable||(a="with(obj||{}){\\n"+a+"}\\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\\n"+a+"return __p;\\n";try{var o=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return o.call(this,e,v)};return s.source="function("+(t.variable||"obj")+"){\\n"+a+"}",s},v.chain=function(e){var t=v(e);return t._chain=!0,t};var j=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),function(t){var r=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),j(this,r.apply(v,e))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];v.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0],j(this,r)}}),v.each(["concat","join","slice"],function(e){var t=o[e];v.prototype[e]=function(){return j(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}.call(this),function(){var e,t,r,n,i,a,o,s,u,c,l,p,f,h,d,m,y,g,v,b,x={};!function(e){function t(e,t){return e!==r&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(r,n){return e[r]=t?t(r,n):n}}var r="object"==typeof x?x:"object"==typeof self?self:"object"==typeof this?this:{};"function"==typeof define&&define.amd?define("tslib",["exports"],function(n){e(t(r,t(n)))}):e("object"==typeof module&&"object"==typeof module.exports?t(r,t(module.exports)):t(r))}(function(x){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};e=function(e,t){function r(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},n=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},i=function(e,t){return function(r,n){t(r,n,e)}},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){u.label=r[1];break}if(6===r[0]&&u.label<o[1]){u.label=o[1],o=r;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(r);break}o[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},u=function(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])},c=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},p=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e},f=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},h=function(e){return this instanceof h?(this.v=e,this):new h(e)},d=function(e,t,r){function n(e){l[e]&&(c[e]=function(t){return new Promise(function(r,n){p.push([e,t,r,n])>1||i(e,t)})})}function i(e,t){try{a(l[e](t))}catch(e){u(p[0][3],e)}}function a(e){e.value instanceof h?Promise.resolve(e.value.v).then(o,s):u(p[0][2],e)}function o(e){i("next",e)}function s(e){i("throw",e)}function u(e,t){e(t),p.shift(),p.length&&i(p[0][0],p[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=r.apply(e,t||[]),p=[];return c={},n("next"),n("throw"),n("return"),c[Symbol.asyncIterator]=function(){return this},c},m=function(e){function t(t,i){r[t]=e[t]?function(r){return(n=!n)?{value:h(e[t](r)),done:"return"===t}:i?i(r):r}:i}var r,n;return r={},t("next"),t("throw",function(e){throw e}),t("return"),r[Symbol.iterator]=function(){return this},r},y=function(e){function t(t){n[t]=e[t]&&function(n){return new Promise(function(i,a){n=e[t](n),r(i,a,n.done,n.value)})}}function r(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof c?c(e):e[Symbol.iterator](),n={},t("next"),t("throw"),t("return"),n[Symbol.asyncIterator]=function(){return this},n)},g=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},b=function(e){return e&&e.__esModule?e:{default:e}},x("__extends",e),x("__assign",t),x("__rest",r),x("__decorate",n),x("__param",i),x("__metadata",a),x("__awaiter",o),x("__generator",s),x("__exportStar",u),x("__values",c),x("__read",l),x("__spread",p),x("__spreadArrays",f),x("__await",h),x("__asyncGenerator",d),x("__asyncDelegator",m),x("__asyncValues",y),x("__makeTemplateObject",g),x("__importStar",v),x("__importDefault",b)})}(),define("core/math/distance",["require","exports"],function(e,t){"use strict";function r(e){return e===1/0||e===-1/0}function n(e,t){return e>0==t>0?e+.5*(t-e):.5*(e+t)}function i(e,t,r,n,i,a){return e*n+t*i+r*a}function a(e,r,n,a,o,s,u,c,l){var p=t.hypot(u-a,c-o,l-s);return 0===p?0:i((e-a)/p,(r-o)/p,(n-s)/p,(u-a)/p,(c-o)/p,(l-s)/p)}function o(e,t,r,n,i,o){var s=a(e,t,0,r,n,0,i,o,0);return s<=0?[r,n]:s>=1?[i,o]:[r+s*(i-r),n+s*(o-n)]}function s(e,r,n,i,a,s){var u=o(e,r,n,i,a,s);return t.hypot(e-u[0],r-u[1])}function u(e,t,r){if(void 0===r&&(r=1),r>50)throw new Error("Within "+(52-r)+" bits isn't really approximate any more");var n=Math.max(Math.max(Math.abs(e),Math.abs(t)),1);return n===n+(1===r?.5:Math.pow(.5,r))*Math.abs(t-e)}Object.defineProperty(t,"__esModule",{value:!0});var c=Math.hypot&&Math.hypot(1/0,NaN)===1/0;t.hypot=c?Math.hypot:function(e,t,n){if(r(e)||r(t)||void 0!==n&&r(n))return 1/0;if(isNaN(e)||isNaN(t)||void 0!==n&&isNaN(n))return NaN;if(0===e&&0===t&&(void 0===n||0===n))return 0;for(var i=0,a=0,o=0;o<arguments.length;o+=1){var s=Math.abs(Number(arguments[o]));s>i&&(a*=i/s*(i/s),i=s),a+=0===s&&0===i?0:s/i*(s/i)}return i===1/0?1/0:i*Math.sqrt(a)},t.mean=n,t.pointToSegmentParameter=a,t.closestPointOnSegment=o,t.pointToSegment=s,t.approx=u}),define("core/math/poi",["require","exports","core/math/distance"],function(e,t,r){"use strict";function n(e,t){var n;e>t&&(n=e,e=t,t=n);var i=e>0,a=t>0,o=Math.abs(e)>.01,s=Math.abs(t)>.01;if(o||s)return r.mean(e,t);if(0===e)return t*Math.abs(t);if(0===t)return e*Math.abs(e);if(i!==a)return 0;var u=i?Math.sqrt(e*t):-Math.sqrt(e*t);return u>=e&&t>=u?u:r.mean(e,t)}function i(e,t,r,i,o){if(!isNaN(t)&&!isNaN(i)&&t<0!=i<0)for(;;){var s=n(e,r),u=o(s);if(!isFinite(u))return;if(s===e||s===r)return Math.abs(t)<=Math.abs(i)?[e,t]:[r,i];if(0===u)return a(e,t,s,u,r,i,o);t<0!=u<0?(r=s,i=u):(e=s,t=u)}}function a(e,t,r,i,a,u,c){var l;if(isFinite(i)){isFinite(t)||(l=o(e,t,r,i,c))&&(e=l[0],t=l[1]),isFinite(u)||(l=o(r,i,a,u,c))&&(a=l[0],u=l[1]);var p,f;p=t===i?[e,t]:s(e,t,r,i,c,i),f=u===i?[a,u]:s(r,i,a,u,c,i);var h;return p&&f&&(h=n(p[0],f[0])),void 0!==h?[h,c(h)]:void 0}}function o(e,t,r,i,a){if(isFinite(t)!==isFinite(i))for(;;){var o=n(e,r),s=a(o);if(o===e||o===r)return isFinite(t)?[e,t]:[r,i];isFinite(s)!==isFinite(t)?(r=o,i=s):(e=o,t=s)}}function s(e,t,r,i,a,o){if(t===o!=(i===o))for(;;){var s=n(e,r),u=a(s);if(s===e||s===r)return t===o?[e,t]:[r,i];u===o!=(t===o)?(r=s,i=u):(e=s,t=u)}}function u(e,t,r,i,o,s,u){if(e<r&&r<o&&isFinite(t)&&isFinite(i)&&isFinite(s)&&t!==i&&i!==s&&i>t==i>s)for(;;){var c=n(e,r),l=u(c),p=n(r,o),f=u(p);if(!isFinite(l)||!isFinite(f))return;if(c===e||c===r||p===r||p===o)return l>i==i>t?[c,l]:f>i==i>t?[p,f]:[r,i];if(l===i||f===i)return a(e,t,r,i,o,s,u);l>t==i>t&&l>t==l>i?(o=r,s=i,r=c,i=l):f>s==i>s&&f>i==f>s?(e=r,t=i,r=p,i=f):(e=c,t=l,o=p,s=f)}}function c(e,t){var r=e[0],n=e[1],i=t[0],a=t[1];return(i-r)*(i-r)+(a-n)*(a-n)}function l(e,t,r,i,a,o){var s,u,l,p,f,h,d,m,y,g=o(e),v=o(t),b=o(r),x=c(g,i),_=c(v,i),S=c(b,i);if(!(t<=e||r<=t)&&isFinite(x)&&isFinite(_)&&isFinite(S)&&!(_>=x||_>=S))for(;;){if(Math.abs(b[0]-g[0])<a&&Math.abs(b[1]-g[1])<a)return[e,r];var M=n(e,t),E=o(M),D=c(E,i),w=n(t,r),T=o(w),P=c(T,i);if(!isFinite(D)||!isFinite(P))return;if(M===e||M===t||w===t||w===r)return D<_&&D<P?[M,M]:P<D&&P<_?[w,w]:[t,t];if((D===_||P===_)&&(t=.5*(M+t),v=o(t),_=c(v,i),D===_||P===_))return[e,r];D<_&&D<P?(s=[t,M],r=s[0],t=s[1],u=[v,E],b=u[0],v=u[1],l=[_,D],S=l[0],_=l[1]):P<D&&P<_?(p=[t,w],e=p[0],t=p[1],f=[v,T],g=f[0],v=f[1],h=[_,P],x=h[0],_=h[1]):(d=[M,w],e=d[0],r=d[1],m=[E,T],g=m[0],b=m[1],y=[D,P],x=y[0],S=y[1])}}function p(e,t,r){return void 0===t&&(t=-1/0),void 0===r&&(r=1/0),Math.min(r,Math.max(t,e))}function f(e,t,r,n,i,a){var o,s,u,f,h;if(void 0!==n&&void 0!==i){h=r+.01*(r<.5*(n+i)?i-n:n-i)}else h=Math.abs(r)>1?1.00001*r:r+1e-5;var d=e(r),m=e(h),y=c(d,t),g=c(m,t);if(isFinite(y)&&isFinite(g)){if(y===g)return[r,h];for(g>y&&(o=[h,r],r=o[0],h=o[1],s=[m,d],d=s[0],m=s[1],u=[g,y],y=u[0],g=u[1]);isFinite(r)&&isFinite(h)&&r!==h;){if(void 0!==i&&h>i)return[i,i];if(void 0!==n&&h<n)return[n,n];var v=r+3*(h-r),b=e(v),x=c(b,t);if(!isFinite(x))return[r,h];if(x===g)return[r,h];if(x>g){var _=h>r?l(r,h,v,t,a,e):l(v,h,r,t,a,e);return _?[p(_[0],n,i),p(_[1],n,i)]:_}f=[h,g,v,x],r=f[0],y=f[1],h=f[2],g=f[3]}return[r,h]}}function h(e,t,r,n){return!r||!!n&&Math.min(c(e(n[0]),t),c(e(n[1]),t))<Math.min(c(e(r[0]),t),c(e(r[1]),t))}function d(e,t,r,n,i,a){var o=f(e,t,r,n,i,a);if(void 0!==n){var s=f(e,t,n,n,i,a);h(e,t,o,s)&&(o=s)}if(void 0!==i){var u=f(e,t,i,n,i,a);h(e,t,o,u)&&(o=u)}return o}function m(e,t,r,n,i,a,o,s){var u=Math.abs(n-t),c=Math.abs(a-n),l=Math.abs(s-a);return u>c&&u>l?[[e,t],[r,n]]:l>c&&l>u?[[i,a],[o,s]]:[[r,n],[i,a]]}function y(e,t,i,a,s,u,c,l){if(l||(l=0),!((i-e)*(s-i)<=0)&&isFinite(e)&&isFinite(i)&&isFinite(s)&&isFinite(t)&&isFinite(u)){if(!isFinite(a)){var p=o(e,t,i,a,c),f=o(i,a,s,u,c);if(!p||!f)return;return[p,f]}if(!(Math.abs(a-((s-i)*t+(i-e)*u)/(s-e))<l))for(;;){var h=n(e,i),d=c(h),y=n(i,s),g=c(y),v=Math.abs(d-r.mean(t,a)),b=Math.abs(a-r.mean(d,g)),x=Math.abs(g-r.mean(a,u));if(v<=l&&b<=l&&x<=l)return;if(!isFinite(d)){var p=o(e,t,h,d,c),f=o(h,d,s,u,c);if(!p||!f)return;return[p,f]}if(!isFinite(g)){var p=o(e,t,y,g,c),f=o(y,g,s,u,c);if(!p||!f)return;return[p,f]}if(!(h!==e&&h!==i||y!==i&&y!==s))return Math.abs(a-t)>Math.abs(u-a)?[[e,t],[i,a]]:[[i,a],[s,u]];if(h===e||h===i)return m(e,t,i,a,y,g,s,u);if(y===i||y===s)return m(e,t,h,d,i,a,s,u);v>x&&v>=b?(s=i,u=a,i=h,a=d):x>v&&x>=b?(e=i,t=a,i=y,a=g):(e=h,t=d,s=y,u=g)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.floatMiddle=n,t.bisectZero=i,t.flatCenter=a,t.bisectFinite=o,t.bisectExtremum=u,t.bisectClosestPointOnParametric=l,t.findLocalClosestPointOnParametric=d,t.bisectJump=y}),define("core/math/curve-accumulator",["require","exports","core/math/distance"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){e?(this.xtolerance=e.xtolerance||e.tolerance||0,this.ytolerance=e.ytolerance||e.tolerance||0,this.ztolerance=e.ztolerance||e.tolerance||0,this.map=e.map):this.xtolerance=this.ytolerance=this.ztolerance=0,this.segments=[],this.segment=[],this.pivotPoint=void 0,this.pendingPoint=void 0}return e.prototype.colinear=function(e,t,n){this.map&&(e=this.map(e),t=this.map(t),n=this.map(n));var i=r.pointToSegmentParameter(n[0],n[1],n[2]||0,e[0],e[1],e[2]||0,t[0],t[1],t[2]||0);if(i<1)return!1;var a=[e[0]+i*(t[0]-e[0]),e[1]+i*(t[1]-e[1]),3===e.length?e[2]+i*(t[2]-e[2]):0]
;return Math.abs(n[0]-a[0])<=this.xtolerance&&Math.abs(n[1]-a[1])<=this.ytolerance&&(2===e.length||Math.abs(n[2]-a[2])<=this.ztolerance)},e.prototype.addPoint=function(e){if(this.dimensions=e.length,this.xtolerance<0&&this.ytolerance<0&&(2===this.dimensions||this.ztolerance<0))return void this.segment.push.apply(this.segment,e);if(!this.segment.length)return void this.segment.push.apply(this.segment,e);var t=2===this.dimensions?[this.segment[this.segment.length-2],this.segment[this.segment.length-1]]:[this.segment[this.segment.length-3],this.segment[this.segment.length-2],this.segment[this.segment.length-1]];if(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]){if(!this.pivotPoint||!this.pendingPoint)return this.pivotPoint=e,void(this.pendingPoint=e);(!this.colinear(t,this.pivotPoint,e)||r.hypot(t[0]-e[0],t[1]-e[1],(t[2]||0)-(e[2]||0))<r.hypot(t[0]-this.pendingPoint[0],t[1]-this.pendingPoint[1],(t[2]||0)-(this.pendingPoint[2]||0)))&&(this.flushPending(),this.pivotPoint=e),this.pendingPoint=e}},e.prototype.flushPending=function(){this.pendingPoint&&(this.segment.push.apply(this.segment,this.pendingPoint),this.pivotPoint=void 0,this.pendingPoint=void 0)},e.prototype.breakSegment=function(){this.flushPending(),this.segment.length>(this.dimensions||2)&&this.segments.push(this.segment),this.segment=[]},e.prototype.getSegments=function(){return this.breakSegment(),this.segments},e.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0}},e}();t.Accumulator=n}),define("core/math/implicit-plotter",["require","exports","core/math/distance","./curve-accumulator"],function(e,t,r,n){"use strict";function i(e,t){var r=a(e,t);return{segments:r.contours.strokeSegments,fillSegments:r.contours.fillSegments,resolved:r.quadTree.resolved}}function a(e,t){var r=Math.pow(2,-W),n=c(t,r),i=c(t,2*r),a=f(e,n,i),o=P(a.root,e,n);return{paddedDomain:n,rootDomain:i,quadTree:a,triangles:o,contours:j(o,e,n)}}function o(e,t,r){return{x:e,y:t,z:r}}function s(e,t,r){return{x:e,y:t,isZero:r}}function u(e,t,r){return{vertices:[e,t,r],visited:!1,next:void 0}}function c(e,t){var r=(1+t)*e.xmin-t*e.xmax,n=(1+t)*e.xmax-t*e.xmin;return{xmin:r,ymin:(1+t)*e.ymin-t*e.ymax,xmax:n,ymax:(1+t)*e.ymax-t*e.ymin,xtolerance:e.xtolerance,ytolerance:e.ytolerance}}function l(e,t){return{depth:e,vertices:t,children:void 0,center:void 0}}function p(e,t,r){e.center=E(e.vertices[0],e.vertices[1],e.vertices[2],e.vertices[3],t,r)}function f(e,t,r){var n=h(e,r),i=[],a=[];a.push(n);var o=1,s=!0;e:for(;a.length;){var u=i;i=a,a=u;for(var c=void 0;c=i.pop();)if(m(c,e,t)){if(d(c,e),!c.children){s=!1;break e}if(a.push(c.children[0]),a.push(c.children[1]),a.push(c.children[2]),a.push(c.children[3]),(o+=3)>=Y){s=!1;break e}}else p(c,e,t)}for(var l=0;l<i.length;l++)p(i[l],e,t);for(var l=0;l<a.length;l++)p(a[l],e,t);return{root:n,resolved:s}}function h(e,t){var r=t.xmin,n=t.xmax,i=t.ymin,a=t.ymax;return l(0,[_(r,a,e),_(n,a,e),_(n,i,e),_(r,i,e)])}function d(e,t){var r=e.depth+1,n=e.vertices[0],i=e.vertices[1],a=e.vertices[2],o=e.vertices[3],s=S(n,i,t),u=S(i,a,t),c=S(a,o,t),p=S(o,n,t),f=S(n,a,t);e.children=[l(r,[n,s,f,p]),l(r,[s,i,u,f]),l(r,[f,u,a,c]),l(r,[p,f,c,o])]}function m(e,t,r){if(e.depth<W)return!0;if(b(e,r))return!1;if(v(e,r))return!1;var n=e.vertices[0],i=e.vertices[1],a=e.vertices[2],o=e.vertices[3];if(isNaN(n.z)&&isNaN(i.z)&&isNaN(a.z)&&isNaN(o.z))return!1;if(isNaN(n.z)||isNaN(i.z)||isNaN(a.z)||isNaN(o.z))return!0;var s=E(n,i,a,o,t,r),u=M(n,i,t,r),c=M(i,a,t,r),l=M(a,o,t,r),p=M(o,n,t,r);return g(n,u,t)||g(i,u,t)||g(i,c,t)||g(a,c,t)||g(a,l,t)||g(o,l,t)||g(o,p,t)||g(n,p,t)||y(n,u,s,t,r)||y(u,i,s,t,r)||y(i,c,s,t,r)||y(c,a,s,t,r)||y(a,l,s,t,r)||y(l,o,s,t,r)||y(o,p,s,t,r)||y(p,n,s,t,r)}function y(e,t,n,i,a){if(e.z>0==t.z>0&&t.z>0==n.z>0)return!1;var o,s,u,c;if(e.z>0==t.z>0){if(o=S(e,t,i),o.z>0!=e.z>0)return!0;s=w(e,n,i,a),u=w(t,n,i,a),c=w(o,n,i,a)}else if(t.z>0==n.z>0){if(o=S(t,n,i),o.z>0!=t.z>0)return!0;s=w(t,e,i,a),u=w(n,e,i,a),c=w(o,e,i,a)}else{if(o=S(n,e,i),o.z>0!=n.z>0)return!0;s=w(n,t,i,a),u=w(e,t,i,a),c=w(o,t,i,a)}var l=a.xtolerance,p=a.ytolerance;return r.pointToSegment(p*c.x,l*c.y,p*s.x,l*s.y,p*u.x,l*u.y)>l*p}function g(e,t,r){if(isNaN(e.z)&&isNaN(t.z))return!1;if(isNaN(e.z)||isNaN(t.z))return e.z>0||t.z>0;var n=S(e,t,r),i=4*n.z-t.z-3*e.z,a=(r(.9999*e.x+1e-4*t.x,.9999*e.y+1e-4*t.y)-e.z)/1e-4,o=Math.max(Math.abs(e.z),Math.abs(t.z));return Math.abs(i-a)>.125*o}function v(e,t){return e.vertices[1].x-e.vertices[0].x<10*t.xtolerance||e.vertices[0].y-e.vertices[3].y<10*t.ytolerance}function b(e,t){return e.vertices[0].x<t.xmin||e.vertices[0].y>t.ymax||e.vertices[2].x>t.xmax||e.vertices[2].y<t.ymin}function x(e,t){return e.x<t.xmin||e.x>t.xmax||e.y<t.ymin||e.y>t.ymax}function _(e,t,r){return o(e,t,r(e,t))}function S(e,t,r){return _(.5*(e.x+t.x),.5*(e.y+t.y),r)}function M(e,t,r,n){if(x(e,n)||x(t,n))return S(e,t,r);if(isNaN(e.z)||isNaN(t.z))return T(e,t,r,n);if(e.z>0!=t.z>0)return S(e,t,r);var i=r(.99*e.x+.01*t.x,.99*e.y+.01*t.y)-e.z,a=t.z-r(.01*e.x+.99*t.x,.01*e.y+.99*t.y);return isNaN(i)||isNaN(a)?S(e,t,r):i>0==a>0?S(e,t,r):D(o(e.x,e.y,i),o(t.x,t.y,a),r)}function E(e,t,r,n,i,a){var o=M(e,r,i,a);return e.z>0==r.z>0&&o.z>0!=e.z>0?o:(o=M(t,n,i,a),t.z>0==n.z>0&&o.z>0!=t.z>0?o:S(e,r,i))}function D(e,t,r){if(isNaN(e.z))return t;if(isNaN(t.z))return e;if(isFinite(e.z)||isFinite(t.z)){if(isFinite(e.z)){if(isFinite(t.z)){var n=1-e.z/t.z,i=1-t.z/e.z;return _(e.x/n+t.x/i,e.y/n+t.y/i,r)}return e}return t}return S(e,t,r)}function w(e,t,r,n){var i=e.x,a=t.x,u=e.y,c=t.y,l=e.z,p=t.z,f=n.xtolerance,h=n.ytolerance;if(x(e,n)||x(t,n)){var d=S(e,t,r);return s(d.x,d.y,!1)}for(;Math.abs(i-a)>f||Math.abs(u-c)>h;){var m=.5*(i+a),y=.5*(u+c),g=r(m,y);g>0==l>0?(i=m,u=y,l=g):(a=m,c=y,p=g)}if(isNaN(l))return s(a,c,!1);if(isNaN(p))return s(i,u,!1);var v=D(o(i,u,l),o(a,c,p),r),b=0===l||0===p||0===v.z||v.z>=l==p>=v.z&&Math.abs(v.z)<1e250;return s(v.x,v.y,b)}function T(e,t,r,n){if(isNaN(e.z)===isNaN(t.z))return S(e,t,r);if(isNaN(e.z)){var i=e;e=t,t=i}for(var a=e.x,s=t.x,u=e.y,c=t.y,l=e.z,p=n.xtolerance,f=n.ytolerance;Math.abs(a-s)>p||Math.abs(u-c)>f;){var h=.5*(a+s),d=.5*(u+c),m=r(h,d);isNaN(m)===isNaN(l)?(a=h,u=d,l=m):(s=h,c=d)}return o(a,u,l)}function P(e,t,r){var n={triangles:[],edgeCache:{},domain:r,fn:t};return I(e,n),n.triangles}function I(e,t){e.children&&(I(e.children[0],t),I(e.children[1],t),I(e.children[2],t),I(e.children[3],t),C(e.children[0],e.children[1],t),C(e.children[3],e.children[2],t),O(e.children[1],e.children[2],t),O(e.children[0],e.children[3],t))}function C(e,t,r){e.children&&t.children?(C(e.children[1],t.children[0],r),C(e.children[2],t.children[3],r)):e.children?(C(e.children[1],t,r),C(e.children[2],t,r)):t.children?(C(e,t.children[0],r),C(e,t.children[3],r)):A(e,t,r)}function O(e,t,r){e.children&&t.children?(O(e.children[2],t.children[1],r),O(e.children[3],t.children[0],r)):e.children?(O(e.children[2],t,r),O(e.children[3],t,r)):t.children?(O(e,t.children[1],r),O(e,t.children[0],r)):L(e,t,r)}function A(e,t,r){if(e.center&&t.center){var n,i;e.depth>=t.depth?(n=M(e.vertices[1],e.vertices[2],r.fn,r.domain),i=N(e.vertices[1],t.center,e.vertices[2],e.center,n)):(n=M(t.vertices[0],t.vertices[3],r.fn,r.domain),i=N(t.vertices[0],t.center,t.vertices[3],e.center,n)),R(i,r.edgeCache,r.domain);for(var a=0;a<4;a++)r.triangles.push(i[a])}}function L(e,t,r){if(e.center&&t.center){var n,i;e.depth>=t.depth?(n=M(e.vertices[3],e.vertices[2],r.fn,r.domain),i=N(e.vertices[2],t.center,e.vertices[3],e.center,n)):(n=M(t.vertices[1],t.vertices[0],r.fn,r.domain),i=N(t.vertices[1],t.center,t.vertices[0],e.center,n)),R(i,r.edgeCache,r.domain);for(var a=0;a<4;a++)r.triangles.push(i[a])}}function N(e,t,r,n,i){return[u(e,i,t),u(t,i,r),u(r,i,n),u(n,i,e)]}function q(e,t,r){return e.z>0&&!x(e,r)&&(!(t.z>0)||x(t,r))}function F(e,t){return e.x+","+e.y+","+t.x+","+t.y}function R(e,t,r){V(e[0],e[1],e[2],F(e[1].vertices[2],e[1].vertices[0]),t,r),V(e[1],e[2],e[3],F(e[2].vertices[0],e[2].vertices[2]),t,r),V(e[2],e[3],e[0],F(e[3].vertices[2],e[3].vertices[0]),t,r),V(e[3],e[0],e[1],F(e[0].vertices[0],e[0].vertices[2]),t,r)}function V(e,t,r,n,i,a){var o=t.vertices[0],s=t.vertices[1],u=t.vertices[2];q(s,u,a)&&(t.next=r),q(o,s,a)&&(t.next=e),q(u,o,a)&&B(t,n,i),q(o,u,a)&&k(t,n,i)}function k(e,t,r){r[t]?r[t].next=e:r[t]=e}function B(e,t,r){r[t]?e.next=r[t]:r[t]=e}function j(e,t,r){for(var i={fillAccumulator:new n.Accumulator(r),strokeAccumulator:new n.Accumulator(r),fn:t,domain:r},a=0;a<e.length;a++){var o=e[a];o.next&&!o.visited&&z(o,i)}return{strokeSegments:i.strokeAccumulator.finish().segments,fillSegments:i.fillAccumulator.finish().segments}}function z(e,t){for(;;){var r=e.vertices[0],n=e.vertices[1],i=e.vertices[2];if(G(r,n,t),G(n,i,t),G(i,r,t),e.visited)break;if(!e.next)break;e.visited=!0,e=e.next}t.strokeAccumulator.breakSegment(),t.fillAccumulator.breakSegment()}function G(e,t,r){if(q(e,t,r.domain)){var n=w(e,t,r.fn,r.domain);r.fillAccumulator.addPoint([n.x,n.y]),n.isZero?r.strokeAccumulator.addPoint([n.x,n.y]):r.strokeAccumulator.breakSegment()}}function U(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push([n.vertices[0].x,n.vertices[0].y,n.vertices[1].x,n.vertices[1].y,n.vertices[2].x,n.vertices[2].y,n.vertices[0].x,n.vertices[0].y])}return t}Object.defineProperty(t,"__esModule",{value:!0});var W=5,Y=Math.pow(2,14);t.sampleImplicit=i,t.sampleImplicitDiagnostic=a,t.buildQuadTree=f,t.triangulate=P,t.traceContours=j,t.displayTriangles=U}),define("core/math/workerconfig",[],function(){"use strict";return{pointsOfInterest:!0,plotSingleVariableImplicitEquations:!0,plotImplicits:!0,plotInequalities:!0,sliders:!0}}),define("core/math/poi-finding-accumulator",["require","exports","core/math/workerconfig","tslib","./curve-accumulator","./poi"],function(e,t,r,n,i,a){"use strict";function o(e){return Math.abs(e)<5e-8}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.domain=t,i.fn=r,i.derivative=n,i.poiData={zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}},i.zeroBuffer=[],i.extremumBuffer=[],i}return n.__extends(t,e),t.prototype.getPOI=function(){return r.pointsOfInterest?(void 0!==this.fn&&(this.poiData.intercept=this.findIntercept(this.fn)),this.poiData):{zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}}},t.prototype.addLinearZero=function(e){var t=-e[0]/e[1];this.isOutsideDomain(t)||(this.poiData.zeros={x:[t],y:[0]})},t.prototype.addLinearIntercept=function(e){this.isOutsideDomain(0)||(this.poiData.intercept={x:[0],y:[e[0]]})},t.prototype.isOutsideDomain=function(e){return!this.domain||void 0===this.domain.min||void 0===this.domain.max||(e<this.domain.min||e>this.domain.max||isNaN(e))},t.prototype.addPoint=function(t){0===this.segment.length&&o(t[1])&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.updateZeroBuffer(t),this.updateExtremumBuffer(t),e.prototype.addPoint.call(this,t)},t.prototype.updateZeroBuffer=function(e){if(this.fn){if(!isFinite(e[0])||!isFinite(e[1]))return void(this.zeroBuffer.length=0);switch(this.zeroBuffer.length){case 0:if(o(e[1]))return;return void this.zeroBuffer.push(e);case 1:if(0===e[1])return void this.zeroBuffer.push(e);if(e[1]>0!=this.zeroBuffer[0][1]>0){var t=a.bisectZero(this.zeroBuffer[0][0],this.zeroBuffer[0][1],e[0],e[1],this.fn);return t&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.zeroBuffer.length=0,void this.zeroBuffer.push(e)}return this.zeroBuffer.length=0,void this.zeroBuffer.push(e);case 2:if(0===e[1])return;if(e[1]>0!=this.zeroBuffer[0][1]>0){var t=a.flatCenter(this.zeroBuffer[0][0],this.zeroBuffer[0][1],this.zeroBuffer[1][0],this.zeroBuffer[1][1],e[0],e[1],this.fn);return t&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.zeroBuffer.length=0,void this.zeroBuffer.push(e)}return this.zeroBuffer.length=0,void this.zeroBuffer.push(e)}}},t.prototype.updateExtremumBuffer=function(e){if(this.fn){if(!isFinite(e[0])||!isFinite(e[1]))return void(this.zeroBuffer.length=0);switch(this.extremumBuffer.length){case 0:return void this.extremumBuffer.push(e);case 1:return e[1]===this.extremumBuffer[0][1]&&(this.extremumBuffer.length=0),void this.extremumBuffer.push(e);case 2:if(e[1]===this.extremumBuffer[1][1])return void this.extremumBuffer.push(e);if(e[1]>this.extremumBuffer[1][1]!=this.extremumBuffer[1][1]>this.extremumBuffer[0][1]){var t=this.bisectExtremumUsingDerivative(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],e[0],e[1]);if(t){this.poiData.extrema.x.push(t[0]),this.poiData.extrema.y.push(t[1]);!!!a.bisectJump(this.extremumBuffer[0][0],this.extremumBuffer[0][1],t[0],t[1],e[0],e[1],this.fn,this.ytolerance)&&t[0]>this.segment[this.segment.length-2]&&(this.pendingPoint=t)}return this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}return this.extremumBuffer.shift(),void this.extremumBuffer.push(e);case 3:if(e[1]===this.extremumBuffer[1][1])return;if(e[1]>this.extremumBuffer[1][1]!=this.extremumBuffer[1][1]>this.extremumBuffer[0][1]){var t=void 0,r=.5*(this.extremumBuffer[1][0]+this.extremumBuffer[2][0]),n=this.fn(r);return t=n===this.extremumBuffer[1][1]?a.flatCenter(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],e[0],e[1],this.fn):this.bisectExtremumUsingDerivative(this.extremumBuffer[1][0],this.extremumBuffer[1][1],r,n,this.extremumBuffer[2][0],this.extremumBuffer[2][1]),t&&(this.poiData.extrema.x.push(t[0]),this.poiData.extrema.y.push(t[1])),this.extremumBuffer.shift(),this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}return this.extremumBuffer.shift(),this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}}},t.prototype.bisectExtremumUsingDerivative=function(e,t,r,n,i,o){if(this.fn){var s;if(this.derivative){var u=this.derivative(e),c=this.derivative(i);if(!isNaN(u)&&!isNaN(c)&&u<0!=c<0){var l=a.bisectZero(e,u,i,c,this.derivative);l&&(s=[l[0],this.fn(l[0])])}}return s||(s=a.bisectExtremum(e,t,r,n,i,o,this.fn)),s}},t.prototype.breakSegment=function(){this.zeroBuffer.length=0,this.extremumBuffer.length=0,this.flushPending(),this.segment.length>2&&(this.segments.push(this.segment),o(this.segment[this.segment.length-1])&&(this.poiData.zeros.x.push(this.segment[this.segment.length-2]),this.poiData.zeros.y.push(this.segment[this.segment.length-1]))),this.segment=[]},t.prototype.findIntercept=function(e){if(!e)return{x:[],y:[]};var t=e(0);return isFinite(t)?{x:[0],y:[e(0)]}:{x:[],y:[]}},t.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0,poi:this.getPOI()}},t}(i.Accumulator);t.default=s}),define("core/types/graphmode",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.X=1,t.Y=2,t.XYPOINT=3,t.XYPOINT_MOVABLE=4,t.PARAMETRIC=5,t.POLAR=6,t.POLYGONFILL=7,t.IMPLICIT=8,t.NONE=10,t.VISUALIZATION=11,t.OBJECT3D=12,t.Z_3D=13,t.PARAMETRIC_CURVE_3D=14}),define("core/math/domaintypes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyDomain=function(){return{type:"empty"}},t.unknownDomain=function(){return{type:"unknown"}},t.knownDomain=function(e){return isNaN(e[0])||isNaN(e[1])||e[1]<e[0]?t.emptyDomain():{type:"known",bounds:e}},t.allReals=function(){return t.knownDomain([-1/0,1/0])},t.intersectDomains=function(e,r){if("empty"===e.type||"empty"===r.type)return t.emptyDomain();if("unknown"===e.type||"unknown"===r.type)return t.unknownDomain();if(e.bounds&&r.bounds){var n=[Math.max(e.bounds[0],r.bounds[0]),Math.min(e.bounds[1],r.bounds[1])];return t.knownDomain(n)}return t.emptyDomain()}}),define("core/math/plotter",["require","exports","tslib","core/math/distance","./poi","./implicit-plotter","./curve-accumulator","./poi-finding-accumulator","core/types/graphmode","./domaintypes"],function(e,t,r,n,i,a,o,s,u,c){"use strict";function l(e,t){for(var r,n=new s.default(t,e),i=t.min;i<=t.max+t.step/2;i+=t.step)r=e(i),isFinite(r)?n.addPoint([i,r]):n.breakSegment();return n.finish()}function p(e,t){var r=new s.default(t),n=e[0]+t.min*e[1],i=e[0]+t.max*e[1];return isFinite(n)&&isFinite(i)?(r.addPoint([t.min,n]),r.addPoint([t.max,i]),r.addLinearZero(e),r.addLinearIntercept(e),r.finish()):r.finish()}function f(e,t){var r=p(e[0],t),n=p(e[1],t);return r.segments.length&&n.segments.length&&4===r.segments[0].length&&4===n.segments[0].length?{segments:[[r.segments[0][1],n.segments[0][1],r.segments[0][3],n.segments[0][3]]],resolved:!0}:{segments:[],resolved:!0}}function h(e,t){var n=e(t);return{segments:[r.__spreadArrays(n,n)],resolved:!0}}function d(e,t,r){var a=r.fn,o=r.jumpTolerance,s=e[0],u=e[1],c=t[0],l=t[1],p=n.mean(s,c),f=a(p);return i.bisectJump(s,u,p,f,c,l,a,o)}function m(e,t,r){var n=t,i=e(n);return isFinite(i)||(n=t+r,i=e(n)),isFinite(i)||(n=t-r,i=e(n)),[n,i]}function y(e,t,r){var n,a,o,s,u,c,l,p=new O(e,t,r),f=t.step/10,h=t.min;n=m(e,h,f),l=n[0],c=n[1];var d=[l,c];isFinite(c)&&p.accumulator.addPoint([l,c]);for(var y=Math.ceil((t.max-t.min)/t.step),g=1;g<=y;g++)h=(y-g)/y*t.min+g/y*t.max,a=m(e,h,f),l=a[0],c=a[1],isFinite(c)&&isFinite(d[1])?(o=C(d,[l,c],p),l=o[0],c=o[1],p.accumulator.addPoint([l,c])):isFinite(c)&&!isFinite(d[1])?(u=i.bisectFinite(d[0],d[1],l,c,e))&&(u[0]!==l&&p.accumulator.addPoint(u),s=C(u,[l,c],p),l=s[0],c=s[1],p.accumulator.addPoint([l,c])):!isFinite(c)&&isFinite(d[1])&&(u=i.bisectFinite(d[0],d[1],l,c,e))&&(u=C(d,u,p),u[0]!==d[0]&&p.accumulator.addPoint(u),p.accumulator.breakSegment()),d=[l,c];return p.accumulator.finish()}function g(e){for(var t=e.fn,r=e.domain,n=r.min,i=r.max,a=Math.floor(n),o=Math.ceil(i),s=[],u=a;u<=o;u++){var c=t(u);isFinite(u)&&isFinite(c)&&s.push([u,c])}return{segments:s,resolved:!0}}function v(e,t,r,n){function i(e,t){var i=t%2==0?1:-1;if(!n&&-1===i)return!1;for(var a=t*(Math.PI/r),o=[u,u+1,u+2,u+3],s=!1,c=0,p=o.length;c<p;c++){var f=e(o[c]),h=e(o[c]+a);if(isFinite(f)&&isFinite(h)&&(s=!0),isFinite(f)!==isFinite(h)||Math.abs(f-i*h)>l)return!1}return!!s}var a,o,s,u=t.min,c=t.max-t.min,l=t.xtolerance&&t.ytolerance?Math.min(t.xtolerance,t.ytolerance):t.tolerance?t.tolerance:0,p=Math.floor(c/(Math.PI/r));for(a=1;a<=p;a++)if(i(e,a)){for(s=a,o=2;o*a<=p;o++)i(e,o*a)||(s=void 0);if(s)break}return s?s*(Math.PI/r):null}function b(e){return[e[1]*Math.cos(e[0]),e[1]*Math.sin(e[0])]}function x(e,t){return t.map=b,y(e,t)}function _(e,t){for(var r=e.min,n=e.max,i=e.step,a=n-r,o=Math.ceil(a/i),s=a/o,u=0;u<o;u++)t(r+u*s);t(n)}function S(e,t){if(t.max<t.min)return{segments:[],resolved:!0};var r=new o.Accumulator(t),n=t.min,i=e(n);isFinite(i[0])&&isFinite(i[1])&&r.addPoint(i);var a;return _(t,function(t){a=e(t),M(e,n,i,t,a,10,r),n=t,i=a}),r.finish()}function M(e,t,r,i,a,o,s){if(i!==t){var u=s.xtolerance,c=s.ytolerance,l=s.ztolerance,p=n.mean(t,i),f=e(p),h=isFinite(r[0])&&isFinite(r[1])&&(2===r.length||isFinite(r[2])),d=isFinite(a[0])&&isFinite(a[1])&&(2===a.length||isFinite(a[2])),m=isFinite(f[0])&&isFinite(f[1])&&(2===f.length||isFinite(f[2]));if(0===o||p===t||p===i)return s.breakSegment(),void(d&&s.addPoint(a));if(h||d){if(h!==d){for(var y=t,g=i,v=r,b=a;t!==p&&p!==i;)m==h?(t=p,r=f,h=m):(i=p,a=f,d=m),p=t+(i-t)/2,f=e(p),m=isFinite(f[0])&&isFinite(f[1])&&(2===f.length||isFinite(f[2]));return void(h?(M(e,y,v,t,r,o-1,s),s.breakSegment()):(s.breakSegment(),s.addPoint(a),M(e,i,a,g,b,o-1,s)))}if(h&&m&&d){var x=n.pointToSegmentParameter(f[0],f[1],f[2]||0,r[0],r[1],r[2]||0,a[0],a[1],a[2]||0);if(x>.2&&x<.8&&Math.abs(f[0]-(r[0]+x*(a[0]-r[0])))<=u&&Math.abs(f[1]-(r[1]+x*(a[1]-r[1])))<=c&&(2===r.length||Math.abs(f[2]-(r[2]+x*(a[2]-r[2])))<=l))return void s.addPoint(a)}r[0]===f[0]&&r[1]===f[1]||M(e,t,r,p,f,o-1,s),a[0]===f[0]&&a[1]===f[1]||M(e,p,f,i,a,o-1,s)}}}function E(e,t){for(var r=e.fn,n=t.xmin,i=t.xmax,a=t.ymin,o=t.ymax,s=(i-n)/30,u=(o-a)/30,c=[],l=[],p=[],f=s/1e3,h=u/1e3,d=0;d<30;d++)for(var m=0;m<30;m++){var y=n+d*s,g=a+m*u,v=r(y,g);c.push(y,g,v);var b=r(y+f,g)-v,x=r(y,g+h)-v,_=b*h,S=x*f,M=-f*h,E=Math.sqrt(_*_+S*S+M*M);l.push(_/E,S/E,M/E)}for(var d=0;d<29;d++)for(var m=0;m<29;m++){var D=30*m+d,w=30*m+d+1,T=30*(m+1)+d,P=30*(m+1)+d+1;p.push(D,T,w),p.push(T,P,w)}return{cacheKey:e.source+":"+JSON.stringify(t),positions:new Float32Array(c),normals:new Float32Array(l),faces:new Int16Array(p)}}function D(e){if(!e)return!1;var t=e.viewport.xmin,r=e.viewport.xmax,n=e.viewport.ymin,i=e.viewport.ymax;return!(!isFinite(t)||!isFinite(r)||r<=t)&&(!(!isFinite(n)||!isFinite(i)||i<=n)&&(!(!isFinite(e.screen.width)||e.screen.width<=0)&&!(!isFinite(e.screen.height)||e.screen.height<=0)))}function w(e,t,r){var n,i,a=e.viewport.xmin,o=e.viewport.xmax,s=e.viewport.ymin,l=e.viewport.ymax,p=e.trigAngleMultiplier||1,f=e.oversample||4,h=1/f*(o-a)/e.screen.width,d=1/f*(l-s)/e.screen.height,m=t.domainBound;switch(t.graphMode){case u.X:switch(n=c.intersectDomains(c.knownDomain([s,l]),m),n.type){case"empty":return!1;case"known":s=n.bounds[0],l=n.bounds[1]}i={min:s,max:l,xtolerance:d,ytolerance:h,step:d};break;case u.Y:switch(n=c.intersectDomains(c.knownDomain([a,o]),m),n.type){case"empty":return!1;case"known":a=n.bounds[0],o=n.bounds[1]}i={min:a,max:o,xtolerance:h,ytolerance:d,step:h};break;case u.POLAR:if(!t.domain)throw new Error("Expected polar graph to have domain");if(i={min:t.domain.min,max:t.domain.max,step:2*Math.PI/p/1e3,tolerance:Math.min(h,d)},!t.domain.isExplicit){var y=v(r,i,p,"="===t.operator);y&&(i.max=i.min+y)}i.step=Math.max(i.step,(i.max-i.min)/11999);break;case u.PARAMETRIC:case u.PARAMETRIC_CURVE_3D:var g=t.domain?t.domain.min:0,b=t.domain?t.domain.max:1,x=t.domain?t.domain.step:.01;switch(n=c.intersectDomains(c.knownDomain([g,b]),m),n.type){case"empty":return!1;case"known":g=n.bounds[0],b=n.bounds[1]}i={min:g,max:b,step:x,xtolerance:h,ytolerance:d,ztolerance:Math.min(h,d)};break;case u.IMPLICIT:i={xmin:a,xmax:o,ymin:s,ymax:l,xtolerance:h,ytolerance:d};break;case u.Z_3D:return{xmin:-10,xmax:10,ymin:-10,ymax:10};default:return!1}return i}function T(e){var t,r,n,i=e.viewState,o=e.graphInfo,s=e.compiled,c=e.derivative,l=e.discrete,d=e.maxOverride,m=s.fn,v=w(i,o,m),b=o.graphMode;if(v){switch(b){case u.X:case u.Y:var _=c?c.fn:void 0;if(l){var M=v,D=M.min,T=M.max,P=M.step;t=g({fn:m,domain:{min:Math.max(D,0),max:void 0!==d?Math.min(d,T):T,step:P}})}else t=o.isLinear?p(o.linearCoefficients,v):y(m,v,_);break;case u.POLAR:t=x(m,v);break;case u.IMPLICIT:t=a.sampleImplicit(m,v);break;case u.PARAMETRIC:v.step||(v.step=(v.max-v.min)/1e3),t=v.max===v.min?h(m,v.min):o.isLinear?f(o.linearCoefficients,v):S(m,v);break;case u.PARAMETRIC_CURVE_3D:return v.step||(v.step=(v.max-v.min)/1e3),t=v.max===v.min?h(m,v.min):S(m,v),{graphMode:u.PARAMETRIC_CURVE_3D,segments:t.segments,cacheKey:s.source+":"+JSON.stringify(v),color:o.color,style:"dummy"};case u.Z_3D:return{meshData:E(s,v),color:o.color,graphMode:u.Z_3D,poi:{zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}},compiled:s,style:"dummy"};default:throw new Error("Programming Error: unexpected graphmode "+b)}n=t.poi}else t={segments:[],resolved:!0};if((!n||n.zeros.x.length+n.extrema.x.length+n.intercept.x.length>250)&&(n={zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}}),b===u.X)for(var I in n)if(n.hasOwnProperty(I)){var C=I;r=n[C].y,n[C].y=n[C].x,n[C].x=r}var O={segments:t.segments,resolved:t.resolved,graphMode:b,color:o.color,style:l?o.pointStyle:o.lineStyle,lineWidth:o.lineWidth,operator:o.operator,poi:n,compiled:s};if(b===u.POLAR){var A=v;O.sampledDomain={min:A.min,max:A.max,step:A.step}}return t.fillSegments&&(O.fillSegments=t.fillSegments),O}function P(e,t,r){var n,i,a,o,s=[],c=null;switch(r){case u.POLAR:c=b;break;case u.X:c=function(e){return[e[1],e[0]]}}for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i+=2)a=[o[i],o[i+1]],c&&(a=c(a)),s.push(a[0],a[1]);for(n=t.length-1;n>=0;n--)for(o=t[n],i=o.length-2;i>=0;i-=2)a=[o[i],o[i+1]],c&&(a=c(a)),s.push(a[0],a[1]);return s}function I(e,t,r){for(var i=function(e){var t=e[e.length-1];return t[t.length-2]},a=[],o=0,s=0,u=[],c=[],l=-1/0,p=-1/0;;){if(l<=p){if(o>=t.length)break;c.push(t[o++])}if(p<=l){if(s>=e.length)break;u.push(e[s++])}if(l=i(c),p=i(u),n.approx(l,p,4)){a.push(P(u,c,r)),c=[],u=[];var f=Math.max(l,p);l=f,p=f}}return a}Object.defineProperty(t,"__esModule",{value:!0});var C=function(e,t,r){var n=r.fn,i=r.jumpTolerance,a=r.accumulator;if(!isFinite(i)||i<=0)return t;var o=d(e,t,r);if(!o)return t;for(var s=(t[0]-e[0])/10,u=[-s,s],c=t,l=0;l<u.length;l++){var p=e[0]+u[l],f=n(p);isFinite(f)||(p=e[0],f=e[1],p=e[0],f=e[1]);var h=t[0]+u[l],m=n(h);if(isFinite(m)?c=[h,m]:(h=t[0],m=t[1]),d([p,f],[h,m],r)){var y=o[0],g=o[1];return a.addPoint(y),a.breakSegment(),a.addPoint(g),t}}return c},O=function(){function e(e,t,r){this.derivative=r,this.accumulator=new s.default(t,e,r),this.fn=e,this.jumpTolerance=t.ytolerance||t.tolerance||0}return e}();t.default={sampleXYNaive:l,sampleLinear:p,sampleXY:y,findPiPeriod:v,samplePolar:x,sampleParametricRecursive:S,subsampleParametricRecursive:M,validateViewState:D,computeDomain:w,computeGraphData:T,polygonsFromSegments:I}}),define("core/lib/worker-i18n",["require","exports"],function(e,t){"use strict";function r(e,t){return{msg:e,vars:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.t=r}),define("core/math/mathshim",["require"],function(e){"use strict";var t={};return t.cosh=Math.cosh||function(e){return.5*(Math.exp(e)+Math.exp(-e))},t.sinh=Math.sinh&&0!==Math.sinh(1e-20)?Math.sinh:function(e){var r=e>0?1:-1;return e=e>0?e:-e,.5*-r*Math.exp(e)*t.expm1(-2*e)},t.tanh=Math.tanh&&0!==Math.tanh(1e-20)?Math.tanh:function(e){var r=e>0?1:-1;e=e>0?e:-e;var n=t.expm1(-2*e);return-r*n/(2+n)},t.acosh=Math.acosh||function(e){return e<1?NaN:Math.log(e+t.sqrtxsqm1(e))},t.asinh=Math.asinh&&0!==Math.asinh(1e-20)?Math.asinh:function(e){var r=e>0?1:-1;return e=e>0?e:-e,1+e*e==1?r*t.log1p(e):r*Math.log(e+t.sqrtxsqp1(e))},t.atanh=Math.atanh&&0!==Math.atanh(1e-20)?Math.atanh:function(e){return.5*(t.log1p(e)-t.log1p(-e))},t.expm1=Math.expm1||function(e){return e+.5*e*e===e?e:Math.exp(e)-1},t.log1p=Math.log1p||function(e){return e-.5*e*e===e?e:Math.log(1+e)},t.sqrtxsqp1=function(e){var t=e*e;return 1+t===1?1:1+t===t?Math.abs(e):Math.sqrt(t+1)},t.sqrtxsqm1=function(e){var t=e*e;return t<1?NaN:t-1===t?Math.abs(e):Math.sqrt(t-1)},t}),define("core/math/quadrature",["require","core/math/mathshim","core/math/poi"],function(e){"use strict";function t(e,t,r){return.5*(t*(2-r)+e*r)}function r(e,t,r){var n=.5*(t+r),i=l(t,e(t),n,e(n),r,e(r),e,0);return i?.5*(i[0][0]+i[1][0]):n}function n(e,t,r,n,i){return{x1:e,x2:t,value:r,error:n,minerror:i}}function i(e,r,n){var i=Math.abs(e(t(r,n,d))),a=Math.abs(e(t(r,n,2*d)));return!(i<d||a<d)&&i>1.95*a}function a(e,r,a){var o,s,u=t(a,r,v[0]),c=t(r,a,v[0]),l=e(u),f=e(c),h=t(r,a,1),d=e(h);if(isFinite(d)&&!isFinite(l)){if(o=p(u,l,h,d,e),Math.abs((o[0]-r)/(a-r))>y)return n(r,a,NaN,NaN,NaN);r=o[0],l=o[1]}if(isFinite(d)&&!isFinite(f)){if(s=p(h,d,c,f,e),Math.abs((s[0]-a)/(a-r))>y)return n(r,a,NaN,NaN,NaN);a=s[0],f=s[1]}if(isFinite(l)&&isFinite(f)&&!isFinite(d)){if(o=p(u,l,h,d,e),s=p(h,d,c,f,e),Math.abs((s[0]-o[0])/(a-r))>y)return n(r,a,NaN,NaN,NaN);d=.5*(o[1]+s[1])}if(i(e,r,a)||i(e,a,r))return n(r,a,NaN,NaN,NaN);for(var m=d,x=0,_=0,M=0,E=0,D=0,w=0,T=0;T<g;T+=4)D=e(t(r,a,v[T])),w=e(t(a,r,v[T])),E=Math.max(E,Math.abs(D),Math.abs(w)),x+=b[T]*(D+w),D=e(t(r,a,v[T+1])),w=e(t(a,r,v[T+1])),E=Math.max(E,Math.abs(D),Math.abs(w)),M+=b[T+1]*(D+w),D=e(t(r,a,v[T+2])),w=e(t(a,r,v[T+2])),E=Math.max(E,Math.abs(D),Math.abs(w)),_+=b[T+2]*(D+w),D=e(t(r,a,v[T+3])),w=e(t(a,r,v[T+3])),E=Math.max(E,Math.abs(D),Math.abs(w)),M+=b[T+3]*(D+w);var P,I=m+x,C=I+_,O=C+M,A=Math.abs(_-I),L=Math.abs(M-C),N=S*(a-r)*O,q=S*Math.abs(a-r)*E*b[0];return P=0===A?S*Math.abs(a-r)*L:S*Math.abs(a-r)*L*(L/A)*(L/A),P=Math.max(P,q),n(r,a,N,P,q)}function o(e){for(var t=-1/0,r=-1/0,n=-1,i=0,a=0;a<e.length;a++){var o=e[a];i+=o.value,o.error>t&&(t=o.error,n=a),o.minerror>r&&(r=o.minerror)}return{maxerror:t,maxminerror:r,maxindex:n,totalvalue:i}}function s(e,n,i,s){if(void 0===s&&(s=32),!isFinite(n)||!isFinite(i))return NaN;for(var u=[a(e,n,i)],c=o(u),l=1;l<s&&(!(Math.abs(c.maxerror/c.totalvalue)<=32*m||c.maxerror<=32*m||c.maxerror<=32*c.maxminerror)&&isFinite(c.maxerror)&&isFinite(c.maxminerror));l++){var p=u[u.length-1];u[u.length-1]=u[c.maxindex],u[c.maxindex]=p;var f=u.pop(),h=r(e,t(f.x2,f.x1,.125),t(f.x1,f.x2,.125));u.push(a(e,f.x1,h)),u.push(a(e,h,f.x2)),c=o(u)}return isFinite(c.maxerror)&&isFinite(c.maxminerror)?Math.abs(c.totalvalue)<=10*c.maxminerror?0:c.totalvalue:NaN}var u=e("core/math/mathshim"),c=e("core/math/poi"),l=c.bisectJump,p=c.bisectFinite,f=3.154019550531224,h=Math.pow(2,-13),d=h*h,m=d*d,y=d,g=32,v=[],b=[];!function(e,t){for(var r=g;r>0;r--){var n=f/g*r,i=u.sinh(n),a=u.cosh(Math.PI/2*i),o=1/(Math.exp(Math.PI/2*i)*a),s=u.cosh(n)/(a*a);e.push(o),t.push(s)}}(v,b);for(var x=0,_=0;_<b.length;_++)x+=b[_];var S=1/(1+2*x);return{quad:s}}),define("core/math/tofraction",["require","exports"],function(e,t){"use strict";function r(e,t){if(void 0===t&&(t=1e6),e===1/0)return{n:1/0,d:1};if(e===-1/0)return{n:-1/0,d:1};if(!isFinite(e))return{n:NaN,d:1};for(var r,n,i,a=0,o=1,s=1,u=0;;){if(r=Math.floor(e),n=r*o+a,(i=r*u+s)>t)break;if(a=o,s=u,o=n,u=i,e===r)break;e=1/(e-r)}return{n:o,d:u}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}),function(e){"use strict";function t(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function r(e,t){return e<<t|e>>>32-t}function n(e,n,i,a,o,s){return t(r(t(t(n,e),t(a,s)),o),i)}function i(e,t,r,i,a,o,s){return n(t&r|~t&i,e,t,a,o,s)}function a(e,t,r,i,a,o,s){return n(t&i|r&~i,e,t,a,o,s)}function o(e,t,r,i,a,o,s){return n(t^r^i,e,t,a,o,s)}function s(e,t,r,i,a,o,s){return n(r^(t|~i),e,t,a,o,s)}function u(e,r){e[r>>5]|=128<<r%32,e[14+(r+64>>>9<<4)]=r;var n,u,c,l,p,f=1732584193,h=-271733879,d=-1732584194,m=271733878;for(n=0;n<e.length;n+=16)u=f,c=h,l=d,p=m,f=i(f,h,d,m,e[n],7,-680876936),m=i(m,f,h,d,e[n+1],12,-389564586),d=i(d,m,f,h,e[n+2],17,606105819),h=i(h,d,m,f,e[n+3],22,-1044525330),f=i(f,h,d,m,e[n+4],7,-176418897),m=i(m,f,h,d,e[n+5],12,1200080426),d=i(d,m,f,h,e[n+6],17,-1473231341),h=i(h,d,m,f,e[n+7],22,-45705983),f=i(f,h,d,m,e[n+8],7,1770035416),m=i(m,f,h,d,e[n+9],12,-1958414417),d=i(d,m,f,h,e[n+10],17,-42063),h=i(h,d,m,f,e[n+11],22,-1990404162),f=i(f,h,d,m,e[n+12],7,1804603682),m=i(m,f,h,d,e[n+13],12,-40341101),d=i(d,m,f,h,e[n+14],17,-1502002290),h=i(h,d,m,f,e[n+15],22,1236535329),f=a(f,h,d,m,e[n+1],5,-165796510),m=a(m,f,h,d,e[n+6],9,-1069501632),d=a(d,m,f,h,e[n+11],14,643717713),h=a(h,d,m,f,e[n],20,-373897302),f=a(f,h,d,m,e[n+5],5,-701558691),m=a(m,f,h,d,e[n+10],9,38016083),d=a(d,m,f,h,e[n+15],14,-660478335),h=a(h,d,m,f,e[n+4],20,-405537848),f=a(f,h,d,m,e[n+9],5,568446438),m=a(m,f,h,d,e[n+14],9,-1019803690),d=a(d,m,f,h,e[n+3],14,-187363961),h=a(h,d,m,f,e[n+8],20,1163531501),f=a(f,h,d,m,e[n+13],5,-1444681467),m=a(m,f,h,d,e[n+2],9,-51403784),d=a(d,m,f,h,e[n+7],14,1735328473),h=a(h,d,m,f,e[n+12],20,-1926607734),f=o(f,h,d,m,e[n+5],4,-378558),m=o(m,f,h,d,e[n+8],11,-2022574463),d=o(d,m,f,h,e[n+11],16,1839030562),h=o(h,d,m,f,e[n+14],23,-35309556),f=o(f,h,d,m,e[n+1],4,-1530992060),m=o(m,f,h,d,e[n+4],11,1272893353),d=o(d,m,f,h,e[n+7],16,-155497632),h=o(h,d,m,f,e[n+10],23,-1094730640),f=o(f,h,d,m,e[n+13],4,681279174),m=o(m,f,h,d,e[n],11,-358537222),d=o(d,m,f,h,e[n+3],16,-722521979),h=o(h,d,m,f,e[n+6],23,76029189),f=o(f,h,d,m,e[n+9],4,-640364487),m=o(m,f,h,d,e[n+12],11,-421815835),d=o(d,m,f,h,e[n+15],16,530742520),h=o(h,d,m,f,e[n+2],23,-995338651),f=s(f,h,d,m,e[n],6,-198630844),m=s(m,f,h,d,e[n+7],10,1126891415),d=s(d,m,f,h,e[n+14],15,-1416354905),h=s(h,d,m,f,e[n+5],21,-57434055),f=s(f,h,d,m,e[n+12],6,1700485571),m=s(m,f,h,d,e[n+3],10,-1894986606),d=s(d,m,f,h,e[n+10],15,-1051523),h=s(h,d,m,f,e[n+1],21,-2054922799),f=s(f,h,d,m,e[n+8],6,1873313359),m=s(m,f,h,d,e[n+15],10,-30611744),d=s(d,m,f,h,e[n+6],15,-1560198380),h=s(h,d,m,f,e[n+13],21,1309151649),f=s(f,h,d,m,e[n+4],6,-145523070),m=s(m,f,h,d,e[n+11],10,-1120210379),d=s(d,m,f,h,e[n+2],15,718787259),h=s(h,d,m,f,e[n+9],21,-343485551),f=t(f,u),h=t(h,c),
d=t(d,l),m=t(m,p);return[f,h,d,m]}function c(e){var t,r="",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function l(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function p(e){return c(u(l(e),8*e.length))}function f(e,t){var r,n,i=l(e),a=[],o=[];for(a[15]=o[15]=void 0,i.length>16&&(i=u(i,8*e.length)),r=0;r<16;r+=1)a[r]=909522486^i[r],o[r]=1549556828^i[r];return n=u(a.concat(l(t)),512+8*t.length),c(u(o.concat(n),640))}function h(e){var t,r,n="0123456789abcdef",i="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),i+=n.charAt(t>>>4&15)+n.charAt(15&t);return i}function d(e){return unescape(encodeURIComponent(e))}function m(e){return p(d(e))}function y(e){return h(m(e))}function g(e,t){return f(d(e),d(t))}function v(e,t){return h(g(e,t))}function b(e,t,r){return t?r?g(t,e):v(t,e):r?m(e):y(e)}"function"==typeof define&&define.amd?define("core/lib/md5",[],function(){return b}):"object"==typeof module&&module.exports?module.exports=b:e.md5=b}(this),define("core/math/builtin",["require","core/math/mathshim","core/math/distance","core/math/quadrature","core/math/tofraction","core/math/poi","core/lib/md5"],function(e){"use strict";function t(e,t,r){return Math.max(t,Math.min(r,e))}function r(e){return!(e>1e12)&&Math.round(m*e)*Math.PI===e}function n(e){if(e>1e12)return!1;var t=Math.round(2*m*e);return t%2==1&&t*Math.PI==2*e}function i(e,t,r){return r<0?p.tcdf(-1/0,e,t):r>0?p.tcdf(-1/0,-e,t):2*p.tcdf(-1/0,-Math.abs(e),t)}var a=e("core/math/mathshim"),o=e("core/math/distance"),s=e("core/math/quadrature"),u=e("core/math/tofraction").default,c=e("core/math/poi").floatMiddle,l=e("core/lib/md5"),p={};p.cosh=a.cosh,p.sinh=a.sinh,p.tanh=a.tanh,p.acosh=a.acosh,p.asinh=a.asinh,p.atanh=a.atanh,p.expm1=a.expm1,p.log1p=a.log1p,p.sqrtxsqp1=a.sqrtxsqp1,p.sqrtxsqm1=a.sqrtxsqm1,p.mod=function(e,t){return e-t*Math.floor(e/t)},p.round=function(e,t){if(void 0===t&&(t=0),0===(t=Math.round(t)))return Math.round(e);var r=Math.pow(10,t);return Math.round(e*r)/r},p.sign=Math.sign||function(e){return 0===e?0:e>0?1:e<0?-1:NaN},p.lcm=function(e,t){e=Math.round(e),t=Math.round(t);var r=p.gcd(e,t);return Math.abs(e/r*t)},p.gcd=function(e,t){if(e=Math.round(e),t=Math.round(t),e<0&&(e=-e),t<0&&(t=-t),t>e){var r=t;t=e,e=r}if(0===t)return e;for(var n=e%t;n>0;)e=t,t=n,n=e%t;return t},p.listGCD=function(e){if(0===e.length)return NaN;for(var t=e[0],r=1;r<e.length;r++)t=p.gcd(t,e[r]);return t},p.listLCM=function(e){if(0===e.length)return NaN;for(var t=e[0],r=1;r<e.length;r++)t=p.lcm(t,e[r]);return t},p.nCr=function(e,t){if(e=Math.round(e),(t=Math.round(t))>e||e<0||t<0)return 0;if(t===1/0||e===1/0)return NaN;for(var r=1,n=0;n<t;n++)r*=(e-n)/(n+1);return r},p.nPr=function(e,t){if(e=Math.round(e),(t=Math.round(t))>e||e<0||t<0)return 0;if(t===1/0||e===1/0)return NaN;for(var r=1,n=0;n<t;n++)r*=e-n;return r},p.factorial=function(e){return p.gamma(e+1)},p.gamma=function(e){if(e<0)return Math.PI/(p.sin(Math.PI*e)*p.gamma(1-e));if(e>170)return 1/0;var t,r=Math.round(e)===e;return t=e<15?f(e):e<120?h(e):Math.exp(d(e)),r?Math.round(t):t};var f=function(e){var t=1+e*(4.077131788261185+e*(7.024675027156382+e*(6.657107767450176+e*(3.766266976716022+e*(1.2792371666711133+e*(.24304596436338005+.020049769312165774*e)))))),r=1+e*(4.154347453162709+e*(7.270007565107539+e*(6.97805297331391+e*(3.989651532924167+e*(1.367176195613119+e*(.26175627691546965+.021742722739397567*e))))));return Math.E*Math.pow((1+e)/Math.E,1+e)/(e*Math.sqrt(1+e))*(t/r)},h=function(e){var t=e-1;return Math.pow(t,t)*Math.exp(g(t)-t)*Math.sqrt(2*Math.PI*t)},d=function(e){var t=e-1;return t*(Math.log(t)-1)+.5*Math.log(2*Math.PI*t)+g(t)};p.lnGamma=function(e){return e<0?NaN:e<15?Math.log(f(e)):d(e)},p.bernoulliTable=[1/6,-1/30,1/42,-1/30,5/66,-691/2730,7/6,-3617/510,43867/798,-174611/330,854513/138,-236364091/2730,8553103/6,-23749461029/870],p.cotDerivative=function(e,t){if(e!==Math.floor(e))return NaN;if(e<0)return NaN;if(0===e)return 1/p.tan(t);var r=p.sin(t);if(1===e)return-1/(r*r);var n=p.cos(t);if(2===e)return 2*n/(r*r*r);var i,a,o,s,u,c=[0,2];for(a=3;a<=e;a++){for(i=[],o=0;o<a;o++)s=0,u=0,o>0&&(s=(a-o+1)*c[o-1]),o+2<a&&(u=(o+1)*c[o+1]),i.push(-(s+u));c=i}var l=0;for(o=e-1;o>=0;o--)l=i[o]+n*l;return l/Math.pow(r,e+1)},p.polyGamma=function(e,t){if(e<0)return NaN;if(e!==Math.floor(e))return NaN;var r=e%2==0?-1:1;if(t<0)return-r*p.polyGamma(e,1-t)-Math.pow(Math.PI,e+1)*p.cotDerivative(e,Math.PI*t);for(var n=p.factorial(e),i=0,a=Math.pow(t,-(e+1));t<10;)i+=a,t++,a=Math.pow(t,-(e+1));i+=0===e?-Math.log(t):a*t/e,i+=.5*a;for(var o=p.bernoulliTable,s=e+1,u=2,c=a*t*s/u,l=1/(t*t),f=1;f<=14;f++)c*=l,i+=c*o[f-1],s++,u++,c*=s/u,s++,u++,c*=s/u;return n*r*i},p.toFraction=u,p.log=function(e){var t=Math.log(e);return Math.exp(Math.round(t))===e?Math.round(t):t},p.log_base=function(e,t){if(0===t)return NaN;var r=Math.log(e)/Math.log(t);return Math.pow(t,Math.round(r))===e?Math.round(r):r},p.common_log=function(e){return p.log_base(e,10)},p.pow=function(e,t){if(!isFinite(e)&&0===t)return NaN;if(e>=0||t===Math.floor(t))return Math.pow(e,t);var r=p.toFraction(t,100);return o.approx(r.n/r.d,t,2)&&r.d%2==1?(r.n%2==0?1:-1)*Math.pow(-e,t):NaN},p.nthroot=function(e,t){return p.pow(e,1/t)};var m=1/Math.PI;p.sin=function(e){return r(Math.abs(e))?0:Math.sin(e)},p.cos=function(e){return n(Math.abs(e))?0:Math.cos(e)},p.tan=function(e){var t=Math.abs(e);return r(t)?0:n(t)?1/0:Math.tan(e)},p.sec=function(e){return n(Math.abs(e))?1/0:1/Math.cos(e)},p.csc=function(e){return r(Math.abs(e))?1/0:1/Math.sin(e)},p.cot=function(e){var t=Math.abs(e);return r(t)?1/0:n(t)?0:1/Math.tan(e)},p.acot=function(e){return Math.PI/2-Math.atan(e)},p.acsc=function(e){return Math.asin(1/e)},p.asec=function(e){return Math.acos(1/e)},p.sech=function(e){return 1/p.cosh(e)},p.csch=function(e){return 1/p.sinh(e)},p.coth=function(e){return 1/p.tanh(e)},p.asech=function(e){return p.acosh(1/e)},p.acsch=function(e){return p.asinh(1/e)},p.acoth=function(e){return p.atanh(1/e)},p.mean=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t/e.length},p.total=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t};var y=function(e){return e>50?Math.exp(.5*((1-e)*a.log1p(-1/(e-1))-1)+g(.5*(e-1))-g(.5*(e-2)))*Math.sqrt((1-1/e)/(2*Math.PI)):p.gamma((e+1)/2)/(p.gamma(e/2)*Math.sqrt(e*Math.PI))},g=function(e){var t=e*e;return(.08333333333333333-(.002777777777777778-(.0007936507936507937-(.0005952380952380953-.0008417508417508417/t)/t)/t)/t)/e};p.tpdf=function(e,t){return t<=0?NaN:y(t)*Math.pow(1+e*e/t,-(t+1)/2)};var v=function(e,t){if(t>0)return 1-v(e,-t);if(t===-1/0)return 0;var r=Math.sqrt(2*e/(e+1));if(Math.abs(t/r)<.001)return.5*(1+Math.sqrt(Math.PI)*y(e)*r*p.erf(t/r));if(t/e<-1e3){var n=t*t;return y(e)*Math.pow(e,.5*(e-1))*Math.pow(Math.abs(t),-e)*(1-e*e*(e+1)*(1/(2+e)+e*(e+3)/(4*(4+e)*n))/(2*n))}var i=Math.sqrt(t*t+e);return b((t+i)/(2*i),e/2,e/2)};p.tcdf=function(e,t,r){return r<=0?NaN:e===-1/0?v(r,t):e>0&&t>0?v(r,-e)-v(r,-t):v(r,t)-v(r,e)};var b=function(e,t,r){if(e<0||e>1)throw new RangeError("First argument must be between 0 and 1.");if(1===t&&1===r)return e;if(0===e)return 0;if(1===e)return 1;if(0===t)return 1;if(0===r)return 0;var n=Math.exp(p.lnGamma(t+r)-p.lnGamma(t)-p.lnGamma(r)+t*Math.log(e)+r*a.log1p(-e));return e<(t+1)/(t+r+2)?n*x(e,t,r)/t:1-n*x(1-e,r,t)/r},x=function(e,t,r){var n,i,a,o,s,u,c,l,p,f=1;for(c=t+r,p=t+1,l=t-1,a=1,o=1-c*e/p,Math.abs(o)<1e-30&&(o=1e-30),o=1/o,u=o;f<=100&&(n=2*f,i=f*(r-f)*e/((l+n)*(t+n)),o=1+i*o,Math.abs(o)<1e-30&&(o=1e-30),a=1+i/a,Math.abs(a)<1e-30&&(a=1e-30),o=1/o,u*=o*a,i=-(t+f)*(c+f)*e/((t+n)*(p+n)),o=1+i*o,Math.abs(o)<1e-30&&(o=1e-30),a=1+i/a,Math.abs(a)<1e-30&&(a=1e-30),o=1/o,s=o*a,u*=s,!(Math.abs(s-1)<3e-7));f++);return u},_=function(e,t,r){return(e-t)/(Math.SQRT2*Math.abs(r))},S=function(e){return e<0?.5*Math.exp(-e*e)*p.erfcx(-e):1-.5*Math.exp(-e*e)*p.erfcx(e)};p.normalcdf=function(e,t,r,n){var i=_(t,r,n);if(e===-1/0)return S(i);var a=_(e,r,n);return e>0&&t>0?S(-a)-S(-i):S(i)-S(a)},p.normalpdf=function(e,t,r){return 1/Math.sqrt(2*Math.PI*r*r)*Math.exp(-(e-t)*(e-t)/(2*r*r))},p.random=function(e){var t=l(e);return(4294967296*(2097151&parseInt(t.slice(0,8),16))+parseInt(t.slice(8,16),16))/9007199254740992},p.uniformSample=function(e,t,r){return p.random(e)*(r-t)+t},p.normalSample=function(e,t,r){var n,i,a,o,s=0;do{n=e+"::sc"+s,s+=1,i=2*p.uniformSample(n,0,1)-1,n=e+"::sc"+s,s+=1,a=2*p.uniformSample(n,0,1)-1,o=i*i+a*a}while(o>=1||0===o);return t+r*i*Math.sqrt(-2*Math.log(o)/o)},p.tSample=function(e,t){if(t<=0)return NaN;var r,n,i,a,o=0;do{r=e+"::sc"+o,o+=1,n=2*p.uniformSample(r,0,1)-1,r=e+"::sc"+o,o+=1,i=2*p.uniformSample(r,0,1)-1,a=n*n+i*i}while(a>1);var s=n*n/a,u=t*(Math.pow(a,-2/t)-1);return r=e+"::sc"+o,o+=1,(p.uniformSample(r,0,1)<.5?-1:1)*Math.sqrt(s*u)},p.binomSample=function(e,r,n){return(r=t(Math.round(r),0,1/0))===1/0?NaN:(n=t(n,0,1),p.invBinom(p.uniformSample(e,0,1),r,n))},p.poissonSample=function(e,t){return t<=0?NaN:p.invPoisson(p.uniformSample(e,0,1),t)};var M=function(e,t,r){if(e>=t)return 1;if(e<0)return 0;for(var n=r/(1-r),i=Math.pow(1-r,t),a=i,o=1;o<=Math.min(t,e);o++)i*=(t-o+1)/o*n,a+=i;return a};p.binomcdf=function(e,r,n,i){return(n=t(Math.round(n),0,1/0))===1/0?NaN:(i=t(i,0,1),r<0?0:(e=Math.ceil(e),r=Math.floor(r),e===-1/0?M(r,n,i):M(r,n,i)-M(e-1,n,i)))},p.binompdf=function(e,r,n){return e=Math.round(e),(r=t(Math.round(r),0,1/0))===1/0?NaN:(n=t(n,0,1),e<0||e>r?0:p.nCr(r,e)*Math.pow(n,e)*Math.pow(1-n,r-e))},p.poissonpdf=function(e,t){return t<=0?NaN:(e=Math.round(e),e<0?0:Math.exp(-t+e*Math.log(t)-p.lnGamma(e+1)))};var E=function(e,t){if(e===1/0)return 1;if(e<0)return 0;for(var r=1,n=1,i=1;i<=e;i++){r*=t/i;var a=n;if((n+=r)===a)break}return Math.exp(-t)*n};p.poissoncdf=function(e,t,r){return r<=0?NaN:(e=Math.ceil(e),t=Math.floor(t),t<0?0:e===-1/0?E(t,r):E(t,r)-E(e-1,r))},p.uniformpdf=function(e,t,r){return r<=t?NaN:e<t||e>r?0:1/(r-t)};var D=function(e,t,r){return r<=t?NaN:e<t?0:e>r?1:(e-t)/(r-t)};p.uniformcdf=function(e,t,r,n){return D(t,r,n)-D(e,r,n)},p.erf=function(e){var t=-e*e;if(t<-750)return e>=0?1:-1;if(e>=.065)return 1-Math.exp(t)*p.erfcx(e);if(e<=-.065)return Math.exp(t)*p.erfcx(-e)-1;return e*(1.1283791670955126+t*(.37612638903183754+t*(.11283791670955126+t*(.026866170645131252+.005223977625442188*t))))},p.erfcx=function(e){if(e<0)return e<-6.1?2*Math.exp(e*e):2*Math.exp(e*e)-p.erfcx(-e);if(e>50){var t=.5641895835477563,r=e*e;return e>5e7?t/e:t*(r*(r+4.5)+2)/(e*(r*(r+5)+3.75))}return(.9999999999999999+e*(2.224574423459406+e*(2.444115549920689+e*(1.7057986861852539+e*(.8257463703357973+e*(.28647031042892007+e*(.07124513844341643+e*(.012296749268608364+e*(.001347817214557592+7263959403471071e-20*e)))))))))/(1+e*(3.352953590554884+e*(5.227518529742423+e*(5.003720878235473+e*(3.266590890998987+e*(1.5255421920765353+e*(.5185887413188858+e*(.12747319185915415+e*(.02185979575963238+e*(.0023889438122503674+.00012875032817508128*e))))))))))},p.invNorm=function(e){var t,r,n;return e>.5?-p.invNorm(1-e):.5===e?0:e<0?NaN:0===e?-1/0:(e<.02425?(t=Math.sqrt(-2*Math.log(e)),n=(((((-.00778489400243029*t-.322396458041136)*t-2.40075827716184)*t-2.54973253934373)*t+4.37466414146497)*t+2.93816398269878)/((((.00778469570904146*t+.32246712907004)*t+2.445134137143)*t+3.75440866190742)*t+1)):(t=e-.5,r=t*t,n=(((((-39.6968302866538*r+220.946098424521)*r-275.928510446969)*r+138.357751867269)*r-30.6647980661472)*r+2.50662827745924)*t/(((((-54.4760987982241*r+161.585836858041)*r-155.698979859887)*r+66.8013118877197)*r-13.2806815528857)*r+1)),n-Math.sqrt(2*Math.PI)*(.5*p.erfcx(-n/Math.SQRT2)-Math.exp(.5*n*n)*e))},p.invPoisson=function(e,t){if(t<=0||e<0||e>1)return NaN;if(0===e)return 0;if(1===e)return 1/0;for(var r=1,n=1,i=1;Math.exp(-t)*n<e;){if(r*=t/i,n+r===n)return 1/0;n+=r,i+=1}return i-1},p.invBinom=function(e,t,r){if(t!==Math.round(t))return NaN;if(r<0||r>1)return NaN;if(e<0||e>1)return NaN;if(0===e)return 0;if(1===e)return t;if(0===t)return 0;if(1===r)return t;if(0===r)return 0;for(var n=r/(1-r),i=Math.pow(1-r,t),a=i,o=1;a<e;){if(i*=(t-o+1)/o*n,a+i===a)return t;if(o>t)return t;a+=i,o+=1}return o-1},p.invT=function(e,t){if(t<=0||e<0||e>1)return NaN;if(0===e)return-1/0;if(1===e)return 1/0;if(1===t||2===t||4===t)return w(t,e);var r,n;return.5===e?0:e>.5?(r=t>1?p.invNorm(e):w(1,e),n=t>1?w(1,e):Math.pow(p.tpdf(0,t)*Math.pow(t,(t-1)/2)/(1-e),1/t),T(t,e,r,n)):-p.invT(1-e,t)};var w=function(e,t){var r=4*t*(1-t);switch(e){case 1:return Math.tan(Math.PI*(t-.5));case 2:return 2*(t-.5)*Math.sqrt(2/r);case 4:var n=Math.cos(Math.acos(Math.sqrt(r))/3)/Math.sqrt(r);return 2*Math.sign(t-.5)*Math.sqrt(n-1);default:throw new Error("_invTSimple() must be called with 1, 2, or 4 df.")}},T=function(e,t,r,n){for(var i,a,o=r,s=n;;){if(i=c(o,s),a=v(e,i),i===o||i===s)return a>t?o:s;a<t?o=i:s=i}};return p.invUniform=function(e,t,r){return e<0||e>1||r<=t?NaN:0===e?t:1===e?r:t+e*(r-t)},p.tscore=function(e,t){var r=p.stdev(e);return(p.mean(e)-t)*Math.sqrt(e.length)/r},p.itscore=function(e,t){var r=e.length,n=p.mean(e),i=p.stdev(e),a=t.length,o=p.mean(t),s=p.stdev(t);return(n-o)/(Math.sqrt(((r-1)*i*i+(a-1)*s*s)/(r+a-2))*Math.sqrt(1/r+1/a))},p.ttest=function(e,t){1===arguments.length&&(t=0);var r=p.tscore(e,t),n=e.length-1;return{lessThan:i(r,n,-1),greaterThan:i(r,n,1),notEqual:i(r,n,0)}},p.ittest=function(e,t){var r=p.itscore(e,t),n=e.length+t.length-2;return{lessThan:i(r,n,-1),greaterThan:i(r,n,1),notEqual:i(r,n,0)}},p.stats=function(e){return{min:p.listMin(e),q1:p.quartile(e,1),median:p.median(e),q3:p.quartile(e,3),max:p.listMax(e)}},p.length=function(e){return e.length},p.listMin=function(e){if(e.length<1)return NaN;var t=e[0];if(isNaN(t))return NaN;for(var r=1;r<e.length;r++){if(isNaN(e[r]))return NaN;e[r]<t&&(t=e[r])}return t},p.listMax=function(e){if(e.length<1)return NaN;var t=e[0];if(isNaN(t))return NaN;for(var r=1;r<e.length;r++){if(isNaN(e[r]))return NaN;e[r]>=t&&(t=e[r])}return t},p.quantile=function(e,t){if(!isFinite(t)||t<0||t>1)return NaN;if(e.some(isNaN))return NaN;var r=e.length,n=p.sortPerm(e),i=t*(r-1);return Math.floor(i)===i?e[n[i]]:(Math.ceil(i)-i)*e[n[Math.floor(i)]]+(i-Math.floor(i))*e[n[Math.ceil(i)]]},p.quartile=function(e,t){if(!isFinite(t)||t<0||t>4)return NaN;if(e.some(isNaN))return NaN;var r=p.sortPerm(e),n=p.quartileIndex(e,t),i=Math.floor(n),a=Math.ceil(n);return(e[r[i]]+e[r[a]])/2},p.sortPerm=function(e){for(var t=e.length,r=[],n=0;n<t;n++)r.push(n);return r.sort(function(t,r){return e[t]-e[r]}),r},p.quartileIndex=function(e,t){t=Math.round(t);var r,n=e.length,i=n%2==1;return 1===n?0:(0===t&&(r=0),2===t&&(r=(n-1)/2),4===t&&(r=n-1),1===t&&(r=i?(n+1)/4-1:(n+2)/4-1),3===t&&(r=i?(3*n+3)/4-1:(3*n+2)/4-1),r)},p.upperQuantileIndex=function(e,t){return p.sortPerm(e)[Math.ceil(t*(e.length-1))]+1},p.lowerQuantileIndex=function(e,t){return p.sortPerm(e)[Math.floor(t*(e.length-1))]+1},p.upperQuartileIndex=function(e,t){return p.sortPerm(e)[Math.ceil(p.quartileIndex(e,t))]+1},p.lowerQuartileIndex=function(e,t){return p.sortPerm(e)[Math.floor(p.quartileIndex(e,t))]+1},p.median=function(e){return p.quantile(e,.5)},p.argMin=function(e){if(e.length<1)return 0;var t=e[0];if(isNaN(t))return 0;for(var r=0,n=1;n<e.length;n++){if(isNaN(e[n]))return 0;e[n]<t&&(r=n,t=e[n])}return r+1},p.argMax=function(e){if(e.length<1)return 0;var t=e[0];if(isNaN(t))return 0;for(var r=0,n=1;n<e.length;n++)if(e[n]>=t){if(isNaN(e[n]))return 0;r=n,t=e[n]}return r+1},p.varp=function(e){for(var t=p.mean(e),r=0,n=0;n<e.length;n++){var i=e[n]-t;r+=i*i}return r/e.length},p.mad=function(e){for(var t=p.mean(e),r=0,n=0;n<e.length;n++)r+=Math.abs(e[n]-t);return r/e.length},p.var=function(e){var t=e.length;return p.varp(e)*t/(t-1)},p.covp=function(e,t){if(e.length!==t.length)return NaN;for(var r=e.length,n=p.mean(e),i=p.mean(t),a=0,o=0;o<r;o++)a+=(e[o]-n)*(t[o]-i);return a/r},p.cov=function(e,t){if(e.length!==t.length)return NaN;var r=e.length;return p.covp(e,t)*r/(r-1)},p.corr=function(e,t){if(e.length!==t.length)return NaN;for(var r,n,i=e.length,a=p.mean(e),o=p.mean(t),s=0,u=0,c=0,l=0;l<i;l++)r=e[l]-a,n=t[l]-o,s+=r*r,u+=n*n,c+=r*n;return c/Math.sqrt(s*u)},p.rank=function(e){var t=e.length;if(0===t)return[];for(var r=[],n=[],i=0;i<t;i++)n.push([e[i],i]);n.sort(function(e,t){var r=e[0],n=t[0];return r===1/0&&n===1/0||r===-1/0&&n===-1/0?0:r-n}),i=0;for(var a,o=1,s=1;i<t;){for(a=i;a<t-1&&n[a][0]===n[a+1][0];)a+=1;s=a-i+1;var u;for(a=0;a<s;a++)u=n[i+a][1],r[u]=isNaN(e[u])?NaN:o+.5*(s-1);o+=s,i+=s}return r},p.spearman=function(e,t){return p.corr(p.rank(e),p.rank(t))},p.stdev=function(e){return Math.sqrt(p.var(e))},p.stdevp=function(e){return Math.sqrt(p.varp(e))},p.quad=s.quad,p.distance=function(e,t){return o.hypot(t[0]-e[0],t[1]-e[1])},p.midpoint=function(e,t){return[.5*(e[0]+t[0]),.5*(e[1]+t[1])]},p}),define("core/math/functions",["require","exports","core/math/builtin"],function(e,t,r){"use strict";function n(e){for(var t=0,r=e;t<r.length;t++){var n=r[t].compiled;n&&a(n)}}function i(e){for(var t=0,r=e;t<r.length;t++){var n=r[t].compiled;n&&o(n)}}function a(e){delete e.fn}function o(e){e.fn=u(e.args,e.source)}function s(e,t){for(var r=[],n=0;n<t;n++)r.push("values["+n+"]");return u(["values"],"return "+e(r))}function u(e,t){var n=e.join(","),i="return (function("+n+'){"use strict"; '+t+"})";return new Function("BuiltIn",i)(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.dehydrateGraphData=n,t.rehydrateGraphData=i,t.dehydrateCompiledFunction=a,t.rehydrateCompiledFunction=o,t.createEvaluateFunction=s,t.closureFunctionWithBuiltIn=u}),define("core/math/parser/input-span",["require","exports"],function(e,t){"use strict";function r(e,t,r){return{input:e,start:t,end:r}}function n(e,t){return r(e,t,t)}function i(e,t){if(e.input!==t.input)throw new Error("Programming Error: cannot form a span on different inputs");return r(e.input,e.start,t.end)}function a(e){return e.input.slice(e.start,e.end)}Object.defineProperty(t,"__esModule",{value:!0}),t.Span=r,t.emptySpanAt=n,t.joinSpans=i,t.slice=a}),define("core/math/policy",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf"];t.defaultPolicy={assignmentForbidden:function(e){return!0},graphingEnabled:function(){return!1},isValidSlider:function(e){return!1},sliderVariables:function(e){return[]},ansEnabled:function(){return!1},disabledFeatures:function(){return r}}}),define("core/math/parsenode/base",["require","pjs","core/math/functions","core/math/parser/input-span","core/math/policy"],function(e){"use strict";var t=e("pjs"),r=e("core/math/functions"),n=e("core/math/parser/input-span"),i=e("core/math/policy").defaultPolicy;return t(function(e,t,a){e.init=function(){this._dependencies=[],this._dummyDependencies=[],this._exports=[]},e.exportPenalty=0;var o=0;e.tmpVar=function(){return"tmp"+o++},e.dependencies=function(){return this.getDependencies()},e.evaluateOnce=function(e){void 0===e&&(e={});var t=this.getConcreteTree(i,e),r=t.getEvaluationInfo();return r?r[0].val:NaN},e.setInputSpan=function(e){this._inputSpan=e},e.getInputString=function(){return void 0===this._inputSpan?"":n.slice(this._inputSpan)},e.getInputSpan=function(){return this._inputSpan},e.shouldExportAns=function(){return!1},e.getAnsVariable=function(){return this.shouldExportAns()&&this.userData&&this.userData.hasOwnProperty("index")?["ans_"+this.userData.index]:[]},e.addDependency=function(e){this.dependsOn(e)||this._dependencies.push(e)},e.addDependencies=function(e){for(var t=0;t<e.length;t++)this.addDependency(e[t])},e.addDummyDependency=function(e){-1===this._dummyDependencies.indexOf(e)&&this._dummyDependencies.push(e)},e.addDummyDependencies=function(e){for(var t=0;t<e.length;t++)this.addDummyDependency(e[t])},e.mergeDependencies=function(){for(var e=0;e<arguments.length;e++)this.addDependencies(arguments[e].getDependencies()),this.addDummyDependencies(arguments[e].getDummyDependencies())},e.getDependencies=function(){return this._dependencies},e.getDummyDependencies=function(){return this._dummyDependencies},e.removeDependency=function(e){var t=this._dependencies.indexOf(e);t>=0&&this._dependencies.splice(t,1)},e.dependsOn=function(e){return this._dependencies.indexOf(e)>-1},e.getExports=function(){return(this._exports||[]).concat(this.getAnsVariable())},e.getLegalExports=function(e){return this.getExports().filter(function(t){return!e.assignmentForbidden(t)})},e.exportsSymbol=function(e){return this._exports.indexOf(e)>-1},e.exportTo=function(e,t,r){for(var n=this.getLegalExports(e),i=0;i<n.length;i++){var a=n[i];if(r[a])return;r[a]=t.blocksExport?t:this}},e.getOperator=function(){return this.operator||"="},e.isInequality=function(){return!1},e.isShadeBetween=function(){return!1},e.getAllIds=function(){return this.userData?[this.userData.id]:[]},e.getEvaluationInfo=function(){return!1},e.shouldPromoteToSlider=function(e){return!1},e.getSliderVariables=function(e,t){return e.sliderVariables(t.getDependencies())},e.getCompiledFunction=function(e){var t=this.getEvalStrings(),n=t.statements.join(";")+";return "+t.expression;if(void 0===e){e=this.getDependencies();var i=e.indexOf("x");if(-1!==i){var a=e[0];e[0]=e[i],e[i]=a}}return{args:e,source:n,fn:r.closureFunctionWithBuiltIn(e,n)}},e.getCompiledDerivative=function(){var e=this.getDependencies();return this.takeDerivative(e[0]||"x").getCompiledFunction()},e.asValue=function(){}})}),define("core/math/parsenode/error",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t){e.init=function(e){t.init.call(this),this._msg=e,this._sliderVariables=[],this.blocksExport=!0},e.evaluateOnce=function(e){return this._msg},e.isError=!0,e.getError=function(){return this._msg},e.setDependencies=function(e){return this._dependencies=e,this},e.allowExport=function(){return this.blocksExport=!1,this}})}),define("core/lib/label",["require","exports","underscore","core/math/distance","core/math/tofraction"],function(e,t,r,n,i){"use strict";function a(e,t){if(void 0===t&&(t=e),isNaN(e)||!isFinite(e))return{ariaString:"undefined",string:"undefined",value:e};if(0===e)return{ariaString:"0",string:"0",value:e};Math.abs(e)>Math.abs(t)&&(t=e);var r,a,o,s=i.default(e/Math.PI,24);if(h(t)&&n.approx(s.n/s.d*Math.PI,e,3))return r=0===s.n?"0":1===s.n?"\u03C0":-1===s.n?"-\u03C0":s.n.toString()+"\u03C0",a=1===s.d?"":"/"+s.d.toString(),o=r+a,{ariaString:u(o),string:o,value:s.n/s.d*Math.PI};if(h(t))return o=f(l(e.toFixed(d(t)))),{ariaString:u(o),string:o,value:parseFloat(o)};var c=p(e.toExponential(d(t/e))).split("e"),m=c[0]+"\xD710",y=c[1].replace("+","");return o=p(e.toExponential(d(t/e))).replace("+",""),{ariaString:u(o),string:o,mantissa:m,superscript:y,value:parseFloat(o)}}function o(e){return T["["+e+"]"]}function s(e){return e[0]+e.slice(1).split("").join(" ")}function u(e){return e.replace(I,s).replace(P,o).replace(/ +/gi," ").trim()}function c(e,t,r,n){var i=a(e,t);return[i,a(n(i.value),r)]}function l(e){return-1===e.indexOf(".")?e:e.replace(C,"")}function p(e){var t=/\\.?0+e/;return e.replace(t,"e")}function f(e){return"-0"===e?"0":e}function h(e){return 1e-4<(e=Math.abs(e))&&e<1e7}function d(e){return e=Math.abs(e),e=Math.max(e,1e-16),Math.max(3,Math.floor(4.5-Math.log(e)/Math.LN10))}function m(e){return 1e6/Math.sqrt(Math.abs(e))}function y(e){var t=m(e);if(t<1)return!1;if(t>1e12)return!1;var r=i.default(e,t),n=r.n,a=r.d;return 1!==a&&e===e+Math.pow(2,-3)*Math.abs(n/a-e)}function g(e,t){if(t=t||{},isNaN(e)||!isFinite(e))return{type:"undefined"};if(0===e||t.zeroCutoff&&Math.abs(e)<t.zeroCutoff)return{type:"decimal",value:"0"};var r=t.smallCutoff||.001,n=t.bigCutoff||1e6,a=t.digits||10,o=p(e.toExponential(a-2)),s=o.match(/([\\d\\.\\-]+)e\\+?([\\d\\-]+)/);if(!s)return{type:"undefined"};var u=parseInt(s[2],10)>=a,c=y(e);if(Math.abs(e)>n||Math.abs(e)<r||u)return{type:"scientific",mantissa:s[1],exponent:s[2]};if(c&&t.displayAsFraction){var f=i.default(e,m(e));return{type:"fraction",numerator:f.n.toString(),denominator:f.d.toString()}}var h=l(e.toPrecision(a));return e!==Number(h)&&t.addEllipses&&(h+="..."),{type:"decimal",value:h}}function v(e,t){var r=g(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+"<span class='dcg-cross'>\xD7</span>10<sup>"+r.exponent+"</sup>";case"fraction":return"1"===r.denominator?r.numerator:r.numerator+"/"+r.denominator;default:return r}}function b(e,t){var r=g(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+" * 10^"+r.exponent;case"fraction":return"1"===r.denominator?r.numerator:r.numerator+"/"+r.denominator;default:return r}}function x(e,t){var r=g(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+"\\\\times10^{"+r.exponent+"}";case"fraction":return"1"===r.denominator?r.numerator:"-"===r.numerator[0]?"-\\\\frac{"+r.numerator.slice(1)+"}{"+r.denominator+"}":"\\\\frac{"+r.numerator+"}{"+r.denominator+"}";default:return r}}function _(e,t){var r=g(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return u(r.value);case"scientific":return u(r.mantissa+"e"+r.exponent);case"fraction":return u(r.numerator+"/"+r.denominator);default:return r}}function S(e){e=e.replace("\\\\","");var t={pi:"\u03C0",tau:"\u03C4",theta:"\u03B8",phi:"\u03D5",div:"\xF7",cdot:"\u22C5",times:"\xD7",lt:"<",gt:">",le:"\u2264",ge:"\u2265",sim:"\u223C",ldots:"\u2026",prime:"\u2032",approx:"\u2248"};return t.hasOwnProperty(e)?t[e]:e}function M(e){var t=e.split("_"),r="";return t[0].length>1&&(r+="\\\\"),r+=t[0],t[1]&&(r+="_{"+t[1]+"}"),r}function E(e){if(!e)return"";var t=e.split("_").map(S).map(r.escape),n=t[0];return t[1]&&(n+="<sub>"+t[1]+"</sub>"),n}function D(e){return e=e.replace(/\\\\operatorname\\{(.*)\\}/,"$1"),e.replace(/[{}\\\\]/g,"")}function w(e){return e.replace(/^(\\\\ | |\\\\space)+/,"").replace(/(\\\\ | |\\\\space)+$/,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.value=a;var T={"[e]":" times 10 to the ","[+]":" plus ","[-]":" minus ","[*]":" times ","[/]":" over ","[\u03C0]":" pi ","[\u03C4]":" tau ","[\u03B8]":" theta ","[\u03D5]":" phi "},P=new RegExp(Object.keys(T).join("|"),"gi"),I=/\\.\\d+/g;t.point=c;var C=/\\.?0+$/;t.canDisplayAsFraction=y,t.numericLabel=g,t.truncatedHTMLLabel=v,t.truncatedPlainmathLabel=b,t.truncatedLatexLabel=x,t.truncatedAriaLabel=_,t.formatSymbol=S,t.identifierToLatex=M,t.identifierToHTML=E,t.latexToIdentifier=D,t.trimLatex=w}),define("core/math/types",["require","core/lib/worker-i18n"],function(e){"use strict";function t(e){switch(e){case u:return"Any";case c:return"Number";case l:return"Bool";case p:return"Point";case f:return"Distribution";case h:return"ListOfAny";case d:return"ListOfNumber";case m:return"ListOfBool";case y:return"ListOfPoint";case g:return"ListOfDistribution";case v:return"ErrorType";case b:return"SeedType";default:throw new Error("Invalid type")}}function r(e){switch(e){case u:return s.t("an unknown object");case c:return s.t("a number");case l:return s.t("a true/false value");case p:return s.t("a point");case f:return s.t("a distribution");case h:return s.t("a list of unknown objects");case d:return s.t("a list of numbers");case m:return s.t("a list of true/false values");case y:return s.t("a list of points");case g:return s.t("a list of distributions");case v:return s.t("an error object");case b:return s.t("a string");default:throw new Error("Invalid type")}}function n(e){switch(e){case h:case d:case m:case y:case g:return!0;default:return!1}}function i(e){switch(e){case h:return u;case d:return c;case m:return l;case y:return p;case g:return f;default:return u}}function a(e){switch(e){case u:return h;case c:return d;case l:return m;case p:return y;case f:return g;default:throw new Error("Type "+t(e)+" does not implement listType.")}}function o(e){switch(e){case u:case c:case l:case p:case f:return!0;default:return!1}}var s=e("core/lib/worker-i18n"),u=0,c=1,l=2,p=3,f=4,h=5,d=6,m=7,y=8,g=9,v=10,b=11;return{Any:u,Number:c,Bool:l,Point:p,Distribution:f,ListOfAny:h,ListOfNumber:d,ListOfBool:m,ListOfPoint:y,ListOfDistribution:g,ErrorType:v,SeedType:b,repr:t,prettyPrint:r,isList:n,elementType:i,listType:a,hasListType:o}}),define("core/math/errormsg",["require","core/lib/worker-i18n","core/math/parsenode/error","core/lib/label","core/math/types"],function(e){"use strict";var t=e("core/lib/worker-i18n"),r=e("core/math/parsenode/error"),n=e("core/lib/label"),i=e("core/math/types");return{parseError:function(){return r(t.t("Sorry, I don't understand this."))},unrecognizedSymbol:function(e){return e=n.formatSymbol(e),r(t.t("Sorry, I don't understand the '__symbol__' symbol.",{symbol:e}))},unexpectedInequality:function(){return r(t.t("Cannot use an inequality here."))},unexpectedSymbol:function(e){return e=n.formatSymbol(e),r(t.t("Sorry, I don't understand the way that '__symbol__' is used here.",{symbol:e}))},addTypeError:function(e){return r(t.t("Cannot add __symbol1__ and __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},subtractTypeError:function(e){return r(t.t("Cannot subtract __symbol2__ from __symbol1__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},multiplyTypeError:function(e){return r(t.t("Cannot multiply __symbol1__ by __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},divideTypeError:function(e){return r(t.t("Cannot divide __symbol1__ by __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},exponentTypeError:function(e){return r(t.t("Cannot raise __symbol1__ to __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},negativeTypeError:function(e){return r(t.t("Cannot negate __symbol__.",{symbol:e[0]})).allowExport()},comparatorTypeError:function(e){return r(t.t("Cannot compare __symbol1__ to __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},andTypeError:function(e){return r(t.t("Cannot apply __symbol__ to __symbol1__ and __symbol2__.",{symbol:"and",symbol1:e[0],symbol2:e[1]})).allowExport()},listTypeError:function(e){return r(t.t("Cannot store __symbol1__ in a list.",{symbol1:e[0]})).allowExport()},pointTypeError:function(e){return r(t.t("Cannot use __symbol1__ as a coordinate of __symbol2__.",{symbol1:e,symbol2:i.prettyPrint(i.Point)})).allowExport()},indexTypeError:function(e){return r(t.t("Cannot index __symbol1__ with __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},orderedPairAccessTypeError:function(e){return r(t.t("Cannot access a coordinate of __symbol__.",{symbol:e[0]})).allowExport()},functionTypeError:function(e,i){switch(i.length){case 1:return r(t.t("Function '__fn__' cannot be applied to __arg__.",{fn:n.formatSymbol(e),arg:i[0]})).allowExport();case 2:return r(t.t("Function '__fn__' cannot be applied to __arg1__ and __arg2__.",{fn:n.formatSymbol(e),arg1:i[0],arg2:i[1]})).allowExport();default:return r(t.t("Function '__fn__' cannot be applied to these arguments.",{fn:n.formatSymbol(e)})).allowExport()}},illegalDotCall:function(e){return r(t.t("Function '__symbol__' cannot be called with dot notation.",{symbol:n.formatSymbol(e)}))},dotLHSTypeError:function(e,i){return r(t.t("Cannot call '__symbol__' on __type__.",{symbol:n.formatSymbol(e),type:i}))},sumLowerBoundTypeError:function(e){return r(t.t("Lower bound of a sum cannot be __symbol__.",{symbol:e[0]})).allowExport()},sumUpperBoundTypeError:function(e){return r(t.t("Upper bound of a sum cannot be __symbol__.",{symbol:e[0]})).allowExport()},sumInfiniteBoundError:function(){return r(t.t("Summation bounds must be finite numbers."))},sumArgumentTypeError:function(e){return r(t.t("Cannot take the sum of __symbol__.",{symbol:e[0]})).allowExport()},productLowerBoundTypeError:function(e){return r(t.t("Lower bound of a product cannot be __symbol__.",{symbol:e[0]})).allowExport()},productUpperBoundTypeError:function(e){return r(t.t("Upper bound of a product cannot be __symbol__.",{symbol:e[0]})).allowExport()},productInfiniteBoundError:function(){return r(t.t("Product bounds must be finite numbers."))},productArgumentTypeError:function(e){
return r(t.t("Cannot take the product of __symbol__.",{symbol:e[0]})).allowExport()},integralLowerBoundTypeError:function(e){return r(t.t("Lower bound of an integral cannot be __symbol__.",{symbol:e[0]})).allowExport()},integralUpperBoundTypeError:function(e){return r(t.t("Upper bound of an integral cannot be __symbol__.",{symbol:e[0]})).allowExport()},integralInfiniteBoundError:function(){return r(t.t("Limits of integration must be finite numbers."))},integralArgumentTypeError:function(e){return r(t.t("Cannot take the integral of __symbol__.",{symbol:e[0]})).allowExport()},derivativeTypeError:function(e){return r(t.t("Cannot take the derivative of __symbol__.",{symbol:e[0]})).allowExport()},derivativeVariableTypeError:function(e,i){return r(t.t("Cannot take derivative with respect to '__symbol1__' because it is __symbol2__.",{symbol1:n.formatSymbol(e),symbol2:i[0]}))},piecewiseConditionTypeError:function(e){return r(t.t("The condition in a piecewise expression must be __symbol1__ but was __symbol2__.",{symbol1:i.prettyPrint(i.Bool),symbol2:e[0]})).allowExport()},piecewiseBranchTypeError:function(e){return r(t.t("Cannot use __symbol__ as a branch of a piecewise expression.",{symbol:e[0]})).allowExport()},tableHeaderTypeError:function(e){return r(t.t("Table header cannot be __symbol__.",{symbol:e[0]}))},tableEntryTypeError:function(e){return r(t.t("Table entry cannot be __symbol__.",{symbol:e[0]}))},regressionTypeError:function(e){return r(t.t("Cannot regress __symbol1__ against __symbol2__.",{symbol1:e[0],symbol2:e[1]}))},heterogeneousList:function(){return r(t.t("All elements of a list must have the same type.")).allowExport()},deeplyNested:function(){return r(t.t("Definitions are nested too deeply.")).allowExport()},polygonListTypeError:function(e){return r(t.t("A single argument to polygon should be a point list, not __type__.",{type:e[0]}))},polygonPointArgsError:function(){return r(t.t("Some of your arguments are not points."))},polygonTwoNumbersError:function(){return r(t.t("Cannot make a polygon from two numbers."))},binCenterInvalid:function(){return r(t.t("Invalid bin center. Try using any number."))},boxplotOffsetInvalid:function(){return r(t.t("Invalid offset. Try using any number."))},boxplotBreadthInvalid:function(){return r(t.t("Invalid height. Try using any number."))},tooManyArguments:function(e,n){return r(t.t("'__symbol__' accepts at most __max__ arguments.",{symbol:e,max:n}))},pdfWrongArity:function(){var e=t.t("For example, try typing: D.pdf(x) where D=normaldist()."),n=t.t("'pdf' should be called on a distribution with a number. __recommendation__",{recommendation:e});return r(n)},cdfRequiresArguments:function(){var e=t.t("For example, try typing: D.cdf(x) where D=normaldist()."),n=t.t("'cdf' should be called on a distribution with at least one number. __recommendation__",{recommendation:e});return r(n)},cdfTooManyArguments:function(){var e=t.t("For example, try typing: D.cdf(-1,1) where D=normaldist()."),n=t.t("'cdf' should be called on a distribution with at most two numbers. __recommendation__",{recommendation:e});return r(n)},tdistWrongArity:function(){return r(t.t("'tdist' requires 1 argument. For example, try typing: tdist(1)."))},randomArity:function(){var e=t.t("'random' should be called with no arguments, or an optional number of samples. For example, try random() or random(10).");return r(e)},randomFromBroadcastDistribution:function(){return r(t.t("Cannot sample from a list of distributions"))},wrongArity:function(e,i,a){e=n.formatSymbol(e);var o,s;if(1===i)s=t.t("For example, try typing: __dependency__(x).",{dependency:e}),o=a>1?t.t("Function '__dependency__' requires only 1 argument. __supplement__",{dependency:e,supplement:s}):t.t("Function '__dependency__' requires an argument. __supplement__",{dependency:e,supplement:s});else{for(var u=[],c=0;c<i;c++)u[c]=c+1;var l=n.formatSymbol(e)+"("+u.join(", ")+")";s=t.t("For example, try typing: __recommendation__.",{recommendation:l}),o=t.t("Function '__dependency__' requires __assignment_arity__ arguments. __supplement__",{dependency:e,assignment_arity:i,supplement:s})}return r(o)},wrongParametrizedReducerArity:function(e){return r(t.t("Function '__symbol__' requires 2 arguments. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], 1)"}))},wrongDoubleReducerArity:function(e){return r(t.t("Function '__symbol__' requires 2 arguments. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], [3,2,1])"}))},primedFunctionArity:function(){return r(t.t("Prime notation can only be used for functions of a single argument."))},zeroArgReducer:function(e){return r(t.t("Function '__symbol__' requires at least one argument. For example, try typing: __symbol__(1, 2).",{symbol:n.formatSymbol(e)}))},missingRHS:function(e){return e=n.formatSymbol(e),r(t.t("What do you want '__symbol__' to equal?",{symbol:e}))},malformedPoint:function(){return r(t.t("Points are written like this: (1, 2)."))},badTupleDimensions:function(e){return r(t.t("Points may only have __symbol__ coordinates.",{symbol:e}))},badImplicitCall:function(e){return e=n.formatSymbol(e),r(t.t("Use parentheses around the argument of '__symbol__'.",{symbol:e}))},adjacentNumbers:function(e,n){return r(t.t("Sorry, I don't know what to do with adjacent numbers '__left__' and '__right__'. Try using parentheses or a '*' symbol.",{left:e,right:n}))},identifierAsFunction:function(e){return e=n.formatSymbol(e),r(t.t("'__symbol__' is a function. Try using parentheses.",{symbol:e}))},binaryOperatorMissingOperand:function(e){return e=n.formatSymbol(e),"%"===e&&(e="% of"),r(t.t("You need something on both sides of the '__symbol__' symbol.",{symbol:e}))},unaryOperatorMissingLeft:function(e){return e=n.formatSymbol(e),r(t.t("You need something before the '__symbol__' symbol.",{symbol:e}))},unaryOperatorMissingRight:function(e){return e=n.formatSymbol(e),r(t.t("You need something after the '__symbol__' symbol.",{symbol:e}))},fractionMissingNumerator:function(){return r(t.t("You need a numerator for the top of your fraction."))},fractionMissingDenominator:function(){return r(t.t("You need a denominator for the bottom of your fraction."))},fractionEmpty:function(){return r(t.t("You need a numerator and denominator for your fraction."))},emptySubscript:function(){return r(t.t("Subscripts cannot be empty."))},emptySuperscript:function(){return r(t.t("Superscripts cannot be empty."))},invalidSubscript:function(e){return e=n.formatSymbol(e),r(t.t("Subscripts may only contain letters and digits. '__symbol__' is not allowed.",{symbol:e}))},invalidOperatorName:function(){return r(t.t("Operator names may only contain letters."))},unexpectedSubscript:function(){return r(t.t("Only functions and variables may have subscripts."))},superscriptWithPrime:function(){return r(t.t("Superscripts and primes cannot be combined."))},unexpectedPrime:function(){return r(t.t("Sorry, I don't understand this use of prime notation."))},primeWithoutParen:function(){return r(t.t("Primed function calls must use parentheses."))},emptyRadical:function(){return r(t.t("Radical cannot be empty."))},emptyRadicalIndex:function(){return r(t.t("Radical index cannot be empty."))},emptyParen:function(){return r(t.t("Parentheses cannot be empty."))},emptySquareBracket:function(){return r(t.t("Square brackets cannot be empty."))},emptyPipe:function(){return r(t.t("Absolute value symbol cannot be empty."))},badTrigExponent:function(e){var n=e+"^2",i=e+"^-1";return r(t.t("Only __form1__ and __form2__ are supported. Otherwise, use parens.",{form1:n,form2:i}))},badLogExponent:function(e){var n=e+"^2";return r(t.t("Only __form__ is supported. Otherwise, use parens.",{form:n}))},inequalityChainTooLong:function(){return r(t.t("Cannot chain more than 2 inequalities."))},piecewiseMissingCondition:function(){return r(t.t("A piecewise expression must have at least one condition."))},piecewisePartMissingCondition:function(){return r(t.t("Every part of a piecewise expression must have a condition except the last."))},colonMissingCondition:function(){return r(t.t("The left side of a ':' must be a condition, like 'x>1'."))},blankExpression:function(){return r(t.t("You haven't written anything yet."))},functionNotDefined:function(e){return e=n.formatSymbol(e),r(t.t("Function '__dependency__' is not defined.",{dependency:e}))},parameterAlreadyDefined:function(e){return e=n.formatSymbol(e),r(t.t("You can't use '__dependency__' as a parameter of this function because '__dependency__' is already defined.",{dependency:e}))},cannotRedefine:function(e,i){return e=n.formatSymbol(e),r(void 0===i?t.t("You can't redefine '__symbol__' because it's already defined.",{symbol:e}):t.t("You can't define '__symbol__' because '__symbolRoot__' is already defined.",{symbol:e,symbolRoot:i}))},cannotSubscript:function(e){return e=n.formatSymbol(e),r(t.t("'__symbol__' cannot have a subscript.",{symbol:e}))},multiplyDefined:function(e){return e=n.formatSymbol(e),r(t.t("You've defined '__dependency__' in more than one place. Try deleting some of the definitions of '__dependency__'.",{dependency:e}))},shadowedIndex:function(e){return e=n.formatSymbol(e),r(t.t("You can't use '__symbol__' as an index because it's already defined.",{symbol:e}))},cycle:function(e){e=e.map(n.formatSymbol);var i=e.pop();return r(t.t("'__symbols__' and '__lastSymbol__' can't be defined in terms of each other.",{symbols:e.join("', '"),lastSymbol:i}))},selfReferentialFunction:function(e){return r(t.t("The definition of function '__symbol__' cannot depend on '__symbol__'.",{symbol:n.formatSymbol(e)}))},sliderLimitReferencesExport:function(e){return r(t.t("Slider limits cannot depend on the slider variable '__symbol__'.",{symbol:n.formatSymbol(e)}))},sliderMinInvalid:function(){return r(t.t("Invalid slider min. Try using any number."))},sliderMaxInvalid:function(){return r(t.t("Invalid slider max. Try using any number."))},sliderMaxLessThanMin:function(){return r(t.t("Invalid slider limits. Min should be less than max."))},sliderStepInvalid:function(){return r(t.t("Invalid slider step. Try using any number."))},domainMinInvalid:function(){return r(t.t("Invalid domain min. Try using any number."))},domainMaxInvalid:function(){return r(t.t("Invalid domain max. Try using any number."))},domainMaxLessThanMin:function(){return r(t.t("Invalid domain limits. Min should be less than max."))},cdfMinInvalid:function(){return r(t.t("Invalid cdf min. Try using any number."))},cdfMaxInvalid:function(){return r(t.t("Invalid cdf max. Try using any number."))},cdfMaxLessThanMin:function(){return r(t.t("Invalid cdf limits. Min should be less than max."))},tooFewVariables:function(){return r(t.t("Too few variables, I don't know what to do with this."))},tooManyVariables:function(e){if(e=e.map(n.formatSymbol),0===e.length)return r(t.t("Too many variables, I don't know what to do with this."));var i=e.pop();return r(t.t("Too many variables. Try defining '__variables__'.",{variables:(e.length?e.join("', '")+"' or '":"")+i}))},addArgumentsToDefinition:function(e,i,a){e=e.map(n.formatSymbol),i=n.formatSymbol(i),a=a.map(n.formatSymbol);var o=i+"("+a.join(",")+","+e.join(",")+")",s=e.pop(),u={symbols:e.join("', '"),lastSymbol:s,newSignature:o};return r(e.length?t.t("Try including '__symbols__' and '__lastSymbol__' as arguments by defining the function as '__newSignature__'.",u):t.t("Try including '__lastSymbol__' as an argument by defining the function as '__newSignature__'.",u))},invalidLHS:function(e){return e=n.formatSymbol(e),r(t.t("Sorry, you can't graph __symbol__ as a function of anything yet.",{symbol:e}))},unplottablePolarFunction:function(){return r(t.t("We can't plot \u03B8 as a function of r. Try plotting r(\u03B8) instead."))},invalidInequalityVariables:function(){return r(t.t("We only plot inequalities of x and y, or r and \u03B8."))},invalidImplicitVariables:function(){return r(t.t("We only support implicit equations of x and y."))},singleVariableImplicitEquationsDisabled:function(){return r(t.t("Plotting single-variable implicit equations is disabled."))},implicitsDisabled:function(){return r(t.t("Plotting implicit equations and inequalities is disabled."))},inequalitiesDisabled:function(){return r(t.t("Plotting inequalities is disabled."))},complicatedImplicitInequality:function(){return r(t.t("We can only plot inequalities when one variable is quadratic or linear."))},complicatedPolarImplicit:function(){return r(t.t("Polar equations must be linear in r."))},invalidDoubleInequalityVariables:function(){return r(t.t("We only plot double inequalities of x and y."))},mismatchedDoubleInequality:function(){return r(t.t("Double inequalities must both go the same way, e.g. 1 < y < 2."))},complicatedDoubleInequality:function(){return r(t.t("We only support solved double inequalities. Try deleting one side of the inequality."))},equationRequired:function(e){return e?(e=n.formatSymbol(e),r(t.t("Try adding '__lhs__' to the beginning of this equation.",{lhs:e+"="}))):r(t.t("Try adding an equals sign to turn this into an equation."))},variableAsFunction:function(e){return e=n.formatSymbol(e),r(t.t("Variable '__dependency__' can't be used as a function.",{dependency:e}))},distributionAsFunction:function(e){return e=n.formatSymbol(e),r(t.t("Cannot call distribution '__symbol__' as a function. Try '__symbol__.pdf(x)'.",{symbol:e}))},emptyList:function(){return r(t.t("Empty lists are not allowed."))},invalidTableHeader:function(e){return r(t.t("Table headers must be simple expressions. __supplement__",{supplement:e}))},invalidTableEntry:function(e){return r(t.t("Table entries must be simple expressions. __supplement__",{supplement:e}))},invalidFirstTableColumn:function(){return r(t.t("First column may not be __most__ or __last__.",{most:"'y', 'r',",last:"'\u03B8'"}))},invalidDependentFirstTableColumn:function(){return r(t.t("This column header can't be defined elsewhere in the calculator."))},invalidRegressionParameter:function(e){return r(t.t("'__symbol__' may not be used as a regression parameter.",{symbol:n.formatSymbol(e)}))},optimizationError:function(){return r(t.t("We couldn't find any region where this model is defined."))},badListInReducer:function(e){return r(t.t("When __symbol__ is called with more than two arguments, no argument can be a list.",{symbol:n.formatSymbol(e)})).allowExport()},nonListDoubleReducer:function(e){return r(t.t("Both arguments of '__symbol__' must be lists. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], [3,2,1])"})).allowExport()},nonListParametrizedReducer:function(e){return r(t.t("The first argument of '__symbol__' must be a list. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], 1)"})).allowExport()},methodRequiresList:function(e){return r(t.t("'__symbol__' requires a list. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3])"})).allowExport()},variableRange:function(e){return r(t.t("Range cannot depend on free variable '__symbol__'.",{symbol:n.formatSymbol(e[0])})).setDependencies(e).allowExport()},nonArithmeticRange:function(e){return r(t.t("Ranges must be arithmetic sequences.")).allowExport()},sumMissingBound:function(){return r(t.t("Sums must have upper and lower bounds."))},productMissingBound:function(){return r(t.t("Products must have upper and lower bounds."))},incorrectSumLowerBound:function(){return r(t.t("Lower bound of a sum must set a variable equal to a number. Try n=1."))},incorrectProductLowerBound:function(){return r(t.t("Lower bound of a product must set a variable equal to a number. Try n=1."))},badSumBoundDependency:function(e){return r(t.t("Summation bounds can't depend on summation index '__symbol__'.",{symbol:n.formatSymbol(e)}))},badProductBoundDependency:function(e){return r(t.t("Product bounds can't depend on product index '__symbol__'.",{symbol:n.formatSymbol(e)}))},integralMissingBound:function(){return r(t.t("Integrals must have upper and lower bounds."))},integralMissingDifferential:function(){return r(t.t("Integrand must end with an integration variable, like dx."))},differentialWithSuperscript:function(){return r(t.t("Integration variable cannot have a superscript."))},sumMissingBody:function(){return r(t.t("What do you want to take the sum of?"))},productMissingBody:function(){return r(t.t("What do you want to take the product of?"))},integralMissingBody:function(){return r(t.t("What do you want to take the integral of?"))},derivativeMissingBody:function(){return r(t.t("What do you want to take the derivative of?"))},mismatchedBraces:function(e,i){return e=n.formatSymbol(e),i=n.formatSymbol(i),r(t.t("Expected '__symbol1__' to match '__symbol2__'.",{symbol1:e,symbol2:i}))},shadowedIntegrationVariable:function(e){return r(t.t("You can't use '__symbol__' as an integration variable because it's already defined.",{symbol:n.formatSymbol(e)}))},badIntegralBoundDependency:function(e){return r(t.t("Integration bounds can't depend on integration variable '__symbol__'.",{symbol:n.formatSymbol(e)}))},percentMissingOf:function(){return r(t.t("'%' must be used with 'of'. Try '25% of 12'."))},illegalBinWidth:function(e){return e=n.formatSymbol(e),r(t.t("The second argument to '__symbol__' must be a positive number.",{symbol:e}))},ttestListTooShort:function(e){return e=n.formatSymbol(e),r(t.t("Lists for '__symbol__' must have at least 2 elements.",{symbol:e}))},badSampleSize:function(){return r(t.t("Sample size must be at least 1."))},variableSampleSize:function(e){return r(t.t("Sample size cannot depend on free variable '__symbol__'.",{symbol:n.formatSymbol(e[0])})).setDependencies(e).allowExport()},variableSeed:function(e){return r(t.t("Random seed cannot depend on free variable '__symbol__'.",{symbol:n.formatSymbol(e[0])})).setDependencies(e).allowExport()},badAnsContext:function(){return r(t.t("You can't use 'ans' in this context."))},ansUndefined:function(){return r(t.t("The previous expression didn't define any value for ans."))},variablesUnsupported:function(e){return r(t.t("This calculator does not support variables like '__variable__'.",{variable:n.formatSymbol(e)}))},functionUnsupported:function(e){return r(t.t("This calculator does not support the '__symbol__' function.",{symbol:n.formatSymbol(e)}))},logbaseUnsupported:function(){return r(t.t("This calculator does not support specifying the base of a logarithm. Try 'log' or 'ln'."))},constantUnsupported:function(e){return r(t.t("This calculator does not support the constant '__symbol__'.",{symbol:n.formatSymbol(e)}))},assignmentsUnsupported:function(){return r(t.t("This calculator does not support defining variables."))},functionDefinitionsUnsupported:function(){return r(t.t("This calculator does not support function definitions."))},equationsUnsupported:function(){return r(t.t("This calculator does not support this type of equation."))},inequalitiesUnsupported:function(){return r(t.t("This calculator does not support inequalities."))},regressionsUnsupported:function(){return r(t.t("This calculator does not support regressions."))},pointsUnsupported:function(){return r(t.t("This calculator does not support points."))},featureUnavailable:function(){return r(t.t("This feature is not available in the current calculator."))},nonSquareDeterminant:function(){return r(t.t("Only square matrices have a determinant."))},nonSquareInverse:function(){return r(t.t("Only square matrices have an inverse."))},singularInverse:function(){return r(t.t("Singular matrices do not have an inverse."))},matrixAssignment:function(){return r(t.t("This calculator does not support this type of variable definition. Try using 'New Matrix'."))},matrixAddDimensions:function(){return r(t.t("Cannot add matrices with different dimensions."))},matrixSubtractDimensions:function(){return r(t.t("Cannot subtract matrices with different dimensions."))},matrixMultiplyDimensions:function(){return r(t.t("Cannot multiply matrices with incompatible dimensions."))},matrixFractionalPower:function(){return r(t.t("A matrix can only be raised to integer powers."))},matrixPowerDimensions:function(){return r(t.t("Only square matrices can be raised to a power."))},matrixElementTypeError:function(e){return r(t.t("Cannot use __arg__ as an element of a matrix.",{arg:e[0]}))},matrixInvalidVariable:function(e){return r(t.t("Cannot use '__symbol__' as a variable.",{symbol:n.formatSymbol(e)}))}}}),define("core/math/parsenode/expression",["require","pjs","./base","core/math/errormsg","core/math/types"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("core/math/errormsg"),i=e("core/math/types");return t(r,function(e,t){e.init=function(e){if(!Array.isArray(e))throw new TypeError("Argument to expression constructor must be an Array.");t.init.call(this),this.args=e,this.valueType=this._getValueType(e),this.registerDependencies(),this.computeTreeSize()},e._getValueType=function(e){return i.Any},e.shouldExportAns=function(){return!0},e.registerDependencies=function(){for(var e=0;e<this.args.length;e++)this.mergeDependencies(this.args[e])},e.computeTreeSize=function(){for(var e=0,t=0;t<this.args.length;t++)this.args[t].treeSize&&(e+=this.args[t].treeSize);if(this.treeSize=e+1,e>1e4)throw n.deeplyNested()},e.copyWithArgs=function(e){return new this.constructor(e)}})}),define("core/math/parsenode/scalarexpression",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e)},e.getEvalStrings=function(){for(var e=[],t=[],r=0;r<this.args.length;r++){var n=this.args[r].getEvalStrings();e=e.concat(n.statements),t.push(n.expression)}return{statements:e,expression:this.scalarEvalExpression(t)}}})}),define("core/math/parsenode/expressionTypes",["require","pjs","./scalarexpression"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n={Add:t(r,{}),Subtract:t(r,{}),Multiply:t(r,{}),Divide:t(r,{}),Exponent:t(r,{}),Negative:t(r,{}),And:t(r,{isInequality:function(){return this.args[0].isInequality()&&this.args[1].isInequality()}}),PercentOf:t(r,{})};return n.RawExponent=t(n.Exponent,{}),n}),define("core/math/maybe-rational",["require","exports","core/math/builtin"],function(e,t,r){"use strict";function n(e,t){return{n:e,d:t}}function i(e){return"object"==typeof e&&"number"==typeof e.n&&"number"==typeof e.d}function a(e){var t=e.match(/^(-)?(\\d*)?(?:\\.(\\d*))?$/);if(!t)return NaN;var r=t[1],n=t[2],i=t[3];if(!n&&!i)return NaN;var a=!!r;if(i){var o=i.replace(/0+$/,""),u=o.length,c=Math.pow(10,u),l=parseInt(n||"0",10)*c+parseInt(o||"0",10);return l>_||c>_?parseFloat(e):s(a?-l:l,c)}var l=parseInt(n,10);return l>_?parseFloat(e):s(a?-l:l,1)}function o(e){return i(e)?e.n/e.d:e}function s(e,t){if(!isFinite(e)||!isFinite(t)||0===t||Math.floor(e)!==e||Math.floor(t)!==t||Math.abs(e)>_||Math.abs(t)>_)return e/t;t<0&&(e=-e,t=-t);var i=r.gcd(e,t);return n(e/i,t/i)}function u(e){return i(e)?n(-e.n,e.d):-e}function c(e){return i(e)?n(Math.abs(e.n),Math.abs(e.d)):Math.abs(e)}function l(e){return i(e)?0===e.n?e.d/e.n:n(e.n<0?-e.d:e.d,Math.abs(e.n)):1/e}function p(e,t){if(!i(e)||!i(t))return o(e)+o(t);var n=r.gcd(e.d,t.d);return s(e.n*(t.d/n)+t.n*(e.d/n),e.d/n*t.d)}function f(e,t){if(!i(e)||!i(t))return o(e)*o(t);var n=r.gcd(e.n,t.d),a=r.gcd(t.n,e.d);return s(e.n/n*(t.n/a),e.d/a*(t.d/n))}function h(e,t){return p(e,u(t))}function d(e,t){return i(e)&&i(t)?f(e,l(t)):o(e)/o(t)}function m(e,t){var n=e,a=t;if(t.n<0&&(a=u(t),n=l(e)),!i(n)||!i(a))return r.pow(o(e),o(t));if(e=n,t=a,1===t.d)return s(Math.pow(e.n,t.n),Math.pow(e.d,t.n));var c=e.n<0;if(c&&t.d%2!=1)return NaN;var p=c?-1:1,f=p*Math.round(Math.pow(Math.abs(e.n),1/t.d)),h=Math.round(Math.pow(Math.abs(e.d),1/t.d));return Math.pow(f,t.d)!==e.n||Math.pow(h,t.d)!==e.d?r.pow(o(e),o(t)):s(Math.pow(f,t.n),Math.pow(h,t.n))}function y(e,t){if(!i(e)||!i(t))return r.pow(o(e),o(t));var n=m(e,t);return i(n)?n:r.pow(o(e),o(t))}function g(e){if(!i(e))return Math.sqrt(e);var t=Math.round(Math.sqrt(e.n)),r=Math.round(Math.sqrt(e.d));return t*t!==e.n||r*r!==e.d?Math.sqrt(o(e)):s(t,r)}function v(e,t){return y(e,l(t))}function b(e,t){if(!i(e)||!i(t)){var r=o(e),a=o(t);return r-a*Math.floor(r/a)}return h(e,f(t,n(Math.floor(o(d(e,t))),1)))}function x(e){for(var t=n(0,1),r=0,i=e;r<i.length;r++){t=p(t,i[r])}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.isRational=i;var _=Math.pow(2,53)-1;t.fromDecimalString=a,t.asFloat=o,t.maybeRational=s,t.neg=u,t.abs=c,t.reciprocal=l,t.add=p,t.mul=f,t.sub=h,t.div=d,t.pow=y,t.sqrt=g,t.nthroot=v,t.mod=b,t.total=x}),define("core/math/parsenode/constant",["require","pjs","./scalarexpression","core/math/maybe-rational","core/math/types"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("core/math/maybe-rational"),i=e("core/math/types");return t(r,function(e,t){e.init=function(e){"number"==typeof e&&(e=n.maybeRational(e,1)),this._constantValue=e,t.init.call(this,[])},e.isConstant=!0,e.getEvalStrings=function(){return{statements:[],expression:this.scalarExprString()}},e.asValue=function(){return"boolean"==typeof this._constantValue?this._constantValue:n.asFloat(this._constantValue)},e.asMaybeRationalValue=function(){return"boolean"==typeof this._constantValue?NaN:this._constantValue},e.scalarExprString=function(){return this.asValue()>0?String(this.asValue()):"("+String(this.asValue())+")"},e.getEvaluationInfo=function(){return[{val:this.asValue()}]},e.isNaN=function(){return"number"==typeof this.asValue()&&isNaN(this.asValue())},e._getValueType=function(){switch(typeof this.asValue()){case"number":return i.Number;case"boolean":return i.Bool;default:throw new Error("Constant node expects value of type number or boolean, but saw "+typeof value)}}})}),define("core/math/parsenode/mixednumber",["require","pjs","./constant"],function(e){"use strict";return e("pjs")(e("./constant"),function(e,t){e.init=function(e){t.init.call(this,e)},e.is_mixed_number=!0})}),define("core/math/parsenode/identifier",["require","pjs","./expression","core/lib/label","core/math/parser/input-span"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/lib/label"),i=e("core/math/parser/input-span");return t(r,function(e,t,r){e.init=function(e){t.init.call(this,[]),this._symbol=n.latexToIdentifier(e),this.setInputSpan(new i.Span(e,0,e.length)),this.addDependency(this._symbol)},e.evaluate=function(){throw"Cannot evaluate undefined variable "+this._symbol}})}),define("core/math/parsenode/ans",["require","pjs","./identifier"],function(e){"use strict";return e("pjs")(e("./identifier"),function(e,t,r){})}),define("core/math/parsenode/freevariable",["require","pjs","./scalarexpression"],function(e){"use strict";return e("pjs")(e("./scalarexpression"),function(e,t){e.init=function(e){t.init.call(this,[]),this.addDependency(e),this._symbol=e},e.isFreeVariable=!0,e.scalarEvalExpression=function(e){return this._symbol},e.copyWithArgs=function(e){return this}})}),define("core/math/parsenode/dummyindex",["require","pjs","./freevariable"],function(e){"use strict";return e("pjs")(e("./freevariable"),function(){})}),define("core/math/parsenode/list",["require","pjs","./expression","core/math/errormsg","core/math/types"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/math/errormsg"),i=e("core/math/types");return t(r,function(e,t,r){function a(e){for(var t=1/0,r=0;r<e.length;r++)(e[r].isList||e[r].isBroadcast)&&(t=Math.min(t,e[r].length));return t}e.init=function(e){if(t.init.call(this,e),this.length=e.length,0===this.length)throw n.emptyList()},e.isList=!0,e.getEvalStrings=function(){for(var e=[],t=[],r=0;r<this.args.length;r++){var n=this.args[r].getEvalStrings();Array.prototype.push.apply(e,n.statements),t.push(n.expression)}return{statements:e,expression:"["+t.join(",")+"]"}},e.asValue=function(){for(var e=[],t=0;t<this.args.length;t++)e.push(this.args[t].asValue());return e},e.asMaybeRationalValue=function(){for(var e=[],t=0;t<this.args.length;t++)e.push(this.args[t].asMaybeRationalValue());return e},e.getEvaluationInfo=function(){if(this.args.every(function(e){return e.isConstant}))return[{val:this.args.map(function(e){return e.asValue()})}]},r.eachArgs=function(e,t,r){var n=a(t);if(!isFinite(n))return void r(t);for(var o=0;o<n;o++){for(var s=[],u=0;u<t.length;u++)s.push(t[u].isList||i.isList(t[u].valueType)?t[u].elementAt(e,o):t[u]);r(s)}},r.mapArgs=function(e,t,n){var i=[];return r.eachArgs(e,t,function(e){i.push(n(e))}),i},r.wrap=function(e){return e.isList||i.isList(e.valueType)?e:r([e])}})}),define("core/math/parsenode/range",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t,r){e.init=function(e){t.init.call(this,e),this.beginning=e[0],this.end=e[1]}})}),define("core/math/parsenode/broadcast",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t,r){e.init=function(e,r){if(t.init.call(this,r),this._replacedSymbols=e,this._expression=r[0],this._lists=r.slice(1),!e.length)throw new Error("Cannot construct a broadcast node with no replaced symbols");for(var n=0;n<e.length;n++)this.removeDependency(e[n]);for(var i=1/0,a=0;a<this._lists.length;a++){if(!this._lists[a].isList)throw new Error("List arguments of broadcast must be list literals");i=Math.min(i,this._lists[a].length)}this.length=i},e.isBroadcast=!0,e.copyWithArgs=function(e){return new this.constructor(this._replacedSymbols,e)},e.getEvalStrings=function(){var e=[],t=this._expression.getEvalStrings();Array.prototype.push.apply(e,t.statements);var r,n=[],i=[];for(r=0;r<this._lists.length;r++){var a=this._lists[r].getEvalStrings();Array.prototype.push.apply(e,a.statements);var o=this.tmpVar();i.push(o),n.push("var "+o+" = "+a.expression)}var s=this.tmpVar(),u=this.tmpVar();n.push("var "+s+" = []");var c=[];for(r=0;r<i.length;r++)c.push("var "+this._replacedSymbols[r]+" = "+i[r]+"["+u+"]");return n.push("for (var "+u+" = 0; "+u+" < "+this.length+"; "+u+"++) {\\n  "+c.join(";\\n  ")+";\\n  "+s+".push("+t.expression+");\\n}"),{statements:e.concat(n),expression:s}}})}),define("core/math/parsenode/listaccess",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this.list=e[0],this.index=e[1]},e.getEvalStrings=function(){var e=this.index.getEvalStrings(),t=this.list.getEvalStrings(),r=e.statements.concat(t.statements),n=this.tmpVar();r.push("var "+n+" = "+t.expression);var i=this.tmpVar();return r.push("var "+i+" = Math.floor("+e.expression+") - 1"),{statements:r,expression:"("+i+" >= 0 && "+i+" < "+n+".length ? "+n+"["+i+"] : NaN)"}}})}),define("core/math/parsenode/dotaccess",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),{})}),define("core/math/parsenode/dotaccessexponent",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),{})}),define("core/math/parsenode/orderedpair",["require","pjs","./scalarexpression"],function(e){"use strict";return e("pjs")(e("./scalarexpression"),function(e,t,r){e.asArray=function(){return[+this.args[0].asValue(),+this.args[1].asValue()]},e.asValue=e.asArray,e.getSliderVariables=function(e,t){return e.sliderVariables(t.getDependencies()).filter(function(t){return!e.validParametricVariable(t)})},e.getEvalStrings=function(){for(var e=[],t=[],r=0;r<this.args.length;r++){var n=this.args[r].getEvalStrings();e=e.concat(n.statements),t.push(n.expression)}return{statements:e,expression:"["+t.join(",")+"]"}}})}),define("core/math/parsenode/movablepoint",["require","pjs","./orderedpair"],function(e){"use strict";return e("pjs")(e("./orderedpair"),function(e,t){e.init=function(e,r,n){t.init.call(this,e),this.moveStrategy=r,this.defaultDragMode=n},e.isMovablePoint=!0})}),
define("core/math/parsenode/orderedpairaccess",["require","pjs","./scalarexpression"],function(e){"use strict";return e("pjs")(e("./scalarexpression"),function(e,t){e.init=function(e){t.init.call(this,e),this.point=e[0],this.index=e[1]},e.getEvalStrings=function(){var e=this.index.getEvalStrings(),t=this.point.getEvalStrings(),r=[];return Array.prototype.push.apply(r,e.statements),Array.prototype.push.apply(r,t.statements),{statements:r,expression:t.expression+"["+e.expression+"-1]"}}})}),define("core/math/parsenode/polygon",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="polygon"}})}),define("core/math/comparators",["require","exports"],function(e,t){"use strict";function r(e,t){switch(t){case-1:return e?"<=":"<";case 0:return e?"=":"!=";case 1:return e?">=":">";default:throw"Programming error.  Comparators must have a direction of -1, 0, or 1"}}Object.defineProperty(t,"__esModule",{value:!0}),t.table={"<":{inclusive:!1,direction:-1},"!=":{inclusive:!1,direction:0},">":{inclusive:!1,direction:1},"<=":{inclusive:!0,direction:-1},"=":{inclusive:!0,direction:0},">=":{inclusive:!0,direction:1}},t.get=r}),define("core/math/parsenode/basecomparator",["require","pjs","./scalarexpression","./expressionTypes","core/math/comparators","core/math/functions"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("./expressionTypes").Subtract,i=e("core/math/comparators").table,a=e("core/math/functions");return t(r,function(e,r,o){o.create=function(e,r){return r=r||e,t(o,function(t,n){t.operator=e,t.isInequality=function(){return 0!==i[e].direction},t.compiledOperator=r,t.scalarEvalExpression=function(e){return e.join(r)},t.evaluate=a.createEvaluateFunction(t.scalarEvalExpression,2)})},e.init=function(e){r.init.call(this,e),this._difference=n(-1===i[this.operator].direction?[e[1],e[0]]:[e[0],e[1]])}})}),define("core/math/parsenode/comparator",["require","core/math/parsenode/basecomparator"],function(e){"use strict";var t=e("core/math/parsenode/basecomparator");return{"<":t.create("<"),">":t.create(">"),"<=":t.create("<="),">=":t.create(">="),"=":t.create("=","===")}}),define("core/math/parsenode/doubleinequality",["require","pjs","./base","core/math/comparators","./comparator"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("core/math/comparators"),i=e("./comparator");return t(r,function(e,t){e.init=function(e){t.init.call(this),this.args=e,this._symbol=e[2]._symbol,this._operators=[e[1],e[3]],this._expressions=[e[0],e[4]];var r=n.get(n.table[e[1]].inclusive&&n.table[e[3]].inclusive,n.table[e[1]].direction);this._indicator=i[r]([e[0],e[4]]),this.addDependency(this._symbol),this.mergeDependencies(this._expressions[0],this._expressions[1])},e.isInequality=function(){return!0},e.isShadeBetween=function(){return!0}})}),define("core/math/parsenode/repeatedoperator",["require","pjs","./scalarexpression","./dummyindex"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("./dummyindex");return t(r,function(e,t){e.init=function(e){t.init.call(this,e),this._index=e[0],this.addDummyDependency(this._index._symbol),this._index instanceof n&&this.removeDependency(this._index._symbol)},e.getEvalStrings=function(){var e=[],t=this.tmpVar(),r=this._index._symbol,n=this.tmpVar(),i=this.tmpVar(),a=this.args[1].getEvalStrings(),o=this.args[2].getEvalStrings(),s=this.args[3].getEvalStrings();Array.prototype.push.apply(e,a.statements),e.push("var "+n+" = Math.round("+a.expression+")"),Array.prototype.push.apply(e,o.statements),e.push("var "+i+" = Math.round("+o.expression+")"),e.push("var "+t+"="+this.starting_value);var u="for (var "+r+"="+n+";"+r+"<="+i+";"+r+"++) {"+s.statements.join(";")+";"+t+this.in_place_operator+s.expression+"};",c="if(!isFinite("+i+"-"+n+")) {"+t+"=("+i+"<"+n+"?"+this.starting_value+":NaN);}else{"+u+"}";return e.push(c),{statements:e,expression:t}},e.evaluate=function(e,t,r){var n=r.getCompiledFunction([this._index._symbol]).fn;if(t=Math.round(t),e=Math.round(e),!isFinite(t-e))return t<e?this.starting_value:NaN;for(var i=this.starting_value,a=e;a<=t;a++)i=this.update(i,n(a));return i}})}),define("core/math/parsenode/sum",["require","pjs","./repeatedoperator"],function(e){"use strict";return e("pjs")(e("./repeatedoperator"),function(e,t){e.in_place_operator="+=",e.starting_value=0,e.evaluateConstant=function(e){var t=1+Math.round(e[1])-Math.round(e[0]);return t<=0?this.starting_value:t*e[2]},e.update=function(e,t){return e+t}})}),define("core/math/parsenode/product",["require","pjs","./repeatedoperator"],function(e){"use strict";return e("pjs")(e("./repeatedoperator"),function(e,t){e.in_place_operator="*=",e.starting_value=1,e.evaluateConstant=function(e){var t=1+Math.round(e[1])-Math.round(e[0]);return t<=0?this.starting_value:Math.pow(e[2],t)},e.update=function(e,t){return e*t}})}),define("core/math/parsenode/integral",["require","pjs","./scalarexpression","./dummyindex","core/math/builtin"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("./dummyindex"),i=e("core/math/builtin");return t(r,function(e,t){e.init=function(e){t.init.call(this,e),this._differential=e[0],this.addDummyDependency(this._differential._symbol),this._differential instanceof n&&this.removeDependency(this._differential._symbol)},e.getEvalStrings=function(){var e=this.args[0],t=this.args[1],r=this.args[2],n=this.args[3],i=[],a=this.tmpVar(),o=e._symbol,s=this.tmpVar(),u=this.tmpVar(),c=t.getEvalStrings(),l=r.getEvalStrings(),p=n.getEvalStrings();return Array.prototype.push.apply(i,c.statements),Array.prototype.push.apply(i,l.statements),i.push("var "+s+" = "+c.expression),i.push("var "+u+" = "+l.expression),i.push("var "+a+" = function ("+o+") { "+p.statements.join("; ")+"; return "+p.expression+";}"),{statements:i,expression:"BuiltIn.quad("+[a,s,u].join(", ")+")"}},e.evaluate=function(e,t,r){var n=this.args[0],a=r.getCompiledFunction([n._symbol]).fn;return i.quad(a,e,t)}})}),define("core/math/parsenode/functioncall",["require","pjs","./expression","./identifier"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("./identifier");return t(r,function(e,t){e.init=function(e,r){"string"==typeof e&&(e=n(e)),this._identifier=e,this._symbol=e._symbol,t.init.call(this,r),this.addDependency(this._symbol)},e.copyWithArgs=function(e){return new this.constructor(n(this._symbol),e)}})}),define("core/math/parsenode/seededfunctioncall",["require","pjs","./functioncall"],function(e){"use strict";return e("pjs")(e("./functioncall"),function(e,t){e.init=function(e,r){t.init.call(this,e,r),this.seed=r[0]}})}),define("core/math/parsenode/functionexponent",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){})}),define("core/math/parsenode/functionfactorial",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){})}),define("core/math/parsenode/prime",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e,r){t.init.call(this,r),this.order=e},e.copyWithArgs=function(e){return new this.constructor(this.order,e)}})}),define("core/math/parsenode/piecewise",["require","pjs","./scalarexpression","./constant","core/math/maybe-rational"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("./constant"),i=e("core/math/maybe-rational").maybeRational,a=t(r,{});return a.chain=function(e){for(var t,r=n(NaN);e.length;)t=e.pop(),r=a([t.condition,t.if_expr,r]);return r},a.empty=function(){return a([n(!0),n(i(1,1)),n(NaN)])},a}),define("core/math/parsenode/derivative",["require","pjs","./scalarexpression","./identifier"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("./identifier");return t(r,function(e,t){e.init=function(e,r){this._symbol=e instanceof n?e._symbol:n(e)._symbol,t.init.call(this,r)}})}),define("core/math/parsenode/nativefunction",["require","pjs","./scalarexpression","core/math/functions"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("core/math/functions");return t(r,function(e,r,i){e.init=function(e,t){if(e.length>=this._requiredArity)for(;e.length<this._maxArity;)e.push(this._optionalArguments[e.length-this._requiredArity]);this._errorSymbol="logbase"===this._symbol?"log":t||this._symbol,r.init.call(this,e)},e.copyWithArgs=function(e){var t=r.copyWithArgs.call(this,e);return t._errorSymbol=this._errorSymbol,t},e.scalarEvalExpression=function(e){return this.head+"("+e.join(",")+")"},i.create=function(e,r,i,a){return t(this,function(t,o,s){s.isFunction=!0,t._symbol=e,t.head=r,t._requiredArity=i,t._optionalArguments=a||[],t._maxArity=t._requiredArity+t._optionalArguments.length,t.evaluate=n.createEvaluateFunction(t.scalarEvalExpression.bind(t),t._maxArity),s.getConcreteInvocationTree=function(e,t,r,n,i){return s(r,n).getConcreteTree(e,t,i)},s.getCacheKeys=function(){return[]}})}})}),define("core/math/parsenode/typedfunction",["require","pjs","./nativefunction"],function(e){"use strict";return e("pjs")(e("./nativefunction"),function(e,t,r,n){r.create=function(e,t,r,i){var a=r.length,o=n.create.call(this,e,t,a);return o.prototype._inputTypes=r,o.prototype._outputType=i,o}})}),define("core/math/parsenode/trigfunction",["require","pjs","./nativefunction","./expressionTypes","core/math/errormsg"],function(e){"use strict";var t=e("pjs"),r=e("./nativefunction"),n=e("./expressionTypes").Multiply,i=e("core/math/errormsg");return t(r,function(e,t,r,a){r.create=function(e,t){var r=a.create(e,t,1);return r.getConcreteInvocationTree=function(e,t,a,o,s){if(a.length<1)throw i.wrongArity(o,1,a.length);var u=t.trigAngleMultiplier?[n([a[0],t.trigAngleMultiplier])].concat(a.slice(1)):a;return r(u,o).getConcreteTree(e,t,s)},r.getCacheKeys=function(){return["trigAngleMultiplier"]},r}})}),define("core/math/parsenode/inversetrigfunction",["require","pjs","./nativefunction","./expressionTypes"],function(e){"use strict";var t=e("pjs"),r=e("./nativefunction"),n=e("./expressionTypes").Divide;return t(r,function(e,t,r,i){r.create=function(e,t,r){var a=i.create(e,t,1,r);return a.getConcreteInvocationTree=function(e,t,r,i,o){var s=a(r,i);return(t.trigAngleMultiplier?n([s,t.trigAngleMultiplier]):s).getConcreteTree(e,t,o)},a.getCacheKeys=function(){return["trigAngleMultiplier"]},a}})}),define("core/math/parsenode/distribution",["require","pjs","./scalarexpression","core/math/errormsg"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("core/math/errormsg");return t(r,function(e,r,i){e.init=function(e,t){var i="tdist"===this._symbol;if(e.length<this._requiredArity){if(i)throw n.tdistWrongArity();throw n.wrongArity(t,this._requiredArity,e.length)}if(e.length>this._maxArity){if(i)throw n.tdistWrongArity();throw n.wrongArity(this._symbol,this._maxArity,e.length)}for(;e.length<this._maxArity;)e.push(this._optionalArguments[e.length-this._requiredArity]);r.init.call(this,e)},e.scalarEvalExpression=function(e){return this.head+"("+e.join(",")+")"},i.create=function(e,r,n){return t(this,function(t,i,a){a.isFunction=!0,t._symbol=e,t._requiredArity=r,t._optionalArguments=n||[],t._maxArity=t._requiredArity+t._optionalArguments.length,a.getConcreteInvocationTree=function(e,t,r,n,i){return a(r,n)},a.getCacheKeys=function(){return[]}})}})}),define("core/math/parsenode/reducerfunction",["require","pjs","./expression","core/math/functions","core/math/errormsg","./distribution","core/math/types"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/math/functions"),i=e("core/math/errormsg"),a=e("./distribution"),o=e("core/math/types");return t(r,function(e,r,s){e.init=function(e,t){if(0===e.length)throw i.zeroArgReducer(t);if(e[0]instanceof a&&"length"!==this._symbol&&!e[0][this._symbol])throw i.functionTypeError(this._symbol,[o.prettyPrint(this.args[0].valueType)]);r.init.call(this,e)},e.evalExpression=function(e){return this.head+"("+e+")"},e.getEvalStrings=function(){var e=this.args[0].getEvalStrings();return{statements:e.statements,expression:this.evalExpression(e.expression)}},s.create=function(e,r){return t(s,function(t,i,a){t._symbol=e,t.head=r,t._arity=1,a.isFunction=!0,a.allowDotCalls=!0,a.dotMinArity=0,a.dotMaxArity=0,t.evaluate=n.createEvaluateFunction(t.evalExpression.bind(t),t._arity),a.getConcreteInvocationTree=function(e,t,r,n,i){return a(r,n).getConcreteTree(e,t,i)},a.getCacheKeys=function(){return[]}})}})}),define("core/math/parsenode/doublereducerfunction",["require","pjs","./expression","core/math/functions","core/math/errormsg"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/math/functions"),i=e("core/math/errormsg");return t(r,function(e,r,a){e.init=function(e,t){if(r.init.call(this,e),2!==this.args.length)throw i.wrongDoubleReducerArity(t)},e.evalExpression=function(e){return this.head+"("+e.join(",")+")"},e.getEvalStrings=function(){for(var e=[],t=[],r=Math.min(this.args[0].length,this.args[1].length),n=0;n<this.args.length;n++){var i=this.args[n],a=i.getEvalStrings();Array.prototype.push.apply(e,a.statements),t.push(i.length===r?a.expression:a.expression+".slice(0,"+r+")")}return{statements:e,expression:this.evalExpression(t)}},a.create=function(e,r){return t(a,function(t,i,a){t._symbol=e,t.head=r,t._arity=2,a.isFunction=!0,t.evaluate=n.createEvaluateFunction(t.evalExpression.bind(t),t._arity),a.getConcreteInvocationTree=function(e,t,r,n,i){return a(r,n).getConcreteTree(e,t,i)},a.getCacheKeys=function(){return[]}})}})}),define("core/math/parsenode/parametrizedreducerfunction",["require","pjs","./expression","core/math/functions","core/math/errormsg","./distribution","core/math/types"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/math/functions"),i=e("core/math/errormsg"),a=e("./distribution"),o=e("core/math/types");return t(r,function(e,r,s){e.init=function(e,t){if(e.length<2&&void 0!==this._optionalArgument&&e.push(this._optionalArgument),2!==e.length)throw i.wrongParametrizedReducerArity(t);if(e[0]instanceof a&&!e[0][this._symbol])throw i.functionTypeError(t,[o.prettyPrint(this.args[0].valueType)]);r.init.call(this,e)},e.evalExpression=function(e){return this.head+"("+e.join(",")+")"},e.getEvalStrings=function(){var e=[],t=this.args[0].getEvalStrings(),r=this.args[1].getEvalStrings();return Array.prototype.push.apply(e,t.statements),Array.prototype.push.apply(e,r.statements),{statements:e,expression:this.evalExpression([t.expression,r.expression])}},s.create=function(e,r,i){return t(s,function(t,a,o){t._symbol=e,t.head=r,t._optionalArgument=i,t._arity=2,o.isFunction=!0,o.allowDotCalls=!0,o.dotMinArity=void 0===i?1:0,o.dotMaxArity=1,t.evaluate=n.createEvaluateFunction(t.evalExpression.bind(t),t._arity),o.getConcreteInvocationTree=function(e,t,r,n,i){return o(r,n).getConcreteTree(e,t,i)},o.getCacheKeys=function(){return[]}})}})}),define("core/math/parsenode/toplevelfunction",["require","pjs","./nativefunction","core/math/errormsg"],function(e){"use strict";var t=e("pjs"),r=e("./nativefunction"),n=e("core/math/errormsg");return t(r,function(e,r,i,a){i.create=function(e){return t(i,function(e,t,r){r.isFunction=!0,r.getConcreteInvocationTree=function(e,t,r,i,a){throw n.unexpectedSymbol(i)},r.getCacheKeys=function(){return[]}})}})}),define("core/math/parsenode/builtinfunction",["require","core/math/parsenode/nativefunction","core/math/parsenode/typedfunction","core/math/parsenode/trigfunction","core/math/parsenode/inversetrigfunction","core/math/parsenode/reducerfunction","core/math/parsenode/doublereducerfunction","core/math/parsenode/parametrizedreducerfunction","core/math/parsenode/distribution","core/math/parsenode/toplevelfunction","core/math/types","core/math/maybe-rational","core/math/parsenode/constant"],function(e){"use strict";var t=e("core/math/parsenode/nativefunction"),r=e("core/math/parsenode/typedfunction"),n=e("core/math/parsenode/trigfunction"),i=e("core/math/parsenode/inversetrigfunction"),a=e("core/math/parsenode/reducerfunction"),o=e("core/math/parsenode/doublereducerfunction"),s=e("core/math/parsenode/parametrizedreducerfunction"),u=e("core/math/parsenode/distribution"),c=e("core/math/parsenode/toplevelfunction"),l=e("core/math/types"),p=e("core/math/maybe-rational").maybeRational,f=e("core/math/parsenode/constant"),h=f(p(1,1)),d=f(p(0,1)),m=f(p(1,2));return{sin:n.create("sin","BuiltIn.sin"),cos:n.create("cos","BuiltIn.cos"),tan:n.create("tan","BuiltIn.tan"),cot:n.create("cot","BuiltIn.cot"),sec:n.create("sec","BuiltIn.sec"),csc:n.create("csc","BuiltIn.csc"),arcsin:i.create("arcsin","Math.asin"),arccos:i.create("arccos","Math.acos"),arctan:i.create("arctan","Math.atan2",[h]),arccot:i.create("arccot","BuiltIn.acot"),arcsec:i.create("arcsec","BuiltIn.asec"),arccsc:i.create("arccsc","BuiltIn.acsc"),sinh:t.create("sinh","BuiltIn.sinh",1),cosh:t.create("cosh","BuiltIn.cosh",1),tanh:t.create("tanh","BuiltIn.tanh",1),coth:t.create("coth","BuiltIn.coth",1),sech:t.create("sech","BuiltIn.sech",1),csch:t.create("csch","BuiltIn.csch",1),arcsinh:t.create("arcsinh","BuiltIn.asinh",1),arccosh:t.create("arccosh","BuiltIn.acosh",1),arctanh:t.create("arctanh","BuiltIn.atanh",1),arccoth:t.create("arccoth","BuiltIn.acoth",1),arcsech:t.create("arcsech","BuiltIn.asech",1),arccsch:t.create("arccsch","BuiltIn.acsch",1),sqrt:t.create("sqrt","Math.sqrt",1),rtxsqpone:t.create("rtxsqpone","BuiltIn.sqrtxsqp1",1),rtxsqmone:t.create("rtxsqmone","BuiltIn.sqrtxsqm1",1),nthroot:t.create("nthroot","BuiltIn.nthroot",2),log:t.create("log","BuiltIn.common_log",1),logbase:t.create("logbase","BuiltIn.log_base",2),ln:t.create("ln","BuiltIn.log",1),exp:t.create("exp","Math.exp",1),floor:t.create("floor","Math.floor",1),ceil:t.create("ceil","Math.ceil",1),round:t.create("round","BuiltIn.round",1,[d]),abs:t.create("abs","Math.abs",1),sign:t.create("sign","BuiltIn.sign",1),mod:t.create("mod","BuiltIn.mod",2),nCr:t.create("nCr","BuiltIn.nCr",2),nPr:t.create("nPr","BuiltIn.nPr",2),factorial:t.create("factorial","BuiltIn.factorial",1),polyGamma:t.create("polyGamma","BuiltIn.polyGamma",2),lcm:a.create("lcm","BuiltIn.listLCM"),gcd:a.create("gcd","BuiltIn.listGCD"),mean:a.create("mean","BuiltIn.mean"),total:a.create("total","BuiltIn.total"),stdev:a.create("stdev","BuiltIn.stdev"),stdevp:a.create("stdevp","BuiltIn.stdevp"),mad:a.create("mad","BuiltIn.mad"),length:a.create("length","BuiltIn.length"),min:a.create("min","BuiltIn.listMin"),max:a.create("max","BuiltIn.listMax"),argmin:a.create("argmin","BuiltIn.argMin"),argmax:a.create("argmax","BuiltIn.argMax"),median:a.create("median","BuiltIn.median"),var:a.create("var","BuiltIn.var"),varp:a.create("varp","BuiltIn.varp"),cov:o.create("cov","BuiltIn.cov"),covp:o.create("covp","BuiltIn.covp"),corr:o.create("corr","BuiltIn.corr"),spearman:o.create("spearman","BuiltIn.spearman"),quantile:s.create("quantile","BuiltIn.quantile"),quartile:s.create("quartile","BuiltIn.quartile"),upperQuantileIndex:s.create("upperQuantileIndex","BuiltIn.upperQuantileIndex"),lowerQuantileIndex:s.create("lowerQuantileIndex","BuiltIn.lowerQuantileIndex"),quartileIndex:s.create("quartileIndex","BuiltIn.quartileIndex"),upperQuartileIndex:s.create("upperQuartileIndex","BuiltIn.upperQuartileIndex"),lowerQuartileIndex:s.create("lowerQuartileIndex","BuiltIn.lowerQuartileIndex"),normalcdf:t.create("normalcdf","BuiltIn.normalcdf",2,[d,h]),normalpdf:t.create("normalpdf","BuiltIn.normalpdf",1,[d,h]),normalSample:r.create("normalSample","BuiltIn.normalSample",[l.SeedType,l.Number,l.Number],l.Number),uniformSample:r.create("uniformSample","BuiltIn.uniformSample",[l.SeedType,l.Number,l.Number],l.Number),tSample:r.create("tSample","BuiltIn.tSample",[l.SeedType,l.Number],l.Number),poissonSample:r.create("poissonSample","BuiltIn.poissonSample",[l.SeedType,l.Number],l.Number),binomSample:r.create("binomSample","BuiltIn.binomSample",[l.SeedType,l.Number,l.Number],l.Number),binomcdf:t.create("binomcdf","BuiltIn.binomcdf",3,[m]),binompdf:t.create("binompdf","BuiltIn.binompdf",2,[m]),poissoncdf:t.create("poissoncdf","BuiltIn.poissoncdf",3),poissonpdf:t.create("poissonpdf","BuiltIn.poissonpdf",2),uniformcdf:t.create("uniformcdf","BuiltIn.uniformcdf",2,[d,h]),uniformpdf:t.create("uniformpdf","BuiltIn.uniformpdf",1,[d,h]),invNorm:t.create("invNorm","BuiltIn.invNorm",1),invT:t.create("invT","BuiltIn.invT",2),invPoisson:t.create("invPoisson","BuiltIn.invPoisson",2),invBinom:t.create("invBinom","BuiltIn.invBinom",3),invUniform:t.create("invUniform","BuiltIn.invUniform",3),erf:t.create("erf","BuiltIn.erf",1),tpdf:t.create("tpdf","BuiltIn.tpdf",2),tcdf:t.create("tcdf","BuiltIn.tcdf",3),tscore:s.create("tscore","BuiltIn.tscore",d),distance:r.create("distance","BuiltIn.distance",[l.Point,l.Point],l.Number),midpoint:r.create("midpoint","BuiltIn.midpoint",[l.Point,l.Point],l.Point),normaldist:u.create("normaldist",0,[d,h]),tdist:u.create("tdist",1),binomialdist:u.create("binomialdist",1,[m]),poissondist:u.create("poissondist",1),uniformdist:u.create("uniformdist",0,[d,h]),pdf:r.create("pdf","BuiltIn.normpdf",[l.Distribution,[l.Number,l.ListOfNumber]],l.Number).open(function(e,t,r){r.allowDotCalls=!0,r.dotMinArity=1,r.dotMaxArity=1}),cdf:r.create("cdf","BuiltIn.normcdf",[l.Distribution,[l.Number,l.ListOfNumber],[l.Number,l.ListOfNumber]],l.Number).open(function(e,t,r){r.allowDotCalls=!0,r.dotMinArity=1,r.dotMaxArity=2}),random:t.create("random","BuiltIn.random",2).open(function(e,t,r){r.allowDotCalls=!0,r.dotMinArity=1,r.dotMaxArity=3}),polygon:c.create("polygon"),histogram:c.create("histogram"),dotplot:c.create("dotplot"),boxplot:c.create("boxplot"),ttest:c.create("ttest"),ittest:c.create("ittest"),stats:c.create("stats")}}),define("core/math/parsenode/histogram",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="histogram"}})}),define("core/math/parsenode/object3d",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e,r){t.init.call(this,e),this._symbol=r}})}),define("core/math/parsenode/dotplot",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="dotplot"}})}),define("core/math/parsenode/boxplot",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="boxplot"}})}),define("core/math/parsenode/ttest",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(){t.init.apply(this,arguments),this._symbol="ttest"}})}),define("core/math/parsenode/independent-ttest",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(){t.init.apply(this,arguments),this._symbol="ittest"}})}),define("core/math/parsenode/stats",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(){t.init.apply(this,arguments),this._symbol="stats"}})}),define("core/math/parsenode/equation",["require","./base","pjs","./expressionTypes","core/math/parsenode/comparator"],function(e){"use strict";var t=e("./base"),r=e("pjs"),n=e("./expressionTypes").Subtract,i=e("core/math/parsenode/comparator");return r(t,function(e,t){e.init=function(e,r){t.init.call(this),this.mergeDependencies(e,r),this._lhs=e,this._rhs=r,this._difference=n([this._lhs,this._rhs])},e.asComparator=function(){return i["="]([this._lhs,this._rhs])}})}),define("core/math/parsenode/assignment",["require","./base","./equation","./identifier","pjs"],function(e){"use strict";var t=e("./base"),r=e("./equation"),n=e("./identifier");return e("pjs")(t,function(e,t){e.init=function(e,r){t.init.call(this),e=e._symbol,this.mergeDependencies(r),this._expression=r,this._symbol=e,this._exports=this.computeExports()},e.shouldExportAns=function(){return!0},e.computeExports=function(){for(var e=this._symbol,t=this.getDependencies(),r=0;r<t.length;r++)if(t[r]===e)return[];return[e]},e.isEquation=function(e){return-1!==e.getDependencies().indexOf(this._symbol)},e.asEquation=function(){var e=r(n(this._symbol),this._expression);return e.userData=this.userData,e.metaData=this.metaData,e},e.shouldPromoteToSlider=function(e){return!!this._expression.isConstant&&!this._expression.is_mixed_number&&"number"==typeof this._expression.asValue()&&!!isFinite(this._expression.asValue())&&e.isValidSlider(this._symbol)}})}),define("core/math/parsenode/functiondefinition",["require","pjs","./base","core/math/errormsg","./equation","./identifier","./functioncall"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("core/math/errormsg"),i=e("./equation"),a=e("./identifier"),o=e("./functioncall");return t(r,function(e,t){e.init=function(e,r,n){t.init.call(this),e=e._symbol,this._argSymbols=r.map(function(e){return e._symbol}),this._symbol=e,this._exports=[e],this._expression=n,this.addDependencies(this._argSymbols),this.addDummyDependencies(this._argSymbols),this.mergeDependencies(this._expression)},e.isFunction=!0,e.getConcreteInvocationTree=function(e,t,r,i,a){if(r.length!==this._argSymbols.length)throw n.wrongArity(i,this._argSymbols.length,r.length);for(var o=Object.create(t),s=0;s<this._argSymbols.length;s++)o[this._argSymbols[s]]=r[s];return this._expression.getConcreteTree(e,o,a)},e.getSliderVariables=function(e,t){var r=this._argSymbols;return e.sliderVariables(t.getDependencies()).filter(function(e){return-1===r.indexOf(e)})},e.asEquation=function(){var e=this._argSymbols.map(function(e){return a(e)}),t=i(o(a(this._symbol),e),this._expression);return t.userData=this.userData,t.metaData=this.metaData,t}})}),define("core/math/parsenode/optimizedregression",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t){e.init=function(e,r,n,i,a){t.init.call(this),this.parameters=e,this.residuals=r,this.statistics=n,this.model=i,this.isModelValid=a.isModelValid,this.residualVariable=a.residualVariable,this.residualSuggestionId=a.residualSuggestionId,this.shouldSuggestLogMode=a.shouldSuggestLogMode,this._exports=[this.residualVariable];for(var o in e)e.hasOwnProperty(o)&&this._exports.push(o);this.mergeDependencies(i)},e.getCompiledFunction=function(){return this.model.getCompiledFunction.apply(this.model,arguments)},e.getCompiledDerivative=function(){return this.model.getCompiledDerivative.apply(this.model,arguments)},e.evaluate=function(){return this.model.evaluate.apply(this.model,arguments)}})}),define("numeric",[],function(){"use strict";var e="undefined"==typeof exports?function(){}:exports;return"undefined"!=typeof global&&(global.numeric=e),e.version="1.2.6",e._myIndexOf=function(e){var t,r=this.length;for(t=0;t<r;++t)if(this[t]===e)return t;return-1},e.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:e._myIndexOf,e.precision=4,e.largeArray=50,e.compile=function(){var t=Array.prototype.slice.call(arguments),r=t.pop();return r="return function ("+t.join(",")+") {"+r+"}",new Function(["numeric"],r)(e)},e._dim=function(e){for(var t=[];"object"==typeof e;)t.push(e.length),e=e[0];return t},e.dim=function(t){var r,n;return"object"==typeof t?(r=t[0],"object"==typeof r?(n=r[0],"object"==typeof n?e._dim(t):[t.length,r.length]):[t.length]):[]},e.mapreduce=function(t,r){return e.compile("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+r+';\\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\\nif(typeof _s === "undefined") _s = numeric.dim(x);\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i,xi;\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) {\\n        accum = arguments.callee(x[i],accum,_s,_k+1);\\n    }    return accum;\\n}\\nfor(i=_n-1;i>=1;i-=2) { \\n    xi = x[i];\\n    '+t+";\\n    xi = x[i-1];\\n    "+t+";\\n}\\nif(i === 0) {\\n    xi = x[i];\\n    "+t+"\\n}\\nreturn accum;")},e.mapreduce2=function(t,r){return e.compile("x","var n = x.length;\\nvar i,xi;\\n"+r+"\\nfor(i=n-1;i!==-1;--i) { \\n    xi = x[i];\\n    "+t+"\\n}\\nreturn accum;")},e.rep=function(t,r,n){void 0===n&&(n=0);var i,a=t[n],o=Array(a);if(n===t.length-1){for(i=a-2;i>=0;i-=2)o[i+1]=r,o[i]=r;return-1===i&&(o[0]=r),o}for(i=a-1;i>=0;i--)o[i]=e.rep(t,r,n+1);return o},e.dotMMsmall=function(e,t){var r,n,i,a,o,s,u,c,l,p,f;for(a=e.length,o=t.length,s=t[0].length,u=Array(a),r=a-1;r>=0;r--){for(c=Array(s),l=e[r],i=s-1;i>=0;i--){for(p=l[o-1]*t[o-1][i],n=o-2;n>=1;n-=2)f=n-1,p+=l[n]*t[n][i]+l[f]*t[f][i];0===n&&(p+=l[0]*t[0][i]),c[i]=p}u[r]=c}return u},e._getCol=function(e,t,r){var n,i=e.length;for(n=i-1;n>0;--n)r[n]=e[n][t],--n,r[n]=e[n][t];0===n&&(r[0]=e[0][t])},e.dotMMbig=function(t,r){var n,i,a,o=e._getCol,s=r.length,u=Array(s),c=t.length,l=r[0].length,p=new Array(c),f=e.dotVV;for(--s,--c,i=c;-1!==i;--i)p[i]=Array(l);for(--l,i=l;-1!==i;--i)for(o(r,i,u),a=c;-1!==a;--a)0,n=t[a],p[a][i]=f(n,u);return p},e.dotMV=function(t,r){var n,i=t.length,a=(r.length,Array(i)),o=e.dotVV;for(n=i-1;n>=0;n--)a[n]=o(t[n],r);return a},e.dotVM=function(e,t){var r,n,i,a,o,s,u;for(i=e.length,a=t[0].length,o=Array(a),n=a-1;n>=0;n--){for(s=e[i-1]*t[i-1][n],r=i-2;r>=1;r-=2)u=r-1,s+=e[r]*t[r][n]+e[u]*t[u][n];0===r&&(s+=e[0]*t[0][n]),o[n]=s}return o},e.dotVV=function(e,t){var r,n,i=e.length,a=e[i-1]*t[i-1];for(r=i-2;r>=1;r-=2)n=r-1,a+=e[r]*t[r]+e[n]*t[n];return 0===r&&(a+=e[0]*t[0]),a},e.dot=function(t,r){var n=e.dim;switch(1e3*n(t).length+n(r).length){case 2002:return r.length<10?e.dotMMsmall(t,r):e.dotMMbig(t,r);case 2001:return e.dotMV(t,r);case 1002:return e.dotVM(t,r);case 1001:return e.dotVV(t,r);case 1e3:return e.mulVS(t,r);case 1:return e.mulSV(t,r);case 0:return t*r;default:throw new Error("numeric.dot only works on vectors and matrices")}},e.diag=function(e){var t,r,n,i,a=e.length,o=Array(a);for(t=a-1;t>=0;t--){for(i=Array(a),r=t+2,n=a-1;n>=r;n-=2)i[n]=0,i[n-1]=0;for(n>t&&(i[n]=0),i[t]=e[t],n=t-1;n>=1;n-=2)i[n]=0,i[n-1]=0;0===n&&(i[0]=0),o[t]=i}return o},e.getDiag=function(e){var t,r=Math.min(e.length,e[0].length),n=Array(r);for(t=r-1;t>=1;--t)n[t]=e[t][t],--t,n[t]=e[t][t];return 0===t&&(n[0]=e[0][0]),n},e.identity=function(t){return e.diag(e.rep([t],1))},e.pointwise=function(t,r,n){void 0===n&&(n="");var i,a,o=[],s=/\\[i\\]$/,u="",c=!1;for(i=0;i<t.length;i++)s.test(t[i])?(a=t[i].substring(0,t[i].length-3),u=a):a=t[i],"ret"===a&&(c=!0),o.push(a);return o[t.length]="_s",o[t.length+1]="_k",o[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+u+');\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i'+(c?"":", ret = Array(_n)")+";\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\\n    return ret;\\n}\\n"+n+"\\nfor(i=_n-1;i!==-1;--i) {\\n    "+r+"\\n}\\nreturn ret;",e.compile.apply(null,o)},e.pointwise2=function(t,r,n){void 0===n&&(n="");var i,a,o=[],s=/\\[i\\]$/,u="",c=!1;for(i=0;i<t.length;i++)s.test(t[i])?(a=t[i].substring(0,t[i].length-3),u=a):a=t[i],"ret"===a&&(c=!0),o.push(a);return o[t.length]="var _n = "+u+".length;\\nvar i"+(c?"":", ret = Array(_n)")+";\\n"+n+"\\nfor(i=_n-1;i!==-1;--i) {\\n"+r+"\\n}\\nreturn ret;",e.compile.apply(null,o)},e._biforeach=function e(t,r,n,i,a){if(i===n.length-1)return void a(t,r);var o,s=n[i];for(o=s-1;o>=0;o--)e("object"==typeof t?t[o]:t,"object"==typeof r?r[o]:r,n,i+1,a)},e._biforeach2=function e(t,r,n,i,a){if(i===n.length-1)return a(t,r);var o,s=n[i],u=Array(s);for(o=s-1;o>=0;--o)u[o]=e("object"==typeof t?t[o]:t,"object"==typeof r?r[o]:r,n,i+1,a);return u},e._foreach=function e(t,r,n,i){if(n===r.length-1)return void i(t);var a,o=r[n];for(a=o-1;a>=0;a--)e(t[a],r,n+1,i)},e._foreach2=function e(t,r,n,i){if(n===r.length-1)return i(t);var a,o=r[n],s=Array(o);for(a=o-1;a>=0;a--)s[a]=e(t[a],r,n+1,i);return s},e.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",
bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},e.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},e.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],e.mathfuns2=["atan2","pow","max","min"],e.ops1={neg:"-",not:"!",bnot:"~",clone:""},e.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi);","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,r;for(t=0;t<e.mathfuns2.length;++t)r=e.mathfuns2[t],e.ops2[r]=r;for(t in e.ops2)if(e.ops2.hasOwnProperty(t)){r=e.ops2[t];var n,i,a="";-1!==e.myIndexOf.call(e.mathfuns2,t)?(a="var "+r+" = Math."+r+";\\n",n=function(e,t,n){return e+" = "+r+"("+t+","+n+")"},i=function(e,t){return e+" = "+r+"("+e+","+t+")"}):(n=function(e,t,n){return e+" = "+t+" "+r+" "+n},i=e.opseq.hasOwnProperty(t+"eq")?function(e,t){return e+" "+r+"= "+t}:function(e,t){return e+" = "+e+" "+r+" "+t}),e[t+"VV"]=e.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),a),e[t+"SV"]=e.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),a),e[t+"VS"]=e.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),a),e[t]=e.compile("var n = arguments.length, i, x = arguments[0], y;\\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+'SV;\\nvar dim = numeric.dim;\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof x === "object") {\\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\\n  else '+i("x","y")+"\\n}\\nreturn x;\\n"),e[r]=e[t],e[t+"eqV"]=e.pointwise2(["ret[i]","x[i]"],i("ret[i]","x[i]"),a),e[t+"eqS"]=e.pointwise2(["ret[i]","x"],i("ret[i]","x"),a),e[t+"eq"]=e.compile("var n = arguments.length, i, x = arguments[0], y;\\nvar V = numeric."+t+"eqV, S = numeric."+t+'eqS\\nvar s = numeric.dim(x);\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\\n  else numeric._biforeach(x,y,s,0,S);\\n}\\nreturn x;\\n')}for(t=0;t<e.mathfuns2.length;++t)r=e.mathfuns2[t],delete e.ops2[r];for(t=0;t<e.mathfuns.length;++t)r=e.mathfuns[t],e.ops1[r]=r;for(t in e.ops1)e.ops1.hasOwnProperty(t)&&(a="",r=e.ops1[t],-1!==e.myIndexOf.call(e.mathfuns,t)&&Math.hasOwnProperty(r)&&(a="var "+r+" = Math."+r+";\\n"),e[t+"eqV"]=e.pointwise2(["ret[i]"],"ret[i] = "+r+"(ret[i]);",a),e[t+"eq"]=e.compile("x",'if(typeof x !== "object") return '+r+"x\\nvar i;\\nvar V = numeric."+t+"eqV;\\nvar s = numeric.dim(x);\\nnumeric._foreach(x,s,0,V);\\nreturn x;\\n"),e[t+"V"]=e.pointwise2(["x[i]"],"ret[i] = "+r+"(x[i]);",a),e[t]=e.compile("x",'if(typeof x !== "object") return '+r+"(x)\\nvar i;\\nvar V = numeric."+t+"V;\\nvar s = numeric.dim(x);\\nreturn numeric._foreach2(x,s,0,V);\\n"));for(t=0;t<e.mathfuns.length;++t)r=e.mathfuns[t],delete e.ops1[r];for(t in e.mapreducers)e.mapreducers.hasOwnProperty(t)&&(r=e.mapreducers[t],e[t+"V"]=e.mapreduce2(r[0],r[1]),e[t]=e.compile("x","s","k",r[1]+'if(typeof x !== "object") {    xi = x;\\n'+r[0]+'\\n    return accum;\\n}if(typeof s === "undefined") s = numeric.dim(x);\\nif(typeof k === "undefined") k = 0;\\nif(k === s.length-1) return numeric.'+t+"V(x);\\nvar xi;\\nvar n = x.length, i;\\nfor(i=n-1;i!==-1;--i) {\\n   xi = arguments.callee(x[i]);\\n"+r[0]+"\\n}\\nreturn accum;\\n"))}(),e.inv=function(t){var r,n,i,a,o,s,u,t,c=e.dim(t),l=Math.abs,p=c[0],f=c[1],h=e.clone(t),d=e.identity(p);for(s=0;s<f;++s){var m=-1,y=-1;for(o=s;o!==p;++o)(u=l(h[o][s]))>y&&(m=o,y=u);for(n=h[m],h[m]=h[s],h[s]=n,a=d[m],d[m]=d[s],d[s]=a,t=n[s],u=s;u!==f;++u)n[u]/=t;for(u=f-1;-1!==u;--u)a[u]/=t;for(o=p-1;-1!==o;--o)if(o!==s){for(r=h[o],i=d[o],t=r[s],u=s+1;u!==f;++u)r[u]-=n[u]*t;for(u=f-1;u>0;--u)i[u]-=a[u]*t,--u,i[u]-=a[u]*t;0===u&&(i[0]-=a[0]*t)}}return d},e.det=function(t){var r=e.dim(t);if(2!==r.length||r[0]!==r[1])throw new Error("numeric: det() only works on square matrices");var n,i,a,o,s,u,c,l,p=r[0],f=1,h=e.clone(t);for(i=0;i<p-1;i++){for(a=i,n=i+1;n<p;n++)Math.abs(h[n][i])>Math.abs(h[a][i])&&(a=n);for(a!==i&&(c=h[a],h[a]=h[i],h[i]=c,f*=-1),o=h[i],n=i+1;n<p;n++){for(s=h[n],u=s[i]/o[i],a=i+1;a<p-1;a+=2)l=a+1,s[a]-=o[a]*u,s[l]-=o[l]*u;a!==p&&(s[a]-=o[a]*u)}if(0===o[i])return 0;f*=o[i]}return f*h[i][i]},e.transpose=function(e){var t,r,n,i,a,o=e.length,s=e[0].length,u=Array(s);for(r=0;r<s;r++)u[r]=Array(o);for(t=o-1;t>=1;t-=2){for(i=e[t],n=e[t-1],r=s-1;r>=1;--r)a=u[r],a[t]=i[r],a[t-1]=n[r],--r,a=u[r],a[t]=i[r],a[t-1]=n[r];0===r&&(a=u[0],a[t]=i[0],a[t-1]=n[0])}if(0===t){for(n=e[0],r=s-1;r>=1;--r)u[r][0]=n[r],--r,u[r][0]=n[r];0===r&&(u[0][0]=n[0])}return u},e.negtranspose=function(e){var t,r,n,i,a,o=e.length,s=e[0].length,u=Array(s);for(r=0;r<s;r++)u[r]=Array(o);for(t=o-1;t>=1;t-=2){for(i=e[t],n=e[t-1],r=s-1;r>=1;--r)a=u[r],a[t]=-i[r],a[t-1]=-n[r],--r,a=u[r],a[t]=-i[r],a[t-1]=-n[r];0===r&&(a=u[0],a[t]=-i[0],a[t-1]=-n[0])}if(0===t){for(n=e[0],r=s-1;r>=1;--r)u[r][0]=-n[r],--r,u[r][0]=-n[r];0===r&&(u[0][0]=-n[0])}return u},e.norm2=function(t){return Math.sqrt(e.norm2Squared(t))},e.linspace=function(e,t,r){if(void 0===r&&(r=Math.max(Math.round(t-e)+1,1)),r<2)return 1===r?[e]:[];var n,i=Array(r);for(r--,n=r;n>=0;n--)i[n]=(n*t+(r-n)*e)/r;return i},e.getBlock=function(t,r,n){function i(e,t){var o,s=r[t],u=n[t]-s,c=Array(u);if(t===a.length-1){for(o=u;o>=0;o--)c[o]=e[o+s];return c}for(o=u;o>=0;o--)c[o]=i(e[o+s],t+1);return c}var a=e.dim(t);return i(t,0)},e.setBlock=function(t,r,n,i){function a(e,t,i){var s,u=r[i],c=n[i]-u;if(i===o.length-1)for(s=c;s>=0;s--)e[s+u]=t[s];for(s=c;s>=0;s--)a(e[s+u],t[s],i+1)}var o=e.dim(t);return a(t,i,0),t},e.getRange=function(e,t,r){var n,i,a,o,s=t.length,u=r.length,c=Array(s);for(n=s-1;-1!==n;--n)for(c[n]=Array(u),a=c[n],o=e[t[n]],i=u-1;-1!==i;--i)a[i]=o[r[i]];return c},e.blockMatrix=function(t){var r=e.dim(t);if(r.length<4)return e.blockMatrix([t]);var n,i,a,o,s,u=r[0],c=r[1];for(n=0,i=0,a=0;a<u;++a)n+=t[a][0].length;for(o=0;o<c;++o)i+=t[0][o][0].length;var l=Array(n);for(a=0;a<n;++a)l[a]=Array(i);var p,f,h,d,m,y=0;for(a=0;a<u;++a){for(p=i,o=c-1;-1!==o;--o)for(s=t[a][o],p-=s[0].length,h=s.length-1;-1!==h;--h)for(m=s[h],f=l[y+h],d=m.length-1;-1!==d;--d)f[p+d]=m[d];y+=t[a][0].length}return l},e.tensor=function(t,r){if("number"==typeof t||"number"==typeof r)return e.mul(t,r);var n=e.dim(t),i=e.dim(r);if(1!==n.length||1!==i.length)throw new Error("numeric: tensor product is only defined for vectors");var a,o,s,u,c=n[0],l=i[0],p=Array(c);for(o=c-1;o>=0;o--){for(a=Array(l),u=t[o],s=l-1;s>=3;--s)a[s]=u*r[s],--s,a[s]=u*r[s],--s,a[s]=u*r[s],--s,a[s]=u*r[s];for(;s>=0;)a[s]=u*r[s],--s;p[o]=a}return p},e.epsilon=2.220446049250313e-16,e.LU=function(t,r){r=r||!1;var n,i,a,o,s,u,c,l,p,f=Math.abs,h=t.length,d=h-1,m=new Array(h);for(r||(t=e.clone(t)),a=0;a<h;++a){for(c=a,u=t[a],p=f(u[a]),i=a+1;i<h;++i)o=f(t[i][a]),p<o&&(p=o,c=i);for(m[a]=c,c!=a&&(t[a]=t[c],t[c]=u,u=t[a]),s=u[a],n=a+1;n<h;++n)t[n][a]/=s;for(n=a+1;n<h;++n){for(l=t[n],i=a+1;i<d;++i)l[i]-=l[a]*u[i],++i,l[i]-=l[a]*u[i];i===d&&(l[i]-=l[a]*u[i])}}return{LU:t,P:m}},e.LUsolve=function(t,r){var n,i,a,o,s,u=t.LU,c=u.length,l=e.clone(r),p=t.P;for(n=c-1;-1!==n;--n)l[n]=r[n];for(n=0;n<c;++n)for(a=p[n],p[n]!==n&&(s=l[n],l[n]=l[a],l[a]=s),o=u[n],i=0;i<n;++i)l[n]-=l[i]*o[i];for(n=c-1;n>=0;--n){for(o=u[n],i=n+1;i<c;++i)l[n]-=l[i]*o[i];l[n]/=o[n]}return l},e.solve=function(t,r,n){return e.LUsolve(e.LU(t,n),r)},e}),define("core/math/qr",["require","exports"],function(e,t){"use strict";function r(e,t){for(var r=e.length,n=t.length,i=0,a=0,o=n-r;o<n;o++)i+=e[o+r-n]*t[o],a+=e[o+r-n]*e[o+r-n];for(var s=i/a,o=n-r;o<n;o++)t[o]=2*s*e[o+r-n]-t[o]}function n(e,t,r){for(var n=e.length,i=t.length,a=0,o=0,s=i-n;s<i;s++)a+=e[s+n-i]*t[s][r],o+=e[s+n-i]*e[s+n-i];for(var u=a/o,s=i-n;s<i;s++)t[s][r]=2*u*e[s+n-i]-t[s][r]}function i(e,t,r,n){var i=Array(e.length-t);if(1===i.length)return i[0]=1,i;if(0===n){i[0]=1;for(var a=1;a<i.length;a++)i[a]=0;return i}var o=e[t][r]<0?-1:1;i[0]=e[t][r]+o*Math.sqrt(n);for(var s=t+1;s<e.length;s++)i[s-t]=e[s][r];return i}function a(e,t,r){for(var n=0;t<e.length;t++)n+=e[t][r]*e[t][r];return n}function o(e,t){if(!t||!t.mutateInput){var r=e;e=Array(e.length);for(var o=0;o<r.length;o++)e[o]=r[o].slice()}for(var s=Math.min(e.length,e[0].length),u=Array(s),c=[],l=0;l<s;l++){for(var p=-1/0,f=l,h=l;h<e[l].length;h++){var d=a(e,l,h);d>p&&(p=d,f=h)}if(u[l]=f,f!==l)for(var o=0;o<e.length;o++){var m=e[o][f];e[o][f]=e[o][l],e[o][l]=m}for(var y=i(e,l,l,p),h=l;h<e[l].length;h++)n(y,e,h);c.push(y)}return{reflectors:c,r:e,p:u}}function s(e,t,n){for(var i=e.reflectors,a=e.r,o=e.p,s=t.slice(),u=0;u<i.length;u++)r(i[u],s);for(var u=i.length;u<a[0].length;u++)s[u]=0;s.length=a[0].length;for(var c=Math.pow(2,-52),l=n.regularize?c*Math.abs(a[0][0])*Math.max(a.length,a[0].length):0,u=i.length-1;u>=0;u--){var p=a[u];if(Math.abs(p[u])<=l)s[u]=0;else{for(var f=u+1;f<i.length;f++)s[u]-=s[f]*p[f];s[u]/=p[u]}}for(var u=o.length-1;u>=0;u--)if(o[u]!==u){var h=s[u];s[u]=s[o[u]],s[o[u]]=h}return s}function u(e,t,r){for(var n=Array(e.r[0].length),i=0;i<n.length;i++)n[i]=Array(t[0].length);for(var a=Array(t.length),o=0;o<t[0].length;o++){for(var i=0;i<t.length;i++)a[i]=t[i][o];for(var u=s(e,a,r),i=0;i<u.length;i++)n[i][o]=u[i]}return n}function c(e,t,r){return Array.isArray(t[0])?u(e,t,r):s(e,t,r)}function l(e){var t=e.r,r=Math.min(t.length,t[0].length),n=t[0][0],i=t[r-1][r-1];return 0===n?1/0:Math.abs(n/i)}function p(e){var t=Math.pow(2,-52);return Math.max(e.r.length,e.r[0].length)*t*l(e)<1}Object.defineProperty(t,"__esModule",{value:!0}),t.qr=o,t.qrSolve=c,t.conditionNumber=l,t.isNumericallyFullRank=p}),define("core/math/least-squares",["require","exports","numeric","core/math/distance","./qr"],function(e,t,r,n,i){"use strict";function a(e,t){for(var r=[],n=0;n<t;n++)r.push(e);return r}function o(e,t){for(var r=s(e,t),n=0,i=0,a=r;i<a.length;i++){var o=a[i],u=o;n+=u*u}return n/r.length}function s(e,t){return e.apply(void 0,t)}function u(e,t){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n],o=a.apply(void 0,t);r.push(o)}return r}function c(e,t){for(var r=[],n=0;n<e.length;n++)t[n]&&r.push(e[n]);return r}function l(e,t,r){for(var n=[],i=0,a=0;i<e.length;i++){var o=0;r[i]&&(o=t[a],a+=1),n.push(e[i]+o)}return n}function p(e,t){for(var n=a(0,t.length),c=u(t,n),l=i.qr(r.transpose(c),{mutateInput:!0}),p=0;p<2;p++){var f=s(e,n),h=r.neg(i.qrSolve(l,f,{regularize:!1}));n=r.add(n,h)}var d=o(e,n);if(i.isNumericallyFullRank(l))return{solution:n,MSE:d};for(var m=a(0,t.length),p=0;p<2;p++){var f=s(e,m),h=r.neg(i.qrSolve(l,f,{regularize:!0}));m=r.add(m,h)}var y=o(e,m);return.999*y<=d?{solution:m,MSE:y}:{solution:n,MSE:d}}function f(e,t,n,p){var f,h=p.maxIterations,d=p.linearSubset||a(!1,n.length),m=r.not(d),y=c(t,d),g=c(t,m),v=n,b=0,x=.001;if(r.any(d)){var _=r.transpose(u(y,v)),S=i.qr(_);f={Jv:_,F:S};var M=s(e,v),E=r.neg(i.qrSolve(S,M,{regularize:!0}));v=l(v,E,d)}for(var D=!1,w=o(e,v);b<h&&!D&&isFinite(w);){var M=s(e,v),T=u(g,v),P=r.transpose(T),I=void 0,C=void 0;if(f){var S=f.F,_=f.Jv;I=r.dot(T,r.sub(M,r.dot(_,i.qrSolve(S,M,{regularize:!0})))),C=r.dot(T,r.sub(P,r.dot(_,i.qrSolve(S,P,{regularize:!0}))))}else I=r.dot(T,M),C=r.dot(T,P);for(var O=v,A=!1;b<h&&!D&&!A;){b+=1;var L=r.add(C,r.diag(a(x,g.length)));O=l(v,r.neg(r.solve(L,I,!0)),m),D=r.all(r.eq(O,v));var N=void 0;if(f){var _=r.transpose(u(y,O)),S=i.qr(_);N={Jv:_,F:S};var q=s(e,O),E=r.neg(i.qrSolve(S,q,{regularize:!0}));O=l(O,E,d)}var F=o(e,O);A=F<w,A?(v=O,w=F,f=N,x*=.1):(x=Math.max(x,1e-64),x*=2)}}return{solution:v,MSE:w}}function h(e,t,r,n){if(!t)return e;if("known"!==t.type)return e;var i=t.bounds;return i[0]===-1/0&&i[1]===1/0?e:i[0]===-1/0?i[1]-Math.exp(-e):i[1]===1/0?i[0]+Math.exp(e):r/(n-1)*i[1]+(n-1-r)/(n-1)*i[0]}function d(e,t){for(var r=[],n=0;n<e.length;n++){for(var i=e[n],a=[],o=0;o<i.length;o++){var s=x[o%x.length]*n%e.length;a.push(h(i[o],t[o],s,e.length))}r.push(a)}return r}function m(e,t,r){r||(r={});var i=r.linearSubset,a=r.bounds,o=r.preferredInitialGuess,s=v(t.length);a&&(s=d(s,a));var u=b(e,t,s,5,{maxIterations:3,linearSubset:i}),c=b(e,t,u,1,{maxIterations:60,linearSubset:i}),l=f(e,t,c[0],{maxIterations:250,linearSubset:i});if(!o)return l;var p=f(e,t,o,{maxIterations:100,linearSubset:i});return isFinite(p.MSE)?p.MSE<l.MSE?p:n.approx(p.MSE,l.MSE,8)?p:l:l}Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateMeanSquare=o,t.optimizeLinear=p;var y=[18.9,.105,.0113,.089,4.414,.373,.06,.149,1.84,9.26,5,.7,.2,1.13,2.61,1,.007,30,120,1500,4e-4,7.23,-1,-.0081,-.03,-28.6,-1.71,-.4,-6.94,-.777,-500],g=function(e){return y[503*e%y.length]},v=function(e){for(var t=[],r=0;r<y.length;r++){for(var n=[],i=0;i<e;i++)n[i]=0===r&&1!==e?0:1===r&&1!==e?1:g(r*e+i);t.push(n)}return t},b=function(e,t,r,n,i){for(var a=[],o=0,s=r;o<s.length;o++){var u=s[o];a.push({soln:f(e,t,u,i),initialGuess:u})}a.sort(function(e,t){return isNaN(e.soln.MSE)?1:isNaN(t.soln.MSE)?-1:e.soln.MSE-t.soln.MSE});for(var c=[],l=0;l<n;l++)c.push(a[l].initialGuess);return c},x=[3,5,7,11,13,17,19];t.optimizeNonLinear=m,t.testOnlyExports={generateInitialGuesses:v,mapInitialGuesses:d}}),define("core/math/parsenode/regression",["require","pjs","./base","core/math/distance","core/math/builtin","core/lib/label","core/math/errormsg","./error","./optimizedregression","./list","./functioncall","./identifier","./constant","./freevariable","./expressionTypes","core/math/types","core/math/least-squares"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("core/math/distance"),i=e("core/math/builtin"),a=e("core/lib/label"),o=e("core/math/errormsg"),s=e("./error"),u=e("./optimizedregression"),c=e("./list"),l=e("./functioncall"),p=e("./identifier"),f=e("./constant"),h=e("./freevariable"),d=e("./expressionTypes"),m=e("core/math/types"),y=e("core/math/least-squares"),g=y.optimizeLinear,v=y.optimizeNonLinear,b=y.evaluateMeanSquare,x=d.Subtract;return t(r,function(e,t,r){function d(e,t){for(var r=[],n=0;n<e.length;n++)r.push(t.boundDomain(e[n]));return r}function y(e,t,r){var n=[];t||(t={}),r||(r={});for(var i=0;i<e.length;i++){var o=e[i],s=a.identifierToLatex(o);r[o]&&isFinite(r[o].asValue())?n.push(+r[o].asValue()):t.hasOwnProperty(s)&&isFinite(t[s])?n.push(+t[s]):n.push(1)}return n}function _(e,t,r,n){var i,a,s=t.getDependencies();for(a=0;a<s.length;a++)if(!e.validRegressionParameter(s[a]))throw o.invalidRegressionParameter(s[a]);var u=t.getCompiledFunction(s).fn;if(s.length){var c=t.findLinearSubset(s),l=c.every(function(e){return e}),p=[];for(a=0;a<s.length;a++)p.push(t.takeDerivative(s[a]).getCompiledFunction(s).fn);i=l?g(u,p):v(u,p,{linearSubset:c,bounds:d(s,t),preferredInitialGuess:y(s,r,n)})}else i={solution:[],MSE:b(u,[])};var h={};for(a=0;a<s.length;a++)h[s[a]]=f(i.solution[a]);return h}function S(e,t){return g(function(r,n){for(var i=[],a=0;a<e.length;a++)i.push(t[a]-(r*e[a]+n));return i},[function(){return e.map(function(e){return-e})},function(){return e.map(function(){return-1})}],[0,0])}function M(e,t){var r=e.length,i=e[0],a=t[0],o=e[r-1],s=t[r-1];if(!(isFinite(i)&&isFinite(o)&&isFinite(a)&&isFinite(s)))return!1;if(s-a==0)return!1;var u=o-i;if(0===u)return!1;for(var c=1;c<r-1;c++){var l=e[c],p=t[c],f=(s*(l-i)+a*(o-l))/u;if(!n.approx(p,f,5))return!1}return!0}function E(e,t,r,n){var i=Object.create(r);for(var a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return c.wrap(t.getConcreteTree(e,i))}e.init=function(e,r){t.init.call(this),this._lhs=e,this.isLhsSimple=e instanceof p||e instanceof c,this._logLhs=l("ln",[e]),this._rhs=r,this._difference=x([e,r]),this._logDifference=x([l("ln",[e]),l("ln",[r])]),this.mergeDependencies(e,r)},e.isRegression=!0,e.chooseResidualVariable=function(e){if(this.userData&&this.userData.residualVariable){var t=a.latexToIdentifier(this.userData.residualVariable);if(!e[t])return t}for(var r,n=this.getDependencies(),i=0;i<n.length;i++){var o=n[i].match(/_(.*)/);if(o&&(r="e_"+o[1],!e[r]))return r}for(var s=1;;){if(r="e_"+s,!e[r])return r;s++}},e.getRHSModel=function(e,t,r){function n(e,t,r){for(var n=0;n<i.length;n++)if(i[n].node===this)return i[n].tmpVar;var o=h(this.tmpVar()),s=this.getConcreteTree(e,t);return s.getDependencies().length&&(a=!1),i.push({node:this,tmpVar:o,symbol:o._symbol,concrete:s}),o}var i=[],a=!0,o={List:n,TableColumn:n,Range:n},s=this._rhs.tryGetConcreteTree(e,t,o);return{node:s,substituted:s.isError?s:s.substitute(r),replacedNodes:i,isValid:a}},e.computeStatistics=function(e,t,r,a,s,u){if(a.getDependencies().length)throw o.optimizationError();var l=0;a.eachElement(e,function(e){var t=e.asValue();l+=t*t});var p=l/a.length;if(!isFinite(p))throw o.optimizationError();if(t.getDependencies().length>0)return{RMSE:Math.sqrt(p)};var f=m.isList(t.valueType)?i.varp(t.asValue()):0;if(t.getDependencies().length||!isFinite(f)||f<=0||!this.isLhsSimple)return{RMSE:Math.sqrt(p)};var h=1-p/f;if(r.isValid&&1===r.replacedNodes.length){var d=[],y=[],g=s&&(u===D.LINLOG||u===D.LOGLOG);c.eachArgs(e,[r.replacedNodes[0].concrete,t],function(e){d.push(g?Math.log(e[0].asValue()):+e[0].asValue()),y.push(+e[1].asValue())});var v=i.corr(d,y);if(n.approx(S(d,y).MSE,p,8))return{r:v,rsquared:v*v}}return{Rsquared:h}},e.getResidualSuggestionId=function(e,t){var r,n=this._rhs.getDependencies();for(var i in t)if(t.hasOwnProperty(i)&&t[i].concreteTree.isTable&&t[i].concreteTree.columns[0]){var a=t[i].rawTree.columns;if(a&&a.length){var o=a[0].getExports();if(1===o.length&&-1!==n.indexOf(o[0])){for(var s=1;s<a.length;s++)if(-1!==a[s].getDependencies().indexOf(e))return;r=r||i}}}return r||void 0};var D={NONE:0,LOGLIN:1,LOGLOG:2,LINLOG:3};e.linearizingTransformation=function(e,t,r){if(!this.isLhsSimple)return D.NONE;var n=r.substituted;if(n.isError)return D.NONE;if(n.valueType!==m.Number)return D.NONE;var i=n.getDependencies();if(1!==i.length)return D.NONE;if(isFinite(r.node.polynomialOrder(i[0])))return D.NONE;var a=n.getCompiledFunction(i).fn,o=r.replacedNodes[0].concrete;if(n.valueType!==m.Number)return D.NONE;var s=o.mapElements(e,function(e){return+e.asValue()});if(s.length<3)return D.NONE;s.sort(function(e,t){return e-t});var u=s.map(a),l=u.map(Math.log),p=s.map(Math.log),f=!0;return c.wrap(t).eachElement(e,function(e){isFinite(Math.log(+e.asValue()))||(f=!1)}),M(s,l)&&f?D.LOGLIN:M(p,l)&&f?D.LOGLOG:M(p,u)?D.LINLOG:D.NONE},e.optimize=function(e,t,r,n,i){var o=this._lhs.getConcreteTree(e,t),s=this._rhs.getConcreteTree(e,t);this.typeCheck(e,[o,s]);var l=c.wrap(this._difference.getConcreteTree(e,t));l=l.deriveRegressionRestrictions();var p,f=_(e,l,this.userData.regressionParameters,n),h=this.getRHSModel(e,t,f),d=E(e,this._difference,t,f),m=this.linearizingTransformation(e,o,h);if(!this.userData.isLogModeRegression||m!==D.LOGLIN&&m!==D.LOGLOG)p=this.computeStatistics(e,o,h,d,this.userData.isLogModeRegression,m);else{var y=this._logDifference.getConcreteTree(e,t),g=this._logLhs.getConcreteTree(e,t);f=_(e,y,this.userData.regressionParamters,n),h=this.getRHSModel(e,t,f),d=E(e,this._difference,t,f);var v=E(e,this._logDifference,t,f);p=this.computeStatistics(e,g,h,v,this.userData.isLogModeRegression,m)}var b=this.chooseResidualVariable(r),x=this.getResidualSuggestionId(b,i);return this.userData.residualVariable=a.identifierToLatex(b),u(f,d,p,h.substituted,{isModelValid:h.isValid,residualVariable:b,residualSuggestionId:x,shouldSuggestLogMode:m!==D.NONE})},e.tryOptimize=function(){try{return this.optimize.apply(this,arguments)}catch(e){return e instanceof s?e:o.parseError()}},e.exportTo=function(e,t,r){if(!t.isError){for(var n in t.parameters)t.parameters.hasOwnProperty(n)&&(e.assignmentForbidden(n)||(r[n]=r[n]?o.multiplyDefined(n):t.parameters[n]));e.assignmentForbidden(t.residualVariable)||(r[t.residualVariable]=t.residuals)}},e.getSliderVariables=function(){return[]}})}),define("core/math/parsenode/image",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t,r,n){e.isImage=!0,e.init=function(e,r){t.init.call(this),this.center=e.center,this.radianAngle=e.radianAngle,this.width=e.width,this.height=e.height,this.opacity=e.opacity,this.moveStrategy=r,this.mergeDependencies(this.center,this.radianAngle,this.width,this.height,this.opacity)}})}),define("core/math/parsenode/slider",["require","pjs","./assignment","./identifier"],function(e){"use strict";var t=e("pjs"),r=e("./assignment"),n=e("./identifier");return t(r,function(e,t,i,a){e.isSlider=!0,e.init=function(e,r){t.init.call(this,n(e._symbol),e._expression),this.setInputSpan(e._inputSpan),this.sliderAssignment=e,this.sliderMin=r.sliderMin,this.sliderMax=r.sliderMax,this.sliderStep=r.sliderStep,this.sliderMin&&this.mergeDependencies(this.sliderMin),this.sliderMax&&this.mergeDependencies(this.sliderMax),this.sliderStep&&this.mergeDependencies(this.sliderStep)},e.shouldPromoteToSlider=function(e){return!1},e.asAssignment=function(){return r(this._symbol,this._expression)}})}),define("core/math/parsenode/table",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t){e.init=function(e){t.init.call(this),this.columns=e,this._exports=[],this.mergeDependencies.apply(this,e);for(var r=0;r<e.length;r++)Array.prototype.push.apply(this._exports,e[r].getExports())},e.exportPenalty=1,e.isTable=!0,e.exportTo=function(e,t,r){for(var n=0;n<this.columns.length;n++){var i=this.columns[n].getExports();if(i.length){var a=i[0];e.assignmentForbidden(a)||r[a]||(t.isError?r[a]=t:this.columns[n].exportTo(e,t.columns[n],r))}}},e.getAllIds=function(){return this.columns.map(function(e){return e.header.userData.id})}})}),define("core/math/parsenode/tablecolumn",["require","pjs","./base","./list","./constant","./identifier"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("./list"),i=e("./constant"),a=e("./identifier");return t(r,function(e,t){function o(e){return e.isError?i(NaN):e}e.init=function(e,r,n){t.init.call(this),this.header=e,this.length=r,this.values=n,this.isIndependent=!1,this.registerDependencies(),this._exports=this.computeExports()},e.registerDependencies=function(){this.mergeDependencies(this.header),this.mergeDependencies.apply(this,this.values)},e.computeExports=function(){return this.header instanceof a?[this.header._symbol]:[]},e.isDiscrete=function(e){return 1!==this.header.getDependencies().length||1!==e.header.getDependencies().length||this.header.getDependencies()[0]!==e.header.getDependencies()[0]},e._exportSymbolsTo=function(e,t,i){if(e.length){var a=e[0];if(t.isError)i[a]=t;else try{i[a]=n(t.values.map(o))}catch(e){if(!(e instanceof r))throw e;i[a]=e}}},e.exportTo=function(e,t,r){var n=this.getLegalExports(e);this._exportSymbolsTo(n,t,r)},e.exportToLocal=function(e,t){this._exportSymbolsTo(this.getExports(),e,t)}})}),define("core/math/parsenode/solvedequation",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t){e.init=function(e,r){t.init.call(this),this._symbol=e,this._expression=r,this.mergeDependencies(r)},e.getCompiledFunction=function(){return this._expression.getCompiledFunction.apply(this._expression,arguments)},e.getCompiledDerivative=function(){return this._expression.getCompiledDerivative.apply(this._expression,arguments)},e.evaluate=function(){return this._expression.evaluate.apply(this._expression,arguments)}})}),define("core/math/parsenode/seed",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){"string"!=typeof e&&(e=""+e),this._stringValue=e,t.init.call(this,[])},e.isString=!0,e.getEvalStrings=function(){return{statements:[],expression:"'"+this.asValue()+"'"}},e.asValue=function(){return this._stringValue}})}),define("core/math/parsenode/extendseed",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e,r){t.init.call(this,r),this.seed=r[0],this.userSeed=r[1],this.tag=e},e.getEvalStrings=function(){var e=this.seed.getEvalStrings(),t=this.userSeed.getEvalStrings(),r=[];return Array.prototype.push.apply(r,e.statements),Array.prototype.push.apply(r,t.statements),{statements:r,expression:"("+e.expression+") + '::"+this.tag+"' + ("+t.expression+")"}},e.copyWithArgs=function(e){return new this.constructor(this.tag,e)}})}),define("parsenodes",["require","core/math/parsenode/expressionTypes","core/math/parsenode/base","core/math/parsenode/expression","core/math/parsenode/scalarexpression","core/math/parsenode/error","core/math/parsenode/constant","core/math/parsenode/mixednumber","core/math/parsenode/identifier","core/math/parsenode/ans","core/math/parsenode/freevariable","core/math/parsenode/dummyindex","core/math/parsenode/list","core/math/parsenode/range","core/math/parsenode/broadcast","core/math/parsenode/listaccess","core/math/parsenode/dotaccess","core/math/parsenode/dotaccessexponent","core/math/parsenode/orderedpair","core/math/parsenode/movablepoint","core/math/parsenode/orderedpairaccess","core/math/parsenode/polygon","core/math/parsenode/basecomparator","core/math/parsenode/comparator","core/math/parsenode/doubleinequality","core/math/parsenode/repeatedoperator","core/math/parsenode/sum","core/math/parsenode/product","core/math/parsenode/integral","core/math/parsenode/functioncall","core/math/parsenode/seededfunctioncall","core/math/parsenode/functionexponent","core/math/parsenode/functionfactorial","core/math/parsenode/prime","core/math/parsenode/piecewise","core/math/parsenode/derivative","core/math/parsenode/builtinfunction","core/math/parsenode/nativefunction","core/math/parsenode/typedfunction","core/math/parsenode/reducerfunction","core/math/parsenode/parametrizedreducerfunction","core/math/parsenode/doublereducerfunction","core/math/parsenode/toplevelfunction","core/math/parsenode/distribution","core/math/parsenode/histogram","core/math/parsenode/object3d","core/math/parsenode/dotplot","core/math/parsenode/boxplot","core/math/parsenode/ttest","core/math/parsenode/independent-ttest","core/math/parsenode/stats","core/math/parsenode/assignment","core/math/parsenode/functiondefinition","core/math/parsenode/equation","core/math/parsenode/regression","core/math/parsenode/image","core/math/parsenode/slider","core/math/parsenode/table","core/math/parsenode/tablecolumn","core/math/parsenode/solvedequation","core/math/parsenode/optimizedregression","core/math/parsenode/seed","core/math/parsenode/extendseed"],function(e){"use strict";var t=e("core/math/parsenode/expressionTypes"),r={Base:e("core/math/parsenode/base"),Expression:e("core/math/parsenode/expression"),ScalarExpression:e("core/math/parsenode/scalarexpression"),Error:e("core/math/parsenode/error"),Constant:e("core/math/parsenode/constant"),MixedNumber:e("core/math/parsenode/mixednumber"),Identifier:e("core/math/parsenode/identifier"),Ans:e("core/math/parsenode/ans"),FreeVariable:e("core/math/parsenode/freevariable"),DummyIndex:e("core/math/parsenode/dummyindex"),List:e("core/math/parsenode/list"),Range:e("core/math/parsenode/range"),Broadcast:e("core/math/parsenode/broadcast"),ListAccess:e("core/math/parsenode/listaccess"),DotAccess:e("core/math/parsenode/dotaccess"),DotAccessExponent:e("core/math/parsenode/dotaccessexponent"),OrderedPair:e("core/math/parsenode/orderedpair"),MovablePoint:e("core/math/parsenode/movablepoint"),OrderedPairAccess:e("core/math/parsenode/orderedpairaccess"),Polygon:e("core/math/parsenode/polygon"),BaseComparator:e("core/math/parsenode/basecomparator"),Comparator:e("core/math/parsenode/comparator"),DoubleInequality:e("core/math/parsenode/doubleinequality"),RepeatedOperator:e("core/math/parsenode/repeatedoperator"),Sum:e("core/math/parsenode/sum"),Product:e("core/math/parsenode/product"),Integral:e("core/math/parsenode/integral"),FunctionCall:e("core/math/parsenode/functioncall"),SeededFunctionCall:e("core/math/parsenode/seededfunctioncall"),FunctionExponent:e("core/math/parsenode/functionexponent"),FunctionFactorial:e("core/math/parsenode/functionfactorial"),Prime:e("core/math/parsenode/prime"),Piecewise:e("core/math/parsenode/piecewise"),Derivative:e("core/math/parsenode/derivative"),BuiltInFunction:e("core/math/parsenode/builtinfunction"),NativeFunction:e("core/math/parsenode/nativefunction"),TypedFunction:e("core/math/parsenode/typedfunction"),ReducerFunction:e("core/math/parsenode/reducerfunction"),ParametrizedReducerFunction:e("core/math/parsenode/parametrizedreducerfunction"),DoubleReducerFunction:e("core/math/parsenode/doublereducerfunction"),TopLevelFunction:e("core/math/parsenode/toplevelfunction"),Distribution:e("core/math/parsenode/distribution"),Histogram:e("core/math/parsenode/histogram"),Object3D:e("core/math/parsenode/object3d"),DotPlot:e("core/math/parsenode/dotplot"),BoxPlot:e("core/math/parsenode/boxplot"),TTest:e("core/math/parsenode/ttest"),IndependentTTest:e("core/math/parsenode/independent-ttest"),Stats:e("core/math/parsenode/stats"),Assignment:e("core/math/parsenode/assignment"),FunctionDefinition:e("core/math/parsenode/functiondefinition"),Equation:e("core/math/parsenode/equation"),Regression:e("core/math/parsenode/regression"),Image:e("core/math/parsenode/image"),Slider:e("core/math/parsenode/slider"),Table:e("core/math/parsenode/table"),TableColumn:e("core/math/parsenode/tablecolumn"),SolvedEquation:e("core/math/parsenode/solvedequation"),OptimizedRegression:e("core/math/parsenode/optimizedregression"),Seed:e("core/math/parsenode/seed"),ExtendSeed:e("core/math/parsenode/extendseed")};for(var n in t)r[n]=t[n];for(var i in r)r.hasOwnProperty(i)&&"Comparator"!==i&&"BuiltInFunction"!==i&&(r[i].prototype.type=i);for(var a in r.Comparator)r.Comparator.hasOwnProperty(a)&&(r.Comparator[a].prototype.type="Comparator['"+a+"']");for(var o in r.BuiltInFunction)r.BuiltInFunction.hasOwnProperty(o)&&(r.BuiltInFunction[o].prototype.type="BuiltInFunction['"+o+"']");return r}),define("core/math/parser/char-codes",["require","exports"],function(e,t){"use strict";function r(e){return 48<=e&&e<=57}function n(e){return 97<=e&&e<=122}function i(e){return 65<=e&&e<=90}function a(e){return n(e)||i(e)}function o(e){return 92===e}function s(e){return 46===e}function u(e){return 39===e}function c(e){if(9<=e&&e<=13)return!0;if(8192<=e&&e<=8202)return!0;switch(e){case 32:case 160:case 5760:case 8232:case 8233:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.isDigit=r,t.isLowerCaseLetter=n,t.isUpperCaseLetter=i,t.isLetter=a,t.isBackslash=o,t.isDot=s,t.isSingleQuote=u,t.isWhitespace=c}),define("core/math/parser/latex-lexer",["require","exports","./char-codes","./input-span"],function(e,t,r,n){"use strict";function i(e,t){return n.joinSpans(e.token.span,t.prevSpan)}function a(e,t,r){return{type:e,span:t,val:r}}function o(e,t,r,n){return{input:e,prevSpan:t,pos:r,token:n}}function s(e){return u(e,0,n.emptySpanAt(e,0))}function u(e,t,n){for(;r.isWhitespace(e.charCodeAt(t));)t+=1;return o(e,n,t,d(e,t))}function c(e){return u(e.input,e.token.span.end,e.token.span)}function l(e){return e.token}function p(e,t){if(l(e).type!==t)throw"Parse Error: expected "+t+".";return c(e)}function f(e,t){return l(e).type===t}function h(e){return e.pos>=e.input.length}function d(e,t){var i=t;if(t>=e.length)return a("End",n.emptySpanAt(e,t),"");var o=e.charCodeAt(t);if(r.isDigit(o)){var s=n.Span(e,i,t+1);return a("Digit",s,e.charAt(i))}if(r.isLetter(o)){var s=n.Span(e,i,t+1);return a("Letter",s,e.charAt(i))}if(r.isBackslash(o)){if(t+=1,r.isLetter(e.charCodeAt(t))){for(;r.isLetter(e.charCodeAt(t));)t+=1;var s=n.Span(e,i,t),u=n.slice(s),c=m[u]||"Cmd";return a(c,s,u)}t+=1;var s=n.Span(e,i,t),u=n.slice(s);return a("EscapedSymbol",s,u)}if(r.isSingleQuote(o)){
for(t+=1;r.isSingleQuote(e.charCodeAt(t));)t+=1;if("^"===e.charAt(t)){t+=1;var s=n.Span(e,i,t),u=n.slice(s);return a("Primes^",s,u)}var s=n.Span(e,i,t),u=n.slice(s);return a("Primes",s,u)}var s=n.Span(e,i,t+1),u=e.charAt(i),c=y[u]||"Symbol";return a(c,s,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.spanStates=i,t.LatexToken=a,t.lex=s,t.advance=c,t.peek=l,t.eat=p,t.isAt=f,t.isDone=h;var m={"\\\\left":"Left","\\\\right":"Right","\\\\sqrt":"Sqrt","\\\\frac":"Frac","\\\\operatorname":"OperatorName"},y={"[":"[","]":"]","{":"{","}":"}","^":"^",_:"_"}}),define("core/math/parser/latex-node",["require","exports"],function(e,t){"use strict";function r(e,t){return{type:"Group",span:e,args:t}}function n(e,t,r){return{type:"Sqrt",span:e,optArg:t,arg:r}}function i(e,t,r){return{type:"Frac",span:e,num:t,den:r}}function a(e,t,r,n){return{type:"SupSub",span:e,sup:t,sub:r,nprimes:n}}function o(e,t,r,n){return{type:"LeftRight",span:e,left:t,right:r,arg:n}}function s(e,t){return{type:"OperatorName",span:e,arg:t}}function u(e,t){return{type:"Symbol",span:e,val:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.Group=r,t.Sqrt=n,t.Frac=i,t.SupSub=a,t.LeftRight=o,t.OperatorName=s,t.Symbol=u}),define("core/math/parser/latex-parser",["require","exports","./latex-lexer","./input-span","./latex-node"],function(e,t,r,n,i){"use strict";function a(e){switch(e){case"Frac":return 2;case"^":case"_":case"Primes^":case"Left":case"Frac":case"Sqrt":case"OperatorName":return 1;default:return 0}}function o(e){var t=u(r.lex(e),!1),i=t.state,a=t.tree;if(!r.isDone(i))throw"Parse error: unexpected "+n.slice(r.peek(i).span)+".";return a}function s(e,t){return{state:e,tree:t}}function u(e,t){var n,a=e,o=[];e:for(;!r.isDone(e);){var u=r.peek(e);switch(u.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":case"[":case"{":case"^":case"_":case"Primes":case"Primes^":case"Left":case"Frac":case"Sqrt":case"OperatorName":case"]":if("]"===u.type&&t)break e;var l=void 0;if(n=c(e),e=n.state,l=n.tree,"Group"===l.type)for(var p=0,f=l.args;p<f.length;p++){var h=f[p];o.push(h)}else o.push(l);break;case"}":case"Right":case"End":break e;default:var d=u.type;throw"Unexpected token type "+d+"."}}var m=r.spanStates(a,e);return s(e,i.Group(m,o))}function c(e){var t,n=r.peek(e);switch(n.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":return e=r.advance(e),s(e,n);case"[":case"]":return e=r.advance(e),s(e,i.Symbol(n.span,n.val));case"{":e=r.advance(e);var a=void 0;return t=u(e,!1),e=t.state,a=t.tree,e=r.eat(e,"}"),s(e,a);case"^":case"_":case"Primes":case"Primes^":return d(e);case"Left":return h(e);case"Frac":return f(e);case"Sqrt":return p(e);case"OperatorName":return l(e);case"}":case"Right":throw"Parse Error: unexpected "+n.val+".";case"End":throw"Parse Error: unexpected end.";default:throw"Unexpected token type "+n.type+"."}}function l(e){var t,n=e,a=r.peek(e);e=r.eat(e,"OperatorName");var o;t=m(e,a),e=t.state,o=t.tree;var u=r.spanStates(n,e);return s(e,i.OperatorName(u,o))}function p(e){var t,n,a=e,o=r.peek(e);e=r.eat(e,"Sqrt");var u;r.isAt(e,"[")&&(t=y(e),e=t.state,u=t.tree);var c;n=m(e,o),e=n.state,c=n.tree;var l=r.spanStates(a,e);return s(e,i.Sqrt(l,u,c))}function f(e){var t,n,a=e,o=r.peek(e);e=r.eat(e,"Frac");var u;t=m(e,o),e=t.state,u=t.tree;var c;n=m(e,o),e=n.state,c=n.tree;var l=r.spanStates(a,e);return s(e,i.Frac(l,u,c))}function h(e){var t,n=e;e=r.eat(e,"Left");var a=r.peek(e);e=r.advance(e);var o;t=u(e,!1),e=t.state,o=t.tree,e=r.eat(e,"Right");var c=r.peek(e);e=r.advance(e);var l=r.spanStates(n,e);return s(e,i.LeftRight(l,a,c,o))}function d(e){var t,n,a,o,u,c=e,l=0;e:for(;!r.isDone(e);){var p=r.peek(e);switch(p.type){case"^":if(e=r.advance(e),o)throw"Parse Error: double superscript.";t=m(e,p),e=t.state,o=t.tree;break;case"_":if(e=r.advance(e),u)throw"Parse Error: double subscript.";n=m(e,p),e=n.state,u=n.tree;break;case"Primes":if(e=r.advance(e),l>0)throw"Parse Error: double primes.";l=p.val.length;break;case"Primes^":if(e=r.advance(e),l>0)throw"Parse Error: double primes.";if(o)throw"Parse Error: double superscript";l=p.val.length-1,a=m(e,p),e=a.state,o=a.tree;break;default:break e}}var f=r.spanStates(c,e);return s(e,i.SupSub(f,o,u,l))}function m(e,t){var o,u,l=a(t.type);if(l<=0)throw new Error("Programming Error: greediness must be greater than 0.");var p=a(r.peek(e).type);if(p>0&&p<=l){var f=n.slice(t.span);throw"Parse Error: can't use "+n.slice(r.peek(e).span)+" as argument of "+f+". Use {}."}return o=c(e),e=o.state,u=o.tree,"Group"!==u.type&&(u=i.Group(u.span,[u])),s(e,u)}function y(e){var t;e=r.eat(e,"[");var n;return t=u(e,!0),e=t.state,n=t.tree,e=r.eat(e,"]"),s(e,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=o}),define("core/math/parser/command-aliases",["require","exports","./char-codes"],function(e,t,r){"use strict";function n(e){for(var t=0;r.isBackslash(e.charCodeAt(t));)t+=1;return t>0&&(e=e.slice(t)),i[e]||e}Object.defineProperty(t,"__esModule",{value:!0});var i={mcd:"gcd",gcf:"gcd",mcm:"lcm",signum:"sign",stdDevP:"stdevp",stddevp:"stdevp",stdDev:"stdev",stddev:"stdev",variance:"var",TTest:"ttest",TScore:"tscore",IndependentTTest:"ittest",iTTest:"ittest",inverseCdf:"quantile",inversecdf:"quantile"};t.translateCmd=n}),define("core/math/parser/surface-node",["require","exports","./command-aliases"],function(e,t,r){"use strict";function n(e,t){return{type:"Equals",span:e,args:t}}function i(e,t,r){return{type:"Inequality",span:e,symbol:t,args:r}}function a(e,t,r){return{type:"TrailingInequalityPiece",span:e,symbol:t,args:r}}function o(e,t,r){return{type:"InequalityChain",span:e,first:t,chain:r}}function s(e,t){return{type:"Tilde",span:e,args:t}}function u(e,t){return{type:"Pos",span:e,args:t}}function c(e,t){return{type:"Neg",span:e,args:t}}function l(e,t){return{type:"Add",span:e,args:t}}function p(e,t){return{type:"Sub",span:e,args:t}}function f(e,t){return{type:"Mul",span:e,args:t}}function h(e,t){return{type:"Div",span:e,args:t}}function d(e,t){return{type:"Bang",span:e,args:t}}function m(e,t){return{type:"Call",span:e,args:t}}function y(e,t){return{type:"ImplicitCall",span:e,args:t}}function g(e,t){return{type:"Index",span:e,args:t}}function v(e,t){return{type:"Paren",span:e,args:t}}function b(e,t){return{type:"List",span:e,args:t}}function x(e,t){return{type:"Pipes",span:e,args:t}}function _(e,t){return{type:"Subscript",span:e,args:t}}function S(e,t){return{type:"Superscript",span:e,args:t}}function M(e,t,r){return{type:"Prime",span:e,nprimes:t,args:r}}function E(e,t){return{type:"Seq",span:e,args:t}}function D(e,t){return{type:"Sqrt",span:e,args:t}}function w(e,t){return{type:"Nthroot",span:e,args:t}}function T(e,t){return{type:"Frac",span:e,args:t}}function P(e,t){return{type:"Derivative",span:e,args:t}}function I(e,t){return{type:"Integral",span:e,args:t}}function C(e,t){return{type:"EmptyIntegral",span:e,args:t}}function O(e,t){return{type:"Sum",span:e,args:t}}function A(e,t){return{type:"Product",span:e,args:t}}function L(e,t){return{type:"Piecewise",span:e,args:t}}function N(e){return{type:"EmptyPiecewise",span:e}}function q(e,t){return{type:"Colon",span:e,args:t}}function F(e,t){return{type:"Ellipsis",span:e,args:t}}function R(e,t){return{type:"Dot",span:e,args:t}}function V(e,t){return{type:"PercentOf",span:e,args:t}}function k(e,t){return{type:"Juxt",span:e,args:t}}function B(e,t){return{type:"Letter",span:e,val:t}}function j(e,t){return{type:"Decimal",span:e,val:t}}function z(e,t){return{type:"Cmd",span:e,val:r.translateCmd(t)}}function G(e,t){return{type:"Alphanumeric",span:e,val:t}}function U(e,t,r,n){return{type:"MixedNumber",span:e,whole:t,num:r,den:n}}function W(e){if("Subscript"===e.type){if("Alphanumeric"!==e.args[1].type)return!1;e=e.args[0]}switch(e.type){case"Cmd":case"Letter":return!0;default:return!1}}function Y(e){return"Superscript"===e.type&&W(e.args[0])}function X(e,t){if("Letter"!==e.type||"d"!==e.val)return!1;if("Juxt"!==t.type)return!1;var r=t.args,n=r[0],i=r[1];return"Letter"===n.type&&"d"===n.val&&W(i)}function H(e){return"Seq"===e.type?e.args:[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.Equals=n,t.Inequality=i,t.TrailingInequalityPiece=a,t.InequalityChain=o,t.Tilde=s,t.Pos=u,t.Neg=c,t.Add=l,t.Sub=p,t.Mul=f,t.Div=h,t.Bang=d,t.Call=m,t.ImplicitCall=y,t.Index=g,t.Paren=v,t.List=b,t.Pipes=x,t.Subscript=_,t.Superscript=S,t.Prime=M,t.Seq=E,t.Sqrt=D,t.Nthroot=w,t.Frac=T,t.Derivative=P,t.Integral=I,t.EmptyIntegral=C,t.Sum=O,t.Product=A,t.Piecewise=L,t.EmptyPiecewise=N,t.Colon=q,t.Ellipsis=F,t.Dot=R,t.PercentOf=V,t.Juxt=k,t.Letter=B,t.Decimal=j,t.Cmd=z,t.Alphanumeric=G,t.MixedNumber=U,t.isIdentifier=W,t.isSuperscriptedIdentifier=Y,t.isDerivative=X,t.unwrapSeq=H}),define("core/math/parser/surface-node-error",["require","exports"],function(e,t){"use strict";function r(e,t){return{type:"Err",span:e,error:t}}function n(){return{type:"UnexpectedParseError"}}function i(){return{type:"EmptyInput"}}function a(){return{type:"EmptyGroup"}}function o(){return{type:"EmptySubscript"}}function s(){return{type:"EmptySuperscript"}}function u(){return{type:"EmptyRadical"}}function c(){return{type:"EmptySquareBracket"}}function l(){return{type:"EmptyPipe"}}function p(){return{type:"EmptyRadicalIndex"}}function f(){return{type:"UnexpectedEnd"}}function h(e){return{type:"BinaryOperatorMissingRight",val:e}}function d(e){return{type:"BinaryOperatorMissingLeft",val:e}}function m(e){return{type:"UnaryOperatorMissingRight",val:e}}function y(e){return{type:"UnaryOperatorMissingLeft",val:e}}function g(e,t){return{type:"MissingCloseDelimiter",open:e,close:t}}function v(e,t){return{type:"UnexpectedCloseDelimiter",open:e,close:t}}function b(){return{type:"UnexpectedDifferential"}}function x(e){return{type:"UnrecognizedSymbol",val:e}}function _(e){return{type:"InvalidOperatorName",val:e}}function S(e){return{type:"InvalidSubscript",val:e}}function M(e){return{type:"UnexpectedSubscript",base:e}}function E(e){return{type:"FunctionMissingArgument",val:e}}function D(){return{type:"PercentMissingOf"}}function w(){return{type:"PrimeWithoutParen"}}function T(){return{type:"SuperscriptWithPrime"}}function P(){return{type:"UnexpectedPrime"}}function I(){return{type:"SumMissingBound"}}function C(){return{type:"ProductMissingBound"}}function O(){return{type:"MissingBound"}}function A(){return{type:"IntegralMissingBound"}}function L(){return{type:"SumMissingBody"}}function N(){return{type:"ProductMissingBody"}}function q(){return{type:"IntegralMissingBody"}}function F(){return{type:"DerivativeMissingBody"}}function R(){return{type:"IntegralMissingDifferential"}}function V(){return{type:"DifferentialWithSuperscript"}}function k(){return{type:"FractionMissingNumerator"}}function B(){return{type:"FractionMissingDenominator"}}function j(){return{type:"FractionEmpty"}}function z(e){return{type:"AdjacentNumbers",args:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Err=r,t.UnexpectedParseError=n,t.EmptyInput=i,t.EmptyGroup=a,t.EmptySubscript=o,t.EmptySuperscript=s,t.EmptyRadical=u,t.EmptySquareBracket=c,t.EmptyPipe=l,t.EmptyRadicalIndex=p,t.UnexpectedEnd=f,t.BinaryOperatorMissingRight=h,t.BinaryOperatorMissingLeft=d,t.UnaryOperatorMissingRight=m,t.UnaryOperatorMissingLeft=y,t.MissingCloseDelimiter=g,t.UnexpectedCloseDelimiter=v,t.UnexpectedDifferential=b,t.UnrecognizedSymbol=x,t.InvalidOperatorName=_,t.InvalidSubscript=S,t.UnexpectedSubscript=M,t.FunctionMissingArgument=E,t.PercentMissingOf=D,t.PrimeWithoutParen=w,t.SuperscriptWithPrime=T,t.UnexpectedPrime=P,t.SumMissingBound=I,t.ProductMissingBound=C,t.MissingBound=O,t.IntegralMissingBound=A,t.SumMissingBody=L,t.ProductMissingBody=N,t.IntegralMissingBody=q,t.DerivativeMissingBody=F,t.IntegralMissingDifferential=R,t.DifferentialWithSuperscript=V,t.FractionMissingNumerator=k,t.FractionMissingDenominator=B,t.FractionEmpty=j,t.AdjacentNumbers=z}),define("core/math/parser/expression-token-tables",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={"+":!0,"-":!0,"*":!0,"/":!0,"!":!0,"(":!0,")":!0,"\\\\{":!0,"\\\\}":!0,"(|":!0,"|)":!0,"[":!0,"]":!0,",":!0,"...":!0,":":!0,"=":!0,">":!0,"<":!0,">=":!0,"<=":!0,"~":!0,"%":!0,".":!0,Letter:!0,Decimal:!0,Cmd:!0,Differential:!0,End:!0,Trig:!0,Ln:!0,Log:!0,Int:!0,Sum:!0,Prod:!0,Err:!0};t.commandTable={"\\\\lt":"<","\\\\gt":">","\\\\le":"<=","\\\\ge":">=","\\\\ldots":"...","\\\\sim":"~","\\\\cdot":"*","\\\\times":"*","\\\\div":"/","\\\\ln":"Ln","\\\\log":"Log","\\\\int":"Int","\\\\sum":"Sum","\\\\prod":"Prod","\\\\backslash":"Err"};for(var n=["sin","cos","tan","cot","sec","csc"],i=0,a=n;i<a.length;i++){var o=a[i];t.commandTable["\\\\"+o]="Trig",t.commandTable["\\\\"+o+"h"]="Trig",t.commandTable["\\\\arc"+o]="Trig",t.commandTable["\\\\arc"+o+"h"]="Trig"}t.symbolTable={"+":"+","-":"-","*":"*","/":"/","!":"!","(":"(",")":")","[":"[","]":"]",",":",","...":"...",":":":","=":"=",">=":">=","<=":"<=",">":">","<":"<","~":"~",".":"."},t.escapedSymbolTable={"\\\\{":"\\\\{","\\\\}":"\\\\}","\\\\%":"%"},t.leftTable={"|":"(|","\\\\{":"\\\\{","[":"[","(":"("},t.rightTable={"|":"|)","\\\\}":"\\\\}","]":"]",")":")"},t.allTokenTypes=Object.keys(r)}),define("core/math/parser/expression-lexer",["require","exports","./expression-token-tables","./input-span","./input-span","./surface-node"],function(e,t,r,n,i,a){"use strict";function o(e,t,r,n,i,a,o,s){return{opts:e,input:t,prevSpan:r,startIndex:n,endIndex:i,token:a,mode:o,parent:s}}function s(e,t){return n.joinSpans(e.token.span,t.prevSpan)}function u(e,t){return n.joinSpans(e,t.prevSpan)}function c(e){return n.emptySpanAt(e.token.span.input,e.token.span.start)}function l(e,t){return{type:"Differential",span:e,val:t}}function p(e,t,r){return{type:e,span:t,val:r}}function f(e,t){return h(t,e,0,n.emptySpanAt(e.span.input,e.span.start),void 0,void 0)}function h(e,t,n,i,a,s){var u=t.args;if(n>u.length&&s)return m(s,i);n=P(u,n);var c=M(t,n,a),l=c.token,f=c.endIndex;if("End"===l.type&&s){var h=s.input.args[s.startIndex];if("LeftRight"===h.type){var d=h.right;return o(e,t,i,n,f,p(r.rightTable[d.val]||"Err",d.span,d.val),a,s)}}else"Int"===l.type?a=g(a):"Differential"===l.type&&(a=v(a));return o(e,t,i,n,f,l,a,s)}function d(e){var t=e.input.args[e.startIndex],r=e.token.span;return t&&"LeftRight"===t.type?h(e.opts,t.arg,0,r,e.mode,e):m(e,r)}function m(e,t){var r=e.input,n=e.endIndex,i=e.mode,a=e.parent;return h(e.opts,r,n+1,t,i,a)}function y(e){return e.token}function g(e){return{type:"integral",parent:e}}function v(e){if(!e||"integral"!==e.type)throw new Error("Programming Error: expected lexer to be in integral mode.");return e.parent}function b(e,t){return y(e).type===t}function x(e){return e.startIndex>=e.input.args.length}function _(e,t){return t.token.span.start>e.token.span.start}function S(e,t){return{token:t,endIndex:e}}function M(e,t,i){if(t>=e.args.length)return S(t,p("End",n.emptySpanAt(e.span.input,e.span.end),""));var a=e.args[t];switch(a.type){case"Sqrt":case"Frac":case"SupSub":return S(t,a);case"Letter":if(!i||"integral"!==i.type)return S(t,a);if("d"!=a.val)return S(t,a);var o=M(e,t+1,i),s=o.endIndex,u=o.token;if("Letter"===u.type||"Cmd"===u.type){return S(s,l(n.joinSpans(a.span,u.span),u.val))}return S(t,a);case"LeftRight":var c=a.left;return S(t,p(r.leftTable[c.val]||"Err",n.joinSpans(a.span,c.span),c.val));case"OperatorName":for(var f=[],h=0,d=a.arg.args;h<d.length;h++){var m=d[h];if("Letter"!==m.type)return S(t,p("Err",a.span,n.slice(a.arg.span)));f.push(m.val)}var y="\\\\"+f.join("");return S(t,p(r.commandTable[y]||"Cmd",a.span,y));case"Cmd":return S(t,p(r.commandTable[a.val]||"Cmd",a.span,a.val));case"EscapedSymbol":return S(t,p(r.escapedSymbolTable[a.val]||"Err",a.span,a.val));case"Symbol":if(I(a))return E(e,t);return S(t,p(r.symbolTable[a.val]||"Err",a.span,a.val));case"Digit":return D(e,t);default:throw"Unexpected atom "+a.type+"."}}function E(e,t){var i=e.args[t];if("Symbol"!==i.type||"."!==i.val)throw new Error("Programming Error: expected '.'");if(t+2<e.args.length&&I(e.args[t+1])&&I(e.args[t+2])){var a=n.joinSpans(i.span,e.args[t+2].span);return S(t+2,p("...",a,n.slice(a)))}var o=P(e.args,t+1);return o<e.args.length&&"Digit"===e.args[o].type?D(e,t):S(t,p(r.symbolTable[i.val]||"Err",i.span,i.val))}function D(e,t){var r=w(e,t);if(r)return r;for(var i=e.args,a=e.args[t].span,o=[],s=!1,u=!1;t<i.length;t++){var c=P(i,t);if(c>=i.length)break;var l=i[c];if("Digit"===l.type)t=c,s=!0,o.push(l.val);else{if(u||!I(l))break;if(c+1<i.length&&I(e.args[c+1]))break;t=c,u=!0,o.push(".")}}if(!s)throw new Error("Programming Error: decimals must have at least one digit.");return S(t-1,p("Decimal",n.joinSpans(a,e.args[t-1].span),o.join("")))}function w(e,t){for(var r=e.args,i=r[t].span,o=[];t<r.length;t++){var s=P(r,t);if(s>=r.length)break;var u=r[s];if("Digit"!==u.type)break;t=s,o.push(u.val)}if(!((t=P(r,t))>=r.length)){var c=r[t];if("Frac"===c.type){for(var l=[],p=[],f=0,h=c.num.args;f<h.length;f++){var u=h[f];if(!T(u)){if("Digit"!==u.type)return;l.push(u.val)}}for(var d=0,m=c.den.args;d<m.length;d++){var u=m[d];if(!T(u)){if("Digit"!==u.type)return;p.push(u.val)}}var y=n.joinSpans(i,c.span);return S(t,a.MixedNumber(y,o.join(""),l.join(""),p.join("")))}}}function T(e){switch(e.type){case"Sqrt":case"Frac":case"SupSub":case"LeftRight":case"OperatorName":case"Symbol":case"Letter":case"Digit":return!1;case"Cmd":return"\\\\space"===e.val;case"EscapedSymbol":return"\\\\ "===e.val||"\\\\:"===e.val||"\\\\,"===e.val||"\\\\;"===e.val;default:throw"Unexpected atom "+e.type+"."}}function P(e,t){for(;t<e.length&&T(e[t]);)t+=1;return t}function I(e){return"Symbol"===e.type&&"."===e.val}Object.defineProperty(t,"__esModule",{value:!0}),t.Span=i.Span,t.spanStates=s,t.joinState=u,t.emptySpanAtState=c,t.lex=f,t.lexAt=h,t.advance=d,t.peek=y,t.beginIntegral=g,t.endIntegral=v,t.isAt=b,t.isDone=x,t.didAdvance=_}),define("core/math/parser/precspec",["require","exports","./expression-token-tables"],function(e,t,r){"use strict";function n(e){return{type:"initial",tokenType:e}}function i(e){return{type:"l",tokenType:e}}function a(e){return{type:"r",tokenType:e}}function o(e){return{type:"la",tokenType:e}}function s(e){return{type:"ra",tokenType:e}}function u(e,t){for(var n=0,i=r.allTokenTypes;n<i.length;n++){var a=i[n];if(void 0===t[a])throw new Error("Programming Error: token "+a+" must be a assigned a "+e+" precedence")}}function c(e,t,r,n){if(void 0!==t[r])throw new Error("Programming Error: duplicate "+e+" entry for token "+r+".");t[r]=n}function l(e){function t(e){return o[e]}function r(e){return a[e]}function n(e){var r=i[e];return void 0===r?t(e):r}for(var i={},a={},o={},s=0;s<e.length;s++)for(var l=e[s],p=0,f=l;p<f.length;p++){var h=f[p],d=h.type,m=h.tokenType;switch(d){case"initial":c("initial",i,m,s);break;case"l":c("left",a,m,s);break;case"r":c("right",o,m,s);break;case"la":c("left",a,m,s),c("right",o,m,s);break;case"ra":c("left",a,m,s),c("right",o,m,s-1)}}return u("left",a),u("right",o),{rightPrec:t,leftPrec:r,initialPrec:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.initial=n,t.l=i,t.r=a,t.la=o,t.ra=s,t.precSpec=l}),define("core/math/parser/expression-parser",["require","exports","tslib","./surface-node","./surface-node-error","./input-span","./expression-lexer","./precspec"],function(e,t,r,n,i,a,o,s){"use strict";function u(e,t){var n=t?r.__assign(r.__assign({},A),t):A,a=c(e,n);return"Err"===a.type&&"EmptyGroup"===a.error.type?i.Err(a.span,i.EmptyInput()):a}function c(e,t){var r=o.lex(e,t);if(o.isDone(r))return i.Err(o.spanStates(r,r),i.EmptyGroup());var n=p(r,0),a=n.state,s=n.tree;return"Err"===s.type||o.isDone(a)?s:D(a).tree}function l(e,t){return{state:e,tree:t}}function p(e,t){var r,n,i,a=e;if(r=h(e),e=r.state,i=r.tree,"Err"===i.type)return l(e,i);if(!o.didAdvance(a,e))throw new Error("Programming Error: parseInitial did not advance state.");for(;!o.isDone(e);){var s=void 0;if(s=o.isAt(e,"(")&&!m(i)?C("("):I(o.peek(e).type),t>=s)break;var u=e;if(n=d(e,i),e=n.state,i=n.tree,"Err"===i.type)return l(e,i);if(!o.didAdvance(u,e))throw new Error("Programming Error: parseSuccessor did not advance state.")}return l(e,i)}function f(e){return"UnexpectedDifferential"===e.type||"UnexpectedCloseDelimiter"===e.type||"UnexpectedEnd"===e.type||"BinaryOperatorMissingLeft"===e.type}function h(e){var t,r,a,s,u,h,d,m,y,g,b,w,T,P,C,A,L,N,q,F=e,R=o.peek(e),V=O(R.type);switch(R.type){case"+":if(e=o.advance(e),t=p(e,V),e=t.state,q=t.tree,"Err"===q.type){if(!f(q.error))return l(e,q);var k=o.spanStates(F,e),B=i.Err(k,i.UnaryOperatorMissingRight(R.val));return l(e,B)}return l(e,n.Pos(o.spanStates(F,e),[q]));case"-":if(e=o.advance(e),r=p(e,V),e=r.state,q=r.tree,"Err"===q.type){if(!f(q.error))return l(e,q);var k=o.spanStates(F,e),B=i.Err(k,i.UnaryOperatorMissingRight(R.val));return l(e,B)}return l(e,n.Neg(o.spanStates(F,e),[q]));case"(":return S(e);case"\\\\{":return e=o.advance(e),o.isAt(e,"\\\\}")?(e=o.advance(e),l(e,n.EmptyPiecewise(o.spanStates(F,e)))):(a=p(e,V),e=a.state,q=a.tree,s=E(F,e,q,"\\\\{","\\\\}"),e=s.state,q=s.tree,"Err"===q.type?l(e,q):l(e,n.Piecewise(o.spanStates(F,e),[q])));case"[":if(e=o.advance(e),o.isAt(e,"]")){e=o.advance(e);var k=o.spanStates(F,e);return l(e,i.Err(k,i.EmptySquareBracket()))}return u=p(e,V),e=u.state,q=u.tree,h=E(F,e,q,"[","]"),e=h.state,q=h.tree,"Err"===q.type?l(e,q):l(e,n.List(o.spanStates(F,e),[q]));case"(|":if(e=o.advance(e),o.isAt(e,"|)")){e=o.advance(e);var k=o.spanStates(F,e);return l(e,i.Err(k,i.EmptyPipe()))}return d=p(e,V),e=d.state,q=d.tree,m=E(F,e,q,"(|","|)"),e=m.state,q=m.tree,"Err"===q.type?l(e,q):l(e,n.Pipes(o.spanStates(F,e),[q]));case"Frac":e=o.advance(e);var j=c(R.num,e.opts),z=c(R.den,e.opts);if("Err"===j.type&&"EmptyGroup"===j.error.type&&"Err"===z.type&&"EmptyGroup"===z.error.type){var k=o.spanStates(F,e),B=i.Err(k,i.FractionEmpty());return l(e,B)}if("Err"===j.type&&"EmptyGroup"===j.error.type){var k=o.spanStates(F,e),B=i.Err(k,i.FractionMissingNumerator());return l(e,B)}if("Err"===z.type&&"EmptyGroup"===z.error.type){var k=o.spanStates(F,e),B=i.Err(k,i.FractionMissingDenominator());return l(e,B)}if("Err"===j.type)return l(e,j);if("Err"===z.type)return l(e,z);if(n.isDerivative(j,z)&&"Juxt"===z.type){var G=z.args[1],U=void 0;if(y=p(e,I("*")-1),e=y.state,U=y.tree,"Err"===U.type){if(f(U.error)){var k=o.spanStates(F,e);return l(e,i.Err(k,i.DerivativeMissingBody()))}return l(e,U)}return l(e,n.Derivative(o.spanStates(F,e),[G,U]))}return l(e,n.Frac(o.spanStates(F,e),[j,z]));case"Sqrt":if(e=o.advance(e),R.optArg){var W=c(R.optArg,e.opts);if("Err"===W.type)return"EmptyGroup"===W.error.type?l(e,i.Err(W.span,i.EmptyRadicalIndex())):l(e,W);var Y=c(R.arg,e.opts);return"Err"===Y.type?"EmptyGroup"===Y.error.type?l(e,i.Err(Y.span,i.EmptyRadical())):l(e,Y):l(e,n.Nthroot(o.spanStates(F,e),[W,Y]))}var Y=c(R.arg,e.opts);return"Err"===Y.type?"EmptyGroup"===Y.error.type?l(e,i.Err(Y.span,i.EmptyRadical())):l(e,Y):l(e,n.Sqrt(o.spanStates(F,e),[Y]));case"Trig":case"Ln":e=o.advance(e);var X=n.Cmd(o.spanStates(F,e),R.val),H=0,Q=o.peek(e);if("SupSub"===Q.type){if(e=o.advance(e),Q.sub){var k=o.spanStates(F,e),B=i.Err(k,i.UnexpectedSubscript(X.val));return l(e,B)}var J=x(Q,e.opts);if(J){if("Err"===J.type)return l(e,J);X=n.Superscript(o.spanStates(F,e),[X,J])}H=Q.nprimes}var Z=o.isAt(e,"(");if(Z){if(g=S(e),e=g.state,q=g.tree,"Err"===q.type)return l(e,q);q=n.Call(o.spanStates(F,e),[X,q.args[0]])}else{if(b=p(e,V-1),e=b.state,q=b.tree,"Err"===q.type)return f(q.error)?l(e,i.Err(o.spanStates(F,e),i.FunctionMissingArgument(R.val))):l(e,q);q=n.ImplicitCall(o.spanStates(F,e),[X,q])}if(H>0){var k=o.spanStates(F,e);if(!Z){var B=i.Err(k,i.PrimeWithoutParen());return l(e,B)}q=n.Prime(k,H,[q])}return l(e,q);case"Log":e=o.advance(e);var X=n.Cmd(o.spanStates(F,e),R.val),H=0,K=void 0,J=void 0,Q=o.peek(e);if("SupSub"===Q.type&&(e=o.advance(e),K=v(Q,e.opts),J=x(Q,e.opts),H=Q.nprimes),K&&"Err"===K.type)return l(e,K);if(J&&"Err"===J.type)return l(e,J);var Z=o.isAt(e,"(");if(Z){if(w=S(e),e=w.state,q=w.tree,"Err"===q.type)return l(e,q);q=q.args[0]}else if(T=p(e,V-1),e=T.state,q=T.tree,"Err"===q.type)return f(q.error)?l(e,i.Err(o.spanStates(F,e),i.FunctionMissingArgument(R.val))):l(e,q);var $=K?n.Seq(o.spanStates(F,e),n.unwrapSeq(q).concat(K)):q,ee=K?n.Cmd(o.spanStates(F,e),"\\\\logbase"):X;if(J&&(ee=n.Superscript(o.spanStates(F,e),[ee,J])),q=Z?n.Call(o.spanStates(F,e),[ee,$]):n.ImplicitCall(o.spanStates(F,e),[ee,$]),H>0){var k=o.spanStates(F,e);if(!Z){var B=i.Err(k,i.PrimeWithoutParen());return l(e,B)}q=n.Prime(k,H,[q])}return l(e,q);case"Int":e=o.advance(e);var Q=o.peek(e);e=o.advance(e);var te=_(Q,F,e);if("Err"===te.type)return"MissingBound"===te.error.type?l(e,i.Err(te.span,i.IntegralMissingBound())):l(e,te);var J=te.sup,K=te.sub,G=void 0;if(o.isAt(e,"Differential"))return P=M(e),e=P.state,G=P.tree,"Err"===G.type?l(e,G):l(e,n.EmptyIntegral(o.spanStates(F,e),[G,K,J]));if(C=p(e,V),e=C.state,q=C.tree,"Err"===q.type)return f(q.error)?l(e,i.Err(q.span,i.IntegralMissingBody())):l(e,q);var re=q;return o.isAt(e,"Differential")?(A=M(e),e=A.state,G=A.tree,"Err"===G.type?l(e,G):l(e,n.Integral(o.spanStates(F,e),[G,K,J,re]))):l(e,i.Err(o.spanStates(F,e),i.IntegralMissingDifferential()));case"Sum":e=o.advance(e);var Q=o.peek(e);e=o.advance(e);var te=_(Q,F,e);if("Err"===te.type)return"MissingBound"===te.error.type?l(e,i.Err(te.span,i.SumMissingBound())):l(e,te);var J=te.sup,K=te.sub;return L=p(e,V),e=L.state,q=L.tree,"Err"===q.type?f(q.error)?l(e,i.Err(q.span,i.SumMissingBody())):l(e,q):l(e,n.Sum(o.spanStates(F,e),[q,K,J]));case"Prod":e=o.advance(e);var Q=o.peek(e);e=o.advance(e);var te=_(Q,F,e);if("Err"===te.type)return"MissingBound"===te.error.type?l(e,i.Err(te.span,i.ProductMissingBound())):l(e,te);var J=te.sup,K=te.sub;return N=p(e,V),e=N.state,q=N.tree,"Err"===q.type?f(q.error)?l(e,i.Err(q.span,i.ProductMissingBody())):l(e,q):l(e,n.Product(o.spanStates(F,e),[q,K,J]));case"Cmd":return e=o.advance(e),q=n.Cmd(o.spanStates(F,e),R.val),l(e,q);case"Letter":return e=o.advance(e),q=n.Letter(o.spanStates(F,e),R.val),l(e,q);case"Decimal":e=o.advance(e);var ne=n.Decimal(o.spanStates(F,e),R.val),Q=e.token;if("Decimal"===Q.type||"MixedNumber"===Q.type){var ie=e;e=o.advance(e);var k=o.spanStates(F,e),ae="MixedNumber"===Q.type?Q:n.Decimal(o.spanStates(ie,e),Q.val);return l(e,i.Err(k,i.AdjacentNumbers([ne,ae])))}return l(e,ne);case"MixedNumber":return e=o.advance(e),l(e,R);case"*":case"/":case",":case"=":case">":case"<":case">=":case"<=":case"~":case":":case"...":case"%":case".":e=o.advance(e);var k=o.spanStates(F,e),B=i.Err(k,i.BinaryOperatorMissingLeft(R.val));return l(e,B);case"!":e=o.advance(e);var k=o.spanStates(F,e),B=i.Err(k,i.UnaryOperatorMissingLeft(R.val));return l(e,B);case"SupSub":e=o.advance(e);var oe="supsub";R.sub?oe="subscript":R.sup?oe="superscript":R.nprimes>0&&(oe="prime");var k=o.spanStates(F,e),B=i.Err(k,i.UnaryOperatorMissingLeft(oe));return l(e,B);case")":case"\\\\}":case"]":case"|)":case"Differential":return D(e);case"Err":e=o.advance(e);var k=o.spanStates(F,e),B=i.Err(k,i.UnrecognizedSymbol(R.val));return l(e,B);case"End":var k=o.spanStates(F,e),B=i.Err(k,i.UnexpectedEnd());return l(e,B);default:throw"Unexpected token type "+R.type+"."}}function d(e,t){var r,a,s,u,c,h,d,m,v,_,M,T,P,I,O,A=o.peek(e),L=C(A.type);switch(A.type){case"+":case"-":case"*":case"/":case"=":case"~":case":":case".":if(e=o.advance(e),r=p(e,L),e=r.state,O=r.tree,"Err"===O.type){if(f(O.error)){var N=o.joinState(t.span,e),q=i.Err(N,i.BinaryOperatorMissingRight(A.val));return l(e,q)}return l(e,O)}return l(e,y(A.type,o.joinState(t.span,e),[t,O]));case"%":e=o.advance(e);var F=o.peek(e);if("Cmd"!==F.type||"of"!==F.val&&"\\\\of"!==F.val){var q=i.Err(A.span,i.PercentMissingOf());return l(e,q)}if(e=o.advance(e),a=p(e,L),e=a.state,O=a.tree,"Err"===O.type){if(f(O.error)){var N=o.joinState(t.span,e),q=i.Err(N,i.BinaryOperatorMissingRight(A.val));return l(e,q)}return l(e,O)}return l(e,n.PercentOf(o.joinState(t.span,e),[t,O]));case">=":case"<=":case">":case"<":var R=A.type;if(e=o.advance(e),s=g(e,R),e=s.state,R=s.symbol,u=p(e,L),e=u.state,O=u.tree,"Err"===O.type){if(f(O.error)){var N=o.joinState(t.span,e),q=i.Err(N,i.BinaryOperatorMissingRight(A.val));return l(e,q)}return l(e,O)}for(var V=n.Inequality(o.joinState(t.span,e),R,[t,O]),k=[],B=o.peek(e).type;">="===B||"<="===B||">"===B||"<"===B;){var j=e;if(R=B,e=o.advance(e),c=g(e,R),e=c.state,R=c.symbol,h=p(e,L),e=h.state,O=h.tree,"Err"===O.type){if(f(O.error)){var N=o.joinState(t.span,e),q=i.Err(N,i.BinaryOperatorMissingRight(A.val));return l(e,q)}return l(e,O)}k.push(n.TrailingInequalityPiece(o.spanStates(j,e),R,[O])),B=o.peek(e).type}return k.length?l(e,n.InequalityChain(o.joinState(t.span,e),V,k)):l(e,V);case"!":return e=o.advance(e),l(e,n.Bang(o.joinState(t.span,e),[t]));case"[":var j=e;if(e=o.advance(e),o.isAt(e,"]")){e=o.advance(e);var N=o.spanStates(j,e);return l(e,i.Err(N,i.EmptySquareBracket()))}return d=p(e,L),e=d.state,O=d.tree,m=E(j,e,O,"[","]"),e=m.state,O=m.tree,"Err"===O.type?l(e,O):l(e,n.Index(o.joinState(t.span,e),[t,O]));case"Sqrt":case"Frac":case"Letter":case"Cmd":case"Trig":case"Ln":case"Log":case"Sum":case"Int":case"Prod":case"Decimal":case"MixedNumber":case"\\\\{":case"(|":return v=p(e,L),e=v.state,O=v.tree,"Err"===O.type?l(e,O):l(e,n.Juxt(o.joinState(t.span,e),[t,O]));case"(":if(n.isIdentifier(t)){if(_=S(e),e=_.state,O=_.tree,"Err"===O.type)return l(e,O);var N=o.joinState(t.span,e);return l(e,n.Call(N,[t,O.args[0]]))}if("Prime"===t.type&&n.isIdentifier(t.args[0])){if(M=S(e),e=M.state,O=M.tree,"Err"===O.type)return l(e,O);var N=o.joinState(t.span,e);return l(e,n.Prime(N,t.nprimes,[n.Call(N,[t.args[0],O.args[0]])]))}return T=p(e,L),e=T.state,O=T.tree,"Err"===O.type?l(e,O):l(e,n.Juxt(o.joinState(t.span,e),[t,O]));case"SupSub":e=o.advance(e);var z=b(A),G=x(A,e.opts);if(z&&"Err"===z.type)return l(e,z);if(G&&"Err"===G.type)return l(e,G);if(z&&(t=n.Subscript(o.joinState(t.span,e),[t,z])),G&&(t=n.Superscript(o.joinState(t.span,e),[t,G])),A.nprimes>0){var N=o.joinState(t.span,e);if(!n.isIdentifier(t)){var q=i.Err(N,i.UnexpectedPrime());return l(e,q)}t=n.Prime(N,A.nprimes,[t])}return l(e,t);case",":for(var U=[t];o.isAt(e,",")&&(e=o.advance(e),!o.isAt(e,"..."))&&(!e.opts.trailingComma||!w(e));){if(P=p(e,L),e=P.state,O=P.tree,"Err"===O.type){if(f(O.error)){var N=o.joinState(t.span,e),q=i.Err(N,i.BinaryOperatorMissingRight(A.val));return l(e,q)}return l(e,O)}U.push(O)}return l(e,n.Seq(o.joinState(t.span,e),U));case"...":if(e=o.advance(e),o.isAt(e,",")&&(e=o.advance(e)),I=p(e,L),e=I.state,O=I.tree,"Err"===O.type){if(f(O.error)){var N=o.joinState(t.span,e),q=i.Err(N,i.BinaryOperatorMissingRight(A.val));return l(e,q)}return l(e,O)}return l(e,n.Ellipsis(o.joinState(t.span,e),[t,O]));case"]":case")":case"\\\\}":case"|)":case"Differential":return D(e);case"Err":return p(e,L);case"End":var N=o.spanStates(e,e),q=i.Err(N,i.UnexpectedEnd());return l(e,q);default:throw"Unexpected token type "+A.type+"."}}function m(e){return!!n.isIdentifier(e)||!("Prime"!==e.type||!n.isIdentifier(e.args[0]))}function y(e,t,r){switch(e){case"+":return n.Add(t,r);case"-":return n.Sub(t,r);case"*":return n.Mul(t,r);case"/":return n.Div(t,r);case"=":return n.Equals(t,r);case"~":return n.Tilde(t,r);case":":return n.Colon(t,r);case".":return n.Dot(t,r);default:throw"Unexpected token type "+e+"."}}function g(e,t){if(!o.isAt(e,"="))return{state:e,symbol:t};switch(t){case">":e=o.advance(e),t=">=";break;case"<":e=o.advance(e),t="<="}return{state:e,symbol:t}}function v(e,t){if(e.sub){var r=e.sub,n=c(r,t);return"Err"===n.type&&"EmptyGroup"===n.error.type?i.Err(n.span,i.EmptySubscript()):n}}function b(e){if(e.sub){var t=e.sub;if(0===t.args.length)return i.Err(t.span,i.EmptySubscript());for(var r=[],o=0,s=t.args;o<s.length;o++){var u=s[o];if("Digit"!==u.type&&"Letter"!==u.type){var c=u.span;return i.Err(c,i.InvalidSubscript(a.slice(c)))}r.push(u.val)}return n.Alphanumeric(t.span,r.join(""))}}function x(e,t){if(e.sup){var r=c(e.sup,t);return"Err"===r.type?"EmptyGroup"===r.error.type?i.Err(r.span,i.EmptySuperscript()):r:e.nprimes>0?i.Err(e.span,i.SuperscriptWithPrime()):r}}function _(e,t,r){if("SupSub"!==e.type){var n=o.spanStates(t,r)
;return i.Err(n,i.MissingBound())}if(e.nprimes>0){var n=o.spanStates(t,r);return i.Err(n,i.UnexpectedPrime())}var a=v(e,r.opts),s=x(e,r.opts);if(!a||"Err"===a.type&&"EmptySubscript"===a.error.type||!s||"Err"===s.type&&"EmptySuperscript"===s.error.type){var n=o.spanStates(t,r);return i.Err(n,i.MissingBound())}return"Err"===a.type?a:"Err"===s.type?s:{type:"Bounds",sup:s,sub:a}}function S(e){var t,r,i=e,a=o.peek(e),s=O(a.type);if(!o.isAt(e,"("))throw new Error("Programming Error: expected '(' at start of parseParen.");if(e=o.advance(e),o.isAt(e,")")){var u=n.Seq(o.emptySpanAtState(e),[]);e=o.advance(e);var c=o.spanStates(i,e);return l(e,n.Paren(c,[u]))}var f;return t=p(e,s),e=t.state,f=t.tree,r=E(i,e,f,"(",")"),e=r.state,f=r.tree,"Err"===f.type?l(e,f):l(e,n.Paren(o.spanStates(i,e),[f]))}function M(e){var t=e,r=o.peek(e);if("Differential"!==r.type)throw new Error("Programming Error: expected differential");e=o.advance(e);var a=n.Cmd(r.span,r.val),s=o.peek(e);if("SupSub"===s.type){e=o.advance(e);var u=o.spanStates(t,e),c=b(s);if(c){if("Err"===c.type)return l(e,c);a=n.Subscript(u,[a,c])}if(s.sup)return l(e,i.Err(u,i.DifferentialWithSuperscript()));if(s.nprimes>0)return l(e,i.Err(u,i.UnexpectedPrime()))}return l(e,a)}function E(e,t,r,n,a){if("Err"===r.type&&"UnexpectedEnd"!==r.error.type)return l(t,r);if("Err"===r.type||!o.isAt(t,a)){var s=o.spanStates(e,t);return l(t,i.Err(s,i.MissingCloseDelimiter(n,a)))}return t=o.advance(t),l(t,r)}function D(e){var t=e;switch(o.peek(e).type){case")":e=o.advance(e);var r=o.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedCloseDelimiter("(",")")));case"]":e=o.advance(e);var r=o.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedCloseDelimiter("[","]")));case"\\\\}":e=o.advance(e);var r=o.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedCloseDelimiter("\\\\{","\\\\}")));case"|)":e=o.advance(e);var r=o.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedCloseDelimiter("|","|")));case"Differential":e=o.advance(e);var r=o.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedDifferential()));default:e=o.advance(e);var r=o.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedParseError()))}}function w(e){return o.isAt(e,")")||o.isAt(e,"]")||o.isAt(e,"\\\\}")}Object.defineProperty(t,"__esModule",{value:!0});var T=[[s.initial("("),s.la(")"),s.initial("\\\\{"),s.la("\\\\}"),s.r("["),s.la("]"),s.initial("(|"),s.la("|)"),s.la("Differential"),s.la("End")],[s.ra("...")],[s.la(",")],[s.ra(":")],[s.la("="),s.la(">"),s.la("<"),s.la(">="),s.la("<="),s.la("~")],[s.la("+"),s.la("-")],[s.la("*"),s.la("/"),s.la("Decimal"),s.la("MixedNumber"),s.la("Letter"),s.la("Cmd"),s.la("%"),s.r("("),s.la("\\\\{"),s.la("(|"),s.la("Frac"),s.la("Sqrt"),s.la("Trig"),s.la("Ln"),s.la("Log"),s.ra("Int"),s.ra("Sum"),s.ra("Prod")],[s.initial("+"),s.initial("-")],[s.la("!")],[s.la("SupSub")],[s.l("["),s.la(".")],[s.l("(")],[s.la("Err")]],P=s.precSpec(T),I=P.leftPrec,C=P.rightPrec,O=P.initialPrec,A={trailingComma:!1};t.parse=u}),define("core/math/inverses",[],function(){"use strict";var e={};return["sin","cos","tan","cot","sec","csc","sinh","cosh","tanh","coth","sech","csch"].forEach(function(t){e[t]="arc"+t,e["arc"+t]=t}),e}),define("core/math/parser/lower",["require","exports","core/math/inverses","core/math/errormsg","tslib","./input-span","./surface-node","../maybe-rational"],function(e,t,r,n,i,a,o,s){"use strict";function u(e,t){return l(e,t)}function c(e,t){for(var r=[],n=0;n<t.length;n++)r.push(h(e,t[n]));return r}function l(e,t){return e.setInput(p(e,t),t.span)}function p(e,t){var r=e.nodes;switch(t.type){case"Equals":var i=t.args,a=i[0],s=i[1];if("Call"===a.type){var u=a.args,l=u[0],p=u[1],m=o.unwrapSeq(p);if(o.isIdentifier(l)&&m.every(o.isIdentifier))return r.FunctionDefinition(h(e,l),c(e,m),h(e,s))}else if(o.isIdentifier(a))return r.Assignment(h(e,a),h(e,s));return r.Equation(h(e,a),h(e,s));case"Tilde":var y=c(e,t.args),a=y[0],s=y[1];return r.Regression(a,s);case"Inequality":return S(e,t);case"InequalityChain":if(t.chain.length>1)throw n.inequalityChainTooLong();var g=t.first,v=g.symbol,b=g.args,x=b[0],_=b[1],M=t.chain[0],E=M.symbol,D=M.args[0];return o.isIdentifier(_)?r.DoubleInequality([h(e,x),v,h(e,_),E,h(e,D)]):S(e,t);case"Seq":if(!t.args.every(f))throw n.malformedPoint();return r.List(c(e,t.args));case"Call":var w=t.args,T=w[0],P=w[1];if("Cmd"===T.type)switch(T.val){case"polygon":return r.Polygon(c(e,o.unwrapSeq(P)));case"histogram":return r.Histogram(c(e,o.unwrapSeq(P)));case"cube":case"sphere":case"cone":case"dodecahedron":case"octahedron":case"tetrahedron":return r.Object3D(c(e,o.unwrapSeq(P)),T.val);case"dotplot":return r.DotPlot(c(e,o.unwrapSeq(P)));case"boxplot":return r.BoxPlot(c(e,o.unwrapSeq(P)));case"ttest":return r.TTest(c(e,o.unwrapSeq(P)));case"ittest":return r.IndependentTTest(c(e,o.unwrapSeq(P)));case"stats":return r.Stats(c(e,o.unwrapSeq(P)));default:return d(e,t)}return d(e,t);default:return d(e,t)}}function f(e){if("Paren"!==e.type)return!1;var t=e.args[0];return"Seq"===t.type&&2===t.args.length}function h(e,t){return e.setInput(d(e,t),t.span)}function d(e,t){var r=e.nodes;switch(t.type){case"Pos":return d(e,t.args[0]);case"Neg":for(var i=-1,u=t.args[0];;)if("Pos"===u.type||"Paren"===u.type)u=u.args[0];else{if("Neg"!==u.type)break;u=u.args[0],i*=-1}switch(u.type){case"Decimal":var l=E(u);return r.Constant(-1===i?s.neg(l):l);case"MixedNumber":var l=D(u);return r.MixedNumber(-1===i?s.neg(l):l);default:return-1===i?r.Negative([h(e,u)]):d(e,u)}case"Add":return r.Add(c(e,t.args));case"Sub":return r.Subtract(c(e,t.args));case"Mul":return r.Multiply(c(e,t.args));case"Div":return r.Divide(c(e,t.args));case"Bang":var p=t.args[0];return"Call"===p.type?r.FunctionFactorial(c(e,p.args)):r.FunctionCall("\\\\factorial",c(e,t.args));case"PercentOf":return r.PercentOf(c(e,t.args));case"Call":return b(e,t);case"ImplicitCall":return M(t),b(e,t);case"Dot":var f=t.args[1],m=c(e,t.args),y=m[0],g=m[1];if("Cmd"===f.type&&"random"===f.val){var v=a.emptySpanAt(f.span.input,f.span.end),_=e.setInput(I(e),v);g=e.setInput(r.SeededFunctionCall(g,[_]),f.span)}return r.DotAccess([y,g]);case"Prime":var S=t.args[0];if("Call"===S.type){var P=S.args,O=P[0],A=P[1],L=o.unwrapSeq(A).length;if("Cmd"===O.type&&"logbase"===O.val){if(2!==L)throw n.primedFunctionArity()}else if(1!==L)throw n.primedFunctionArity();return r.Prime(t.nprimes,c(e,t.args))}throw"ImplicitCall"===S.type?n.primeWithoutParen():n.unexpectedPrime();case"Index":return r.ListAccess(c(e,t.args));case"Paren":var N=t.args[0];return"Seq"===N.type?r.OrderedPair(c(e,N.args)):d(e,N);case"List":var q=t.args[0];if("Ellipsis"===q.type){var F=q.args,R=F[0],V=F[1];return r.Range([r.List(c(e,o.unwrapSeq(R))),r.List(c(e,o.unwrapSeq(V)))])}return r.List(c(e,o.unwrapSeq(q)));case"Pipes":return r.FunctionCall("\\\\abs",c(e,t.args));case"Subscript":var k=t.args,B=k[0],j=k[1];if(0===j.val.length)throw n.emptySubscript();var z=void 0;switch(B.type){case"Letter":case"Cmd":z=B.val;break;default:throw n.unexpectedSubscript()}return r.Identifier(z+"_"+j.val);case"Superscript":var G=t.args,B=G[0],U=G[1];return"Call"!==B.type||"Seq"===B.args[1].type||w(B)?"Dot"===B.type?r.DotAccessExponent(c(e,[B.args[0],B.args[1],U])):r.Exponent(c(e,t.args)):r.FunctionExponent(c(e,[B.args[0],B.args[1],U]));case"Sqrt":return r.FunctionCall("sqrt",c(e,t.args));case"Nthroot":return r.FunctionCall("nthroot",c(e,[t.args[1],t.args[0]]));case"Frac":return r.Divide(c(e,t.args));case"Derivative":var W=c(e,t.args);if(!o.isIdentifier(t.args[0]))throw n.parseError();return r.Derivative(W[0],[W[1]]);case"Integral":var Y=t.args,X=Y[0],H=Y[1],Q=Y[2],J=Y[3],W=c(e,[X,H,Q,J]);return r.Integral(W);case"EmptyIntegral":var Z=c(e,t.args),X=Z[0],K=Z[1],Q=Z[2],J=r.Constant(s.maybeRational(1,1));return r.Integral([X,K,Q,J]);case"Sum":var $=t.args,ee=$[0],te=$[1],Q=$[2];if("Equals"!=te.type)throw n.incorrectSumLowerBound();if(!o.isIdentifier(te.args[0]))throw n.incorrectSumLowerBound();var W=c(e,[te.args[0],te.args[1],Q]),re=h(C(e,W[0]),ee);return r.Sum(W.concat(re));case"Product":var ne=t.args,ee=ne[0],ie=ne[1],Q=ne[2];if("Equals"!=ie.type)throw n.incorrectProductLowerBound();if(!o.isIdentifier(ie.args[0]))throw n.incorrectProductLowerBound();var W=c(e,[ie.args[0],ie.args[1],Q]),re=h(C(e,W[0]),ee);return r.Product(W.concat(re));case"Juxt":return r.Multiply(c(e,t.args));case"Letter":return r.Identifier(t.val);case"Cmd":var ae=t.val;if("ans"===ae){if(void 0===e.currentIndex)throw n.badAnsContext();return r.Ans("ans_{"+(e.currentIndex-1)+"}")}if("approx"===ae)throw n.unrecognizedSymbol(ae);return r.Identifier(ae);case"Decimal":return r.Constant(E(t));case"MixedNumber":return r.MixedNumber(D(t));case"Piecewise":return x(e,t);case"EmptyPiecewise":if(!r.Piecewise.empty)throw n.featureUnavailable();return r.Piecewise.empty();case"Equals":throw n.unexpectedSymbol("=");case"Inequality":case"InequalityChain":throw n.unexpectedInequality();case"Tilde":throw n.unexpectedSymbol("~");case"Seq":throw n.unexpectedSymbol(",");case"Colon":throw n.unexpectedSymbol(":");case"Ellipsis":throw n.unexpectedSymbol("...");case"Err":throw T(t.error);default:throw"Unexpected surface node "+t.type+"."}}function m(e){return r.hasOwnProperty(e)}function y(e){return"ln"===e||"log"===e||"logbase"===e}function g(e){return"Decimal"===e.type&&"2"===e.val}function v(e){return"Neg"===e.type&&(e=e.args[0],"Decimal"===e.type&&"1"===e.val)}function b(e,t){var i=e.nodes,s=t.args,u=s[0],l=s[1],p=h(e,u),f=o.unwrapSeq(l),d=c(e,f);if("Cmd"===u.type&&"random"===u.val){var b=a.emptySpanAt(l.span.input,l.span.start),x=e.setInput(I(e),b);return i.SeededFunctionCall(p,[x].concat(d))}if(o.isIdentifier(u))return i.FunctionCall(p,d);if("Superscript"===u.type){var _=u.args,S=_[0],M=_[1];if("Cmd"===S.type){var E=S.val;if(m(E)||y(E)){if(g(M))return i.Exponent([i.FunctionCall(E,d),h(e,M)]);if(v(M)&&void 0!==r[E])return i.FunctionCall(r[E],d);throw m(E)?n.badTrigExponent(E):n.badLogExponent("logbase"===E?"log":E)}}}return i.Multiply([p,h(e,l)])}function x(e,t){var r,i=e.nodes,a=t.args[0],u=o.unwrapSeq(a),c=[];e:for(r=0;r<u.length;r++){var l=u[r];switch(l.type){case"Colon":var p=l.args,f=p[0],d=p[1];if(!_(f))throw n.colonMissingCondition();c.push({condition:S(e,f),if_expr:h(e,d)});break;case"Equals":case"Inequality":case"InequalityChain":c.push({condition:S(e,l),if_expr:i.Constant(s.maybeRational(1,1))});break;default:break e}}if(0===r)throw n.piecewiseMissingCondition();if(r<u.length-1)throw n.piecewisePartMissingCondition();if(r===u.length-1&&c.push({condition:i.Constant(!0),if_expr:h(e,u[r])}),!i.Piecewise.chain)throw n.featureUnavailable();return i.Piecewise.chain(c)}function _(e){return"Equals"===e.type||"Inequality"===e.type||"InequalityChain"===e.type}function S(e,t){var r=e.nodes;switch(t.type){case"Equals":return r.Comparator["="](c(e,t.args));case"Inequality":return r.Comparator[t.symbol](c(e,t.args));case"InequalityChain":if(t.chain.length>1)throw n.inequalityChainTooLong();var i=t.first,s=i.symbol,u=i.args,l=u[0],p=u[1],f=t.chain[0],h=f.symbol,d=f.args[0],m=a.emptySpanAt(t.span.input,t.span.start);return r.And([S(e,o.Inequality(m,s,[l,p])),S(e,o.Inequality(m,h,[p,d]))]);default:throw n.parseError()}}function M(e){var t=e.args,r=t[0],i=t[1];if("Superscript"===r.type&&(r=r.args[0]),"Cmd"===r.type&&"logbase"===r.val&&"Seq"===i.type&&2===i.args.length){if(!P(i.args[0]))throw n.badImplicitCall("log")}else if(!P(i)){if("Cmd"===r.type)throw n.badImplicitCall(r.val);throw n.parseError()}}function E(e){return s.fromDecimalString(e.val)}function D(e){var t=s.fromDecimalString(e.whole),r=s.fromDecimalString(e.num),n=s.fromDecimalString(e.den);return s.add(t,s.div(r,n))}function w(e){if("Call"!==e.type)return!1;for(var t=e.args[0];"Superscript"===t.type||"Subscript"===t.type||"Prime"===t.type;)t=t.args[0];return"Cmd"===t.type&&(m(t.val)||y(t.val))}function T(e){switch(e.type){case"UnexpectedParseError":case"MissingBound":case"EmptyGroup":case"UnexpectedDifferential":case"UnexpectedEnd":return n.parseError();case"InvalidOperatorName":return n.invalidOperatorName();case"UnexpectedCloseDelimiter":case"MissingCloseDelimiter":return n.mismatchedBraces(e.open,e.close);case"UnrecognizedSymbol":return"."===e.val?n.unexpectedSymbol(e.val):n.unrecognizedSymbol(e.val);case"EmptyInput":return n.blankExpression();case"BinaryOperatorMissingRight":case"BinaryOperatorMissingLeft":return n.binaryOperatorMissingOperand("%"===e.val?"% of":e.val);case"UnaryOperatorMissingLeft":return n.unaryOperatorMissingLeft(e.val);case"UnaryOperatorMissingRight":return n.unaryOperatorMissingRight(e.val);case"UnexpectedSubscript":return n.cannotSubscript(e.base);case"PercentMissingOf":return n.percentMissingOf();case"SumMissingBound":return n.sumMissingBound();case"ProductMissingBound":return n.productMissingBound();case"IntegralMissingBound":return n.integralMissingBound();case"SumMissingBody":return n.sumMissingBody();case"ProductMissingBody":return n.productMissingBody();case"IntegralMissingBody":return n.integralMissingBody();case"DerivativeMissingBody":return n.derivativeMissingBody();case"IntegralMissingDifferential":return n.integralMissingDifferential();case"DifferentialWithSuperscript":return n.differentialWithSuperscript();case"FractionMissingNumerator":return n.fractionMissingNumerator();case"FractionMissingDenominator":return n.fractionMissingDenominator();case"FractionEmpty":return n.fractionEmpty();case"EmptySuperscript":return n.emptySuperscript();case"EmptySubscript":return n.emptySubscript();case"InvalidSubscript":return n.invalidSubscript(e.val);case"SuperscriptWithPrime":return n.superscriptWithPrime();case"PrimeWithoutParen":return n.primeWithoutParen();case"UnexpectedPrime":return n.unexpectedPrime();case"EmptyRadical":return n.emptyRadical();case"EmptyRadicalIndex":return n.emptyRadicalIndex();case"EmptySquareBracket":return n.emptySquareBracket();case"EmptyPipe":return n.emptyPipe();case"FunctionMissingArgument":return n.wrongArity(e.val,1,0);case"AdjacentNumbers":var t=e.args[0].val,r=void 0;switch(e.args[1].type){case"Decimal":r=e.args[1].val;break;case"MixedNumber":r=e.args[1].whole+" "+e.args[1].num+"/"+e.args[1].den;break;default:throw"Unexpected type "+e.args[1].type+" as right member of AdjacentNumbers."}return n.adjacentNumbers(t,r);default:throw"Unexpected surface node "+e.type+"."}}function P(e){switch(e.type){case"Letter":case"Decimal":case"MixedNumber":case"Cmd":case"EmptyPiecewise":return!0;case"Neg":for(var t=e.args[0];;)if("Pos"===t.type||"Paren"===t.type)t=t.args[0];else{if("Neg"!==t.type)break;t=t.args[0]}return"Decimal"===t.type||"MixedNumber"===t.type;case"Pos":case"Paren":return P(e.args[0]);case"Juxt":case"Mul":case"Div":return P(e.args[0])&&P(e.args[1]);case"Subscript":return P(e.args[0]);case"Superscript":case"Frac":case"Add":case"Sub":return P(e.args[0])&&P(e.args[1]);case"Piecewise":var t=e.args[0];return"Equals"===t.type||"Inequality"===t.type||"InequalityChain"===t.type;case"Call":var r=e.args,n=r[0],i=r[1];return!o.isIdentifier(n)&&!o.isSuperscriptedIdentifier(n)&&(P(n)&&P(i));case"Derivative":case"Sqrt":case"Nthroot":case"Pipes":case"Bang":return!1;case"Neg":case"Equals":case"Inequality":case"InequalityChain":case"Tilde":case"ImplicitCall":case"Index":case"List":case"Seq":case"Integral":case"EmptyIntegral":case"Sum":case"Product":case"Colon":case"Ellipsis":case"Dot":case"PercentOf":case"Prime":return!1;default:throw"Unexpected surface node "+e.type+"."}}function I(e){var t=e.nodes.ExtendSeed("",[e.nodes.Identifier("globalRandomSeed"),e.nodes.Seed(e.nextSeed())]);if(!e.seedExtensions)return t;for(var r=0,n=e.seedExtensions;r<n.length;r++){var i=n[r];t=e.nodes.ExtendSeed("ro",[t,i])}return t}function C(e,t){var r=e.seedExtensions||[];return i.__assign(i.__assign({},e),{seedExtensions:r.concat(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.lower=u}),define("core/math/baseparser",["require","exports","core/math/errormsg","parsenodes","core/math/parser/latex-parser","core/math/parser/expression-parser","core/math/parser/lower"],function(e,t,r,n,i,a,o){"use strict";function s(){throw r.featureUnavailable()}function u(e,t){return e.setInputSpan(t),e}function c(e,t){var c=typeof e;if("string"!==c)throw new Error("Type Error: parse can only be called with strings, got "+JSON.stringify(e)+" of type "+c);t=t||{};var l=n;if(t.disabledFeatures){l=Object.create(l);for(var p=0,f=t.disabledFeatures;p<f.length;p++){var h=f[p];if(!l[h])throw new Error("Programming Error: "+h+" cannot be disabled because it is not a parsenode.");l[h]=s}}var d=void 0===t.seedPrefix?"":t.seedPrefix,m=0,y=function(){var e=d+"::vc"+m;return m+=1,e},g={nodes:l,currentIndex:t.index,setInput:u,nextSeed:y},v=void 0!==t.trailingComma?{trailingComma:t.trailingComma}:{};try{var b=i.parse(e),x=a.parse(b,v);return o.lower(g,x)}catch(e){return e instanceof n.Error?e:"string"==typeof e?n.Error(e):r.parseError()}}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=c}),define("core/math/rational-arithmetic-sequence",["require","core/math/distance","core/math/builtin"],function(e){"use strict";function t(e,t){var i=n.toFraction(e),a=n.toFraction(t);if(r.approx(i.n/i.d,e)&&r.approx(a.n/a.d,t)){var o=n.lcm(i.d,a.d),s=i.n*(o/i.d);return{nstart:s,nstep:a.n*(o/a.d)-s,lcm:o}}}var r=e("core/math/distance"),n=e("core/math/builtin");return t}),define("core/math/sliders",["require","exports"],function(e,t){"use strict";function r(e,t){var r=Math.round(1e6*e)/1e6;return Math.abs(r-e)<t?r:e}function n(e){var t=!0,r=!0,n=!0;if(void 0!==e.hardMin&&e.target<e.hardMin&&(t=!1),void 0!==e.hardMax&&e.target>e.hardMax&&(r=!1),e.step){i({target:e.target,step:e.step,hardMin:t?e.hardMin:void 0,hardMax:r?e.hardMax:void 0})!==e.target&&(n=!1)}return{min:t,max:r,step:n}}function i(e){var t=e.target,n=e.hardMin,i=e.hardMax,a=e.step,o=1e-10;if(void 0!==n&&void 0!==i&&(o=Math.min(o,Math.abs(i-n)/1e3)),a&&(o=Math.min(o,a/10)),void 0!==n&&(n=r(n,o)),void 0!==i&&(i=r(i,o)),n>i)return n;if(t<=n)return n;if(t>=i)return i;if(a){var s=void 0!==n?n:0;t=a*Math.round((t-s)/a)+s}var u=r(t,o);return a?t=u:n===u?t=u:i===u&&(t=u),t<=n?n:t>=i?i:t}Object.defineProperty(t,"__esModule",{value:!0}),t.roundToReasonableDecimal=r,t.determineWhichLimitsAreCompatibleWithValue=n,t.constrainSliderValueLikeEvaluator=i}),define("core/math/features/getConcreteTree",["require","parsenodes","core/math/errormsg","core/math/types","core/lib/label","core/math/distance","core/math/maybe-rational","core/math/rational-arithmetic-sequence","core/math/sliders"],function(e){"use strict";function t(e,t,r,n){for(var i=[],a=0;a<e.length;a++)i.push(e[a].getConcreteTree(t,r,n));return i}function r(){return this.getDependencies().concat([this._symbol])}function n(e){return e===d.Distribution||d.isList(e)}function i(e,t,r,i){var a=i.length-1,o=e[t];if(!o)throw h.unexpectedSymbol(".");if(o.isError)throw o;if(!o.isFunction)throw h.unexpectedSymbol(".");if(!o.allowDotCalls)throw h.illegalDotCall(r);var s,u="random"===t;if(s=u?i[1].valueType:i[0].valueType,!n(s))throw h.dotLHSTypeError("."+r,d.prettyPrint(s));if(a<o.dotMinArity){if(u)throw h.randomArity();throw h.wrongArity("."+r,o.dotMinArity,a)}if(a>o.dotMaxArity){if(u)throw h.randomArity();throw h.wrongArity("."+r,o.dotMaxArity,a)}}function a(e,r,n,a,o,s){var u=t(n,a,o,s);return i(o,e,r,u),o[e].getConcreteInvocationTree(a,o,u,r,s)}function o(e,t){return e.isError?e:-1===t.indexOf(e.valueType)?h.parseError():e}function s(e,t,r){if(!t)return void(r.valids[e]=!0);var n=t.getDependencies();if(t.isError)r.errors[e]=!0;else if(n.length>0){r.errors[e]=!0;for(var i=0;i<n.length;i++)n[i]===r.exportedSymbol?r.errors.cycle=!0:r.missingVars.push(n[i])}else r.values[e]=t.asValue();r.valids[e]=isFinite(r.values[e]),r.valids[e]||(r.values[e]=void 0)}function u(e,t,r,n,i,a){if(n<t.length&&!y.approx(a,t.elementAt(e,n).asValue(),10))throw h.nonArithmeticRange();if(i-n<=r.length&&i-n>1&&!y.approx(a,r.elementAt(e,r.length-i+n).asValue(),10))throw h.nonArithmeticRange()}function c(e,t){for(var r=!1,n=!1,i=0;i<e.length;i++){var a=e[i];(a.isList||a.isBroadcast)&&(n=!0);for(var o=a.getDependencies(),s=0;s<o.length;s++)if(-1!==t.indexOf(o[s])){if(a.isList||a.isBroadcast)return"list"}else r=!0}return n?r?"broadcast":"list":"none"}function l(e){var t,r=[],n=[],i=[];for(t=0;t<e.length;t++){var a,o=e[t];if(o.isList){for(var s=!1,u=0;u<i.length;u++)if(o===i[u]){s=!0,a=f.DummyIndex(n[u]),a.valueType=d.elementType(o.valueType),r.push(a);break}if(!s){var c=f.Base.prototype.tmpVar();n.push(c),i.push(o),a=f.DummyIndex(c),a.valueType=d.elementType(o.valueType),r.push(a)}}else o.isBroadcast?(Array.prototype.push.apply(n,o._replacedSymbols),Array.prototype.push.apply(i,o._lists),r.push(o._expression)):r.push(o)}return{replacedArgs:i,concreteArgs:r,replacedSymbols:n}}function p(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(!t[this._symbol])throw h.functionUnsupported(this._symbol);var n=this.args.map(function(r){return r.getConcreteTree(e,t)});if(n.length>0){if(1===n.length&&n.push(f.Constant(1)),n[1].getDependencies().length)throw h.illegalBinWidth(this._symbol).setDependencies(n[1].getDependencies());if(n[1].valueType!==d.Number)throw h.illegalBinWidth(this._symbol);var i=n[1].asValue();if(!isFinite(i)||i<=0)throw h.illegalBinWidth(this._symbol)}return this.typeCheck(e,n),new this.constructor(n)}var f=e("parsenodes"),h=e("core/math/errormsg"),d=e("core/math/types"),m=e("core/lib/label"),y=e("core/math/distance"),g=e("core/math/maybe-rational"),v=g.maybeRational,b=e("core/math/rational-arithmetic-sequence"),x=f.List,_=f.OrderedPair,S=f.ScalarExpression,M=f.Constant,E=f.ExtendSeed,D=f.Multiply,w=f.Identifier,T=f.DummyIndex,P=f.BuiltInFunction,I=e("core/math/sliders");f.Base.prototype.tryGetConcreteTree=function(){var e;try{e=this.getConcreteTree.apply(this,arguments)}catch(t){e=t instanceof f.Base?t:h.parseError()}return e},f.Base.prototype.getConcreteTree=function(e,t,r){if(r)return this._getConcreteTree(e,t,r);if(this.isConcreteTreeCacheValid(t))return this.__cachedConcreteTree.value;for(var n=this._getConcreteTree(e,t,r),i={},a=this.getCacheKeys().slice();;){if(!a.length)break;var o=a.pop();if(!i.hasOwnProperty(o)){var s=t[o];i[o]=s,s&&Array.prototype.push.apply(a,s.getCacheKeys())}}return this.__cachedConcreteTree={keys:i,value:n},n},f.Base.prototype.getCacheKeys=function(){return this.getDependencies()},f.Histogram.prototype.getCacheKeys=r,f.Object3D.prototype.getCacheKeys=r,f.DotPlot.prototype.getCacheKeys=r,f.BoxPlot.prototype.getCacheKeys=r,f.TTest.prototype.getCacheKeys=r,f.IndependentTTest.prototype.getCacheKeys=r,f.Base.prototype.isConcreteTreeCacheValid=function(e){if(!this.__cachedConcreteTree)return!1;for(var t in this.__cachedConcreteTree.keys)if(this.__cachedConcreteTree.keys.hasOwnProperty(t)&&e[t]!==this.__cachedConcreteTree.keys[t])return!1;return!0},f.PercentOf.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):f.Divide([f.Multiply(this.args),f.Constant(v(100,1))]).getConcreteTree(e,t,r)},f.Assignment.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):this._expression.getConcreteTree(e,t,r)},f.Identifier.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=m.latexToIdentifier(this.getInputString()),i=t[this._symbol];if(i){if(i.isError)throw i;if(i.isFunction)throw h.identifierAsFunction(n);return i.getConcreteTree(e,t,r)}if(P.hasOwnProperty(this._symbol))throw h.functionUnsupported(n);return f.FreeVariable(this._symbol)},f.Ans.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(void 0===t[this._symbol])throw h.ansUndefined();return w.prototype._getConcreteTree.call(this,e,t,r)},f.Equation.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):this.asComparator().getConcreteTree(e,t,r)},f.Constant.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):new this.constructor(this._constantValue)},f.Seed.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):new this.constructor(this._stringValue)},f.Derivative.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n;if(t[this._symbol]){var i=Object.create(t);i[this._symbol]=f.FreeVariable(this._symbol);var a=t[this._symbol].getConcreteTree(e,t,r);if(a.valueType!==d.Number&&a.valueType!==d.ListOfNumber)throw h.derivativeVariableTypeError(this._symbol,[d.prettyPrint(a.valueType)]);var o={};return o[this._symbol]=a,n=this.args[0].getConcreteTree(e,i,r),this.typeCheck(e,[n]),n.takeDerivative(this._symbol).substitute(o).getConcreteTree(e,t,r)}return n=this.args[0].getConcreteTree(e,t,r),this.typeCheck(e,[n]),n.takeDerivative(this._symbol).getConcreteTree(e,t,r)},f.DoubleInequality.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):new this.constructor([f.Piecewise([this._indicator,this._expressions[0],M(NaN)]).getConcreteTree(e,t,r),this._operators[0],w(this._symbol),this._operators[1],f.Piecewise([this._indicator,this._expressions[1],M(NaN)]).getConcreteTree(e,t,r)])},f.Expression.prototype._getConcreteTree=function(e,r,n){if(n&&n[this.type])return n[this.type].call(this,e,r,n);var i=t(this.args,e,r,n);return this.typeCheck(e,i),this._constantCollapsedCopy(e,i)},f.Error.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):this},f.FreeVariable.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):this},f.FunctionCall.prototype._getConcreteTree=function(e,r,n){if(n&&n[this.type])return n[this.type].call(this,e,r,n);var i="logbase"===this._symbol?"log":m.latexToIdentifier(this._identifier.getInputString()),a=r[this._symbol];if(a&&a.isError)throw a;if(!a||!a.isFunction){if(P.hasOwnProperty(this._symbol))throw"logbase"===this._symbol&&r.ln&&r.log?h.logbaseUnsupported():h.functionUnsupported(i);if(a&&a.getConcreteTree(e,r,n).valueType===d.Distribution)throw h.distributionAsFunction(a._symbol);if(1==this.args.length){var o=[w(this._symbol),this.args[0]];return D(o).getConcreteTree(e,r,n)}if(a)throw h.variableAsFunction(i);throw h.functionNotDefined(i)}var s=t(this.args,e,r,n);return a.getConcreteInvocationTree(e,r,s,i,n)},f.DotAccess.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n,i,o=this.args[0],s=this.args[1];if(s instanceof f.Identifier)return"x"===s._symbol?f.OrderedPairAccess([o,f.Constant(1)]).getConcreteTree(e,t,r):"y"===s._symbol?f.OrderedPairAccess([o,f.Constant(2)]).getConcreteTree(e,t,r):(i=m.latexToIdentifier(s.getInputString()),n=[o],a(s._symbol,i,n,e,t,r));if(s instanceof f.SeededFunctionCall)return i=m.latexToIdentifier(s._identifier.getInputString()),n=[s.seed,o].concat(s.args.slice(1)),a(s._symbol,i,n,e,t,r);if(s instanceof f.FunctionCall)return"x"===s._symbol&&1===s.args.length?f.Multiply([f.OrderedPairAccess([o,f.Constant(1)]),s.args[0]]).getConcreteTree(e,t,r):"y"===s._symbol&&1===s.args.length?f.Multiply([f.OrderedPairAccess([o,f.Constant(2)]),s.args[0]]).getConcreteTree(e,t,r):(i=m.latexToIdentifier(s._identifier.getInputString()),n=[o].concat(s.args),a(s._symbol,i,n,e,t,r));throw h.unexpectedSymbol(".")},f.DotAccessExponent.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):"FunctionCall"!==this.args[1].type||1!==this.args[1].args.length||t[this.args[1]._symbol]&&t[this.args[1]._symbol].isFunction?f.Exponent([f.DotAccess([this.args[0],this.args[1]]),this.args[2]]).getConcreteTree(e,t,r):f.Multiply([f.DotAccess([this.args[0],f.Identifier(this.args[1]._symbol)]),f.Exponent([this.args[1].args[0],this.args[2]])]).getConcreteTree(e,t,r)},f.FunctionExponent.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.args[0]._symbol;return t[n]&&t[n].isFunction?f.Exponent([f.FunctionCall(n,[this.args[1]]),this.args[2]]).getConcreteTree(e,t,r):D([this.args[0],f.Exponent([this.args[1],this.args[2]])]).getConcreteTree(e,t,r)},f.FunctionFactorial.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.args[0]._symbol;return t[n]&&t[n].isFunction?f.FunctionCall("\\\\factorial",[f.FunctionCall(n,[this.args[1]])]).getConcreteTree(e,t,r):D([this.args[0],f.FunctionCall("\\\\factorial",[this.args[1]])]).getConcreteTree(e,t,r)},f.FunctionDefinition.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);for(var n=0;n<this._argSymbols.length;n++){if(t[this._argSymbols[n]])throw h.parameterAlreadyDefined(this._argSymbols[n]);if(this._argSymbols[n]===this._symbol)throw h.parameterAlreadyDefined(this._argSymbols[n])}return this._expression.getConcreteTree(e,t,r)},f.Image.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.center.tryGetConcreteTree(e,t,r),i=this.radianAngle.tryGetConcreteTree(e,t,r),a=this.width.tryGetConcreteTree(e,t,r),s=this.height.tryGetConcreteTree(e,t,r),u=this.opacity.tryGetConcreteTree(e,t,r),c=[d.Point,d.ListOfPoint],l=[d.Number,d.ListOfNumber];return n=o(n,c),i=o(i,l),a=o(a,l),s=o(s,l),u=o(u,l),f.Image({center:n,radianAngle:i,width:a,height:s,opacity:u},this.moveStrategy)},f.Slider.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this._expression.getConcreteTree(e,t,r),i=this.sliderMin&&this.sliderMin.tryGetConcreteTree(e,t,r),a=this.sliderMax&&this.sliderMax.tryGetConcreteTree(e,t,r),o=this.sliderStep&&this.sliderStep.tryGetConcreteTree(e,t,r),u={exportedSymbol:this._symbol,errors:{},values:{},valids:{},missingVars:[],errMsg:void 0};if(s("min",i,u),s("max",a,u),s("step",o,u),o&&u.valids.step&&(0===u.values.step?delete u.values.step:u.values.step=Math.abs(u.values.step)),u.errors.cycle?n=h.sliderLimitReferencesExport(u.exportedSymbol):(u.errors.min||!u.valids.min?u.errMsg=h.sliderMinInvalid():u.errors.max||!u.valids.max?u.errMsg=h.sliderMaxInvalid():!u.errors.step&&u.valids.step||(u.errMsg=h.sliderStepInvalid()),u.values.min>u.values.max&&(u.valids.min=!1,u.valids.max=!1,u.errMsg||(u.errMsg=h.sliderMaxLessThanMin()))),n.isConstant){var c=I.constrainSliderValueLikeEvaluator({target:n.asValue(),hardMin:u.values.min,hardMax:u.values.max,step:u.values.step}),l=g.fromDecimalString(c.toString()),p=isFinite(g.asFloat(l))?l:c;n=M(p)}return n.sliderInfo=u,n},f.Integral.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(t[this._differential._symbol])throw h.shadowedIntegrationVariable(this._differential._symbol);var n=this.args[0],i=this.args[1].getConcreteTree(e,t),a=this.args[2].getConcreteTree(e,t);if(i.dependsOn(n._symbol)||a.dependsOn(n._symbol))throw h.badIntegralBoundDependency(n._symbol);var o=Object.create(t);return o[this._differential._symbol]=T(this._differential._symbol),S.prototype._getConcreteTree.call(this,e,o,r)},f.ListAccess.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.index.getConcreteTree(e,t,r),i=this.list.getConcreteTree(e,t,r),a=[i,n];return this.typeCheck(e,a),this._constantCollapsedCopy(e,a)},f.List.prototype._getConcreteTree=function(e,r,n){if(n&&n[this.type])return n[this.type].call(this,e,r,n);var i=t(this.args,e,r,n);return this.typeCheck(e,i),new this.constructor(i)},f.ParametrizedReducerFunction.prototype._getConcreteTree=function(e,r,n){if(n&&n[this.type])return n[this.type].call(this,e,r,n);if(this.args[0]instanceof f.List&&this.args[0].valueType===d.ListOfDistribution)return f.List(f.List.mapArgs(e,[this.args[0]],function(t){return this.copyWithArgs([t[0],this.args[1]]).getConcreteTree(e,r,n)}.bind(this)));if(this.args[0]instanceof f.Distribution)return this.args[0][this._symbol](this.args.slice(1)).getConcreteTree(e,r,n);var i=t(this.args,e,r,n);switch(c([i[1]],this.getDummyDependencies())){case"none":
return this.typeCheck(e,i),this._constantCollapsedCopy(e,i);case"list":return f.List(f.List.mapArgs(e,[i[1]],function(t){return t=[i[0]].concat(t),this.typeCheck(e,t),this._constantCollapsedCopy(e,t)}.bind(this)));case"broadcast":var a=l([i[1]]),o=[i[0]].concat(a.concreteArgs);return this.typeCheck(e,o),f.Broadcast(a.replacedSymbols,[this.copyWithArgs(o)].concat(a.replacedArgs))}},f.Prime.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.args[0],i=n.args[0];if(!t[n._symbol])throw h.functionNotDefined(n._symbol);var a,o=this.tmpVar();if("logbase"===n._symbol){if(2!==n.args.length)throw h.primedFunctionArity();a=[w(o),n.args[1]]}else{if(1!==n.args.length)throw h.primedFunctionArity();a=[w(o)]}for(var s=n.copyWithArgs(a).getConcreteTree(e,t,r),u=0;u<this.order;u++)s=s.takeDerivative(o);var c={};return c[o]=i,s.substitute(c).getConcreteTree(e,t,r)},f.Range.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.beginning.getConcreteTree(e,t,r),i=this.end.getConcreteTree(e,t,r);if(n.getDependencies().length)throw h.variableRange(n.getDependencies());if(i.getDependencies().length)throw h.variableRange(i.getDependencies());if(!n.isList||!i.isList)throw new Error("Programming Error: range bounds must be List nodes.");var a,o,s=n.elementAt(e,0).asValue(),c=i.elementAt(e,i.length-1).asValue(),l=c-s;if(1===n.length)a=l>=0?1:-1;else{var p=n.elementAt(e,1).asValue();o=b(s,p),a=n.elementAt(e,1).asValue()-s}var f=Math.round(l/a)+1;if(!isFinite(f)||f<n.length||f<i.length)throw h.nonArithmeticRange();var d,m,y=[];if(o){var g=o.nstart;for(d=0;d<f;d++)u(e,n,i,d,f,g/o.lcm),y.push(M(v(g,o.lcm))),g+=o.nstep}else for(y.push(M(s)),d=1;d<f;d++)m=s+d*a,u(e,n,i,d,f,m),y.push(M(v(m,1)));return x(y)},f.ReducerFunction.prototype._getConcreteTree=function(e,r,n){if(n&&n[this.type])return n[this.type].call(this,e,r,n);if(this.args[0]instanceof f.List&&this.args[0].valueType===d.ListOfDistribution&&"length"!==this._symbol)return f.List(f.List.mapArgs(e,this.args,function(t){return this.copyWithArgs(t).getConcreteTree(e,r,n)}.bind(this)));if(this.args[0]instanceof f.Distribution&&"length"!==this._symbol)return this.args[0][this._symbol]().getConcreteTree(e,r,n);var i=t(this.args,e,r,n);if(1===this.args.length)return i=[f.List.wrap(i[0])],this.typeCheck(e,i),this._constantCollapsedCopy(e,i);switch(c(i,this.getDummyDependencies())){case"none":return i=[f.List(i)],this.typeCheck(e,i),this._constantCollapsedCopy(e,i);case"list":return f.List(f.List.mapArgs(e,i,function(t){return t=[f.List(t)],this.typeCheck(e,t),this._constantCollapsedCopy(e,t)}.bind(this)));case"broadcast":var a=l(i);return i=[f.List(a.concreteArgs)],this.typeCheck(e,i),f.Broadcast(a.replacedSymbols,[this.copyWithArgs(i)].concat(a.replacedArgs))}},f.RepeatedOperator.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(t[this._index._symbol])throw h.shadowedIndex(this._index._symbol);var n=this.args[1].getConcreteTree(e,t),i=this.args[2].getConcreteTree(e,t);if(n.dependsOn(this._index._symbol)||i.dependsOn(this._index._symbol))throw this instanceof f.Sum?h.badSumBoundDependency(this._index._symbol):this instanceof f.Product?h.badProductBoundDependency(this._index._symbol):h.parseError();var a=Object.create(t);return a[this._index._symbol]=T(this._index._symbol),S.prototype._getConcreteTree.call(this,e,a,r)};var C=function(e,r,n){if(n&&n[this.type])return n[this.type].call(this,e,r,n);var i=t(this.args,e,r,n);switch(c(i,this.getDummyDependencies())){case"none":return this.typeCheck(e,i),this._constantCollapsedCopy(e,i);case"list":return f.List(f.List.mapArgs(e,i,function(t){return this.typeCheck(e,t),this._constantCollapsedCopy(e,t)}.bind(this)));case"broadcast":var a=l(i);return this.typeCheck(e,a.concreteArgs),f.Broadcast(a.replacedSymbols,[this.copyWithArgs(a.concreteArgs)].concat(a.replacedArgs))}};f.ScalarExpression.prototype._getConcreteTree=C,f.Object3D.prototype._getConcreteTree=C,f.Regression.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):new this.constructor(this._lhs,this._rhs)},f.Polygon.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.args.map(function(r){return r.getConcreteTree(e,t)});return this.typeCheck(e,n),1===n.length&&n[0].valueType===d.ListOfPoint?new this.constructor(n):n.every(function(e){return e.valueType===d.Point})?new this.constructor([x(n)]):2===n.length?new this.constructor([_(this.args).getConcreteTree(e,t)]):h.parseError()},f.Histogram.prototype._getConcreteTree=p,f.DotPlot.prototype._getConcreteTree=p,f.BoxPlot.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(!t[this._symbol])throw h.functionUnsupported(this._symbol);var n=this.args.map(function(r){return r.getConcreteTree(e,t)});return this.typeCheck(e,n),1===n.length&&n[0].valueType===d.ListOfNumber?new this.constructor(n):h.parseError()},f.TTest.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(!t[this._symbol])throw h.functionUnsupported(this._symbol);var n=this.args.map(function(r){return r.getConcreteTree(e,t)});return this.typeCheck(e,n),new this.constructor(n)},f.IndependentTTest.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(!t[this._symbol])throw h.functionUnsupported(this._symbol);var n=this.args.map(function(r){return r.getConcreteTree(e,t)});return this.typeCheck(e,n),new this.constructor(n)},f.SolvedEquation.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):new this.constructor(this._symbol,this._expression.getConcreteTree(e,t,r))},f.Table.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);for(var n=[],i=Object.create(t),a=0;a<this.columns.length;a++){var o=this.columns[a].getConcreteTree(e,i,t,r);o.isIndependent&&this.columns[a].exportToLocal(o,i),n.push(o)}return new this.constructor(n)},f.TableColumn.prototype._getConcreteTree=function(e,t,r){var n,i,a=this.header.getConcreteTree(e,t);if(a.isFreeVariable){n=[];for(var o=0;o<this.values.length;o++)if(this.values[o].tableError())n.push(h.invalidTableEntry(this.values[o].tableError()));else{var s=this.values[o].tryGetConcreteTree(e,t);s.isError?n.push(s):s.tableError()?n.push(h.invalidTableEntry(s.tableError())):s.valueType===d.Number?n.push(s):n.push(h.tableEntryTypeError([d.prettyPrint(s.valueType)]))}return i=new this.constructor(a,this.length,n),i.isIndependent=!0,i}if(a.isConstant){for(var u=[],c=0;c<this.length;c++)u.push(a);n=u}else n=a.isList?a.args.slice():[];return a=this.header.getConcreteTree(e,r),a.isError||a.valueType===d.Number||a.valueType===d.ListOfNumber||(a=h.tableHeaderTypeError([d.prettyPrint(a.valueType)])),i=new this.constructor(a,this.length,n)},f.BuiltInFunction.pdf.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(this.args[0]instanceof x)return f.List(f.List.mapArgs(e,this.args,function(n){return this.copyWithArgs(n).getConcreteTree(e,t,r)}.bind(this)));if(this.typeCheck(e,this.args),!(this.args[0]instanceof f.Distribution))throw h.functionTypeError(this._symbol,[d.prettyPrint(this.args[0].valueType)]);return this.args[0].pdf([this.args[1]]).getConcreteTree(e,t,r)},f.BuiltInFunction.cdf.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.args;if(2===n.length&&(n=[n[0],f.Constant(-1/0),n[1]]),n[0]instanceof f.List)return f.List(f.List.mapArgs(e,n,function(n){return this.copyWithArgs(n).getConcreteTree(e,t,r)}.bind(this)));if(this.typeCheck(e,n),!(n[0]instanceof f.Distribution))throw h.functionTypeError(this._symbol,[d.prettyPrint(n[0].valueType)]);return n[0].cdf(n.slice(1)).getConcreteTree(e,t,r)},f.BuiltInFunction.random.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.args;(n.length<=1||!(n[1]instanceof f.Distribution)&&!(n[1]instanceof f.List)&&n.length<4)&&(n=[n[0],P.uniformdist([])].concat(n.slice(1)));var i=n[0],a=n[1],o=n[2],s=n[3];if(this.typeCheck(e,n.slice(1)),o&&o.getDependencies().length)throw h.variableSampleSize(o.getDependencies());if(s&&s.getDependencies().length)throw h.variableSeed(s.getDependencies());if(s&&(i=E("us",[i,s])),o){var u=o.asValue();if(u<1)throw h.badSampleSize();u=Math.round(u);for(var c,l=[],p=0;p<u;p++)c=E("lc",[i,M(v(p,1))]),l.push(a.sample([c]).getConcreteTree(e,t,r));return x(l)}return a.sample([i]).getConcreteTree(e,t,r)}}),define("core/math/features/getValueType",["require","parsenodes","core/math/types"],function(e){"use strict";function t(){return s.Number}function r(){return s.Bool}function n(){return s.Point}function i(){return s.Distribution}function a(){return s.Any}var o=e("parsenodes"),s=e("core/math/types"),u={Add:t,Multiply:t,Divide:t,Subtract:t,Exponent:t,Negative:t,And:r,Piecewise:function(e){return e[1].valueType},BaseComparator:r,RepeatedOperator:t,List:function(e){if(0===e.length)return s.ListOfAny;for(var t=e[0].valueType,r=1;r<e.length;r++)if(e[r].valueType!==t)return s.ListOfAny;return s.hasListType(t)?s.listType(t):s.ListOfAny},ListAccess:function(e){return s.elementType(e[0].valueType)},Broadcast:function(e){return s.listType(e[0].valueType)},Seed:function(e){return s.SeedType},ExtendSeed:function(e){return s.SeedType},OrderedPairAccess:t,OrderedPair:n,NativeFunction:t,ReducerFunction:t,DoubleReducerFunction:t,ParametrizedReducerFunction:t,Distribution:i,DummyIndex:t,FreeVariable:t,TypedFunction:function(){return this._outputType},Derivative:t,Integral:t,Identifier:a};for(var c in u)o[c].prototype._getValueType=u[c]}),define("core/math/features/typeCheck",["require","parsenodes","core/math/types","core/math/errormsg"],function(e){"use strict";function t(e){for(var t=[],r=0;r<e.length;r++)t.push(a.prettyPrint(e[r].valueType));return t}function r(e,r){return function(n,i){for(var a=0;a<i.length;a++)if(i[a].valueType!==e[a])throw r(t(i))}}function n(e,t){var r=t.length;if(r<2)throw o.methodRequiresList(this._symbol);if(t[0].valueType!==a.ListOfNumber)throw o.methodRequiresList(this._symbol);if(r>2)throw o.tooManyArguments(this._symbol,2)}var i=e("parsenodes"),a=e("core/math/types"),o=e("core/math/errormsg"),s={Add:r([a.Number,a.Number],o.addTypeError),Multiply:r([a.Number,a.Number],o.multiplyTypeError),Divide:r([a.Number,a.Number],o.divideTypeError),Subtract:r([a.Number,a.Number],o.subtractTypeError),Exponent:r([a.Number,a.Number],o.exponentTypeError),Negative:r([a.Number],o.negativeTypeError),BaseComparator:r([a.Number,a.Number],o.comparatorTypeError),And:r([a.Bool,a.Bool],o.andTypeError),ExtendSeed:function(e,t){if(2!==t.length||t[0].valueType!==a.SeedType||t[1].valueType!==a.SeedType&&t[1].valueType!==a.Number)throw o.functionUnsupported("random")},List:function(e,t){if(0!==t.length){var r=t[0].valueType;if(!a.hasListType(r))throw o.listTypeError([a.prettyPrint(r)]);for(var n=0;n<t.length;n++){var i=t[n].valueType;if(!a.hasListType(i))throw o.listTypeError([a.prettyPrint(i)]);if(i!==r)throw o.heterogeneousList()}}},Broadcast:function(e,t){},Distribution:function(e,t){},OrderedPair:function(e,t){if(0===t.length)throw o.emptyParen();if(e.dimensions&&t.length!==e.dimensions())throw o.badTupleDimensions(e.dimensions());for(var r=0;r<t.length;r++){var n=t[r].valueType;if(n!==a.Number)throw o.pointTypeError(a.prettyPrint(n))}},Piecewise:function(e,r){if(r[0].valueType!==a.Bool)throw o.piecewiseConditionTypeError(t(r));if(r[1].valueType!==a.Number)throw o.piecewiseBranchTypeError([a.prettyPrint(r[1].valueType)]);if(r[2].valueType!==a.Number)throw o.piecewiseBranchTypeError([a.prettyPrint(r[2].valueType)])},ListAccess:function(e,r){if(!a.isList(r[0].valueType)||r[1].valueType!==a.Number)throw o.indexTypeError(t(r))},OrderedPairAccess:r([a.Point,a.Number],o.orderedPairAccessTypeError),Sum:function(e,t){if(t[1].valueType!==a.Number)throw o.sumLowerBoundTypeError([a.prettyPrint(t[1].valueType)]);if(t[2].valueType!==a.Number)throw o.sumUpperBoundTypeError([a.prettyPrint(t[2].valueType)]);if(t[3].valueType!==a.Number)throw o.sumArgumentTypeError([a.prettyPrint(t[3].valueType)])},Product:function(e,t){if(t[1].valueType!==a.Number)throw o.productLowerBoundTypeError([a.prettyPrint(t[1].valueType)]);if(t[2].valueType!==a.Number)throw o.productUpperBoundTypeError([a.prettyPrint(t[2].valueType)]);if(t[3].valueType!==a.Number)throw o.productArgumentTypeError([a.prettyPrint(t[3].valueType)])},Integral:function(e,t){if(t[1].valueType!==a.Number)throw o.integralLowerBoundTypeError([a.prettyPrint(t[1].valueType)]);if(t[2].valueType!==a.Number)throw o.integralUpperBoundTypeError([a.prettyPrint(t[2].valueType)]);if(t[3].valueType!==a.Number)throw o.integralArgumentTypeError([a.prettyPrint(t[3].valueType)])},NativeFunction:function(e,r){var n=this._errorSymbol,i=r.length,s="logbase"===this._symbol?1:0;if(i<this._requiredArity)throw o.wrongArity(n,this._requiredArity-s,i-s);if(i>this._maxArity)throw o.wrongArity(n,this._maxArity-s,i-s);for(var u=0;u<r.length;u++){if(r[u].valueType!==a.Number)throw o.functionTypeError(n,t(r))}},ReducerFunction:function(e,r){if(r[0].valueType!==a.ListOfNumber)throw o.functionTypeError(this._symbol,t(r))},DoubleReducerFunction:function(e,r){if(!a.isList(r[0].valueType)||!a.isList(r[1].valueType))throw o.nonListDoubleReducer(this._symbol);if(r[0].valueType!==a.ListOfNumber||r[1].valueType!==a.ListOfNumber)throw o.functionTypeError(this._symbol,t(r))},ParametrizedReducerFunction:function(e,r){if(r[0].valueType!==a.ListOfNumber)throw o.nonListParametrizedReducer(this._symbol);if(r[1].valueType!==a.Number)throw o.functionTypeError(this._symbol,t(r))},TypedFunction:function(e,r){var n=this._errorSymbol,i=r.length,a="pdf"===this._symbol,s="cdf"===this._symbol;if(i<this._requiredArity){if(a)throw o.pdfWrongArity();if(s)throw o.cdfRequiresArguments();throw o.wrongArity(n,this._requiredArity,i)}if(i>this._maxArity){if(a)throw o.pdfWrongArity();if(s)throw o.cdfTooManyArguments();throw o.wrongArity(n,this._maxArity,i)}for(var u=0;u<r.length;u++){var c=r[u].valueType,l=this._inputTypes[u],p=Array.isArray(l);if(!p&&c!==l||p&&-1===l.indexOf(c))throw o.functionTypeError(n,t(r))}},Derivative:function(e,r){if(r[0].valueType!==a.Number&&r[0].valueType!==a.ListOfNumber)throw o.derivativeTypeError(t(r))},Regression:function(e,r){if(r[0].valueType!==a.Number&&r[0].valueType!==a.ListOfNumber||r[1].valueType!==a.Number&&r[1].valueType!==a.ListOfNumber)throw o.regressionTypeError(t(r))},Polygon:function(e,r){if(1===r.length&&r[0].valueType!==a.ListOfPoint)throw o.polygonListTypeError(t(r));if(2===r.length&&r[0].valueType===a.Number&&r[1].valueType===a.Number)throw o.polygonTwoNumbersError();if(r.length>2&&!r.every(function(e){return e.valueType===a.Point}))throw o.polygonPointArgsError()},Object3D:function(e,t){if(t.length<3)throw o.wrongArity(this._symbol,3,t.length)},Histogram:n,DotPlot:n,BoxPlot:function(e,t){var r=t.length,n=t[0];if(0===r)throw o.methodRequiresList(this._symbol);if(n.valueType!==a.ListOfNumber)throw o.methodRequiresList(this._symbol);if(r>1)throw o.methodRequiresList(this._symbol)},TTest:function(e,r){var n=this._symbol;if(0===r.length)throw o.methodRequiresList(n);if(r[0].valueType!==a.ListOfNumber)throw o.methodRequiresList(n);if(r.length>2)throw o.tooManyArguments(n,2);if(r[0].length<2)throw o.ttestListTooShort(n);if(r[1]&&r[1].valueType!==a.Number)throw o.functionTypeError(n,t(r))},IndependentTTest:function(e,r){var n=this._symbol;if(2!==r.length)throw o.wrongDoubleReducerArity(n);if(!a.isList(r[0].valueType)||!a.isList(r[1].valueType))throw o.nonListDoubleReducer(n);if(r[0].valueType!==a.ListOfNumber||r[1].valueType!==a.ListOfNumber)throw o.functionTypeError(n,t(r));if(r[0].args.length<2||r[1].args.length<2)throw o.ttestListTooShort("ittest")},Stats:function(e,t){var r=t.length,n=t[0];if(0===r)throw o.methodRequiresList(this._symbol);if(n.valueType!==a.ListOfNumber)throw o.methodRequiresList(this._symbol);if(r>1)throw o.methodRequiresList(this._symbol)}};for(var u in s)i[u].prototype.typeCheck=s[u];i.BuiltInFunction.random.prototype.typeCheck=function(e,t){var r=t.length,n=t[0],s=t[1],u=t[2];if(r>3)throw o.randomArity();if(!n)throw o.randomArity();if(!(n instanceof i.Distribution||n instanceof i.List))throw o.randomArity();if(n instanceof i.Distribution&&n.args&&(n.args[0]instanceof i.List||n.args[1]instanceof i.List))throw o.randomFromBroadcastDistribution();if(s&&s.valueType!==a.Number)throw o.randomArity();if(u&&u.valueType!==a.Number)throw o.randomArity()},i.BuiltInFunction.length.prototype.typeCheck=function(e,t){if(1!==t.length||!a.isList(t[0].valueType))throw o.parseError()}}),define("core/math/features/repr",["require","parsenodes"],function(e){"use strict";var t=e("parsenodes"),r=function(e,t,r){r=r||0;var n=Array(r+1).join("  "),i=n+"  ";return"[\\n"+i+e.map(function(e){return e.repr(t,r+1)}).join(",\\n"+i)+"\\n"+n+"]"},n=function(e,t){return""+(t=t||"")+e};t.Expression.prototype.repr=function(e,t){return n(this.type,e)+"("+r(this.args,e,t)+")"},t.DoubleInequality.prototype.repr=function(e,t){t=t||0;var r=Array(t+1).join("  "),i=r+"  ";return n(this.type,e)+"([\\n"+i+this.args[0].repr(e,t+1)+",\\n"+i+"'"+this.args[1]+"',\\n"+i+this.args[2].repr(e,t+1)+",\\n"+i+"'"+this.args[3]+"',\\n"+i+this.args[4].repr(e,t+1)+"\\n"+r+"])"},t.Identifier.prototype.repr=t.FreeVariable.prototype.repr=function(e){return n(this.type,e)+"('"+this._symbol+"')"},t.Constant.prototype.repr=function(e){return n(this.type,e)+"("+this.asValue()+")"},t.ExtendSeed.prototype.repr=function(e,t){return n(this.type,e)+"('"+this.tag+"', "+r(this.args,e,t)+")"},t.Seed.prototype.repr=function(e){return n(this.type,e)+"("+this.asValue()+")"},t.FunctionCall.prototype.repr=function(e,t){return n(this.type,e)+"('"+this._symbol+"', "+r(this.args,e,t)+")"},t.Assignment.prototype.repr=function(e,r){return n(this.type,e)+"("+t.Identifier(this._symbol).repr(e,r)+", "+this._expression.repr(e,r)+")"},t.Regression.prototype.repr=t.Equation.prototype.repr=function(e,t){return n(this.type,e)+"("+this._lhs.repr(e,t)+", "+this._rhs.repr(e,t)+")"},t.FunctionDefinition.prototype.repr=function(e,i){return n(this.type,e)+"("+t.Identifier(this._symbol).repr(e,i)+", "+r(this._argSymbols.map(function(e){return t.Identifier(e)}),e,i)+", "+this._expression.repr(e,i)+")"},t.Error.prototype.repr=function(e,t){return n(this.type,e)+"('"+this._msg+"')"},t.Derivative.prototype.repr=function(e,t){return n(this.type,e)+"('"+this._symbol+"', "+r(this.args,e,t)+")"},t.SolvedEquation.prototype.repr=function(e,t){return n(this.type,e)+"('"+this._symbol+"', "+this._expression.repr(e,t)+")"},t.OptimizedRegression.prototype.repr=function(e,t){return n(this.type,e)+"("+JSON.stringify(this.parameters)+", "+JSON.stringify(this.residuals)+", "+JSON.stringify(this.statistics)+", "+this.model.repr(e,t+1)+", "+JSON.stringify({isModelValid:this.isModelValid,residualVariable:this.residualVariable,residualSuggestionId:this.residualSuggestionId,shouldSuggestLogMode:this.shouldSuggestLogMode})+")"},t.Table.prototype.repr=function(e,t){return n(this.type,e)+"("+r(this.columns,e,t)+")"},t.TableColumn.prototype.repr=function(e,t){return n(this.type,e)+"("+this.header.repr(e,t)+", "+this.length+", "+r(this.values,e,t)+")"},t.Image.prototype.repr=function(e,t){var r=Array(t+1).join("  "),i=r+"  ";return n(this.type,e)+"({\\n"+i+"center: "+this.center.repr(e,t+1)+",\\n"+i+"radianAngle: "+this.radianAngle.repr(e,t+1)+",\\n"+i+"width: "+this.width.repr(e,t+1)+",\\n"+i+"height: "+this.height.repr(e,t+1)+"},\\n"+i+"opacity: "+this.opacity.repr(e,t+1)+",\\n"+i+JSON.stringify(this.moveStrategy)+"\\n"+r+")"},t.Slider.prototype.repr=function(e,t){var r=Array(t+1).join("  "),i=r+"  ";return n(this.type,e)+"({\\n"+i+"sliderAssignment: "+this.sliderAssignment.repr(e,t+1)+",\\n"+i+"sliderMin: "+(this.sliderMin&&this.sliderMin.repr(e,t+1))+",\\n"+i+"sliderMax: "+(this.sliderMax&&this.sliderMax.repr(e,t+1))+",\\n"+i+"sliderStep: "+(this.sliderStep&&this.sliderStep.repr(e,t+1))+"},\\n"+r+")"},t.Broadcast.prototype.repr=function(e,t){return n(this.type,e)+"(['"+this._replacedSymbols.join("', ")+"'], "+r(this.args,e,t)+")"}}),define("core/math/features/scalarEvalExpression",["require","parsenodes","core/math/functions"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/functions"),n={Add:function(e){return"("+e.join("+")+")"},Multiply:function(e){return"("+e.join("*")+")"},Divide:function(e){return"("+e.join("/")+")"},Subtract:function(e){return"("+e.join("-")+")"},Exponent:function(e){return"BuiltIn.pow("+e.join(",")+")"},RawExponent:function(e){return"Math.pow("+e.join(",")+")"},Negative:function(e){return"(-"+e[0]+")"},And:function(e){return e.join("&&")},Piecewise:function(e){return"("+e[0]+"?"+e[1]+":"+e[2]+")"}},i={Add:2,Multiply:2,Divide:2,Subtract:2,Exponent:2,RawExponent:2,Negative:1,And:2,Piecewise:3};for(var a in n){var o=t[a].prototype;o.scalarEvalExpression=n[a],o.evaluate=r.createEvaluateFunction(o.scalarEvalExpression,i[a])}}),define("core/math/reconstitute-node",["require","parsenodes","core/math/types"],function(e){"use strict";function t(e,i){if(n.isList(e)){for(var a=[],o=0;o<i.length;o++)a.push(t(n.elementType(e),i[o]));var s=r.List(a);return s.valueType=e,s}switch(e){case n.Number:case n.Bool:return r.Constant(i);case n.Point:return r.OrderedPair([r.Constant(i[0]),r.Constant(i[1])]);default:throw new Error("Cannot reconstitute value of a "+n.prettyPrint(e)+".")}}var r=e("parsenodes"),n=e("core/math/types");return t}),define("core/math/features/constantcollapsedcopy",["require","parsenodes","core/math/reconstitute-node","core/math/maybe-rational","core/math/errormsg"],function(e){"use strict";function t(e){if(!e.isConstant)return!1;var t=e.asValue();return"number"==typeof t&&!isFinite(t)}var r=e("parsenodes"),n=r.Constant,i=r.Multiply,a=r.Subtract,o=r.RawExponent,s=r.Seed,u=r.BuiltInFunction,c=e("core/math/reconstitute-node"),l=e("core/math/maybe-rational"),p=e("core/math/errormsg"),f={Expression:function(e,t){return this.copyWithArgs(t)},FreeVariable:function(e,t){return this},ScalarExpression:function(e,t){for(var r=[],i=0;i<t.length;i++){if(!t[i].isConstant&&!t[i].isString)return this.copyWithArgs(t);r.push(t[i].asValue())}return n(this.evaluate(r))},OrderedPair:function(e,t){return this.copyWithArgs(t)},Distribution:function(e,t){return this.copyWithArgs(t)},Add:function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.add(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):0===t[0].asValue()?t[1]:0===t[1].asValue()?t[0]:this.copyWithArgs(t)},Multiply:function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.mul(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):1===t[0].asValue()?t[1]:1===t[1].asValue()?t[0]:this.copyWithArgs(t)},Subtract:function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.sub(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):0===t[0].asValue()?r.Negative([t[1]]):0===t[1].asValue()?t[0]:this.copyWithArgs(t)},Divide:function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.div(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):1===t[1].asValue()?t[0]:this.copyWithArgs(t)},Exponent:function(e,t){if(t[0].isConstant&&t[1].isConstant)return n(l.pow(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue()));if(t[0].isConstant){if(t[0].asValue()===Math.E)return u.exp([t[1]]);if(t[0].asValue()>0)return o(t)}if(t[1].isConstant){var r=t[1].asValue();if(1===r)return t[0];if(r===Math.floor(r))return o(t);var a=t[1].asMaybeRationalValue();return l.isRational(a)?a.d%2==1?i([a.n%2==0?n(l.maybeRational(1,1)):u.sign([t[0]]),o([u.abs([t[0]]),t[1]])]):o(t):this.copyWithArgs(t)}return this.copyWithArgs(t)},RawExponent:function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.pow(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):this.copyWithArgs(t)},Negative:function(e,t){return t[0].isConstant?n(l.neg(t[0].asMaybeRationalValue())):t[0]instanceof r.Negative?t[0].args[0]:this.copyWithArgs(t)},And:function(e,t){return t[0].isConstant&&t[1].isConstant?n(t[0].asValue()&&t[1].asValue()):t[0].isConstant&&!0===t[0]?t[1]:t[0].isConstant&&!1===t[0]?n(!1):t[1].isConstant&&!0===t[1]?t[0]:t[1].isConstant&&!1===t[1]?n(!1):this.copyWithArgs(t)},Piecewise:function(e,t){return t[0].isConstant&&!0===t[0].asValue()?t[1]:t[0].isConstant&&!1===t[0].asValue()?t[2]:this.copyWithArgs(t)},Integral:function(e,r){var o=r[0],s=r[1],u=r[2],c=r[3];if(t(s)||t(u))throw p.integralInfiniteBoundError();var l=c.getDependencies();if(s.isConstant&&u.isConstant){var f=u.asValue()-s.asValue();if(c.isConstant)return n(c.asValue()*f);if(!c.dependsOn(o._symbol))return i([c,n(f)]);if(1===l.length&&l[0]===o._symbol)return n(this.evaluate(s.asValue(),u.asValue(),c))}else if(!c.dependsOn(o._symbol))return i([c,a([u,s])]);return this.copyWithArgs(r)},ListAccess:function(e,t){return t[1].isConstant?t[0].elementAt(e,t[1].asValue()-1):this.copyWithArgs(t)},OrderedPairAccess:function(e,t){return t[1].isConstant&&t[0]instanceof r.OrderedPair?t[0].elementAt(e,t[1].asValue()-1):this.copyWithArgs(t)},Broadcast:function(e,t){var r,n=t[0].getDependencies();for(r=0;r<n.length;r++)if(-1===this._replacedSymbols.indexOf(n[r]))return this.copyWithArgs(t);for(r=1;r<t.length;r++)if(0!==t[r].getDependencies().length)return this.copyWithArgs(t);var i=t[0].getCompiledFunction(this._replacedSymbols).fn,a=t.slice(1).map(function(e){return e.asValue()}),o=[];for(r=0;r<this.length;r++){for(var s=[],u=0;u<a.length;u++)s.push(a[u][r]);o.push(i.apply(void 0,s))}return c(this.valueType,o)},ReducerFunction:function(e,t){return 0===t[0].getDependencies().length?c(this.valueType,this.evaluate([t[0].asValue()])):this.copyWithArgs(t)},DoubleReducerFunction:function(e,t){if(0===t[0].getDependencies().length&&0===t[1].getDependencies().length){var r=Math.min(t[0].length,t[1].length);return c(this.valueType,this.evaluate([t[0].asValue().slice(0,r),t[1].asValue().slice(0,r)]))}return this.copyWithArgs(t)},ParametrizedReducerFunction:function(e,t){var r=t[0],n=t[1];return n.isConstant&&0===r.getDependencies().length?c(this.valueType,this.evaluate([r.asValue(),n.asValue()])):this.copyWithArgs(t)},RepeatedOperator:function(e,r){var i=r[1],a=r[2];if(t(i)||t(a))switch(this.type){case"Sum":throw p.sumInfiniteBoundError();case"Product":throw p.productInfiniteBoundError();default:throw p.parseError()}if(i.isConstant&&a.isConstant){var o=i.asValue(),s=a.asValue(),u=r[3];if(u.isConstant)return n(this.evaluateConstant([o,s,u.asValue()]));var c=u.getDependencies();if(0===c.length||1===c.length&&c[0]===r[0]._symbol)return n(this.evaluate(o,s,u))}return this.copyWithArgs(r)},ExtendSeed:function(e,t){var r=t[0],n=t[1];return 0===r.getDependencies().length&&0===n.getDependencies().length?s(r.asValue()+"::"+this.tag+n.asValue()):this.copyWithArgs(t)}};for(var h in f)r[h].prototype._constantCollapsedCopy=f[h];u.mod.prototype._constantCollapsedCopy=function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.mod(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):this.copyWithArgs(t)},u.sqrt.prototype._constantCollapsedCopy=function(e,t){return t[0].isConstant?n(l.sqrt(t[0].asMaybeRationalValue())):this.copyWithArgs(t)},u.nthroot.prototype._constantCollapsedCopy=function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.nthroot(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):this.copyWithArgs(t)},u.abs.prototype._constantCollapsedCopy=function(e,t){return t[0].isConstant?n(l.abs(t[0].asMaybeRationalValue())):this.copyWithArgs(t)},u.total.prototype._constantCollapsedCopy=function(e,t){if(!t[0].isList)return this.copyWithArgs(t);for(var r=t[0].args,i=0;i<r.length;i++)if(!r[i].isConstant)return this.copyWithArgs(t);return n(l.total(t[0].asMaybeRationalValue()))},u.distance.prototype._constantCollapsedCopy=function(e,t){return 0===t[0].getDependencies().length&&0===t[1].getDependencies().length?n(this.evaluate([t[0].asArray(),t[1].asArray()])):this.copyWithArgs(t)},u.midpoint.prototype._constantCollapsedCopy=function(e,t){if(0===t[0].getDependencies().length&&0===t[1].getDependencies().length){var i=this.evaluate([t[0].asArray(),t[1].asArray()]);return r.OrderedPair([n(i[0]),n(i[1])])}return this.copyWithArgs(t)}}),define("core/math/features/polynomialorder",["require","parsenodes"],function(e){"use strict";var t=e("parsenodes"),r={Expression:"this.dependsOn(symbol) ? Infinity : 0",FreeVariable:"(symbol === this._symbol ? 1 : 0)",Constant:"0",Add:"Math.max(order0, order1)",Subtract:"Math.max(order0, order1)",Multiply:"order0 + order1",Negative:"order0",Divide:"order1 > 0 ? Infinity : order0"};for(var n in r){var i=r[n];t[n].prototype.polynomialOrder=function(e){return e=e.replace("order0","this.args[0].polynomialOrder(symbol)"),e=e.replace("order1","this.args[1].polynomialOrder(symbol)"),new Function(["symbol"],"return "+e)}(i)}t.Exponent.prototype.polynomialOrder=function(e){var t=this.args[0].polynomialOrder(e),r=this.args[1].polynomialOrder(e);if(0===t&&0===r)return 0;var n=this.args[1];return n.isConstant&&n.asValue()===Math.round(n.asValue())&&n.asValue()>0?t*n.asValue():1/0},t.Piecewise.prototype.polynomialOrder=function(e){return this.dependsOn(e)?this.args[2].isConstant&&this.args[2].isNaN()?this.args[1].polynomialOrder(e):1/0:0},t.List.prototype.polynomialOrder=function(e){return 1/0}}),define("core/math/features/polynomialcoefficients",["require","parsenodes","core/math/maybe-rational"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/maybe-rational").maybeRational,n=t.Constant(r(0,1)),i=t.Constant(r(1,1));t.FreeVariable.prototype.getPolynomialCoefficients=function(e){return e===this._symbol?[n,i]:[this]},t.Constant.prototype.getPolynomialCoefficients=function(e){return[this]},t.Add.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=r.length-1,a=n.length-1,o=[],s=0;s<=Math.max(i,a);s++)i>=s&&a>=s?o.push(t.Add([r[s],n[s]])):o.push(i>a?r[s]:n[s]);return o},t.Subtract.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=r.length-1,a=n.length-1,o=[],s=0;s<=Math.max(i,a);s++)i>=s&&a>=s?o.push(t.Subtract([r[s],n[s]])):o.push(i>a?r[s]:t.Negative([n[s]]));return o},t.Negative.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=[],i=0;i<r.length;i++)n.push(t.Negative([r[i]]));return n},t.Exponent.prototype.getPolynomialCoefficients=function(e){var r=this.args[0].getPolynomialCoefficients(e),i=this.args[1].getPolynomialCoefficients(e),a=r.length-1;if(i.length-1>0)throw"can't solve for variable in exponent";if(0===a)return[t.Exponent([r[0],i[0]])];if(this.args[1].isConstant){switch(this.args[1].asValue()){case 0:return[n];case 1:return r;case 2:return t.Multiply([this.args[0],this.args[0]]).getPolynomialCoefficients(e)}}throw"Unable to compile polynomial representation"},t.Multiply.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=r.length-1,a=n.length-1,o=[],s=0;s<=i;s++)for(var u=0;u<=a;u++){var c=t.Multiply([r[s],n[u]]),l=o[s+u];o[s+u]=void 0===l?c:t.Add([l,c])}return o},t.Divide.prototype.getPolynomialCoefficients=function(e){var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=n.length-1,a=[];if(i>0)throw"Can't solve for variable in denominator";for(var o=0;o<r.length;o++)a.push(t.Divide([r[o],n[0]]));return a},t.Expression.prototype.getPolynomialCoefficients=function(e){if(this.dependsOn(e))throw"Unimplemented polynomialCoefficient call";return[this]},t.Piecewise.prototype.getPolynomialCoefficients=function(e){
return this.dependsOn(e)?this.args[1].getPolynomialCoefficients(e):[this]}}),define("core/math/features/extractconditions",["require","parsenodes"],function(e){"use strict";var t=e("parsenodes");t.Expression.prototype.extractConditions=function(e,t){if(!this.dependsOn(e))return t;for(var r=0;r<this.args.length;r++){t=this.args[r].extractConditions(e,t)}return t},t.Piecewise.prototype.extractConditions=function(e,r){if(!this.dependsOn(e))return r;if(!this.args[0].dependsOn(e))return r=this.args[1].extractConditions(e,r),r=this.args[2].extractConditions(e,r);var n={};return n[e]=r,t.Piecewise([this.args[0].substitute(n),r,t.Constant(NaN)])}}),define("core/math/features/piecewiseDependsOn",["require","parsenodes"],function(e){"use strict";var t=e("parsenodes");t.Expression.prototype.piecewiseDependsOn=function(e){if(!this.dependsOn(e))return!1;for(var t=0;t<this.args.length;t++){if(this.args[t].piecewiseDependsOn(e))return!0}return!1},t.Piecewise.prototype.piecewiseDependsOn=function(e){return this.dependsOn(e)}}),define("core/math/builtinconstants",["require","core/math/parsenode/constant","core/math/maybe-rational"],function(e){"use strict";var t=e("core/math/parsenode/constant"),r=e("core/math/maybe-rational").maybeRational;return{pi:t(Math.PI),tau:t(2*Math.PI),e:t(Math.E),trigAngleMultiplier:t(r(1,1)),infty:t(1/0)}}),define("core/math/builtinframe",["require","core/math/builtinconstants","core/math/parsenode/builtinfunction"],function(e){"use strict";var t,r=e("core/math/builtinconstants"),n=e("core/math/parsenode/builtinfunction"),i={};for(t in r)r.hasOwnProperty(t)&&(i[t]=r[t]);for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}),define("core/math/features/bounddomain",["require","parsenodes","core/math/builtinframe","core/math/domaintypes","core/math/comparators","core/math/maybe-rational","core/math/policy"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/builtinframe"),n=e("core/math/domaintypes"),i=e("core/math/comparators").table,a=e("core/math/maybe-rational").maybeRational,o=e("core/math/policy").defaultPolicy,s=t.Constant(a(0,1));t.Base.prototype.boundDomain=function(e){return n.unknownDomain()},t.List.prototype.boundDomain=function(e){if(!this.dependsOn(e))return n.allReals();if(!this.args.length)return n.allReals();var t=this.args[0].boundDomain(e);if("known"!==t.type)return n.unknownDomain();for(var r=0;r<this.args.length;r++){var i=this.args[r].boundDomain(e);if("known"!==i.type)return n.unknownDomain();if(i.bounds[0]!==t.bounds[0]||i.bounds[1]!==t.bounds[1])return n.unknownDomain()}return t},t.Expression.prototype.boundDomain=function(e){for(var t=n.allReals(),r=0;r<this.args.length;r++)t=n.intersectDomains(t,this.args[r].boundDomain(e));return t},t.Constant.prototype.boundDomain=function(e){return this.isNaN()?n.emptyDomain():n.allReals()},t.Piecewise.prototype.boundDomain=function(e){return this.args[2].isConstant&&isNaN(this.args[2].asValue())?n.intersectDomains(this.args[0].boundDomain(e),this.args[1].boundDomain(e)):n.unknownDomain()},t.OrderedPair.prototype.boundDomain=function(e){return n.intersectDomains(this.args[0].boundDomain(e),this.args[1].boundDomain(e))},t.BaseComparator.prototype.boundDomain=function(e){if(!this.dependsOn(e))return n.allReals();if("="===this.operator)return n.unknownDomain();var t=this._difference,a=this._difference.boundDomain(e);if(t.polynomialOrder(e)>1)return n.unknownDomain();var u=t.getPolynomialCoefficients(e),c=u[1]?u[1].getConcreteTree(o,r):s,l=u[0]?u[0].getConcreteTree(o,r):s;if(!c.isConstant||!l.isConstant)return n.unknownDomain();if(isNaN(c.asValue())||isNaN(l.asValue()))return n.emptyDomain();if(0===c.asValue())return i[this.operator].inclusive?l.asValue()>=0?a:n.emptyDomain():l.asValue()>0?a:n.emptyDomain();var p=-l.asValue()/c.asValue(),f=c.asValue()<0?[-1/0,p]:[p,1/0];return n.intersectDomains(a,n.knownDomain(f))}}),define("core/math/policyGraphing",["require","exports","./builtinframe","core/types/graphmode"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.dimensions=function(){return 2},e.prototype.assignmentForbidden=function(e){return"x"===e||"y"===e||"theta"===e||"tmp"===e.slice(0,3)||r.hasOwnProperty(e)},e.prototype.isValidSlider=function(e){return"x"===e||"y"===e||"ans"!==e.slice(0,3)&&!this.assignmentForbidden(e)},e.prototype.sliderVariables=function(e){var t=this;return-1!==e.indexOf("theta")&&(e=e.filter(function(e){return"r"!==e})),e.filter(function(e){return!t.assignmentForbidden(e)&&"ans"!==e.slice(0,3)})},e.prototype.graphingEnabled=function(){return!0},e.prototype.ansEnabled=function(){return!1},e.prototype.validRegressionParameter=function(e){return"x"!==e&&"y"!==e},e.prototype.validLHS=function(e){return"theta"!==e},e.prototype.unplottablePolarFunction=function(e,t){return"theta"===e&&-1!==t.indexOf("r")},e.prototype.validDoubleInequalitySymbol=function(e){return"x"===e||"y"===e},e.prototype.validDoubleInequalityVariables=function(e){return!(e.length>2)&&e.every(this.validDoubleInequalitySymbol)},e.prototype.validExpressionVariables=function(e){return 1===e.length&&"x"===e[0]},e.prototype.validSolvedVariable=function(e){return"x"===e||"y"===e||"r"===e},e.prototype.validImplicitVariables=function(e){switch(e.length){case 1:return"x"===e[0]||"y"===e[0]||"r"===e[0];case 2:return"x"===e[0]&&"y"===e[1]||"y"===e[0]&&"x"===e[1]||"r"===e[0]&&"theta"===e[1]||"theta"===e[0]&&"r"===e[1];default:return!1}},e.prototype.graphableListVariables=function(e,t){return"x"===e||"y"===e||"r"===e||"x"===t||"y"===t},e.prototype.validParametricVariable=function(e){return"t"===e},e.prototype.validParametricVariables=function(e){return 1===e.length&&this.validParametricVariable(e[0])},e.prototype.validInequalityVariables=function(e){switch(e.length){case 1:return"x"===e[0]||"y"===e[0]||"r"===e[0];case 2:return this.validImplicitVariables(e);default:return!1}},e.prototype.validFirstColumnVariable=function(e){return"y"!==e&&"r"!==e&&"theta"!==e&&!e.match(/y_(\\d+)/)},e.prototype.complicatedPolarImplicit=function(e,t){return"theta"===e||"r"===e&&1!==t},e.prototype.constantGraphMode=function(e){return"x"===e?n.X:"r"===e?n.POLAR:n.Y},e.prototype.graphMode=function(e,t){var r=t[0];return"y"===r?n.X:"x"===e?n.X:"r"===e&&"theta"===r?n.POLAR:n.Y},e.prototype.tableableAsConstant=function(e){return"x"!==e&&("r"!==e&&"theta"!==e)},e.prototype.implicitIndependent=function(e){return"x"},e.prototype.implicitDependency=function(e){return 1!==e.length?"y":"y"===e[0]?"x":"theta"===e[0]?"r":"y"},e.prototype.graphableAsConstant=function(e){return"y"===e||"x"===e||"r"===e},e.prototype.disabledFeatures=function(){return[]},e}(),a=function(){function e(){}return e.prototype.dimensions=function(){return 3},e.prototype.assignmentForbidden=function(e){return"x"===e||"y"===e||"z"===e||"tmp"===e.slice(0,3)||r.hasOwnProperty(e)},e.prototype.isValidSlider=function(e){return"x"===e||"y"===e||"z"===e||"ans"!==e.slice(0,3)&&!this.assignmentForbidden(e)},e.prototype.sliderVariables=function(e){var t=this;return e.filter(function(e){return!t.assignmentForbidden(e)&&"ans"!==e.slice(0,3)})},e.prototype.graphingEnabled=function(){return!0},e.prototype.ansEnabled=function(){return!1},e.prototype.validRegressionParameter=function(e){return!1},e.prototype.validLHS=function(e){return!0},e.prototype.unplottablePolarFunction=function(e,t){return!1},e.prototype.validDoubleInequalitySymbol=function(e){return!1},e.prototype.validDoubleInequalityVariables=function(e){return!1},e.prototype.validExpressionVariables=function(e){var t=e.join("");return"x"===t||"y"===t||"xy"===t||"yx"===t},e.prototype.validSolvedVariable=function(e){return"x"===e||"y"===e||"z"===e},e.prototype.validImplicitVariables=function(e){return!1},e.prototype.graphableListVariables=function(e,t){return"x"===e||"y"===e||"x"===t||"y"===t},e.prototype.validParametricVariable=function(e){return"t"===e},e.prototype.validParametricVariables=function(e){return 1===e.length&&this.validParametricVariable(e[0])},e.prototype.validInequalityVariables=function(e){return!1},e.prototype.validFirstColumnVariable=function(e){return!1},e.prototype.complicatedPolarImplicit=function(e,t){return!1},e.prototype.constantGraphMode=function(e){return n.Z_3D},e.prototype.graphMode=function(e,t){return"z"===e&&this.validExpressionVariables(t)?n.Z_3D:n.NONE},e.prototype.tableableAsConstant=function(e){return"x"!==e&&"r"!==e},e.prototype.implicitIndependent=function(e){return"x"},e.prototype.implicitDependency=function(e){if(2!==e.length)return"z";var t=e[0]<e[1]?e[0]+e[1]:e[1]+e[0];return"xy"===t?"z":"xz"===t?"y":"yz"===t?"x":"z"},e.prototype.graphableAsConstant=function(e){return"z"===e},e.prototype.disabledFeatures=function(){return[]},e}();t.PolicyGraphing=new i,t.PolicyGraphing3D=new a}),define("core/math/features/derivative",["require","parsenodes","core/math/baseparser","core/math/builtinframe","core/math/parsenode/builtinfunction","core/math/maybe-rational","core/math/policy","core/math/policyGraphing"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/baseparser"),n=e("core/math/builtinframe"),i=e("core/math/parsenode/builtinfunction"),a=e("core/math/maybe-rational").maybeRational,o=e("core/math/policy").defaultPolicy,s=e("core/math/policyGraphing").PolicyGraphing,u=t.Constant(a(0,1)),c=t.Constant(a(1,1)),l=t.Constant(a(2,1)),p={FreeVariable:function(e){return e===this._symbol?c:u},Constant:function(e){return isFinite(this.asValue())?u:t.Constant(this.asValue())},Negative:function(e){return t.Negative([this.args[0].takeDerivative(e)])},Add:function(e){return t.Add([this.args[0].takeDerivative(e),this.args[1].takeDerivative(e)])},Subtract:function(e){return t.Subtract([this.args[0].takeDerivative(e),this.args[1].takeDerivative(e)])},Multiply:function(e){return t.Add([g(e,this.args[0],t.Multiply([this.args[0].takeDerivative(e),this.args[1]])),g(e,this.args[1],t.Multiply([this.args[0],this.args[1].takeDerivative(e)]))])},Divide:function(e){return t.Subtract([g(e,this.args[0],t.Divide([this.args[0].takeDerivative(e),this.args[1]])),g(e,this.args[1],t.Divide([t.Multiply([this.args[0],this.args[1].takeDerivative(e)]),t.Exponent([this.args[1],l])]))])},Exponent:function(e){return t.Add([g(e,this.args[0],t.Multiply([t.Multiply([this.args[1],t.Exponent([this.args[0],t.Subtract([this.args[1],c])])]),this.args[0].takeDerivative(e)])),g(e,this.args[1],t.Multiply([t.Piecewise([t.Comparator["="]([this.args[0],u]),t.Piecewise([t.Comparator[">"]([this.args[1],u]),u,t.Constant(NaN)]),t.Multiply([t.FunctionCall("\\\\ln",[this.args[0]]),t.Exponent([this.args[0],this.args[1]])])]),this.args[1].takeDerivative(e)]))]).getConcreteTree(o,n)},Sum:function(e){return this.copyWithArgs([this.args[0],this.args[1],this.args[2],this.args[3].takeDerivative(e)])},Product:function(e){var r=t.Sum([this.args[0],this.args[1],this.args[2],t.Piecewise([t.Comparator["="]([u,this.args[3]]),c,u])]),n=t.Multiply([t.Sum([this.args[0],this.args[1],this.args[2],t.Divide([this.args[3].takeDerivative(e),this.args[3]])]),t.Product(this.args)]),i=t.Product([this.args[0],this.args[1],this.args[2],t.Piecewise([t.Comparator["="]([u,this.args[3]]),this.args[3].takeDerivative(e),this.args[3]])]);return t.Piecewise([t.Comparator["="]([u,r]),n,t.Piecewise([t.Comparator["="]([c,r]),i,u])])},Piecewise:function(e){return 2===this.args.length?t.Piecewise([this.args[0],this.args[1].takeDerivative(e)]):3===this.args.length?t.Piecewise([this.args[0],this.args[1].takeDerivative(e),this.args[2].takeDerivative(e)]):void 0},List:function(e){return t.List(this.args.map(function(t){return t.takeDerivative(e)}))},ListAccess:function(e){return new this.constructor([this.args[0].takeDerivative(e),this.args[1]])},OrderedPair:function(e){return new this.constructor([this.args[0].takeDerivative(e),this.args[1].takeDerivative(e)])},OrderedPairAccess:function(e){return new this.constructor([this.args[0].takeDerivative(e),this.args[1]])},Integral:function(e){var r=this.args[0],n=this.args[1],i=this.args[2],a=this.args[3],o={};o[r._symbol]=i;var s={};return s[r._symbol]=n,t.Add([g(e,a,this.copyWithArgs([r,n,i,a.takeDerivative(e)])),t.Subtract([g(e,i,t.Multiply([a.substitute(o),i.takeDerivative(e)])),g(e,n,t.Multiply([a.substitute(s),n.takeDerivative(e)]))])])},SolvedEquation:function(e){return this._expression.takeDerivative(e)},OptimizedRegression:function(e){return this.model.takeDerivative(e)},Broadcast:function(e){for(var r=this._replacedSymbols.slice(),n=this.args.slice(1),i=this._expression.takeDerivative(e),a=0;a<this._replacedSymbols.length;a++){var o=this._replacedSymbols[a],s=this.args[a+1];if(s.dependsOn(e)){var u=this.tmpVar(),c=t.DummyIndex(u);r.push(u),n.push(s.takeDerivative(e)),i=t.Add([i,t.Multiply([this._expression.takeDerivative(o),c])])}}return t.Broadcast(r,[i].concat(n))},Seed:function(e){return t.Constant(NaN)}},f={exp:"\\\\exp(x)*x_1",ln:"\\\\{x >= 0: x_1/x \\\\}",log:"\\\\{ x >= 0: x_1/(x*\\\\ln(10)) \\\\}",sqrt:"x_1/(2*\\\\sqrt{x})",rtxsqpone:"x*x_1/\\\\rtxsqpone(x)",rtxsqmone:"x*x_1/\\\\rtxsqmone(x)",sin:"\\\\cos(x)*x_1",cos:"-\\\\sin(x)*x_1",tan:"\\\\sec(x)^2*x_1",arcsin:"x_1/\\\\sqrt{1 - x^2}",arccos:"-x_1/\\\\sqrt{1 - x^2}",sinh:"\\\\cosh(x)*x_1",cosh:"\\\\sinh(x)*x_1",tanh:"(\\\\sech(x))^2*x_1",arcsinh:"x_1/\\\\sqrt{x^2 + 1}",arccosh:"\\\\{ x > 0: x_1/\\\\rtxsqmone(x) \\\\}",arctanh:"\\\\{ \\\\abs(x) < 1: x_1/(1 - x^2) \\\\}",csc:"-\\\\cot(x)*\\\\csc(x)*x_1",sec:"\\\\tan(x)*\\\\sec(x)*x_1",cot:"-\\\\csc(x)^2*x_1",arccsc:"-x_1/(\\\\abs(x)*\\\\rtxsqmone(x))",arcsec:"x_1/(\\\\abs(x)*\\\\rtxsqmone(x))",arccot:"-x_1/(1+x^2)",csch:"-\\\\coth(x)*\\\\csch(x)*x_1",sech:"-\\\\tanh(x)*\\\\sech(x)*x_1",coth:"-(\\\\csch(x))^2*x_1",arccsch:"-x_1/(\\\\abs(x)*\\\\rtxsqpone(x))",arcsech:"\\\\{ x >= 0: -x_1/(x*\\\\sqrt{1 - x^2}) \\\\}",arccoth:"\\\\{ \\\\abs(x) > 1 : x_1/(1 - x^2) \\\\}",factorial:"(x)!*\\\\polyGamma(0, x + 1)*x_1",floor:"\\\\{ \\\\mod(x, 1) > 0: 0*x_1 \\\\}",ceil:"\\\\{ \\\\mod(x, 1) > 0: 0*x_1 \\\\}",abs:"\\\\{ \\\\abs(x) > 0: \\\\sign(x)*x_1 \\\\}",sign:"\\\\{ \\\\abs(x) > 0: 0*x_1 \\\\}",mean:"\\\\mean(x_1)",total:"\\\\total(x_1)",length:"0",var:"2*\\\\cov(x, x_1)",varp:"2*\\\\cov(x, x_1)*(\\\\length(x)-1)/\\\\length(x)",stdev:"\\\\cov(x, x_1)/\\\\stdev(x)",stdevp:"\\\\covp(x, x_1)/\\\\stdevp(x)",mad:"\\\\mean(\\\\sign(x-\\\\mean(x))*(x_1 - \\\\mean(x_1)))",min:"x_1[\\\\argmin(x)]",max:"x_1[\\\\argmax(x)]",median:"0.5*(x_1[\\\\lowerQuantileIndex(x, 0.5)] + x_1[\\\\upperQuantileIndex(x, 0.5)])",argmin:"0/0",argmax:"0/0",gcd:"0/0",lcm:"0/0",erf:"\\\\frac{2x_1}{\\\\sqrt{\\\\pi }}e^{-x^2}",invNorm:"\\\\frac{x_1}{\\\\pdf(\\\\normaldist(0,1),\\\\invNorm(x))}"},h={logbase:["\\\\{x > 0: \\\\frac{x_1}{x*\\\\ln(y)}\\\\}","\\\\frac{-\\\\log_{y}(x)*y_1}{y*\\\\ln(y)}"],nthroot:["x^{1/y - 1}/y*x_1","-\\\\frac{x^{1/y}*\\\\ln(x)*y_1}{y^2}"],polyGamma:["0/0","\\\\polyGamma(1 + x, y)*y_1"],mod:["\\\\{ \\\\abs(\\\\mod(x, y)) > 0: x_1 \\\\}","\\\\{ \\\\mod(x/y, 1) > 0: -\\\\floor(x/y)*y_1 \\\\}"],round:["\\\\{ \\\\abs(\\\\mod(x, 1) - 0.5) > 0: 0*x_1 \\\\}","0/0"],cov:["\\\\cov(x_1, y)","\\\\cov(x, y_1)"],covp:["\\\\covp(x_1, y)","\\\\covp(x, y_1)"],corr:["(\\\\cov(x_1, y) - (\\\\cov(x, y)*\\\\cov(x, x_1)/\\\\var(x)))/(\\\\stdevp(x)\\\\stdevp(y))","(\\\\cov(x, y_1) - (\\\\cov(x, y)*\\\\cov(y, y_1)/\\\\var(y)))/(\\\\stdevp(x)\\\\stdevp(y))"],spearman:["0/0","0/0"],quantile:["\\\\{ \\\\floor(y*(\\\\length(x)-1)) = y*(\\\\length(x)-1) :   x_1[\\\\upperQuantileIndex(x, y)],  (\\\\ceil(y*(\\\\length(x)-1)) - y*(\\\\length(x)-1))*x_1[\\\\lowerQuantileIndex(x, y)] +   (y*(\\\\length(x)-1) - \\\\floor(y*(\\\\length(x)-1)))*x_1[\\\\upperQuantileIndex(x, y)]\\\\}","\\\\{ \\\\floor(y*(\\\\length(x)-1)) < y*(\\\\length(x)-1) :   (x[\\\\upperQuantileIndex(x, y)] - x[\\\\lowerQuantileIndex(x, y)])*y_1\\\\}"],quartile:["0.5*(x_1[\\\\lowerQuartileIndex(x, y)] + x_1[\\\\upperQuartileIndex(x, y)])","0/0"],tscore:["\\\\frac{\\\\sqrt{\\\\length(x)}(\\\\stdev(x)*\\\\mean(x_1)-(\\\\mean(x)-y)*\\\\frac{\\\\cov(x,x_1)}{\\\\stdev(x)})}{\\\\stdev(x)^2}","-y_1*\\\\sqrt{\\\\length(x)}/\\\\stdev(x)"],quartileIndex:["0/0","0/0"],upperQuartileIndex:["0/0","0/0"],lowerQuartileIndex:["0/0","0/0"],upperQuantileIndex:["0/0","0/0"],lowerQuantileIndex:["0/0","0/0"],nCr:["0/0","0/0"],nPr:["0/0","0/0"],arctan:["x_1*y/(y^2+x^2)","-y_1*x/(y^2+x^2)"],poissonpdf:["0/0","y_1\\\\frac{e^{-y}(\\\\floor(x)-y)y^{(\\\\floor(x)-1)}}{\\\\floor(x)!}"],invPoisson:["0/0","0/0"],tpdf:["x_1*\\\\pdf(\\\\tdist(y),x)*\\\\frac{-(y+1)*x}{y+x^2}","y_1*\\\\frac{1}{2}\\\\pdf(\\\\tdist(y),x)(  \\\\frac{x^2-1}{y + x^2} + \\\\ln(\\\\frac{y}{y + x^2}) +   \\\\polyGamma(0, \\\\frac{1+y}{2}) - \\\\polyGamma(0, y/2))"],invT:["x_1/\\\\pdf(\\\\tdist(y),\\\\invT(x, y))","0/0"]},d={tcdf:["-x_1*\\\\pdf(\\\\tdist(z),x)","y_1*\\\\pdf(\\\\tdist(z),y)","0/0"],poissoncdf:["0/0","0/0","z_1\\\\sum _{n=\\\\max(0,\\\\floor(\\\\min(x,y)))}^{\\\\floor(\\\\max(x,y))}\\\\frac{e^{-z}(n-z)z^{(n-1)}}{n!}"],normalpdf:["-x_1*\\\\frac{x-y}{z^2} \\\\pdf(\\\\normaldist(y,z),x)","y_1*\\\\frac{x-y}{z^2} \\\\pdf(\\\\normaldist(y,z),x)","z_1*(\\\\frac{(x-y-z)*(x-y+z)}{z^3}) \\\\pdf(\\\\normaldist(y,z),x)"],binompdf:["0/0","0/0","\\\\{0<=z<=1: z_1*\\\\pdf(\\\\binomialdist(y,z),x)*(\\\\frac{\\\\round(x)}{z}-\\\\frac{\\\\round(y)-\\\\round(x)}{1-z}), 0 \\\\}"],invBinom:["0/0","0/0","0/0"],uniformpdf:["0","\\\\{y<=x: \\\\frac{y_1}{(z-y)^2}, 0\\\\}","\\\\{z>=x: -\\\\frac{z_1}{(z-y)^2}, 0\\\\}"],invUniform:["\\\\{y<=x<=z: x_1*(z-y), 0\\\\}","\\\\{y<=x<=z: y_1*(1-x), 0\\\\}","\\\\{y<=x<=z: z_1*x, 0\\\\}"]},m={normalcdf:["-x_1\\\\pdf(\\\\normaldist(z,u), x)","y_1\\\\pdf(\\\\normaldist(z,u), y)","-z_1*(\\\\pdf(\\\\normaldist(z,u), y) - \\\\pdf(\\\\normaldist(z,u), x))","u_1*(  \\\\{\\\\abs(y)=1/0:0,\\\\frac{z-y}{u}\\\\pdf(\\\\normaldist(z,u),y)\\\\} -   \\\\{\\\\abs(x)=1/0:0,\\\\frac{z-x}{u}\\\\pdf(\\\\normaldist(z,u),x)\\\\})"],binomcdf:["0/0","0/0","0/0","\\\\{0<=u<=1: u_1*\\\\sum _{n=\\\\max(0,\\\\round(\\\\min(x,y)))}^{\\\\round(\\\\max(x,y))}(  \\\\pdf(\\\\binomialdist(z,u),n)*(\\\\frac{n}{u}-\\\\frac{\\\\round(z)-n}{1-u})), 0 \\\\}"],uniformcdf:["\\\\{z>u: 0/0, -x_1\\\\pdf(\\\\uniformdist(z,u), x)\\\\}","\\\\{z>u: 0/0, y_1\\\\pdf(\\\\uniformdist(z,u), y)\\\\}","\\\\{z>u: 0/0, z_1*(\\\\frac{\\\\{z<x<u:u-x,0\\\\} + \\\\{z<y<u:y-u,0\\\\}}{(u-z)^2})\\\\}","\\\\{z>u: 0/0, u_1*(\\\\frac{\\\\{z<x<u:x-z,0\\\\} + \\\\{z<y<u:z-y,0\\\\}}{(u-z)^2})\\\\}"]};for(var y in f)i[y].prototype.takeDerivative=function(e){return function(t){var r=this.args,i={x:r[0],x_1:r[0].takeDerivative(t)};return g(t,r[0],e.substitute(i)).getConcreteTree(o,n)}}(r.parse(f[y]));for(y in h)i[y].prototype.takeDerivative=function(e,r){return function(i){var a=this.args,s={x:a[0],x_1:a[0].takeDerivative(i),y:a[1],y_1:a[1].takeDerivative(i)};return t.Add([g(i,a[0],e.substitute(s)),g(i,a[1],r.substitute(s))]).getConcreteTree(o,n)}}(r.parse(h[y][0]),r.parse(h[y][1]));for(y in d)i[y].prototype.takeDerivative=function(e,r,i){return function(a){var s=this.args,u={x:s[0],x_1:s[0].takeDerivative(a),y:s[1],y_1:s[1].takeDerivative(a),z:s[2],z_1:s[2].takeDerivative(a)};return t.Add([t.Add([g(a,s[0],e.substitute(u)),g(a,s[1],r.substitute(u))]),g(a,s[2],i.substitute(u))]).getConcreteTree(o,n)}}(r.parse(d[y][0]),r.parse(d[y][1]),r.parse(d[y][2]));for(y in m)i[y].prototype.takeDerivative=function(e,r,i,a){return function(s){var u=this.args,c={x:u[0],x_1:u[0].takeDerivative(s),y:u[1],y_1:u[1].takeDerivative(s),z:u[2],z_1:u[2].takeDerivative(s),u:u[3],u_1:u[3].takeDerivative(s)};return t.Add([t.Add([g(s,u[0],e.substitute(c)),g(s,u[1],r.substitute(c))]),t.Add([g(s,u[2],i.substitute(c)),g(s,u[3],a.substitute(c))])]).getConcreteTree(o,n)}}(r.parse(m[y][0]),r.parse(m[y][1]),r.parse(m[y][2]),r.parse(m[y][3]));i.distance.prototype.takeDerivative=function(e){var r=this.args[0],a=this.args[1],o=t.OrderedPairAccess([r,c]),u=t.OrderedPairAccess([r,l]),p=t.OrderedPairAccess([a,c]),f=t.OrderedPairAccess([a,l]),h=g(e,o,o.takeDerivative(e)),d=g(e,u,u.takeDerivative(e)),m=g(e,p,p.takeDerivative(e)),y=g(e,f,f.takeDerivative(e));return g(e,this,t.Divide([t.Add([t.Add([t.Subtract([t.Multiply([h,o]),t.Multiply([h,p])]),t.Subtract([t.Multiply([m,p]),t.Multiply([m,o])])]),t.Add([t.Subtract([t.Multiply([d,u]),t.Multiply([d,f])]),t.Subtract([t.Multiply([y,f]),t.Multiply([y,u])])])]),i.distance([this.args[0],this.args[1]])])).getConcreteTree(s,n)},i.midpoint.prototype.takeDerivative=function(e){var r=this.args[0],a=this.args[1],o=t.OrderedPairAccess([r,c]),u=t.OrderedPairAccess([r,l]),p=t.OrderedPairAccess([a,c]),f=t.OrderedPairAccess([a,l]),h=g(e,o,o.takeDerivative(e)),d=g(e,u,u.takeDerivative(e)),m=g(e,p,p.takeDerivative(e)),y=g(e,f,f.takeDerivative(e));return t.OrderedPair([i.mean([h,m]),i.mean([d,y])]).getConcreteTree(s,n)};var g=function(e,t,r){return t.dependsOn(e)?r:u};for(var v in p){var b=p[v];t[v].prototype.takeDerivative=b}["tSample","poissonSample","uniformSample","normalSample","binomSample"].forEach(function(e){i[e].prototype.takeDerivative=function(e){for(var r=0;r<this.args.length;r++)if(this.args[r].dependsOn(e))return t.Constant(NaN);return u}})}),define("core/math/features/substitute",["require","parsenodes"],function(e){"use strict";var t=e("parsenodes"),r={Identifier:function(e){return e[this._symbol]?e[this._symbol]:this},FreeVariable:function(e){return e[this._symbol]?e[this._symbol]:this},Constant:function(e){return this},Expression:function(e){return this.copyWithArgs(this.args.map(function(t){return t.substitute(e)}))},List:function(e){return t.List(this.args.map(function(t){return t.substitute(e)}))},SolvedEquation:function(e){return new this.constructor(this._symbol,this._expression.substitute(e))},OptimizedRegression:function(e){return new this.constructor(this.model.substitute(e),this.parameters,this.residualVariables,this.residuals,this.statistics)}};for(var n in r)t[n].prototype.substitute=r[n]}),define("core/math/features/isImplicit",["require","parsenodes"],function(e){"use strict";function t(e){return!(e[0]instanceof r.FreeVariable)||e[1].dependsOn(e[0]._symbol)}var r=e("parsenodes");r.Base.prototype.isImplicit=function(){return!1},r.Equation.prototype.isImplicit=function(){return t(this.args)},r.BaseComparator.prototype.isImplicit=function(){return t(this.args)},r.Broadcast.prototype.isImplicit=function(){return this._expression.isImplicit()}}),define("core/math/features/solve",["require","core/math/baseparser","parsenodes","core/math/errormsg","core/math/builtinframe","core/math/workerconfig","core/math/maybe-rational","core/math/policy"],function(e){"use strict";function t(e){var t=Object.create(m);return t.a=e[2]?e[2].tryGetConcreteTree(v,m):b,t.b=e[1]?e[1].tryGetConcreteTree(v,m):b,t.c=e[0]?e[0].tryGetConcreteTree(v,m):b,t}function r(e){return 0===e.a.asValue()?0===e.b.asValue()?0:1:2}function n(e,n,i,a){for(var o,s,u=[],c=[],l=0;l<i.length;l++){var p=i[l],f=0;h.eachArgs(e,[n],function(e){var t=e[0];f=Math.max(f,t.polynomialOrder(p))});var d=f>2,m=i.length>1&&!e.validSolvedVariable(p),y=a&&n.piecewiseDependsOn(p);d||m||y?(c[l]={},u[l]=1/0):(c[l]=[],u[l]=0,h.eachArgs(e,[n],function(e){var n=e[0];s=t(n.getPolynomialCoefficients(p)),c[l].push(s),u[l]=Math.max(u[l],r(s))}))}var g;if(1===i.length)s=c[0],o=i[0],g=u[0];else{var v;v=0===u[0]?1:0===u[1]?0:u[0]<u[1]?0:1,s=c[v],o=i[v],g=u[v]}return{localFrame:s,variableOfInterest:o,effectiveOrder:g}}function i(e,t){return t?P.inequality:P.generalEquation}function a(e){e.f=x.getConcreteTree(v,e),e.g=_.getConcreteTree(v,e),e.p=S.getConcreteTree(v,e),e.q=M.getConcreteTree(v,e),e.m=c(g(1e305,1))}var o=e("core/math/baseparser"),s=e("parsenodes"),u=s.Base,c=s.Constant,l=s.Equation,p=s.SolvedEquation,f=s.BaseComparator,h=s.List,d=e("core/math/errormsg"),m=e("core/math/builtinframe"),y=e("core/math/workerconfig"),g=e("core/math/maybe-rational").maybeRational,v=e("core/math/policy").defaultPolicy,b=c(g(0,1)),x=o.parse("b*b"),_=o.parse("4*a*c"),S=o.parse("(-b+\\\\sqrt{b*b-4*a*c})/(2*a)"),M=o.parse("(-b-\\\\sqrt{b*b-4*a*c})/(2*a)"),E=o.parse("[\\\\{\\\\abs(b)>0:-c/b\\\\}]"),D=o.parse("[\\\\{\\\\abs(a)>0:-b/(2*a)\\\\}]"),w=o.parse("[\\\\{a=0:\\\\{b<0:-c/b\\\\},q\\\\},\\\\{a=0:\\\\{b>0:-c/b\\\\},p\\\\}]"),T=o.parse("[\\\\{a=0:\\\\{b<0:-c/b\\\\},a>0:q\\\\},\\\\{a=0:\\\\{b=0:\\\\{c>0:-m\\\\}\\\\},a>0:\\\\{f<g:-m\\\\},p\\\\},\\\\{a=0:\\\\{b=0:\\\\{c>0:m\\\\}\\\\},a>0:\\\\{f<g:m\\\\},q\\\\},\\\\{a=0:\\\\{b>0:-c/b\\\\},a>0:p\\\\}]"),P={inequality:function(e){return a(e),T.getConcreteTree(v,e)},generalEquation:function(e){return a(e),e.a.isConstant&&0===e.a.asValue()?E.getConcreteTree(v,e):e.f.isConstant&&e.g.isConstant&&e.f.asValue()-e.g.asValue()==0?D.getConcreteTree(v,e):w.getConcreteTree(v,e)}};u.prototype.trySolve=function(e,t){try{return this.solve(e,t)}catch(e){if(e instanceof s.Error)return e;throw e}},l.prototype.solve=function(e,t){return this.asComparator().solve(e,t)},f.prototype.solve=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return r;if(r.isConstant)return r;var a="="!==this.getOperator();if(!y.plotImplicits&&r.isImplicit())throw new d.implicitsDisabled;var o=this._difference.tryGetConcreteTree(e,t);o.isBroadcast&&(o=h(o.mapElements(e,function(e){return e})));var s=o.getDependencies();if(0===s.length)return o.isList?h(o.args.map(function(e){return c(0===e.asValue())})):c(0===o.asValue());if(1===s.length&&o.isList&&!a)return o;if(1===s.length&&!a&&!y.plotSingleVariableImplicitEquations)return d.singleVariableImplicitEquationsDisabled();var u=h.wrap(o);if(s.length>2)return d.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(s);if(a&&!e.validInequalityVariables(s))return d.invalidInequalityVariables().setDependencies(s);var l=n(e,u,s,a),f=l.localFrame,m=l.effectiveOrder,g=l.variableOfInterest;if(e.complicatedPolarImplicit(g,m))return d.complicatedPolarImplicit().setDependencies(s);if(!e.validImplicitVariables(s))return d.invalidImplicitVariables();if(m>2)return o;for(var v=i(s,a),b=[],x=0;x<f.length;x++){var _=v(f[x]);if(_.isError)return _;if(_.isConstant)b.push(_);else for(var S=0;S<_.args.length;S++){var M=_.args[S],E=u.args[x].extractConditions(g,M).getConcreteTree(e,t);b.push(E)}}return p(g,h(b))}}),define("core/math/distribution-spec",["require","exports","core/math/baseparser","tslib"],function(e,t,r,n){"use strict";function i(e){return a(r.parse(e,{trailingComma:!0}))}function a(e){var r=e,i=o[r.type];if(!i)switch("Assignment"===r.type&&(r=r._expression),r.type){case"FunctionCall":i=t.DistributionParameterDefaultsMap[r._symbol];break;default:return}if(i){for(var a={},s=i.params,u=r.args,c=0;c<s.length;c++){var l=u[c];a[s[c]]=l&&l.getInputString()||""}return n.__assign(n.__assign({},i),{span:r.getInputSpan(),values:a})}}Object.defineProperty(t,"__esModule",{value:!0}),t.DistributionParameterDefaultsMap={normaldist:{type:"distribution",symbol:"normaldist",params:["mean","stdev"],defaults:["0","1"],discrete:!1},tdist:{type:"distribution",symbol:"tdist",params:["dof"],defaults:[void 0],discrete:!1},binomialdist:{type:"distribution",symbol:"binomialdist",params:["trials","probsuccess"],defaults:[void 0,"0.5"],discrete:!0},poissondist:{type:"distribution",symbol:"poissondist",params:["mean"],defaults:[void 0],discrete:!0},uniformdist:{type:"distribution",symbol:"uniformdist",params:["min","max"],defaults:["0","1"],discrete:!1}};var o={Histogram:{type:"visualization",symbol:"histogram",params:["data","binwidth"],defaults:[void 0,"1"]},DotPlot:{type:"visualization",symbol:"dotplot",params:["data","binwidth"],defaults:[void 0,"1"]},BoxPlot:{type:"visualization",symbol:"boxplot",params:["data"],defaults:[void 0]}};t.parseToplevelFunction=i,t.getFunctionSpecFromTree=a}),define("core/math/evaluationstate",["require","core/types/graphmode","parsenodes","core/lib/label","core/math/types","core/math/distribution-spec"],function(e){"use strict";function t(e){return e.isError?e.getError():void 0===e.asValue()?"":+e.asValue()}function r(e,r,n){for(var i=[],a=0;a<r.columns.length;a++){var o=n.columns[a],s={dependent:!o.isIndependent,discrete:o.isIndependent};o.isError?(s.error=o.getError(),s.values=[]):s.values=o.values.map(t),i.push(s)}return{column_data:i}}function n(e,t,r){var n={variables:[],errorMap:{},dimensions:{}};return r.center.isError&&(n.errorMap.center=!0),r.radianAngle.isError&&(n.errorMap.angle=!0),r.width.isError&&(n.errorMap.width=!0),r.height.isError&&(n.errorMap.height=!0),r.opacity.isError&&(n.errorMap.opacity=!0),r.center.isError||r.radianAngle.isError||r.width.isError||r.height.isError||r.opacity.isError?(n.variables=t.getSliderVariables(e,r),n):(n.dimensions.x=[],n.dimensions.y=[],n.dimensions.radianAngle=[],n.dimensions.width=[],n.dimensions.height=[],n.dimensions.opacity=[],a.List.eachArgs(e,[r.center,r.radianAngle,r.width,r.height,r.opacity],function(e){var t=e[0].asValue();n.dimensions.x.push(+t[0]),n.dimensions.y.push(+t[1]),n.dimensions.radianAngle.push(+e[1].asValue()),n.dimensions.width.push(+e[2].asValue()),n.dimensions.height.push(+e[3].asValue()),n.dimensions.opacity.push(Math.max(0,Math.min(1,e[4].asValue())))}),(e.graphingEnabled()?t.getGraphMode(e,r):i.NONE)!==i.NONE&&(n.is_graphable=!0),r.moveStrategy&&(n.move_strategy=r.moveStrategy),n)}var i=e("core/types/graphmode"),a=e("parsenodes"),o=e("core/lib/label"),s=e("core/math/types"),u=e("core/math/distribution-spec").getFunctionSpecFromTree,c=function(){return{operator:"=",variables:[]}},l=function(e,t,l){if(t.isTable)return r(e,t,l);if(t.isImage)return n(e,t,l);var p=c();if(l.isError&&(!(t instanceof a.FunctionDefinition)||l.blocksExport))return p.error=l.getError(),p.variables=t.getSliderVariables(e,l),p.is_single_identifier=t instanceof a.Identifier,p;l.moveStrategy&&(p.move_strategy=l.moveStrategy,p.default_drag_mode=l.defaultDragMode),t.isInequality()&&(p.is_inequality=!0),p.operator=t.getOperator(),l instanceof a.SolvedEquation?!0!==l._expression.asValue()&&!1!==l._expression.asValue()&&(p.assignment=l._symbol):t instanceof a.Assignment&&(p.assignment=t._symbol);var f=e.graphingEnabled()?t.getGraphMode(e,l):i.NONE;if(f!==i.NONE){p.is_graphable=!0,p.expression_type=t.getExpressionType(f,l.valueType),l.isShadeBetween()&&(p.is_shade_between=!0);var h=t.tableInfo(e,l);h&&(p.is_tableable=!0,p.table_info=h)}s.isList(l.valueType)&&(p.is_concrete_list=!0),p.variables=p.is_graphable?[]:t.getSliderVariables(e,l),p.is_single_identifier=t instanceof a.Identifier,l.isConstant&&(p.constant_value=l.asValue());var d=l.getEvaluationInfo();if(!d||"="!==p.operator||t.isConstant||t.isFunction||(p.is_evaluable=!0,p.zero_values=d),l instanceof a.OptimizedRegression){var m={};for(var y in l.parameters)l.parameters.hasOwnProperty(y)&&(m[o.identifierToLatex(y)]=+l.parameters[y].asValue());p.is_regression=!0,p.regression={parameters:m,residualVariable:o.identifierToLatex(l.residualVariable),residualSuggestionId:l.residualSuggestionId,shouldSuggestLogMode:l.shouldSuggestLogMode,statistics:l.statistics}}var g=u(t);return g&&g.discrete&&(p.is_discrete_distribution=!0),p};return l.default=c,l}),define("core/math/statementanalysis",["require","core/math/evaluationstate","pjs","core/types/graphmode","core/math/workerconfig"],function(e){"use strict";var t=e("core/math/evaluationstate"),r=e("pjs"),n=e("core/types/graphmode"),i=e("core/math/workerconfig");return r(function(e){e.init=function(e,r,n){this.policy=e,this.rawTree=r,this.concreteTree=n,this.evaluationState=t(e,r,n)},e.exportTo=function(e,t){this.rawTree.exportTo(e,this.concreteTree,t)},e.graph=function(e){return this.rawTree.graph(this.policy,this.concreteTree,e)},e.getGraphMode=function(){return this.rawTree.getGraphMode(this.policy,this.concreteTree)},e.getGraphInfo=function(){return this.rawTree.getGraphInfo(this.policy,this.concreteTree)},e.shouldIntersect=function(){if(!this.evaluationState.is_graphable)return!1;if(!this.rawTree.userData.shouldGraph)return!1;if(!i.pointsOfInterest)return!1;var e=this.getGraphMode();return e===n.X||e===n.Y}})}),define("core/math/expression-types",["require","exports"],function(e,t){"use strict";function r(e,r){if(void 0===e)return{points:!1,lines:!1,fill:!1};var n=t.EXPRESSION_PROP_DEFAULTS[e];switch(e){case i.SINGLE_POINT:return{points:!0,lines:!1,fill:!1};case i.POINT_LIST:case i.DOTPLOT:return{points:void 0===r.points?n.points:r.points,lines:void 0===r.lines?n.lines:r.lines,fill:!1};case i.PARAMETRIC:case i.POLYGON:case i.X_OR_Y:case i.POLAR:case i.IMPLICIT:case i.HISTOGRAM:case i.BOXPLOT:case i.TTEST:case i.STATS:case i.CUBE:case i.SPHERE:return{points:!1,lines:void 0===r.lines?n.lines:r.lines,fill:void 0===r.fill?n.fill:r.fill};default:return e}}function n(e){if(void 0===e)return!1;switch(e){case i.SINGLE_POINT:case i.POINT_LIST:
case i.PARAMETRIC:case i.POLYGON:case i.X_OR_Y:case i.POLAR:case i.IMPLICIT:return!0;case i.HISTOGRAM:case i.BOXPLOT:case i.DOTPLOT:case i.TTEST:case i.STATS:case i.CUBE:case i.SPHERE:return!1;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e.X_OR_Y="X_OR_Y",e.SINGLE_POINT="SINGLE_POINT",e.POINT_LIST="POINT_LIST",e.PARAMETRIC="PARAMETRIC",e.POLAR="POLAR",e.IMPLICIT="IMPLICIT",e.POLYGON="POLYGON",e.HISTOGRAM="HISTOGRAM",e.DOTPLOT="DOTPLOT",e.BOXPLOT="BOXPLOT",e.TTEST="TTEST",e.STATS="STATS",e.CUBE="CUBE",e.SPHERE="SPHERE"}(i=t.ExpressionType||(t.ExpressionType={})),t.EXPRESSION_PROP_DEFAULTS={X_OR_Y:{points:!1,lines:!0,fill:!1},SINGLE_POINT:{points:!0,lines:!1,fill:!1},POINT_LIST:{points:!0,lines:!1,fill:!1},PARAMETRIC:{points:!1,lines:!0,fill:!1},POLAR:{points:!1,lines:!0,fill:!1},IMPLICIT:{points:!1,lines:!0,fill:!1},POLYGON:{points:!1,lines:!0,fill:!0},HISTOGRAM:{points:!1,lines:!0,fill:!0},DOTPLOT:{points:!0,lines:!1,fill:!1},BOXPLOT:{points:!1,lines:!0,fill:!1},TTEST:{points:!1,lines:!1,fill:!1},STATS:{points:!1,lines:!1,fill:!1},CUBE:{points:!1,lines:!1,fill:!0},SPHERE:{points:!1,lines:!1,fill:!0}},t.getReconciledExpressionProps=r,t.isClickableExpressionType=n}),define("core/math/features/analyze",["require","underscore","parsenodes","core/math/statementanalysis","core/math/builtin","core/math/builtinframe","core/math/parsenode/builtinfunction","core/math/errormsg","core/math/comparators","core/math/types","core/types/graphmode","core/math/expression-types","core/math/distribution-spec","core/math/workerconfig"],function(e){"use strict";function t(e,t,r,n){if(n.isError)return u(e,r,n);var i=n.getDependencies();switch(n.valueType){case d.Distribution:case d.ListOfDistribution:return u(e,r,n);case d.Point:case d.ListOfPoint:return i.length?e.validParametricVariables(i)?u(e,r,n):u(e,r,f.tooManyVariables(r.getSliderVariables(e,n)).setDependencies(i)):u(e,r,n);case d.Number:case d.ListOfNumber:return 0===i.length?u(e,r,n):i.length<=e.dimensions()-1?e.validExpressionVariables(i)?u(e,r,n):u(e,r,f.equationRequired(e.implicitDependency(i)).setDependencies(i)):e.validImplicitVariables(i)?u(e,r,f.equationRequired().setDependencies(i)):u(e,r,f.tooManyVariables(r.getSliderVariables(e,n)).setDependencies(i));default:return u(e,r,f.parseError())}}function r(e){return p.pdf([e,s.FreeVariable("x")])}function n(e,t){var r=this.tryGetConcreteTree(e,t),n=r.getDependencies();return n.length?u(e,this,f.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):u(e,this,this.tryGetConcreteTree(e,t))}function i(e){return function(t,r){var n=this.tryGetConcreteTree(t,r),i=n.getDependencies();if(i.length)return u(t,this,f.tooManyVariables(this.getSliderVariables(t,n)).setDependencies(i));var a=u(t,this,this.tryGetConcreteTree(t,r));if(!n.isError){a.evaluationState.expression_type=y.TTEST;var o=n.args.map(function(e){return e.asValue()});a.evaluationState.ttest_results=e.apply(null,o)}return a}}function a(e,t){return e.filter(function(e){return!t[e]})}var o=e("underscore"),s=e("parsenodes"),u=e("core/math/statementanalysis"),c=e("core/math/builtin"),l=e("core/math/builtinframe"),p=e("core/math/parsenode/builtinfunction"),f=e("core/math/errormsg"),h=e("core/math/comparators"),d=e("core/math/types"),m=e("core/types/graphmode"),y=e("core/math/expression-types").ExpressionType,g=e("core/math/distribution-spec").DistributionParameterDefaultsMap,v=e("core/math/workerconfig");s.Base.prototype.analyze=function(e,t){return u(e,this,this.tryGetConcreteTree(e,t))},s.FunctionCall.prototype.analyze=function(e,n){var i=this.tryGetConcreteTree(e,n);return!i.isError&&g[this._symbol]&&0===i.getDependencies().length&&(i=r(i).tryGetConcreteTree(e,n)),t(e,n,this,i)},s.Expression.prototype.analyze=function(e,r){return t(e,r,this,this.tryGetConcreteTree(e,r))},s.FunctionDefinition.prototype.analyze=function(e,t){if(l[this._symbol])return this.asEquation().analyze(e,t);var r=this._symbol.split("_")[0];if(p[r])return u(e,this,f.cannotRedefine(this._symbol,r));var n=this.tryGetConcreteTree(e,t);if(n.isError)return u(e,this,n);var i=this._argSymbols,a=n.getDependencies();if(-1!==a.indexOf(this._symbol))return u(e,this,f.selfReferentialFunction(this._symbol));var o=a.filter(function(e){return-1===i.indexOf(e)});return e.unplottablePolarFunction(this._symbol,a)?u(e,this,f.unplottablePolarFunction()):o.some(e.assignmentForbidden)?u(e,this,f.addArgumentsToDefinition(o,this._symbol,i).setDependencies(a)):o.length?u(e,this,f.tooManyVariables(this.getSliderVariables(e,n)).setDependencies(a)):u(e,this,n)},s.Assignment.prototype.analyze=function(e,t,n){var i=this._symbol;if(!e.validLHS(i))return u(e,this,f.invalidLHS(i));if(l[i])return this.asEquation().analyze(e,t);var a=this.tryGetConcreteTree(e,t);if(!a.isError&&this._expression instanceof s.FunctionCall&&g[this._expression._symbol]&&0===a.getDependencies().length&&(a=r(a).tryGetConcreteTree(e,t)),a.isError)return u(e,this,a);var o=a.getDependencies();if(this.isEquation(a))return this.asEquation().analyze(e,t);if(o.length>1){var c=this.getSliderVariables(e,a);return c.length?u(e,this,f.tooManyVariables(c).allowExport().setDependencies(o)):u(e,this,a)}var p=this.getMoveStrategy(e,t,a,n);if(p){var h=this.getDefaultDragMode(p);return u(e,this,s.MovablePoint(a.args,p,h))}return u(e,this,a)},s.Regression.prototype.analyze=function(e,t,r,n,i){return u(e,this,this.tryOptimize(e,t,r,n,i))},s.Polygon.prototype.analyze=n,s.Histogram.prototype.analyze=n,s.Object3D.prototype.analyze=n,s.DotPlot.prototype.analyze=n,s.BoxPlot.prototype.analyze=n,s.TTest.prototype.analyze=i(c.ttest),s.IndependentTTest.prototype.analyze=i(c.ittest),s.Stats.prototype.analyze=function(e,t){var r=this.tryGetConcreteTree(e,t),n=r.getDependencies();if(n.length)return u(e,this,f.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n));var i=u(e,this,this.tryGetConcreteTree(e,t));if(!r.isError){i.evaluationState.expression_type=y.STATS;var a=r.args.map(function(e){return e.asValue()});i.evaluationState.stats_results=c.stats.apply(null,a)}return i},s.Equation.prototype.analyze=s.BaseComparator.prototype.analyze=function(e,t){var r="="!==this.getOperator();if(!v.plotInequalities&&r)return u(e,this,f.inequalitiesDisabled());var n=this.trySolve(e,t);if(n.isError)return u(e,this,n);if(n instanceof s.SolvedEquation&&n.getDependencies().length){var i=n.getDependencies().concat(n._symbol);if(!e.validImplicitVariables(i))return u(e,this,f.invalidImplicitVariables().setDependencies(i))}return this.getGraphMode(e,n)!==m.IMPLICIT||e.validImplicitVariables(n.getDependencies())?u(e,this,n):u(e,this,f.invalidImplicitVariables().setDependencies(n.getDependencies()))},s.DoubleInequality.prototype.analyze=function(e,t){if(!v.plotInequalities)return u(e,this,f.inequalitiesDisabled());var r=this.tryGetConcreteTree(e,t);if(r.isError)return u(e,this,r);var n=r.getDependencies();return h.table[this._operators[0]].direction!==h.table[this._operators[1]].direction?u(e,this,f.mismatchedDoubleInequality()):e.validDoubleInequalitySymbol(r._symbol)&&e.validDoubleInequalityVariables(n)?n.length>2?u(e,this,f.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):-1!==r._expressions[0].getDependencies().indexOf(r._symbol)||-1!==r._expressions[1].getDependencies().indexOf(r._symbol)?u(e,this,f.complicatedDoubleInequality().setDependencies(n)):u(e,this,r):u(e,this,f.invalidDoubleInequalityVariables().setDependencies(n))},s.And.prototype.analyze=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return u(e,this,r);var n=r.getDependencies();return n.length?e.validDoubleInequalityVariables(n)?u(e,this,f.complicatedDoubleInequality().setDependencies(n)):u(e,this,f.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):u(e,this,r)},s.OrderedPair.prototype.analyze=function(e,r,n){var i=this.tryGetConcreteTree(e,r);if(i.isError)return u(e,this,i);var a=this.getMoveStrategy(e,r,i,n);if(a){var o=this.getDefaultDragMode(a);return u(e,this,s.MovablePoint(i.args,a,o))}return t(e,r,this,i)},s.Table.prototype.analyze=function(e,t){for(var r=Object.create(t),n=[],i=0;i<this.columns.length;i++){var o=this.columns[i].analyze(e,r,t);if(0===i&&(o.concreteTree.isIndependent?e.validFirstColumnVariable(o.concreteTree.header._symbol)?o.concreteTree.header._symbol:o=u(e,this.columns[i],f.invalidFirstTableColumn()):o=u(e,this.columns[i],f.invalidDependentFirstTableColumn())),o.concreteTree.isIndependent)o.rawTree.exportToLocal(o.concreteTree,r);else if(!o.concreteTree.isError){var c=o.concreteTree.header.getDependencies(),l=a(c,r);l.length&&(o=u(e,this.columns[i],f.tooManyVariables(l).setDependencies(l)))}n.push(o.concreteTree)}var p=s.Table(n),h=u(e,this,p);return h.evaluationState.is_graphable=!0,h},s.TableColumn.prototype.analyze=function(e,t,r){var n=this.header.tableError();if(n)return u(e,this,f.invalidTableHeader(n));var i=this.tryGetConcreteTree(e,t,r);if(i.isError)return u(e,this,i);if(i.header.isError)return u(e,this,i.header);if(i.values.isError)return u(e,this,i.values);for(var a=0;a<i.values.length;a++)if(!i.values[a].isError){var o=this.values[a]&&this.values[a].tableError();if(o)i.values[a]=f.invalidTableEntry(o);else{var s=i.values[a].getDependencies();s.length&&(i.values[a]=f.tooManyVariables(s).setDependencies(s))}}return u(e,this,i)},s.Image.prototype.analyze=function(e,t,r){var n=this.tryGetConcreteTree(e,t);if(n.radianAngle.isError||n.center.isError||n.width.isError||n.height.isError||n.opacity.isError)return u(e,this,n);var i=n.center.getDependencies(),a=n.radianAngle.getDependencies(),o=n.width.getDependencies(),c=n.height.getDependencies(),l=n.opacity.getDependencies();return i.length||a.length||o.length||c.length||l.length?u(e,this,s.Image({center:i.length?f.tooManyVariables(a).setDependencies(i):n.center,radianAngle:a.length?f.tooManyVariables(a).setDependencies(a):n.radianAngle,width:o.length?f.tooManyVariables(o).setDependencies(o):n.width,height:c.length?f.tooManyVariables(c).setDependencies(c):n.height,opacity:l.length?f.tooManyVariables(l).setDependencies(l):n.opacity})):(n.moveStrategy=this.getMoveStrategy(e,t,n,r),u(e,this,n))},s.Slider.prototype.analyze=function(e,t){var r,n=this.tryGetConcreteTree(e,t),i=n.sliderInfo;if(i.missingVars.length){var a=o.unique(i.missingVars);r=u(e,this,f.tooManyVariables(e.sliderVariables(a)).setDependencies(a).allowExport())}else r=u(e,this,n);var s=r.evaluationState;if(v.sliders){s.assignment=i.exportedSymbol,s.slider_min_number=i.values.min,s.slider_max_number=i.values.max,s.slider_step_number=i.values.step,s.slider_min_valid=i.valids.min,s.slider_max_valid=i.valids.max,s.slider_step_valid=i.valids.step;var c=s.slider_min_valid&&s.slider_max_valid&&s.slider_step_valid;s.is_slider=!0,s.raw_slider_latex=this.getInputString(),s.is_slidable=c,s.is_animatable=s.is_slidable&&!s.is_graphable,i.errMsg&&(s.error=i.errMsg.getError())}return delete s.is_evaluable,delete s.zero_values,r}}),define("core/math/features/analyzeFourFunction",["require","parsenodes","core/math/statementanalysis","core/math/errormsg","core/math/parsenode/builtinfunction","core/math/builtinconstants"],function(e){"use strict";function t(e,t){return n(e,this,i.inequalitiesUnsupported())}var r=e("parsenodes"),n=e("core/math/statementanalysis"),i=e("core/math/errormsg"),a=e("core/math/parsenode/builtinfunction"),o=e("core/math/builtinconstants");r.Base.prototype.analyzeFourFunction=function(e,t){var r=this.tryGetConcreteTree(e,t);return r.isError?n(e,this,r):n(e,this,i.parseError())},r.Expression.prototype.analyzeFourFunction=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return n(e,this,r);var s=r.getDependencies();if(s.length>0){var u,c=s[0];return u=a.hasOwnProperty(c)?i.functionUnsupported(c):o.hasOwnProperty(c)?i.constantUnsupported(c):i.variablesUnsupported(c),n(e,this,u)}return n(e,this,r)},r.Assignment.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.assignmentsUnsupported())},r.FunctionDefinition.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.functionDefinitionsUnsupported())},r.Equation.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.equationsUnsupported())},r.And.prototype.analyzeFourFunction=t,r.DoubleInequality.prototype.analyzeFourFunction=t,r.BaseComparator.prototype.analyzeFourFunction=t,r.Regression.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.regressionsUnsupported())},r.OrderedPair.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.pointsUnsupported())}}),define("core/math/features/analyzeScientific",["require","parsenodes","core/math/statementanalysis","core/math/errormsg","core/math/builtinframe"],function(e){"use strict";function t(e,t){return n(e,this,i.inequalitiesUnsupported())}var r=e("parsenodes"),n=e("core/math/statementanalysis"),i=e("core/math/errormsg"),a=e("core/math/builtinframe");r.Base.prototype.analyzeScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);return r.isError?n(e,this,r):n(e,this,i.parseError())},r.Expression.prototype.analyzeScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return n(e,this,r);var a=r.getDependencies();return a.length>0?n(e,this,i.tooManyVariables(a)):n(e,this,r)},r.Assignment.prototype.analyzeScientific=function(e,t){var r=this._symbol;if(a[r])return n(e,this,i.cannotRedefine(r));var o=this.tryGetConcreteTree(e,t);if(o.isError)return n(e,this,o);var s=o.getDependencies();return this.isEquation(o)?n(e,this,i.equationsUnsupported()):s.length>0?n(e,this,i.tooManyVariables(s)):n(e,this,o)},r.FunctionDefinition.prototype.analyzeScientific=function(e,t){if(a[this._symbol])return n(e,this,i.cannotRedefine(this._symbol));var r=this.tryGetConcreteTree(e,t);if(r.isError)return n(e,this,r);var o=this._argSymbols,s=r.getDependencies();if(-1!==s.indexOf(this._symbol))return n(e,this,i.selfReferentialFunction(this._symbol));var u=s.filter(function(e){return-1===o.indexOf(e)});return u.length?n(e,this,i.addArgumentsToDefinition(u,this._symbol,o)):n(e,this,r)},r.Equation.prototype.analyzeScientific=function(e,t){return n(e,this,i.equationsUnsupported())},r.And.prototype.analyzeScientific=t,r.DoubleInequality.prototype.analyzeScientific=t,r.BaseComparator.prototype.analyzeScientific=t,r.Regression.prototype.analyzeScientific=function(e,t){return n(e,this,i.regressionsUnsupported())},r.OrderedPair.prototype.analyzeScientific=function(e,t){return n(e,this,i.pointsUnsupported())}}),define("core/math/features/analyzeSingleExpressionScientific",["require","parsenodes","core/math/statementanalysis","core/math/errormsg","core/math/parsenode/builtinfunction","core/math/builtinconstants"],function(e){"use strict";function t(e,t){return n(e,this,i.inequalitiesUnsupported())}var r=e("parsenodes"),n=e("core/math/statementanalysis"),i=e("core/math/errormsg"),a=e("core/math/parsenode/builtinfunction"),o=e("core/math/builtinconstants");r.Base.prototype.analyzeSingleExpressionScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);return r.isError?n(e,this,r):n(e,this,i.parseError())},r.Expression.prototype.analyzeSingleExpressionScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return n(e,this,r);var s=r.getDependencies();if(s.length>0){var u,c=s[0];return u=a.hasOwnProperty(c)?i.functionUnsupported(c):o.hasOwnProperty(c)?i.constantUnsupported(c):i.variablesUnsupported(c),n(e,this,u)}return n(e,this,r)},r.Assignment.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.assignmentsUnsupported())},r.FunctionDefinition.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.functionDefinitionsUnsupported())},r.Equation.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.equationsUnsupported())},r.And.prototype.analyzeSingleExpressionScientific=t,r.DoubleInequality.prototype.analyzeSingleExpressionScientific=t,r.BaseComparator.prototype.analyzeSingleExpressionScientific=t,r.Regression.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.regressionsUnsupported())},r.OrderedPair.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.pointsUnsupported())}}),define("core/lib/dragmode",["require","exports"],function(e,t){"use strict";function r(e){return e?"none"===e[0].type&&"none"===e[1].type?i.NONE:"none"===e[1].type?i.X:"none"===e[0].type?i.Y:i.XY:i.NONE}function n(e,t){var n=r(t);switch(e){case i.NONE:return i.NONE;case i.AUTO:case i.XY:return n;case i.X:return n===i.X||n===i.XY?i.X:i.NONE;case i.Y:return n===i.Y||n===i.XY?i.Y:i.NONE;default:return i.NONE}}Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e.NONE="NONE",e.X="X",e.Y="Y",e.XY="XY",e.AUTO="AUTO"}(i=t.DragMode||(t.DragMode={})),t.reconcileDragMode=n}),define("core/math/features/getgraphmode",["require","parsenodes","core/types/graphmode","core/lib/dragmode","core/lib/dragmode","core/math/types"],function(e){"use strict";function t(e,t){var r;return r=e&&e.hasOwnProperty("dragMode")?e.dragMode===u.AUTO?t.defaultDragMode:e.dragMode:t.defaultDragMode,s(r,t.moveStrategy)}function r(e,r){var n=r.getDependencies();switch(r.valueType){case c.Point:case c.ListOfPoint:return r.isMovablePoint&&t(this.userData,r)!==u.NONE?o.XYPOINT_MOVABLE:0===n.length?o.XYPOINT:e.validParametricVariables(n)?2===e.dimensions()?o.PARAMETRIC:o.PARAMETRIC_CURVE_3D:o.NONE;case c.Number:case c.ListOfNumber:return 2===e.dimensions()&&1===n.length?o.Y:3===e.dimensions()&&2===n.length?o.Z_3D:o.NONE;default:return o.NONE}}function n(e,t){var r=t._expression.getDependencies();if(r.length>1)return o.NONE;if(t._expression.valueType!==c.Number&&t._expression.valueType!==c.ListOfNumber)return o.NONE;var n=t._symbol;return e.graphMode(n,r)}function i(e,t){return t.isError?o.NONE:o.VISUALIZATION}var a=e("parsenodes"),o=e("core/types/graphmode"),s=e("core/lib/dragmode").reconcileDragMode,u=e("core/lib/dragmode").DragMode,c=e("core/math/types");a.Base.prototype.getGraphMode=function(e,t){return o.NONE},a.Expression.prototype.getGraphMode=r,a.Equation.prototype.getGraphMode=a.BaseComparator.prototype.getGraphMode=function(e,t){var r=t.getDependencies();return t.isConstant?o.NONE:t instanceof a.SolvedEquation?0===r.length?e.graphableAsConstant(t._symbol)?e.constantGraphMode(t._symbol):o.NONE:n(e,t):r.length<=2?o.IMPLICIT:o.NONE},a.DoubleInequality.prototype.getGraphMode=function(e,t){return e.constantGraphMode(t._symbol)},a.Assignment.prototype.getGraphMode=function(e,t){if(t instanceof a.SolvedEquation)return n(e,t);if(this.isEquation(t))return this.asEquation().getGraphMode(e,t);var i=t.getDependencies();switch(t.valueType){case c.Number:case c.ListOfNumber:switch(i.length){case 0:return e.graphableAsConstant(this._symbol)?e.constantGraphMode(this._symbol):o.NONE;case 1:return t.valueType!==c.ListOfNumber||e.graphableListVariables(this._symbol,i[0])?this.isSlider?o.NONE:e.graphMode(this._symbol,i):o.NONE;case 2:return 3===e.dimensions()&&"z"===this._symbol?o.Z_3D:o.NONE;default:return o.NONE}break;default:return r.call(this,e,t)}},a.FunctionDefinition.prototype.getGraphMode=function(e,t){if(1!==this._argSymbols.length)return o.NONE;var r=e.graphMode(this._symbol,this._argSymbols),n=t.getDependencies();switch(t.valueType){case c.Number:case c.ListOfNumber:switch(n.length){case 0:return r;case 1:return n[0]!==this._argSymbols[0]?o.NONE:r;default:return o.NONE}break;default:return o.NONE}},a.Regression.prototype.getGraphMode=function(e,t){return this.isLhsSimple&&t.isModelValid?1!==t.model.getDependencies().length?o.NONE:o.Y:o.NONE},a.Polygon.prototype.getGraphMode=function(e,t){return t.isError?o.NONE:o.POLYGONFILL},a.Object3D.prototype.getGraphMode=function(e,t){return t.isError?o.NONE:o.OBJECT3D},a.Histogram.prototype.getGraphMode=i,a.DotPlot.prototype.getGraphMode=i,a.BoxPlot.prototype.getGraphMode=i,a.Image.prototype.getGraphMode=function(e,t){return this.userData.showPoints?this.center.isError||this.radianAngle.isError||this.width.isError||this.height.isError||this.opacity.isError?o.NONE:o.XYPOINT:o.NONE}}),define("core/math/features/getgraphinfo",["require","parsenodes","core/math/builtinframe","core/math/domaintypes","core/math/policy"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/builtinframe"),n=e("core/math/domaintypes"),i=e("core/math/policy").defaultPolicy;t.Base.prototype.getGraphInfo=function(e,t){var r,i,a=t.getDependencies();switch(a.length){case 0:r=t.getLinearCoefficients(),i=t.boundDomain("x");break;case 1:i=t.boundDomain(a[0]),"known"===i.type&&(r=t.getLinearCoefficients());break;case 2:i=n.unknownDomain()}return{graphMode:this.getGraphMode(e,t),color:this.userData.color,pointStyle:this.userData.pointStyle,lineStyle:this.userData.lineStyle,operator:this.getOperator(),isLinear:!!r,linearCoefficients:r,domainBound:i}},t.Base.prototype.getLinearCoefficients=function(){var e=this.getDependencies();switch(e.length){case 0:return[+this.asValue(),0];case 1:if(this.polynomialOrder(e[0])>1)return;var t=this.getPolynomialCoefficients(e[0]);return[t[0]?+t[0].tryGetConcreteTree(i,r).asValue():0,t[1]?+t[1].tryGetConcreteTree(i,r).asValue():0];default:return}},t.OrderedPair.prototype.getLinearCoefficients=function(){var e=this.args[0].getLinearCoefficients(),t=this.args[1].getLinearCoefficients();if(e&&t)return[e,t]}}),define("core/math/features/getMoveStrategy",["require","parsenodes","core/math/types","core/math/maybe-rational","core/math/builtinframe","core/math/functions"],function(e){"use strict";function t(e){return{type:"none",inputString:e}}function r(e){return{type:"updateCoordinate",inputString:e}}function n(e,t,r){return{type:"updateSlider",inputString:e,id:t,coefficients:r}}function i(e,t,r,n){return{type:"updateSliderNonlinear",inputString:e,id:t,initialValue:r.constant_value,min:r.slider_min_number,max:r.slider_max_number,compiled:n}}function a(e,t,r,n,i,a){for(var o=t.getDependencies(),s=0;s<o.length;s++)if(i[o[s]])return!1;for(var u=o.length-1;u>=0;u--){var c=o[u];if(!a[c]){var l=n[c];if(void 0!==l){var p=r[c];if(1===p.order){var f=p.tree,d=f.getPolynomialCoefficients(c),y=d[1]?d[1].getConcreteTree(e,h):m,g=d[0]?d[0].getConcreteTree(e,h):m;if(g.isConstant&&y.isConstant&&isFinite(g.asValue())&&isFinite(y.asValue())&&0!==y.asValue()){return{symbol:c,id:l,coefficients:[-g.asValue()/y.asValue(),1/y.asValue()]}}}}}}return!1}function o(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}function s(e,t){var r=o(e),n={};for(var i in t){var a=t[i].evaluationState.assignment;t[i].evaluationState.is_slidable&&r[a]&&(n[a]=i)}return n}function u(e,t,r,n){for(var i=[],a=0;a<r.length;a++){var o=r[a],s={};i.push(s);for(var u=0;u<n.length;u++){var c=n[u],p=Object.create(t);p[c]=l.FreeVariable(c);var f=o.tryGetConcreteTree(e,p);f.isError?s[c]={tree:f,order:1/0}:s[c]={tree:f,order:f.polynomialOrder(c)}}}return i}function c(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];0!==t[i].order&&(r[i]=!0)}}var l=e("parsenodes"),p=e("core/math/types"),f=e("core/math/maybe-rational").maybeRational,h=e("core/math/builtinframe"),d=e("core/math/functions"),m=l.Constant(f(0,1));l.Base.prototype.getMoveStrategy=function(){},l.Assignment.prototype.getMoveStrategy=function(e,t,r,n){if(this._expression instanceof l.OrderedPair)return this._expression.getMoveStrategy(e,t,r,n)},l.OrderedPair.prototype.getMoveStrategy=function(e,o,f,h){if(f.valueType===p.Point&&0===f.getDependencies().length){for(var m=this.getDependencies(),y=s(m,h),g=Object.keys(y),v=this.args,b=u(e,o,v,g),x=[],_={},S={},M=0;M<2;M++){var E=v[M],D=E.getInputString();if(E.isConstant)x[M]=r(D);else{var w=a(e,E,b[M],y,_,S);w&&(x[M]=n(D,w.id,w.coefficients),_[w.symbol]=!0,c(g,b[M],S)),x[M]||(x[M]=t(D))}}if("none"!==x[0].type||"none"!==x[1].type)return x;if(1===g.length){var T,P=g[0],I=y[P];try{T=l.OrderedPair([b[0][P].tree,b[1][P].tree]).getCompiledFunction()}catch(e){return}return d.dehydrateCompiledFunction(T),[i(v[0].getInputString(),I,h[I].evaluationState,T),t(v[1].getInputString())]}}},l.Image.prototype.getMoveStrategy=function(e,i,o,l){if((!this.userData||!1!==this.userData.shouldGraph)&&"OrderedPair"===o.center.type&&o.center.args[0].isConstant&&o.center.args[1].isConstant&&o.width.isConstant&&o.height.isConstant&&o.radianAngle.isConstant&&o.opacity.isConstant){var p=this.getDependencies(),f=s(p,l),h=Object.keys(f),d=[this.width,this.height];"OrderedPair"===this.center.type&&d.push(this.center.args[0],this.center.args[1]);for(var m=[],y={},g={},v=u(e,i,d,h),b=[2,3,0,1],x=0;x<b.length;x++){var _=b[x],S=d[_];if(S){var M=S.getInputString();if(S.isConstant)m[_]=r(M);else{var E=a(e,S,v[_],f,y,g);E&&(m[_]=n(M,E.id,E.coefficients),y[E.symbol]=!0,c(h,v[_],g)),m[_]||(m[_]=t(M))}}else m[_]=t("")}if("none"!==m[0].type||"none"!==m[1].type||"none"!==m[2].type||"none"!==m[3].type)return m}}}),define("core/math/features/getDefaultDragMode",["require","parsenodes","core/lib/dragmode"],function(e){"use strict";var t=e("parsenodes"),r=e("core/lib/dragmode").DragMode;t.Base.prototype.getMoveStrategy=function(){return r.NONE},t.Assignment.prototype.getDefaultDragMode=function(e){return"none"!==e[0].type&&"none"!==e[1].type?r.XY:"none"!==e[0].type?r.X:"none"!==e[1].type?r.Y:r.NONE},t.OrderedPair.prototype.getDefaultDragMode=function(e){return"updateSlider"===e[0].type&&"updateSlider"===e[1].type?r.XY:"updateSlider"===e[0].type?r.X:"updateSlider"===e[1].type?r.Y:r.NONE}}),define("core/math/features/tableinfo",["require","parsenodes","core/math/types","core/lib/label","core/math/distribution-spec"],function(e){"use strict";var t=e("parsenodes"),r=t.List,n=e("core/math/types"),i=e("core/lib/label"),a=e("core/math/distribution-spec").getFunctionSpecFromTree;t.Base.prototype.tableInfo=function(e,t){return!1},t.Identifier.prototype.tableInfo=function(e,t){return!!e.validFirstColumnVariable(this._symbol)&&{independent_variable:this._symbol,dependent_column:this.getInputString(),by_reference:!1}},t.Expression.prototype.tableInfo=function(e,t){var i=t.getDependencies();if(a(this))return!1;switch(t.valueType){case n.Point:case n.ListOfPoint:if(0!==i.length)return!1;if(t.isMovablePoint&&("updateSlider"===t.moveStrategy[0].type||"updateSlider"===t.moveStrategy[1].type))return!1;return{independent_variable:"x",dependent_column:"y",by_reference:!1,values:r.wrap(t).mapElements(e,function(e){return e.asArray()})};case n.Number:if(1!==i.length)return!1;var o=i[0];return!!e.validFirstColumnVariable(o)&&{independent_variable:o,dependent_column:this.getInputString(),by_reference:!1};default:return!1}},t.Assignment.prototype.tableInfo=function(e,r){if(r instanceof t.SolvedEquation)return!1;if(!this.getInputString().length)return!1;if(a(this))return!1;var n=r.getDependencies();if(n.length>1)return!1;var o;if(0===n.length){if(!e.tableableAsConstant(this._symbol))return!1;o=e.implicitIndependent(this._symbol)}else o=n[0];return!!e.validFirstColumnVariable(o)&&{independent_variable:o,dependent_column:e.assignmentForbidden(this._symbol)?i.trimLatex(this.getInputString().replace(/[^=]*=/,"")):i.trimLatex(this.getInputString().split("=")[0]),by_reference:!e.assignmentForbidden(this._symbol)}},t.FunctionDefinition.prototype.tableInfo=function(e,t){if(1!==this._argSymbols.length)return!1;if(!this.getInputString().length)return!1;if(t.getDependencies().length>1)return!1;var r=this._argSymbols[0];if(!e.validFirstColumnVariable(r))return!1;var n=e.assignmentForbidden(this._symbol);return{independent_variable:r,dependent_column:n?i.trimLatex(this.getInputString().replace(/[^=]*=/,"")):i.trimLatex(this.getInputString().split("=")[0]),by_reference:!n}},t.BaseComparator.prototype.tableInfo=function(e,t){return!1},t.DoubleInequality.prototype.tableInfo=function(e,t){return!1},t.Equation.prototype.tableInfo=function(e,t){return!1}}),define("core/math/features/tableerror",["require","parsenodes","core/lib/worker-i18n"],function(e){"use strict";var t=e("parsenodes"),r=e("core/lib/worker-i18n");t.Base.prototype.tableError=function(){return this.isInequality()?r.t("Inequalities are not allowed."):!(this instanceof t.Expression)&&r.t("This type of expression is not allowed.")},t.List.prototype.tableError=function(){return r.t("Lists are not allowed.")},t.Equation.prototype.tableError=t.Assignment.prototype.tableError=function(){return r.t("Equations are not allowed.")},t.FunctionDefinition.prototype.tableError=function(){return r.t("Function definitions are not allowed.")},t.Regression.prototype.tableError=function(){return r.t("Regressions are not allowed.")}}),define("core/lib/deepCopy",["require","exports"],function(e,t){"use strict";function r(e){var t=e;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),!t)return t;if("object"!=typeof t)return t;if(Array.isArray(t))return t.map(r);var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=r(t[i]));return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}),define("core/types/styles",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.POINT="POINT",e.OPEN="OPEN",e.CROSS="CROSS"}(t.PointStyle||(t.PointStyle={}));!function(e){e.SOLID="SOLID",e.DASHED="DASHED",e.DOTTED="DOTTED"}(t.LineStyle||(t.LineStyle={}))}),define("core/math/cdf-branches",["require","exports","tslib","core/lib/deepCopy","core/math/plotter","core/math/domaintypes","core/types/styles"],function(e,t,r,n,i,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e,t){var n=e.segments,i=t.segments,a=r.__spreadArrays(n,i);return r.__assign(r.__assign({},e),{segments:a})},u=function(e){var t=e.viewState,r=e.graphInfo,s=e.compiled,u=e.derivative,c=e.bounds,l=e.included,p=e.discrete,f=n.default(r),h=a.intersectDomains(r.domainBound,a.knownDomain(c));if("known"===h.type)return f.domainBound=h,p?f.pointStyle=l?o.PointStyle.POINT:o.PointStyle.OPEN:f.lineStyle=o.LineStyle.SOLID,i.default.computeGraphData({graphInfo:f,viewState:t,compiled:s,derivative:u,discrete:p})};t.makeCDFTopBranches=function(e){var t,r=e.viewState,n=e.graphInfo,a=e.compiled,o=e.derivative,c=e.bounds,l=e.discrete,p=e.maxOverride,f=c[0],h=c[1],d=[];if(l){f=Math.ceil(f),h=Math.floor(h);var m=void 0!==p?p:1/0;if(f===-1/0&&h>=m)t=u({bounds:[f,m],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l}),d.push(t);else if(f===-1/0&&h<1/0)t=u({bounds:[f,h],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l}),d.push(t),d.push(u({bounds:[h+1,m],included:!1,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l}));else if(f>-1/0&&h>=m)t=u({bounds:[f,m],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l}),d.push(u({bounds:[-1/0,f-1],included:!1,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l})),d.push(t);else{t=u({bounds:[f,h],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l});var y=u({bounds:[-1/0,f-1],included:!1,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l}),g=u({bounds:[h+1,m],included:!1,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l});d.push(t);var v=void 0;y&&g&&(v=s(y,g),d.push(v))}}else t=u({bounds:[f,h],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l}),d.push(i.default.computeGraphData({viewState:r,graphInfo:n,compiled:a,derivative:o}));return{cdfTopBranch:t,topBranches:d}}}),define("core/math/copy-defined-pois",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){for(var t=[],r=[],n=e.length,i=0;i<n;i++)t.push(e[i][0]),r.push(e[i][1]);return{defined:{x:t,y:r}}};t.default=r}),define("core/types/opacity",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOW=.2,t.DEFAULT=.4,t.HIGH=.8}),define("core/types/slider-loop-modes",["require","exports"],function(e,t){"use strict";function r(e){switch(e){case n.LOOP_FORWARD:return"dcg-icon-arrow-one-way";case n.LOOP_FORWARD_REVERSE:return"dcg-icon-arrow-two-way";case n.PLAY_ONCE:return"dcg-icon-arrow-once";case n.PLAY_INDEFINITELY:return"dcg-icon-arrow-infinite"}}
Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){e.LOOP_FORWARD_REVERSE="LOOP_FORWARD_REVERSE",e.LOOP_FORWARD="LOOP_FORWARD",e.PLAY_ONCE="PLAY_ONCE",e.PLAY_INDEFINITELY="PLAY_INDEFINITELY"}(n=t.SliderLoopMode||(t.SliderLoopMode={})),t.getSliderIcon=r}),define("core/types/label-sizes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(t.LabelSize||(t.LabelSize={}))}),define("core/types/label-orientations",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.DEFAULT="default",e.LEFT="left",e.RIGHT="right",e.ABOVE="above",e.BELOW="below"}(t.LabelOrientation||(t.LabelOrientation={}))}),define("core/lib/default-spec",["require","exports","underscore","core/lib/deepCopy"],function(e,t,r,n){"use strict";function i(e,t){var n={};for(var i in t)t.hasOwnProperty(i)&&(r.isEqual(e[i],t[i])||(n[i]=t[i]));return n}function a(e,t){var n=void 0,i={};for(var a in t)t.hasOwnProperty(a)&&(r.isEqual(e[a],t[a])||(i[a]=t[a],n=i));return n}function o(e,t){t||(t={});var r={};for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(r[i]=n.default(e[i]));for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.stripDefaults=i,t.stripDefaultsAndMaybeReturnUndefined=a,t.populateDefaults=o}),define("core/graphing-calc/json/expression",["require","exports","tslib","core/types/opacity","core/types/styles","core/lib/dragmode","core/types/slider-loop-modes","core/types/label-sizes","core/types/label-orientations","core/lib/default-spec"],function(e,t,r,n,i,a,o,s,u,c){"use strict";function l(e){return r.__assign(r.__assign(r.__assign({},t.DEFAULTS),e),{slider:r.__assign(r.__assign({},t.SLIDER_DEFAULTS),e.slider),cdf:r.__assign(r.__assign({},t.CDF_DEFAULTS),e.cdf),vizProps:r.__assign(r.__assign({},t.VIZ_DEFAULTS),e.vizProps),clickableInfo:r.__assign(r.__assign({},t.CLICKABLEINFO_DEFAULTS),e.clickableInfo)})}function p(e){var n=c.stripDefaults(t.DEFAULTS,r.__assign(r.__assign({},e),{slider:c.stripDefaults(t.SLIDER_DEFAULTS,e.slider)})),i=c.stripDefaultsAndMaybeReturnUndefined(t.CDF_DEFAULTS,e.cdf);void 0===i?delete n.cdf:n.cdf=i;var a=c.stripDefaultsAndMaybeReturnUndefined(t.VIZ_DEFAULTS,e.vizProps);void 0===a?delete n.vizProps:n.vizProps=a;var o=c.stripDefaultsAndMaybeReturnUndefined(t.CLICKABLEINFO_DEFAULTS,e.clickableInfo);return void 0===o?delete n.clickableInfo:n.clickableInfo=o,n}function f(e){return{type:"statement",id:e.id,latex:e.latex,label:e.label,color:e.color,fill:e.fill,fillOpacity:e.fillOpacity,lineWidth:e.lineWidth,points:e.points,lines:e.lines,pointStyle:e.pointStyle,lineStyle:e.lineStyle,dragMode:e.dragMode,labelSize:e.labelSize,labelOrientation:e.labelOrientation,verticalLabel:e.verticalLabel,suppressTextOutline:e.suppressTextOutline,interactiveLabel:e.interactiveLabel,editableLabelMode:e.editableLabelMode,residualVariable:e.residualVariable,regressionParameters:e.regressionParameters,isLogModeRegression:e.isLogModeRegression,showLabel:e.showLabel,shouldGraph:e.hidden,slider:{min:e.slider.hardMin?e.slider.min:"",max:e.slider.hardMax?e.slider.max:"",step:e.slider.step},parametricDomain:e.parametricDomain,polarDomain:e.polarDomain,cdf:e.cdf,vizProps:e.vizProps,clickableInfo:e.clickableInfo}}Object.defineProperty(t,"__esModule",{value:!0}),t.CDF_DEFAULTS={show:!1,min:"",max:""},t.VIZ_DEFAULTS={breadth:"",axisOffset:"",alignedAxis:"x",binAlignment:"center",dotplotXMode:"exact",dotplotSize:"medium",histogramMode:""},t.CLICKABLEINFO_DEFAULTS={enabled:!1,description:"",assignment:"",expression:""};var h;!function(e){e.None="NONE",e.Math="MATH",e.Text="TEXT"}(h=t.EditableLabelMode||(t.EditableLabelMode={})),t.DEFAULT_SLIDER_PERIOD=4e3,t.DEFAULTS={folderId:"",latex:"",color:"",showLabel:!1,label:"",cdf:t.CDF_DEFAULTS,vizProps:t.VIZ_DEFAULTS,clickableInfo:t.CLICKABLEINFO_DEFAULTS,hidden:!1,secret:!1,dragMode:a.DragMode.AUTO,labelSize:s.LabelSize.MEDIUM,labelOrientation:u.LabelOrientation.DEFAULT,verticalLabel:!1,suppressTextOutline:!1,interactiveLabel:!1,editableLabelMode:h.None,residualVariable:"",isLogModeRegression:!1,pointStyle:i.PointStyle.POINT,lineStyle:i.LineStyle.SOLID,fillOpacity:""+n.DEFAULT,lineWidth:"",regressionParameters:{},displayEvaluationAsFraction:!1,slider:{},polarDomain:{min:"",max:""},parametricDomain:{min:"",max:""},points:void 0,lines:void 0,fill:void 0},t.SLIDER_DEFAULTS={hardMin:!1,hardMax:!1,animationPeriod:t.DEFAULT_SLIDER_PERIOD,loopMode:o.SliderLoopMode.LOOP_FORWARD_REVERSE,playDirection:1,isPlaying:!1,min:"-10",max:"10",step:""},t.inflateDefaults=l,t.stripDefaults=p,t.computeParsableState=f}),define("core/math/features/graph",["require","underscore","parsenodes","core/math/plotter","core/types/graphmode","core/math/comparators","core/lib/dragmode","core/math/expression-types","core/math/types","core/math/builtin","core/math/cdf-branches","core/math/copy-defined-pois","core/math/distribution-spec","core/graphing-calc/json/expression"],function(e){"use strict";function t(e,t){for(var r=1/0,n=-1/0,i=1/0,a=-1/0,o=0;o<t.length;o++)for(var s=t[o],u=0;u<s.length;u+=2){var c=s[u],l=s[u+1];c<r&&(r=c),c>n&&(n=c),l<i&&(i=l),l>a&&(a=l)}if(isFinite(r)&&isFinite(i))return{type:e,xmin:r,ymin:i,xmax:n,ymax:a}}function r(e,t,r){var n={};r-=.5*t;for(var i=e.length-1;i>=0;i--){var a=e[i],o=Math.floor((a-r)/t);n[o]?n[o].data.push(a):n[o]={id:o,data:[a],min:o*t+r,max:o*t+r+t,center:o*t+r+t/2}}return n}function n(e){return Array.prototype.concat.apply([],e)}function i(e,t,r){return!!e&&(0===t&&0===r?"none"!==e[2].type||"none"!==e[3].type:0!==t&&0!==r?"none"!==e[0].type&&"none"!==e[1].type:0!==t?"none"!==e[0].type:0!==r&&"none"!==e[1].type)}var a=e("underscore"),o=e("parsenodes"),s=e("core/math/plotter").default,u=e("core/types/graphmode"),c=e("core/math/comparators"),l=e("core/lib/dragmode").DragMode,p=e("core/math/expression-types").getReconciledExpressionProps,f=e("core/math/types"),h=o.List,d=e("core/math/builtin"),m=e("core/math/cdf-branches").makeCDFTopBranches,y=e("core/math/copy-defined-pois").default,g=e("core/math/distribution-spec").getFunctionSpecFromTree,v=e("core/graphing-calc/json/expression").EditableLabelMode;o.Base.prototype._graph=function(e,t,r,i){function c(e,t){if(e){var r,n,i,a,o,s,u,c,l=e.discrete?"discreteDistribution":"continuousDistribution";if("binomialdist"===e.symbol)return n=t.args[1].asValue(),i=t.args.length>2?t.args[2].asValue():.5,r=d.binompdf(i*n,n,i),{type:l,xmin:0,xmax:n,ymin:0,ymax:r};if("poissondist"===e.symbol)return a=t.args[1].asValue(),r=Math.max(d.poissonpdf(Math.floor(a),a),d.poissonpdf(Math.ceil(a),a)),{type:l,xmin:0,xmax:2.5*a,ymin:0,ymax:r};if("normaldist"===e.symbol)return a=t.args.length>1?t.args[1].asValue():0,o=t.args.length>2?t.args[2].asValue():1,r=d.normalpdf(a,a,o),{type:l,xmin:a-2*Math.abs(o),xmax:a+2*Math.abs(o),ymin:0,ymax:r};if("uniformdist"===e.symbol)return s=t.args.length>1?t.args[1].asValue():0,u=t.args.length>2?t.args[2].asValue():1,a=(s+u)/2,c=u-s,r=d.uniformpdf(a,s,u),{type:l,xmin:s-c/3,xmax:u+c/3,ymin:0,ymax:r};if("tdist"===e.symbol){var p=t.args[1].asValue();return r=d.tpdf(0,p),{type:l,xmin:-3,xmax:3,ymin:0,ymax:r}}}}function l(e){var t=e.editableLabelMode;return t===v.Text||t===v.Math}if(t instanceof o.SolvedEquation)return this._graph(e,t._expression,r,i);var b,x,_,S,M,E=this,D=t.getExpressionType(i.graphMode,t.valueType),w=p(D,{points:this.userData.points,lines:this.userData.lines,fill:this.userData.fill});switch(i.graphMode){case u.XYPOINT_MOVABLE:return b=[t.asArray()],_=this.userData.shouldGraph&&w.points,M=this.userData.showLabel&&!_,_?[{segments:[b],graphMode:i.graphMode,color:this.userData.color,style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,labelSize:this.userData.labelSize,labelOrientation:this.userData.labelOrientation,verticalLabel:this.userData.verticalLabel,suppressTextOutline:this.userData.suppressTextOutline,editableLabel:l(this.userData),labels:this.computedLabels||[],poi:y(b)}]:M?[{segments:[b],graphMode:u.XYPOINT,color:this.userData.color,style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,nakedLabel:!0,labelSize:this.userData.labelSize,labelOrientation:this.userData.labelOrientation,verticalLabel:this.userData.verticalLabel,suppressTextOutline:this.userData.suppressTextOutline,editableLabel:l(this.userData),labels:this.computedLabels||[],poi:y(b)}]:[];case u.XYPOINT:return x=[],b=h.wrap(t).mapElements(e,function(e){return e.asArray()}),_=this.userData.shouldGraph&&w.points,S=this.userData.shouldGraph&&w.lines,M=this.userData.showLabel&&!_&&!S,(this.userData.showLabel||_)&&x.push({segments:[b],graphMode:i.graphMode,color:this.userData.color,style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,showPoint:_,labelSize:this.userData.labelSize,labelOrientation:this.userData.labelOrientation,verticalLabel:this.userData.verticalLabel,suppressTextOutline:this.userData.suppressTextOutline,interactiveLabel:!!this.userData.interactiveLabel,editableLabel:l(this.userData),nakedLabel:M,labels:this.computedLabels||[],poi:y(b)}),S&&x.push({segments:[b].map(n),graphMode:u.PARAMETRIC,color:this.userData.color,style:this.userData.lineStyle,lineWidth:this.metaData.computedLineWidth,poi:[]}),x;case u.PARAMETRIC:case u.PARAMETRIC_CURVE_3D:var T=this.userData,P=[];if(x=h.wrap(t).mapElements(e,function(t){if(0===t.getDependencies().length)return b=[t.asArray()],{segments:[b],graphMode:u.XYPOINT,color:T.color,style:T.lineStyle,lineWidth:E.metaData.computedLineWidth,poi:y(b)};var n=t.getCompiledFunction(),a=E.getGraphInfo(e,t);return a.graphMode=i.graphMode,a.domain={min:E.metaData.evaluatedDomainMin,max:E.metaData.evaluatedDomainMax},a.style=E.userData.lineStyle,a.lineWidth=E.metaData.computedLineWidth,s.computeGraphData({viewState:r,graphInfo:a,compiled:n})}),w.fill){if(x.forEach(function(e){P.push({segments:e.segments,color:T.color,fillOpacity:E.metaData.computedFillOpacity,graphMode:u.POLYGONFILL,poi:[]})}),!w.lines)return P;x=x.concat(P)}return x;case u.X:case u.Y:case u.IMPLICIT:case u.POLAR:case u.Z_3D:x=[];var I=t.valueType===f.Number;return h.wrap(t).eachElement(e,function(t){var n,o=i.graphMode===u.IMPLICIT||i.graphMode===u.Z_3D?t.getCompiledFunction(["x","y"]):t.getCompiledFunction(),l=g(E),p=l&&l.discrete,f=c(l,t);try{n=t.getCompiledDerivative()}catch(e){}var h=E.getGraphInfo(e,t);h.graphMode=i.graphMode,h.style=E.userData.lineStyle,h.lineWidth=E.metaData.computedLineWidth,i.graphMode===u.POLAR&&(h.domain={min:E.metaData.evaluatedDomainMin,max:E.metaData.evaluatedDomainMax,isExplicit:E.metaData.isExplicitDomain});var d=E.metaData.evaluatedCDFMin,v=E.metaData.evaluatedCDFMax;if(isNaN(d)||isNaN(v)||!I){var b={viewState:r,graphInfo:h,compiled:o,derivative:n,discrete:p};l&&"binomialdist"===l.symbol&&(b.maxOverride=t.args[1].asValue());var _=s.computeGraphData(b);f&&(_.boundingBox=f),_.fillSegments?x.push(a.omit(_,"fillSegments")):p?x.push({graphMode:u.XYPOINT,segments:[_.segments],showPoint:E.userData.shouldGraph,color:E.userData.color,style:_.style,boundingBox:f,poi:y(_.segments)}):x.push(_),h.graphMode===u.IMPLICIT&&"="!==h.operator&&x.push({graphMode:u.POLYGONFILL,segments:_.fillSegments,poi:{}})}else{var S={viewState:r,graphInfo:h,compiled:o,derivative:n,bounds:[d,v],discrete:p};l&&"binomialdist"===l.symbol&&(S.maxOverride=t.args[1].asValue());var M=m(S),D=M.cdfTopBranch,w=a.each(M.topBranches,function(e){e&&(e.boundingBox=f)});if(a.every(w,function(e){return void 0!==e}))if(p){if(x=w.map(function(e){return{graphMode:u.XYPOINT,segments:[e.segments],showPoint:E.userData.shouldGraph,color:E.userData.color,style:e.style,poi:y(e.segments),boundingBox:f}}),D&&D.segments.length){var T=[];D.segments.forEach(function(e){T.push([e[0],0,e[0],e[1]])}),x.push({graphMode:u.PARAMETRIC,segments:T,boundingBox:f,poi:{}})}}else if(x=w,D&&D.segments.length){var P,C,O,A;for(P=0;P<D.segments.length;P++)if(C=D.segments[P],C.length>=4){O=C[0];break}for(P=D.segments.length-1;P>=0;P--)if(C=D.segments[P],C.length>=4){A=C[C.length-2];break}if(isFinite(O)&&isFinite(A)){var L=s.polygonsFromSegments(D.segments,[[O,0,A,0]],D.graphMode);x.push({graphMode:u.POLYGONFILL,segments:L,poi:{}})}}}}),x;default:return!1}},o.Base.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);return this._graph(e,t,r,n)},o.BaseComparator.prototype.graph=function(e,t,r){var n=this,i=this.getGraphInfo(e,t),a=i.graphMode;if(a===u.IMPLICIT)return this._graph(e,t,r,i);if(a===u.NONE)return!1;if(!(t instanceof o.SolvedEquation))return!1;var l=this.getOperator(),p=[],f=[],h=!0;t._expression.eachElement(e,function(e){p.push(e.getCompiledFunction());try{f.push(e.getCompiledDerivative())}catch(e){h=!1}}),h||(f=void 0);var d,m,y=[],g=[-1,0,0,1],v=p.length;for(m=0;m<v;m++){var b=this.getGraphInfo(e,t._expression.args[m]);b.graphMode=a,b.style=n.userData.lineStyle,i.graphMode===u.POLAR&&(b.domain={min:n.metaData.evaluatedDomainMin,max:n.metaData.evaluatedDomainMax,isExplicit:n.metaData.isExplicitDomain}),d=s.computeGraphData({viewState:r,graphInfo:b,compiled:p[m],derivative:f?f[m]:void 0}),d.operator=c.get(c.table[l].inclusive,g[m%4]),y.push(d)}for(m=0;m<v;m+=4){var x=s.polygonsFromSegments(y[m+1].segments,y[m+2].segments,a);y.push({graphMode:u.POLYGONFILL,segments:x,poi:{}})}return y},o.DoubleInequality.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);if(n.graphMode===u.NONE)return!1;var i=[],a=c.get(c.table[this._operators[0]].inclusive,0),o=c.get(c.table[this._operators[1]].inclusive,0),l=this.userData,p=this.metaData,f=this;return h.eachArgs(e,t._expressions,function(t){var c,h;t[0].userData=t[1].userData=l,t[0].metaData=t[1].metaData=p,c=f._graph(e,t[0],r,n)[0],c.operator=a,i.push(c),h=f._graph(e,t[1],r,n)[0],h.operator=o,i.push(h);var d=s.polygonsFromSegments(c.segments,h.segments,c.graphMode);i.push({graphMode:u.POLYGONFILL,segments:d,poi:{}})}),i},o.Regression.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);return this._graph(e,t.model,r,n)},o.Polygon.prototype.graph=function(e,t,r){for(var i=this.getGraphInfo(e,t),a=t.args[0].asValue(),o=[],s=void 0===this.userData.lines||this.userData.lines,c=void 0===this.userData.fill||this.userData.fill,l=[],p=[],f=0;f<a.length;f++){var h=a[f][0],d=a[f][1];isFinite(h)&&isFinite(d)?(s||c)&&p.push([h,d]):(s||c)&&(p.length>1&&l.push(p),p=[])}if(l.length||p.length){p.push([a[0][0],a[0][1]]),l.push(p);var m=l.map(n);c&&o.push({segments:m,graphMode:u.POLYGONFILL,poi:[],color:i.color,fillOpacity:this.metaData.computedFillOpacity,style:i.style}),s&&o.push({segments:m,graphMode:u.PARAMETRIC,poi:[],color:i.color,style:this.userData.lineStyle,lineWidth:this.metaData.computedLineWidth})}return o};var b=function(e,t){var r=[];return h.wrap(t).eachElement(e,function(e){r.push(e.args.map(function(e){return e.asValue()}))}),r};o.Object3D.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);return[{segments:[b(e,t)],color:n.color,objectName:this._symbol,poi:[],graphMode:u.OBJECT3D}]},o.Histogram.prototype.graph=function(e,n,i){var a=this.getGraphInfo(e,n),o=n.args[0].asValue(),s=n.args[1].asValue(),c=this.userData.vizProps&&"left"===this.userData.vizProps.binAlignment?s/2:0,l=r(o,s,c),p=1;this.userData.vizProps&&"density"===this.userData.vizProps.histogramMode?p=1/(o.length*s):this.userData.vizProps&&"relative"===this.userData.vizProps.histogramMode&&(p=1/o.length);var f=[],h=[];for(var d in l){var m=l[d],y=m.data.length;h.push([m.min,0*p,m.min,y*p,m.max,y*p,m.max,0*p]);var g=0;l[m.id+1]&&(g=l[m.id+1].data.length);var v=[m.min,0*p,m.min,y*p,m.max,y*p];g<y&&v.push(m.max,g*p),f.push(v)}var b=t("histogram",h);return b&&s&&(b.binWidth=s),[{segments:h,graphMode:u.POLYGONFILL,boundingBox:b,poi:[],color:a.color,fillOpacity:.4},{segments:f,graphMode:u.Y,poi:{zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}},color:a.color}]},o.DotPlot.prototype.graph=function(e,n,i){var a,o,s,c,l=this.getGraphInfo(e,n),p=n.args[1].asValue(),f=this.userData.vizProps&&"left"===this.userData.vizProps.binAlignment?p/2:0,h=r(n.args[0].asValue(),p,f),d=!1,m=[];for(o in h){s=h[o];for(var g=s.data.length-1;g>=0;g--)s.center!==s.data[g]&&(d=!0)}if(this.userData.vizProps&&"exact"===this.userData.vizProps.dotplotXMode)for(o in h)for(s=h[o],c=s.data,c.reverse(),a=0;a<c.length;a++)m.push([c[a],a+1]);else for(o in h)for(s=h[o],c=s.data,a=0;a<c.length;a++)m.push([s.center,a+1]);var v=t("dotplot",m);return v&&p&&(v.ymin=0,v.xmin-=.5*p,v.xmax+=.5*p,v.binWidth=p),[{segments:[m],graphMode:u.XYPOINT,boundingBox:v,poi:y(m),color:l.color,style:this.userData.pointStyle,pointSize:this.userData.vizProps&&this.userData.vizProps.dotplotSize,showPoint:!0,needsDotplotXMode:d}]},o.BoxPlot.prototype.graph=function(e,r,n){var i=this.getGraphInfo(e,r),a=this.metaData.evaluatedAxisOffset,o=this.metaData.evaluatedBreadth,s=r.args[0].asValue();if(isNaN(o)||isNaN(a))return{};var c=Math.min.apply(null,s),l=Math.max.apply(null,s),p=d.quartile(s,1),f=d.quartile(s,2),h=d.quartile(s,3),m=a,y=m-o/2,g=m+o/2,v=o/10,b=[[p,y,h,y,h,g,p,g,p,y],[f,y,f,g],[p,m,c,m],[h,m,l,m],[c,m-v,c,m+v],[l,m-v,l,m+v]];if(this.userData.vizProps&&"y"===this.userData.vizProps.alignedAxis)for(var x=0;x<b.length;x++)for(var _=b[x],S=0;S<_.length;S+=2){var M=_[S];_[S]=_[S+1],_[S+1]=M}return[{segments:b,graphMode:u.PARAMETRIC,boundingBox:t("boxplot",b),poi:[],color:i.color}]},o.Table.prototype.isValueDraggable=function(e,t,r){if(!e.columns[t].isIndependent)return!1;var n=this.columns[t],i=n.values,a=i&&i[r];return!(!a||!isFinite(a.asValue())||0!==a._dependencies.length)},o.Table.prototype.graph=function(e,t,r){var i=[];if(t.columns[0].isError)return i;for(var a=t.columns[0],o=a.values,s=1;s<this.columns.length;s++){var c=t.columns[s];if(!c.isError){var p=this.columns[s].header.userData;if(!p.hidden){for(var f=p.dragMode,h=f===l.X||f===l.XY,d=f===l.Y||f===l.XY,m=!!p.points,g=!!p.lines,v=c.isDiscrete(a),b=g&&v,x=g&&!v,_=[],S=[],M=[],E=[],D=[],w=[],T=1/0,P=-1/0,I=1/0,C=-1/0,O=0;O<o.length;O++){var A=o[O],L=c.values[O];if(A&&L&&isFinite(A.asValue())&&isFinite(L.asValue())){var N=A.asValue(),q=L.asValue();if(m){var F=h&&this.isValueDraggable(t,0,O),R=d&&this.isValueDraggable(t,s,O);F||R?(M.push([N,q]),E.push({index:O,dragX:F,dragY:R})):S.push([N,q])}b&&w.push([N,q]),N<T&&(T=N),N>P&&(P=N),q<I&&(I=q),q>C&&(C=q)}else b&&(w.length>1&&D.push(w),w=[])}var V={type:"table",xmin:T,xmax:P,ymin:I,ymax:C};if(M.length&&_.push({graphMode:u.XYPOINT_MOVABLE,segments:[M],color:p.color,tableId:p.tableId,poi:y(M),movablePointInfo:E,boundingBox:V}),S.length&&_.push({segments:[S],graphMode:u.XYPOINT,showPoint:!0,poi:y(S),color:p.color,style:p.pointStyle,tableId:p.tableId,boundingBox:V}),(D.length||w.length)&&(D.push(w),_.push({segments:D.map(n),graphMode:u.PARAMETRIC,poi:[],color:p.color,style:p.lineStyle,tableId:p.tableId,boundingBox:V})),x){var k=this.columns[s].header.graph(e,t.columns[s].header,r);k.length&&Array.prototype.push.apply(_,k)}_.length&&(i[p.id]=_)}}}return i},o.Image.prototype.graph=function(e,t,r){var n=[];if(!("OrderedPair"===t.center.type&&t.center.args[0].isConstant&&t.center.args[1].isConstant&&t.radianAngle.isConstant&&t.width.isConstant&&t.height.isConstant&&t.opacity.isConstant))return n;for(var a=[],o=[],s=t.width.asValue()/2,c=t.height.asValue()/2,l=t.radianAngle.asValue(),p=-1;p<=1;p++)for(var f=-1;f<=1;f++){var h=[t.center.args[0].asValue()+p*s*Math.cos(l)+f*c*Math.sin(l),t.center.args[1].asValue()-p*s*Math.sin(l)+f*c*Math.cos(l)],d=i(t.moveStrategy,p,f);d&&(a.push(h),o.push([p,f]))}return n.push({segments:[a],scaleFactors:[o],graphMode:u.XYPOINT_MOVABLE,color:this.userData.color,style:this.userData.style,poi:y(a)}),n}}),define("core/math/features/elementAt",["require","parsenodes","core/math/builtinframe"],function(e){"use strict";function t(e,t){for(var r=0;r<this.length;r++)t(this.elementAt(e,r))}function r(e,t){for(var r=[],n=0;n<this.length;n++)r.push(t(this.elementAt(e,n)));return r}var n=e("parsenodes"),i=e("core/math/builtinframe");n.List.prototype.elementAt=function(e,t){return t=Math.floor(t),t>=0&&t<this.args.length?this.args[t]:n.Constant(NaN)},n.Broadcast.prototype.elementAt=function(e,t){if((t=Math.floor(t))<0||t>=this.length)return n.Constant(NaN);for(var r={},a=0;a<this._replacedSymbols.length;a++)r[this._replacedSymbols[a]]=this._lists[a].elementAt(e,t);return this._expression.substitute(r).getConcreteTree(e,i)},n.List.prototype.eachElement=t,n.Broadcast.prototype.eachElement=t,n.List.prototype.mapElements=r,n.Broadcast.prototype.mapElements=r,n.OrderedPair.prototype.elementAt=function(e,t){switch(t){case 0:return this.args[0];case 1:return this.args[1];default:return n.Constant(NaN)}}}),define("core/lib/number-to-latex",["require","exports"],function(e,t){"use strict";function r(e){if("string"==typeof e)return e;if(void 0===e)return"";var t=e+"";return t=t.replace(/1e\\+?([-\\d]+)/,"10^{$1}"),t=t.replace(/([-\\d\\.]+)e\\+?([-\\d]+)/,"$1\\\\cdot 10^{$2}")}function n(e){var t=e+"";if(/\\d+\\.?\\d*e[\\+\\-]*\\d+/i.test(t)){var r=String(t).toLowerCase().split("e"),n=parseFloat(r[0]),i=parseInt(r[1],10),a=Math.abs(i),o=Math.abs(n).toString().split(".");if(i<0)t="0."+new Array(a).join("0")+o.join("");else{var s=o[1];s&&(a-=s.length),t=o.join("")+new Array(a+1).join("0")}n<0&&(t="-"+t)}return t}function i(e,t){void 0===t&&(t=2);var r=n(e),i=r.indexOf(".");if(-1===i)return r;for(var a,o=i+1;o<r.length;o++)if(a){if(r[o]!==a)break}else{if("0"!==r[o]&&"9"!==r[o])break;a=r[o]}return r.substr(0,Math.max(i+5,o+t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.numberToDecimalString=n,t.numberToStatsConfidenceLatex=i}),define("core/math/features/printLatex",["require","parsenodes","core/lib/label","core/lib/number-to-latex"],function(e){"use strict";function t(){return u.identifierToLatex(this._symbol)+" "}function r(e){switch(e){case">":return"\\\\gt ";case"<":return"\\\\lt ";case">=":return"\\\\ge ";case"<=":return"\\\\le ";case"=":return"="}}function n(e){return e.printLatex()}function i(){switch(this._symbol){case"sqrt":return"\\\\sqrt{"+this.args[0].printLatex()+"}";case"nthroot":return"\\\\sqrt["+this.args[1].printLatex()+"]{"+this.args[0].printLatex()+"}";case"logbase":return"\\\\log_{"+this.args[1].printLatex()+"}\\\\left("+this.args[0].printLatex()+"\\\\right)";default:return u.identifierToLatex(this._symbol)+"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"}}function a(e){return e.isConstant&&!0===e.asValue()}function o(e){return e.isConstant&&e.isNaN()}var s=e("parsenodes"),u=e("core/lib/label"),c=e("core/lib/number-to-latex").default;s.Identifier.prototype.printLatex=t,s.FreeVariable.prototype.printLatex=t,s.Constant.prototype.printLatex=function(){return c(this.asValue())},s.Negative.prototype.printLatex=function(){return"-\\\\left("+this.args[0].printLatex()+"\\\\right)"},s.Add.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)+\\\\left("+this.args[1].printLatex()+"\\\\right)"},s.PercentOf.prototype.printLatex=function(){return this.args[0].printLatex()+" \\\\% \\\\operatorname{of} "+this.args[1].printLatex()},s.Subtract.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)-\\\\left("+this.args[1].printLatex()+"\\\\right)"},s.Multiply.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)*\\\\left("+this.args[1].printLatex()+"\\\\right)"},s.Divide.prototype.printLatex=function(){return"\\\\frac{"+this.args[0].printLatex()+"}{"+this.args[1].printLatex()+"}"},s.Exponent.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)^{"+this.args[1].printLatex()+"}"},s.Assignment.prototype.printLatex=function(){return u.identifierToLatex(this._symbol)+"="+this._expression.printLatex()},s.Equation.prototype.printLatex=function(){return this._lhs.printLatex()+"="+this._rhs.printLatex()},s.BaseComparator.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+r(this.operator)+"\\\\left("+this.args[1].printLatex()+"\\\\right)"},s.DoubleInequality.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+r(this.args[1])+this.args[2].printLatex()+r(this.args[3])+"\\\\left("+this.args[4].printLatex()+"\\\\right)"},s.And.prototype.printLatex=function(){if(!(this.args[0]instanceof s.BaseComparator&&this.args[1]instanceof s.BaseComparator))throw new Error("Not implemented");if(this.args[0].args[1].printLatex()!==this.args[1].args[0].printLatex())throw new Error("Not implemented");return"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)"+r(this.args[0].operator)+"\\\\left("+this.args[0].args[1].printLatex()+"\\\\right)"+r(this.args[1].operator)+"\\\\left("+this.args[1].args[1].printLatex()+"\\\\right)"},s.NativeFunction.prototype.printLatex=i,s.TypedFunction.prototype.printLatex=i,s.ReducerFunction.prototype.printLatex=i,s.ParametrizedReducerFunction.prototype.printLatex=i,s.DoubleReducerFunction.prototype.printLatex=i,s.FunctionCall.prototype.printLatex=i,s.Distribution.prototype.printLatex=i,s.SeededFunctionCall.prototype.printLatex=function(){return u.identifierToLatex(this._symbol)+"\\\\left("+this.args.slice(1).map(n).join(", ")+"\\\\right)"},s.DotAccess.prototype.printLatex=function(){return"("+this.args[0].printLatex()+").("+this.args[1].printLatex()+")"},s.DotAccessExponent.prototype.printLatex=function(){return"("+this.args[0].printLatex()+").("+this.args[1].printLatex()+")^{"+this.args[2].printLatex()+"}"},s.Prime.prototype.printLatex=function(){switch(this.args[0]._symbol){case"logbase":return"\\\\log_{"+this.args[0].args[1].printLatex()+"}"+Array(this.order+1).join("'")+"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)";default:return u.identifierToLatex(this.args[0]._symbol)+Array(this.order+1).join("'")+"\\\\left("+this.args[0].args.map(n).join(", ")+"\\\\right)"}},s.List.prototype.printLatex=function(){return"\\\\left["+this.args.map(n).join(", ")+"\\\\right]"},s.Range.prototype.printLatex=function(){return"\\\\left["+this.args[0].args.map(n).join(", ")+" ... "+this.args[1].args.map(n).join(", ")+"\\\\right]"},s.ListAccess.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)\\\\left["+this.args[1].printLatex()+"\\\\right]"},s.OrderedPair.prototype.printLatex=function(){return"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.Sum.prototype.printLatex=function(){return"\\\\sum_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"},s.Product.prototype.printLatex=function(){return"\\\\prod_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"},s.Integral.prototype.printLatex=function(){return"\\\\int_{"+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)d"+this.args[0].printLatex()},s.FunctionExponent.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\left("+this.args[1].printLatex()+"\\\\right)^{"+this.args[2].printLatex()+"}"},s.FunctionFactorial.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\left("+this.args[1].printLatex()+"\\\\right)!"},s.Piecewise.prototype.printLatex=function(){var e=this;if(a(e.args[0]))return e.args[1].printLatex();for(var t=["\\\\left\\\\{"];;){if(a(e.args[0])){t.push(e.args[1].printLatex());break}if(t.push(e.args[0].printLatex(),": "),o(e.args[2])){t.push(e.args[1].printLatex());break}if(t.push(e.args[1].printLatex(),", "),!(e.args[2]instanceof s.Piecewise)){t.push(e.args[2].printLatex());break}e=e.args[2]}return t.push("\\\\right\\\\}"),t.join("")},s.FunctionDefinition.prototype.printLatex=function(){return u.identifierToLatex(this._symbol)+"\\\\left("+this._argSymbols.map(u.identifierToLatex).join(", ")+"\\\\right) = "+this._expression.printLatex()},s.Derivative.prototype.printLatex=function(){return"\\\\frac{d}{d"+u.identifierToLatex(this._symbol)+"}\\\\left("+this.args[0].printLatex()+"\\\\right)"},s.Regression.prototype.printLatex=function(){return"\\\\left("+this._lhs.printLatex()+"\\\\right)\\\\sim\\\\left("+this._rhs.printLatex()+"\\\\right)"},s.Polygon.prototype.printLatex=function(){return"\\\\polygon\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.Histogram.prototype.printLatex=function(){return"\\\\histogram\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.Object3D.prototype.printLatex=function(){return"\\\\"+this._symbol+"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.DotPlot.prototype.printLatex=function(){return"\\\\dotplot\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.BoxPlot.prototype.printLatex=function(){return"\\\\boxplot\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.TTest.prototype.printLatex=function(){return"\\\\TTest\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.IndependentTTest.prototype.printLatex=function(){return"\\\\IndependentTTest\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.Stats.prototype.printLatex=function(){return"\\\\Stats\\\\left("+this.args.map(n).join(", ")+"\\\\right)"}}),define("core/math/features/statistics",["require","parsenodes","core/math/maybe-rational"],function(e){"use strict";var t=e("parsenodes"),r=t.BuiltInFunction,n=e("core/math/maybe-rational").maybeRational,i=t.Constant(n(0,1)),a=t.Constant(n(1,1)),o=t.Constant(n(2,1)),s=t.Constant(n(1,2)),u=t.Constant(-1/0);r.normaldist.prototype.pdf=function(e){return r.normalpdf([e[0],this.args[0],this.args[1]])},r.normaldist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=u,n=e[0]):(t=e[0],n=e[1]),r.normalcdf([t,n,this.args[0],this.args[1]])},r.normaldist.prototype.mean=function(){return this.args[0]},r.normaldist.prototype.median=function(){return this.args[0]},r.normaldist.prototype.stdev=function(){return r.abs([this.args[1]])},r.normaldist.prototype.var=function(){return t.Exponent([this.args[1],o])},r.normaldist.prototype.quantile=function(e){return t.Add([t.Multiply([r.invNorm(e),this.stdev()]),this.mean()])},r.normaldist.prototype.sample=function(e){return r.normalSample([e[0],this.args[0],this.args[1]])},r.tdist.prototype.pdf=function(e){return r.tpdf([e[0],this.args[0]])},r.tdist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=u,n=e[0]):(t=e[0],n=e[1]),r.tcdf([t,n,this.args[0]])},r.tdist.prototype.mean=function(){return i},r.tdist.prototype.median=function(){return i},r.tdist.prototype.quantile=function(e){return r.invT([e[0],this.args[0]])},r.tdist.prototype.sample=function(e){return r.tSample([e[0],this.args[0]])},r.tdist.prototype.stdev=function(){return r.sqrt([this.var()])},r.tdist.prototype.var=function(){var e=this.args[0];return t.Piecewise([t.Comparator[">="]([e,o]),t.Divide([e,t.Subtract([e,o])]),t.Constant(NaN)])},r.poissondist.prototype.pdf=function(e){return r.poissonpdf([e[0],this.args[0]])},r.poissondist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=u,n=e[0]):(t=e[0],n=e[1]),r.poissoncdf([t,n,this.args[0]])},r.poissondist.prototype.mean=function(){return this.args[0]},r.poissondist.prototype.median=function(){return r.invPoisson([s,this.args[0]])},r.poissondist.prototype.stdev=function(){return r.sqrt([this.args[0]])},r.poissondist.prototype.var=function(){return this.args[0]},r.poissondist.prototype.quantile=function(e){return r.invPoisson([e[0],this.args[0]])},r.poissondist.prototype.sample=function(e){return r.poissonSample([e[0],this.args[0]])},r.binomialdist.prototype.pdf=function(e){return r.binompdf([e[0],this.args[0],this.args[1]])},r.binomialdist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=u,n=e[0]):(t=e[0],n=e[1]),r.binomcdf([t,n,this.args[0],this.args[1]])},r.binomialdist.prototype.mean=function(){return t.Multiply([this.args[0],this.args[1]])},r.binomialdist.prototype.median=function(){return r.invBinom([s,this.args[0],this.args[1]])},r.binomialdist.prototype.stdev=function(){return r.sqrt([this.var()])},r.binomialdist.prototype.var=function(){var e=this.args[0],r=this.args[1];return t.Multiply([e,t.Multiply([r,t.Subtract([a,r])])])},r.binomialdist.prototype.quantile=function(e){return r.invBinom([e[0],this.args[0],this.args[1]])},
r.binomialdist.prototype.sample=function(e){return r.binomSample([e[0],this.args[0],this.args[1]])},r.uniformdist.prototype.pdf=function(e){return r.uniformpdf([e[0],this.args[0],this.args[1]])},r.uniformdist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=u,n=e[0]):(t=e[0],n=e[1]),r.uniformcdf([t,n,this.args[0],this.args[1]])},r.uniformdist.prototype.mean=function(){return t.Divide([t.Add([this.args[0],this.args[1]]),o])},r.uniformdist.prototype.median=function(){return t.Divide([t.Add([this.args[0],this.args[1]]),o])},r.uniformdist.prototype.stdev=function(){return r.sqrt([this.var()])},r.uniformdist.prototype.var=function(){return t.Divide([t.Exponent([t.Subtract([this.args[1],this.args[0]]),o]),t.Constant(n(12,1))])},r.uniformdist.prototype.quantile=function(e){return r.invUniform([e[0],this.args[0],this.args[1]])},r.uniformdist.prototype.sample=function(e){return r.uniformSample([e[0],this.args[0],this.args[1]])},t.List.prototype.sample=function(e){return t.ListAccess([this,t.Add([r.floor([t.Multiply([r.uniformSample([e[0],i,a]),t.Constant(n(this.length,1))])]),a])])}}),define("core/math/features/getExpressionType",["require","parsenodes","core/types/graphmode","core/math/expression-types","core/math/types"],function(e){"use strict";var t=e("parsenodes"),r=e("core/types/graphmode"),n=e("core/math/expression-types").ExpressionType,i=e("core/math/types");t.Base.prototype.getExpressionType=function(e,t){return e===r.X||e===r.Y?n.X_OR_Y:e===r.XYPOINT||e===r.XYPOINT_MOVABLE?t===i.Point?n.SINGLE_POINT:n.POINT_LIST:e===r.PARAMETRIC?n.PARAMETRIC:e===r.PARAMETRIC_CURVE_3D?n.PARAMETRIC:e===r.POLAR?n.POLAR:e===r.IMPLICIT?n.IMPLICIT:n.X_OR_Y},t.Polygon.prototype.getExpressionType=function(e,t){return n.POLYGON},t.Histogram.prototype.getExpressionType=function(e,t){return n.HISTOGRAM},t.Object3D.prototype.getExpressionType=function(e,t){return n.CUBE},t.DotPlot.prototype.getExpressionType=function(e,t){return n.DOTPLOT},t.BoxPlot.prototype.getExpressionType=function(e,t){return n.BOXPLOT}}),define("core/math/features/findLinearSubset",["require","parsenodes","core/math/maybe-rational"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/maybe-rational").maybeRational,n=t.Constant(r(0,1)),i=t.Constant(r(-1,0));t.Expression.prototype.findLinearSubset=function(e){for(var t=[],r=0;r<e.length;r++)t.push(!this.dependsOn(e[r]));return t},t.FreeVariable.prototype.findLinearSubset=function(e){for(var t=[],r=0;r<e.length;r++)t.push(!0);return t},t.Add.prototype.findLinearSubset=function(e){for(var t=[],r=this.args[0].findLinearSubset(e),n=this.args[1].findLinearSubset(e),i=0;i<e.length;i++)t.push(r[i]&&n[i]);return t},t.Subtract.prototype.findLinearSubset=t.Add.prototype.findLinearSubset,t.Negative.prototype.findLinearSubset=function(e){return this.args[0].findLinearSubset(e)},t.Multiply.prototype.findLinearSubset=function(e){for(var t=this.args[0].findLinearSubset(e).slice(),r=this.args[1].findLinearSubset(e).slice(),n=0,i=0,a=0;a<e.length;a++)t[a]=t[a]&&!this.args[1].dependsOn(e[a]),t[a]&&(n+=1),r[a]=r[a]&&!this.args[0].dependsOn(e[a]),r[a]&&(i+=1);return n>=i?t:r},t.Divide.prototype.findLinearSubset=function(e){for(var t=this.args[0].findLinearSubset(e),r=[],n=0;n<e.length;n++)r.push(t[n]&&!this.args[1].dependsOn(e[n]));return r},t.List.prototype.findLinearSubset=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(!0);for(var n=0;n<this.args.length;n++){var i=this.args[n].findLinearSubset(e);for(t=0;t<e.length;t++)r[t]=r[t]&&i[t]}return r},t.Broadcast.prototype.findLinearSubset=function(e){for(var r=this._replacedSymbols,a=this._expression,o=this._lists,s={},u=0;u<o.length;u++){for(var c=o[u].findLinearSubset(e),l=n,p=0;p<e.length;p++)c[p]?o[u].dependsOn(e[p])&&(l=t.Add([l,t.FreeVariable(e[p])])):l=t.Add([l,t.Exponent([t.FreeVariable(e[p]),i])]);s[r[u]]=l}return a.substitute(s).findLinearSubset(e)},t.Piecewise.prototype.findLinearSubset=function(e){for(var t=this.args[0],r=this.args[1].findLinearSubset(e),n=this.args[2].findLinearSubset(e),i=[],a=0;a<e.length;a++)i.push(!t.dependsOn(e[a])&&r[a]&&n[a]);return i}}),define("core/math/features/deriveRegressionRestrictions",["require","parsenodes","core/math/types","core/math/domaintypes"],function(e){"use strict";function t(e){for(var t=1/0,r=-1/0,n=e.length,i=0;i<e.length;i++)t=Math.min(t,e[i]),r=Math.max(r,e[i]);return{min:t,max:r,length:n}}function r(e,t,r){if("known"!==r.type)return e;var n=i.And([i.Comparator["<="]([i.Constant(r.bounds[0]),i.FreeVariable(t)]),i.Comparator["<="]([i.FreeVariable(t),i.Constant(r.bounds[1])])]);return i.Multiply([e,i.Piecewise([n,i.Constant(1),i.Constant(NaN)])])}function n(e){for(var t,r=this.args[0],n=this.getDependencies(),a={},o=0;o<n.length;o++)if(e.listStatistics.hasOwnProperty(n[o])){if(void 0!==t)return{};t=n[o]}if(void 0===t)return{};if(1!==r.polynomialOrder(t))return{};var s=r.getPolynomialCoefficients(t),u=s[1],c=s[1].getDependencies();if(1!==c.length)return{};var l=c[0];if(1!==u.polynomialOrder(l))return{};var p=e.listStatistics[t],f=(p.max-p.min)/Math.min(p.length-1,31),h=Math.PI/f;return isFinite(h)?h<=0?{}:(a[l]=i.Piecewise([i.And([i.Comparator["<="]([i.Constant(0),u]),i.Comparator["<"]([u,i.Constant(h)])]),i.Constant(1),i.Constant(NaN)]).boundDomain(l),a):{}}var i=e("parsenodes"),a=e("core/math/types"),o=e("core/math/domaintypes");i.Base.prototype.deriveRegressionRestrictions=function(){return this},i.Broadcast.prototype.deriveRegressionRestrictions=function(){for(var e=this._replacedSymbols,n=this._expression,o=this._lists,s={},u=0;u<e.length;u++)0===o[u].getDependencies().length&&o[u].valueType===a.ListOfNumber&&(s[e[u]]=t(o[u].asValue()));var c,l=n._deriveRegressionRestrictions({listStatistics:s});for(c in l)if("known"!==l[c].type)return this;var p=n;for(c in l)p=r(p,c,l[c]);return i.Broadcast(e,[p].concat(o))},i.Base.prototype._deriveRegressionRestrictions=function(e){return{}},i.Expression.prototype._deriveRegressionRestrictions=function(e){for(var t={},r=0;r<this.args.length;r++){var n=this.args[r]._deriveRegressionRestrictions(e);for(var i in n)t[i]=t[i]?o.intersectDomains(t[i],n[i]):n[i]}return t},i.BuiltInFunction.sin.prototype._deriveRegressionRestrictions=n,i.BuiltInFunction.cos.prototype._deriveRegressionRestrictions=n,i.Exponent.prototype._deriveRegressionRestrictions=function(e){for(var t=this.args[0],r=this.args[1],n=t.getDependencies(),a=r.getDependencies(),o={},s=!1,u=0;u<a.length;u++)if(e.listStatistics.hasOwnProperty(a[u])){s=!0;break}if(!s)return{};if(1!==n.length)return{};var c=n[0];return e.listStatistics.hasOwnProperty(c)?{}:1!==t.polynomialOrder(c)?{}:(o[c]=i.Piecewise([i.Comparator[">="]([t,i.Constant(0)]),i.Constant(1),i.Constant(NaN)]).boundDomain(c),o)},i.Piecewise.prototype._deriveRegressionRestrictions=function(e){for(var t={},r=this.getDependencies(),n=0;n<r.length;n++)t[r[n]]=o.unknownDomain();return t}}),define("parser",["require","core/math/baseparser","core/math/features/getConcreteTree","core/math/features/getValueType","core/math/features/typeCheck","core/math/features/repr","core/math/features/scalarEvalExpression","core/math/features/constantcollapsedcopy","core/math/features/polynomialorder","core/math/features/polynomialcoefficients","core/math/features/extractconditions","core/math/features/piecewiseDependsOn","core/math/features/bounddomain","core/math/features/derivative","core/math/features/substitute","core/math/features/isImplicit","core/math/features/solve","core/math/features/analyze","core/math/features/analyzeFourFunction","core/math/features/analyzeScientific","core/math/features/analyzeSingleExpressionScientific","core/math/features/getgraphmode","core/math/features/getgraphinfo","core/math/features/getMoveStrategy","core/math/features/getDefaultDragMode","core/math/features/tableinfo","core/math/features/tableerror","core/math/features/graph","core/math/features/elementAt","core/math/features/printLatex","core/math/features/statistics","core/math/features/getExpressionType","core/math/features/findLinearSubset","core/math/features/deriveRegressionRestrictions"],function(e){"use strict";var t=e("core/math/baseparser");return e("core/math/features/getConcreteTree"),e("core/math/features/getValueType"),e("core/math/features/typeCheck"),e("core/math/features/repr"),e("core/math/features/scalarEvalExpression"),e("core/math/features/constantcollapsedcopy"),e("core/math/features/polynomialorder"),e("core/math/features/polynomialcoefficients"),e("core/math/features/extractconditions"),e("core/math/features/piecewiseDependsOn"),e("core/math/features/bounddomain"),e("core/math/features/derivative"),e("core/math/features/substitute"),e("core/math/features/isImplicit"),e("core/math/features/solve"),e("core/math/features/analyze"),e("core/math/features/analyzeFourFunction"),e("core/math/features/analyzeScientific"),e("core/math/features/analyzeSingleExpressionScientific"),e("core/math/features/getgraphmode"),e("core/math/features/getgraphinfo"),e("core/math/features/getMoveStrategy"),e("core/math/features/getDefaultDragMode"),e("core/math/features/tableinfo"),e("core/math/features/tableerror"),e("core/math/features/graph"),e("core/math/features/elementAt"),e("core/math/features/printLatex"),e("core/math/features/statistics"),e("core/math/features/getExpressionType"),e("core/math/features/findLinearSubset"),e("core/math/features/deriveRegressionRestrictions"),t}),define("core/math/finddependencyorder",["require","core/math/builtinframe","underscore"],function(e){"use strict";function t(e,t,i){function a(e){g[e]=g[e]||{};var r,n=g[e];n.id=e,n.index=v,n.lowlink=v,b.push(n),n.instack=!0,v++;for(var i=t[e].getDependencies(),u=0;u<i.length;u++){var c=i[u];if(d.hasOwnProperty(c))for(var l=d[c],p=0;p<l.length;p++){var f=l[p];g.hasOwnProperty(f)?(r=g[f],r.instack&&(n.lowlink=Math.min(n.lowlink,r.index))):(a(f),r=g[f],n.lowlink=Math.min(n.lowlink,r.lowlink))}}if(n.lowlink===n.index)if(r=b.pop(),r.instack=!1,r===n)o(n);else{for(var h=[r];;)if(r=b.pop(),r.instack=!1,h.push(r),r===n)break;s(h)}}function o(e){x.push(e.id)}function s(r){var i,a,o=[];for(a=r.length-1;a>=0;a--){i=r[a];var s=t[i.id].getLegalExports(e);Array.prototype.push.apply(o,s),o.push(s[0]),x.push(i.id)}for(o=n.unique(o),o.sort(),a=0;a<o.length;a++)y[o[a]]=o}var u,c,l,p,f,h=[],d={},m={},y={},g={},v=0,b=[],x=[];if(!i){i=[];for(u in t)t.hasOwnProperty(u)&&i.push(u)}for(u in t)if(t.hasOwnProperty(u)){for(f=t[u].exportPenalty||0;h.length<f+1;)h.push([]);h[f].push(u)}for(f=0;f<h.length;f++){var _={};for(c=0;c<h[f].length;c++){u=h[f][c];var S=t[u].getLegalExports(e);for(l=0;l<S.length;l++)p=S[l],r[p]||d[p]||(_[p]=_[p]||[],_[p].push(u),_[p].length>1&&(m[p]=!0))}for(p in _)d[p]=_[p]}for(c=0;c<i.length;c++)g.hasOwnProperty(i[c])||a(i[c]);return{resolved:x,multiplyDefined:m,cyclicallyDefined:y}}var r=e("core/math/builtinframe"),n=e("underscore");return t}),define("core/math/findIntersections",["require","core/types/graphmode","./plotter","parsenodes","core/math/distance"],function(e){"use strict";function t(e){for(var t=[],r=0;r<e;r++)t[r]={x:[],y:[],intersects:[]};return t}function r(e,t,r,n){return r===l.X&&n===l.X||r===l.Y&&n===l.Y?function(r){return t(r)-e(r)}:(r===l.X&&n===l.Y||r===l.Y&&n===l.X)&&function(r){return r-t(e(r))}}function n(e,t){t instanceof f.SolvedEquation?t=t._expression:t instanceof f.OptimizedRegression&&(t=t.model);var r=[],n=[];return t instanceof f.DoubleInequality?f.List.eachArgs(e,t._expressions,function(e){r.push(e[0].getCompiledFunction()),n.push(e[0].isConstant&&e[1].isNaN()),r.push(e[1].getCompiledFunction()),n.push(e[1].isConstant&&e[1].isNaN())}):f.List.wrap(t).eachElement(e,function(e){r.push(e.getCompiledFunction()),n.push(e.isConstant&&e.isNaN())}),{functions:r,skipIntersecting:n}}function i(e,t){var r=[];for(var i in e)if(e.hasOwnProperty(i)&&String(i)!==String(t)&&e[i].shouldIntersect()){var a=e[i],o=n(a.policy,a.concreteTree);r.push({id:i,graphMode:a.getGraphMode(),functions:o.functions,skipIntersecting:o.skipIntersecting})}return r}function a(e,t){e.intersects=Array(e.x.length);for(var r=0;r<e.x.length;r++)e.intersects[r]=t}function o(e,t){if(t===l.X){var r=e.y;e.y=e.x,e.x=r}}function s(e,t){Array.prototype.push.apply(e.x,t.x),Array.prototype.push.apply(e.y,t.y),Array.prototype.push.apply(e.intersects,t.intersects)}function u(e,t,r){var n=p.sampleXY(e,t),i=n.poi.zeros,a=n.poi.extrema,o=[],s=0,u=0;for(s=0;s<i.x.length;s++){for(;u<a.x.length&&a.x[u]<i.x[s];u++)h.approx(a.y[u],0)&&o.push(a.x[u]);o.push(i.x[s])}for(;u<a.x.length;u++)h.approx(a.y[u],0)&&o.push(a.x[u]);return{x:o,y:o.map(r)}}function c(e,c,l){var f=e[l],h=f.getGraphInfo(),m=f.getGraphMode(),y=n(f.policy,f.concreteTree),g=t(y.functions.length),v=i(e,l);if(!v)return g;for(var b=0,x=0;x<v.length;x++)for(var _=v[x],S=0;S<y.functions.length;S++)if(!y.skipIntersecting[S])for(var M=y.functions[S].fn,E=p.computeDomain(c,h,M),D=0;D<_.functions.length;D++)if(!v[x].skipIntersecting[D]){var w=_.functions[D].fn,T=r(M,w,m,_.graphMode);if(T){var P=u(T,E,M);if((b+=P.x.length)>d)return t(y.functions.length);a(P,_.id),o(P,m),s(g[S],P)}}return g}var l=e("core/types/graphmode"),p=e("./plotter").default,f=e("parsenodes"),h=e("core/math/distance"),d=100;return{findIntersections:c,findIndicatorZeros:u}}),define("core/math/interpolatedlabel",["require","exports","parsenodes","core/math/types","core/lib/label","./policy"],function(e,t,r,n,i,a){"use strict";function o(e){return!(e.length<2)&&("\`"===e[0]&&"\`"===e[e.length-1])}function s(e){for(var t,r=["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\\\{[a-zA-Z0-9]+\\\\}"],n="\\\\$({"+r.join("})|\\\\$({")+"})",i=new RegExp(n,"g"),a=[],o=0,s=0;t=i.exec(e);){s=t.index,s>o&&a.push(e.substr(o,s-o));var u=t[0],c=u.replace(/[{}\\$]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");a.push({symbol:c,str:u}),o=t.index+u.length}return o<e.length&&a.push(e.substr(o)),{raw:e,parts:a}}function u(e,t){return t?"{"+i.truncatedLatexLabel(e,{bigCutoff:1e7,digits:8})+"}":i.truncatedPlainmathLabel(e,{bigCutoff:1e7,digits:8})}function c(e,t,i){for(var s=[],c=o(e.raw),l=0,p=e.parts;l<p.length;l++){var f=p[l];if("string"==typeof f)s.push(f);else{var h=r.Identifier(f.symbol).tryGetConcreteTree(a.defaultPolicy,t);if(h.valueType===n.Number){var d=h.asValue();if("number"==typeof d){s.push(u(d,c));continue}}else if(h.valueType===n.ListOfNumber&&h.args[i]){var d=h.args[i].asValue();if("number"==typeof d){s.push(u(d,c));continue}}c?s.push("{?}"):s.push("?")}}return s.join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.isMathLabel=o,t.parse=s,t.interpolate=c}),define("core/math/getCLSymbolMap",["require","exports","underscore","core/lib/label"],function(e,t,r,n){"use strict";function i(){var e={},t={},i={},a=[];for(var o in this.statements)if(this.statements.hasOwnProperty(o)){var s=this.statements[o];switch(s.type){case"Error":break;case"Regression":i[o]=[],a.push(o);break;default:var u=s.getLegalExports(this.policy);if(u){for(var c=0,l=u;c<l.length;c++){var p=l[c];s.exportPenalty>0?t[p]=o:e[p]=o}i[o]=r.difference(s.getDependencies(),s.getDummyDependencies(),u)}}}for(var f=0,h=a;f<h.length;f++){var o=h[f],s=this.statements[o],d=n.latexToIdentifier(s.userData.residualVariable);d&&(t[d]=o);for(var m=s.getDependencies().slice(),y={},p=void 0;p=m.pop();)if(!y[p]){y[p]=!0;var g=e[p]||t[p];g?(m.push.apply(m,i[g]),i[o].push(p)):t[p]=o}}return{exportMap:e,weakExportMap:t,dependencyMap:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCLSymbolMap=i}),define("core/types/line-width",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THIN=1,t.DEFAULT=2.5,t.THICK=5}),define("core/math/policyFourFunction",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.singleExpression=e.singleExpression}return e.prototype.assignmentForbidden=function(e){return"ans"!==e.slice(0,3)},e.prototype.isValidSlider=function(e){return!1},e.prototype.sliderVariables=function(){return[]},e.prototype.graphingEnabled=function(){return!1},e.prototype.ansEnabled=function(){return!this.singleExpression},e.prototype.disabledFeatures=function(){return["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf"]},e}();t.PolicyFourFunction=new r({singleExpression:!1}),t.PolicySingleExpressionFourFunction=new r({singleExpression:!0})}),define("core/math/policyScientific",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.singleExpression=e.singleExpression}return e.prototype.assignmentForbidden=function(e){return this.singleExpression?"ans"!==e.slice(0,3):"tmp"===e.slice(0,3)},e.prototype.isValidSlider=function(e){return!1},e.prototype.sliderVariables=function(){return[]},e.prototype.graphingEnabled=function(){return!1},e.prototype.ansEnabled=function(){return!this.singleExpression},e.prototype.disabledFeatures=function(){return this.singleExpression?["Sum","Product","Integral","Derivative","Piecewise","PercentOf"]:["Sum","Product","Integral","Derivative","Piecewise"]},e}();t.PolicyScientific=new r({singleExpression:!1}),t.PolicySingleExpressionScientific=new r({singleExpression:!0})}),define("core/math/frameFourFunction",["require","core/math/parsenode/builtinfunction"],function(e){"use strict";function t(e){var t={};return e.additionalFunctions&&-1!==e.additionalFunctions.indexOf("sqrt")&&(t.sqrt=r.sqrt),t}var r=e("core/math/parsenode/builtinfunction");return{getFrame:t}}),define("core/math/frameScientific",["require","core/math/builtinconstants","core/math/parsenode/builtinfunction"],function(e){"use strict";function t(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key '"+n+"' does not exist in table. Must be one of:\\n"+Object.keys(t).join("\\n"))}}function r(e){var t={};return a.forEach(function(e){t[e]=n[e]}),o.forEach(function(r){e.replaceRoundWithReciprocal&&"round"===r||(t[r]=i[r])}),e.trigAngleMultiplier&&(t.trigAngleMultiplier=e.trigAngleMultiplier),t}var n=e("core/math/builtinconstants"),i=e("core/math/parsenode/builtinfunction"),a=["pi","e","trigAngleMultiplier"],o=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","mean","round","stdev","stdevp","nCr","nPr","exp","factorial"];return t(a,n),t(o,i),{getFrame:r}}),define("core/math/frameSingleExpressionScientific",["require","core/math/builtinconstants","core/math/parsenode/builtinfunction"],function(e){"use strict";function t(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key '"+n+"' does not exist in table. Must be one of:\\n"+Object.keys(t).join("\\n"))}}function r(e){var t={};return a.forEach(function(e){t[e]=n[e]}),o.forEach(function(e){t[e]=i[e]}),e.trigAngleMultiplier&&(t.trigAngleMultiplier=e.trigAngleMultiplier),t}var n=e("core/math/builtinconstants"),i=e("core/math/parsenode/builtinfunction"),a=["pi","e","trigAngleMultiplier"],o=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","exp","factorial"];return t(a,n),t(o,i),{getFrame:r}}),define("core/math/frameGraphing",["require","core/math/builtinconstants","core/math/parsenode/builtinfunction"],function(e){"use strict";function t(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key '"+n+"' does not exist in table. Must be one of:\\n"+Object.keys(t).join("\\n"))}}function r(e){var t,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);for(t in i)i.hasOwnProperty(t)&&(!0===e.restrictedFunctions&&-1!==a.indexOf(t)||!1===e.distributions&&-1!==o.indexOf(t)||(r[t]=i[t]));return e.trigAngleMultiplier&&(r.trigAngleMultiplier=e.trigAngleMultiplier),e.globalRandomSeed&&(r.globalRandomSeed=e.globalRandomSeed),r}var n=e("core/math/builtinconstants"),i=e("core/math/parsenode/builtinfunction"),a=["csc","sec","cot","arccsc","arcsec","arccot","csch","sech","coth","arccsch","arcsech","arccoth","mad","cov","distance","midpoint"],o=["erf","ttest","tscore","ittest","normaldist","tdist","poissondist","binomialdist","pdf","cdf","random","histogram","dotplot","boxplot"];return t(a,i),t(o,i),{getFrame:r}}),define("core/math/context",["require","pjs","underscore","./plotter","parser","core/math/parsenode/constant","core/math/parsenode/seed","core/math/parsenode/functioncall","core/math/parsenode/image","core/math/parsenode/slider","core/math/parsenode/table","core/math/parsenode/tablecolumn","core/math/parsenode/freevariable","core/math/finddependencyorder","core/math/errormsg","core/types/graphmode","core/math/workerconfig","./findIntersections","./interpolatedlabel","core/math/types","core/math/expression-types","core/math/expression-types","core/math/getCLSymbolMap","core/math/distribution-spec","core/math/maybe-rational","core/lib/number-to-latex","core/lib/label","core/math/functions","core/types/line-width","core/math/policyFourFunction","core/math/policyScientific","core/math/policyScientific","core/math/policyFourFunction","core/math/policyGraphing","core/math/policyGraphing","core/math/frameFourFunction","core/math/frameFourFunction","core/math/frameScientific","core/math/frameSingleExpressionScientific","core/math/frameGraphing","core/math/frameGraphing"],function(e){"use strict";function t(e){var t=e.rawTree.userData,r=e.rawTree.metaData;return t.cdf&&t.cdf.show&&r.distributionSpec}function r(e){var t=e.evaluationState.expression_type,r=e.rawTree.userData;return!(!r.clickableInfo||!r.clickableInfo.enabled)&&(!!e.rawTree.isImage||e.getGraphMode()!==v.XYPOINT_MOVABLE&&E(t))}function n(e,t){var r="id"+e;t=t||[];for(var n,i,a,o=0,s=t.length;o<s;o++)n=t[o],i=n[0],a=n[1],r+="::"+i+a;return r}var i=e("pjs"),a=e("underscore"),o=e("./plotter").default,s=e("parser"),u=e("core/math/parsenode/constant"),c=e("core/math/parsenode/seed"),l=e("core/math/parsenode/functioncall"),p=e("core/math/parsenode/image"),f=e("core/math/parsenode/slider"),h=e("core/math/parsenode/table"),d=e("core/math/parsenode/tablecolumn"),m=e("core/math/parsenode/freevariable"),y=e("core/math/finddependencyorder"),g=e("core/math/errormsg"),v=e("core/types/graphmode"),b=e("core/math/workerconfig"),x=e("./findIntersections").findIntersections,_=e("./interpolatedlabel"),S=e("core/math/types"),M=e("core/math/expression-types").ExpressionType,E=e("core/math/expression-types").isClickableExpressionType,D=e("core/math/getCLSymbolMap").getCLSymbolMap,w=e("core/math/distribution-spec"),T=e("core/math/maybe-rational").maybeRational,P=e("core/lib/number-to-latex").default,I=e("core/lib/label"),C=e("core/math/functions"),O=e("core/types/line-width"),A={fourFunction:e("core/math/policyFourFunction").PolicyFourFunction,scientific:e("core/math/policyScientific").PolicyScientific,singleExpressionScientific:e("core/math/policyScientific").PolicySingleExpressionScientific,singleExpressionFourFunction:e("core/math/policyFourFunction").PolicySingleExpressionFourFunction,graphing:e("core/math/policyGraphing").PolicyGraphing,graphing_3d:e("core/math/policyGraphing").PolicyGraphing3D},L={fourFunction:e("core/math/frameFourFunction"),singleExpressionFourFunction:e("core/math/frameFourFunction"),scientific:e("core/math/frameScientific"),singleExpressionScientific:e("core/math/frameSingleExpressionScientific"),graphing:e("core/math/frameGraphing"),graphing_3d:e("core/math/frameGraphing")};return i(function(e){function i(e,t){return e?"0"===e?W:"1"===e?Y:s.parse(e,t):X}function E(e,t){if(e)return s.parse(e,t)}function N(e){return"ans"!==e.slice(0,3)}function q(e,t){var r,n=e.multiplyDefined,i=e.cyclicallyDefined;for(r in n)n.hasOwnProperty(r)&&(t[r]=g.multiplyDefined(r));for(r in i)i.hasOwnProperty(r)&&(t[r]=g.cycle(i[r].filter(N)))}function F(e,t,r){for(var n=0;n<r.length;n++){var i=r[n];e[i]||(e[i]=[]),e[i].push(t)}}function R(e,t,r){var n=e.variables;if(n&&n.length){for(var i={},a=0;a<n.length;a++)i[n[a]]=!0;for(var o in r)i[o]=!0;r=i}e.variables=t.sliderVariables(Object.keys(r))}function V(e,t,r){var n,i,a=e.evaluationState,o=e.rawTree,s=o.metaData.cdfMin,c=o.metaData.cdfMax,p=NaN,f=NaN,h={},d="Assignment"===o.type?o._expression:o,m=d&&d.metaData&&d.metaData.distributionSpec;if(s){var y=s.tryGetConcreteTree(t,r);for(y.isConstant&&(p=y.asValue()),n=y.getDependencies(),i=0;i<n.length;i++)h[n[i]]=!0}else p=-1/0;if(c){var v=c.tryGetConcreteTree(t,r);for(v.isConstant&&(f=v.asValue()),n=v.getDependencies(),i=0;i<n.length;i++)h[n[i]]=!0}else f=1/0;var b=!0,x=!0;if(isNaN(p)&&(b=!1,p=NaN),isNaN(f)&&(x=!1,f=NaN),b?x?p>f&&(b=!1,x=!1,a.error=g.cdfMaxLessThanMin().getError()):a.error=g.cdfMaxInvalid().getError():a.error=g.cdfMinInvalid().getError(),b&&x){var _=l("cdf",[d,u(p),u(f)]);a.cdf_evaluation=+_.tryGetConcreteTree(t,r).asValue()}var S=-1/0,M=1/0;if(m&&(m.discrete&&(S=0),"binomialdist"===m.symbol&&d.args&&d.args[0])){var E=d.args[0].asValue();isFinite(E)&&(M=E)}o.metaData.evaluatedCDFMin=p,o.metaData.evaluatedCDFMax=f,a.cdf_min_valid=b,a.cdf_max_valid=x,a.cdf_min_default=S,a.cdf_max_default=M,a.is_single_identifier=!1,R(a,t,h)}function k(e,t,r){var n,i=e.evaluationState,a=e.rawTree.metaData.fillOpacity,o={},s=!0;if(a){var u=a.tryGetConcreteTree(t,r);n=u.asValue();for(var c=u.getDependencies(),l=0;l<c.length;l++)o[c[l]]=!0}isFinite(n)||(s=!1,n=NaN),a||(s=!0),e.rawTree.metaData.computedFillOpacity=n,i.fill_opacity_valid=s,R(i,t,o)}function B(e,t,r){var n,i=e.evaluationState,a=e.rawTree.metaData.lineWidth,o={},s=!0;if(a){var u=a.tryGetConcreteTree(t,r);n=u.asValue();for(var c=u.getDependencies(),l=0;l<c.length;l++)o[c[l]]=!0}isFinite(n)||(s=!1,n=NaN),a||(s=!0,n=O.DEFAULT),e.rawTree.metaData.computedLineWidth=n,i.line_width_valid=s,R(i,t,o)}function j(e,t,r){var n,i,a,o,s=e.evaluationState,u=e.rawTree,c=u.metaData.clickableAssignment,l=u.metaData.clickableExpression,p={};if(c&&"Identifier"===c.type){var f=r[c._symbol],h=f&&f.type;"Slider"!==h&&"Assignment"!==h||(a=c._symbol)}if(l){var d=l.tryGetConcreteTree(t,r);if(d.valueType===S.Number){var m=d.asValue();isNaN(m)||(o=P(m))}else if(d.valueType===S.ListOfNumber){var y=[],g=!0;for(i=0;i<d.args.length;i++){var v=d.args[i];if(v.valueType!==S.Number)return!1;var b=v.asValue();y.push(P(b)),isNaN(b)&&(g=!1)}g&&(o="\\\\left["+y.join(",")+"\\\\right]")}for(n=d.getDependencies(),i=0;i<n.length;i++)p[n[i]]=!0}a&&o&&(s.clickableinfo_identifier=a,s.clickableinfo_latex=I.identifierToLatex(a)+"="+o),s.clickableinfo_identifier_valid=!!a,s.clickableinfo_expression_valid=!!o,R(s,t,p)}function z(e,t,r){var n,i,a=e.evaluationState,o=e.rawTree,s=a.expression_type===M.POLAR?o.metaData.polarDomainMin:o.metaData.parametricDomainMin,u=a.expression_type===M.POLAR?o.metaData.polarDomainMax:o.metaData.parametricDomainMax,c=NaN,l=NaN,p=!1,f={};if(s){p=!0;var h=s.tryGetConcreteTree(t,r);for(h.isConstant&&(c=h.asValue()),n=h.getDependencies(),i=0;i<n.length;i++)f[n[i]]=!0}else c=0;if(u){p=!0;var d=u.tryGetConcreteTree(t,r);for(d.isConstant&&(l=d.asValue()),n=d.getDependencies(),i=0;i<n.length;i++)f[n[i]]=!0}else a.expression_type===M.PARAMETRIC?l=1:a.expression_type===M.POLAR&&(l=12*Math.PI/r.trigAngleMultiplier.asValue());var m=!0,y=!0;isFinite(c)||(m=!1,c=NaN),isFinite(l)||(y=!1,l=NaN),m?y?c>l&&(m=!1,y=!1,a.error=g.domainMaxLessThanMin().getError()):a.error=g.domainMaxInvalid().getError():a.error=g.domainMinInvalid().getError(),o.metaData.evaluatedDomainMin=c,o.metaData.evaluatedDomainMax=l,a.expression_type===M.POLAR&&(o.metaData.isExplicitDomain=p),a.domain_min_number=c,a.domain_max_number=l,a.domain_min_valid=m,a.domain_max_valid=y,a.expression_type===M.PARAMETRIC&&(delete f.t,R(a,t,f))}function G(e,t,r){var n,i,a=e.evaluationState,o=e.rawTree,s=o.metaData.vizAxisOffset,u=o.metaData.vizBreadth,c=NaN,l=NaN,p={};if(s){var f=s.tryGetConcreteTree(t,r);for(f.isConstant&&(c=f.asValue()),n=f.getDependencies(),i=0;i<n.length;i++)p[n[i]]=!0}else c=1;if(u){var h=u.tryGetConcreteTree(t,r);for(h.isConstant&&(l=h.asValue()),n=h.getDependencies(),i=0;i<n.length;i++)p[n[i]]=!0}else l=1;var d=!0,m=!0;isFinite(c)||(d=!1,c=NaN),isFinite(l)||(m=!1,l=NaN),d?m||(a.error=g.boxplotBreadthInvalid().getError()):a.error=g.boxplotOffsetInvalid().getError(),o.metaData.evaluatedAxisOffset=c,o.metaData.evaluatedBreadth=l,a.viz_values={axisOffset:c,breadth:l},a.viz_valids={axisOffset:d,breadth:m},R(a,t,p)}function U(e){return e.globalRandomSeed||[]}e.init=function(){this.statements={},this.analysis={},this.currentStatus={},this.currentLabel={},this.unpublishedIds={},this.intersectId=void 0,this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={},this.markedRegressionDirty=!1,this.setEvaluationMode("graphing"),this.setRestrictedFunctions(!1),this.setFunctionDefinition(!0),this.setReplaceRoundWithReciprocal(!1),this.invalidate()},e.getCLSymbolMap=D,e.processChangeSet=function(e){var t={intersections:{},graphs:{}};e.isCompleteState&&(this.invalidate(),this.statements={},this.currentLabel={}),e.viewState&&this.setViewState(e.viewState),e.hasOwnProperty("degreeMode")&&this.setDegreeMode(e.degreeMode),e.hasOwnProperty("globalRandomSeed")&&this.setGlobalRandomSeed(e.globalRandomSeed),e.hasOwnProperty("evaluationMode")&&this.setEvaluationMode(e.evaluationMode),e.hasOwnProperty("additionalFunctions")&&this.setAdditionalFunctions(e.additionalFunctions),e.hasOwnProperty("restrictedFunctions")&&this.setRestrictedFunctions(e.restrictedFunctions),e.hasOwnProperty("distributions")&&this.setDistributions(e.distributions),e.hasOwnProperty("functionDefinition")&&this.setFunctionDefinition(e.functionDefinition),e.hasOwnProperty("replaceRoundWithReciprocal")&&this.setReplaceRoundWithReciprocal(e.replaceRoundWithReciprocal),e.hasOwnProperty("pointsOfInterest")&&this.setWorkerConfigProperty("pointsOfInterest",e.pointsOfInterest),e.hasOwnProperty("plotSingleVariableImplicitEquations")&&this.setWorkerConfigProperty("plotSingleVariableImplicitEquations",e.plotSingleVariableImplicitEquations),e.hasOwnProperty("plotImplicits")&&this.setWorkerConfigProperty("plotImplicits",e.plotImplicits),e.hasOwnProperty("plotInequalities")&&this.setWorkerConfigProperty("plotInequalities",e.plotInequalities),e.hasOwnProperty("sliders")&&this.setWorkerConfigProperty("sliders",e.sliders),e.hasOwnProperty("intersectId")&&(this.intersectId=e.intersectId),this.processStatements(e,t),this.updateAnalysis(),e.hasOwnProperty("intersectId")&&this._updateIntersections(e.intersectId,t);var r=this._publishAllStatuses();return this._computeAllLabels(),this._graphAllChanged(t),this.unpublishedIds={},{syncId:e.syncId,isCompleteState:e.isCompleteState,intersectionChanges:t.intersections,statusChanges:r,graphChanges:t.graphs}},e.processStatements=function(e,t){var r;if(e.statements)for(var n in e.statements){var i=e.statements[n];if(null===i){if(!e.isCompleteState&&this.statements.hasOwnProperty(n)&&(r=this.statements[n].getAllIds()),this.removeStatement(n,t),!e.isCompleteState&&r)for(var a=0;a<r.length;a++)t.graphs[r[a]]=void 0}else this.addStatement(i,t)}},e.setViewState=function(e){if(!a.isEqual(e,this.viewState)){this.viewState=e;for(var t in this.statements)this.statements.hasOwnProperty(t)&&(this.unpublishedIds[t]=!0)}},e.getViewState=function(){if(this.viewState){var e=Object.create(this.viewState);return this.parent_frame&&this.parent_frame.trigAngleMultiplier?e.trigAngleMultiplier=this.parent_frame.trigAngleMultiplier.asValue():e.trigAngleMultiplier=1,e}},e.setDegreeMode=function(e){this.use_degrees=e,this.invalidate()},e.setGlobalRandomSeed=function(e){this.globalRandomSeedString=e,this.parent_frame.globalRandomSeed=c(e),this.dirtyExportedSymbolRoots.globalRandomSeed=!0},e.setEvaluationMode=function(e){this.evaluationMode=e,this.policy=A[e],this.invalidate()},e.setAdditionalFunctions=function(e){this.additionalFunctions=e,this.invalidate()},e.setRestrictedFunctions=function(e){this.restrictedFunctions=e,this.invalidate()},e.setDistributions=function(e){this.distributions=e,this.invalidate()},e.setFunctionDefinition=function(e){this.functionDefinition=e,this.invalidate()},e.setReplaceRoundWithReciprocal=function(e){
this.replaceRoundWithReciprocal=e,this.invalidate()},e.setWorkerConfigProperty=function(e,t){t!==b[e]&&(b[e]=t,this.invalidate())},e._publishAllStatuses=function(){var e={},t=this.currentStatus;this.currentStatus={};for(var r in this.unpublishedIds)if(this.analysis.hasOwnProperty(r)){var n=this.analysis[r].evaluationState;JSON.stringify(n)!==JSON.stringify(t[r])&&(e[r]=n),this.currentStatus[r]=n}return e},e._computeAllLabels=function(){for(var e in this.currentLabel){var t=this.statements[e];if(t){var r=t.tryGetConcreteTree(this.policy,this.frame),n=1;r.valueType===S.ListOfPoint&&(n=r.args.length);for(var i=[],o=0;o<n;o++)i.push(_.interpolate(this.currentLabel[e],this.frame,o));a.isEqual(i,t.computedLabels)||(t.computedLabels=i,this.unpublishedIds[e]=!0)}}},e._graphAllChanged=function(e){var t=this.getViewState(),r=!1;if(o.validateViewState(t)){for(var n in this.unpublishedIds)if(this.analysis.hasOwnProperty(n)){var i=this.analysis[n],s=i.evaluationState.expression_type,u=s===M.SINGLE_POINT||s===M.POINT_LIST;if(i.rawTree.isTable)for(var c=i.graph(t),l=i.rawTree.getAllIds(),p=0;p<l.length;p++)c[l[p]]?this._notifyGraphComputed(l[p],c[l[p]],e):this._notifyGraphRemoved(l[p],e);else i.evaluationState.is_graphable&&(i.rawTree.userData.shouldGraph||i.rawTree.userData.showLabel&&u)?(this._notifyGraphComputed(n,i.graph(t),e),this.intersectId===n&&(r=!0)):this._notifyGraphRemoved(n,e)}a.keys(this.unpublishedIds).length&&void 0!==this.intersectId&&(this.unpublishedIds.hasOwnProperty(this.intersectId)||(r=!0)),r&&this._updateIntersections(this.intersectId,e)}},e._notifyGraphRemoved=function(e,t){t.graphs[e]=void 0},e._notifyGraphComputed=function(e,t,r){C.dehydrateGraphData(t),r.graphs[e]=t},e._updateIntersections=function(e,t){if(this.viewState){if(!this.analysis[e]||!this.analysis[e].shouldIntersect())return void(t.intersections[e]=[]);var r=x(this.analysis,this.viewState,e);t.intersections[e]=r}},e.getDisabledFeatures=function(){var e,t=this.policy.disabledFeatures();e=!1===this.functionDefinition?t.concat("FunctionDefinition"):t;var r=this.additionalFunctions||[];return e=e.filter(function(e){return("Exponent"!==e||-1===r.indexOf("exponent"))&&("PercentOf"!==e||-1===r.indexOf("percent"))}.bind(this))};var W=u(T(0,1)),Y=u(T(1,1)),X=u(NaN);e.addStatement=function(e,t){if(e){var r=e.id;this.markExportsDirty(r),this.markAsDirtyRoot(r);var a={index:this.policy.ansEnabled()?e.index:void 0,disabledFeatures:this.getDisabledFeatures(),seedPrefix:n(r)},o={};switch(e.type){case"table":var c=[];this.statements.hasOwnProperty(r)&&(c=this.statements[r].getAllIds()),e.shouldGraph=!0;for(var l,m,y,g=e.columns,v=[],b=0,x=0;x<g.length;x++)b=Math.max(g[x].values.length,b);for(var S=0;S<g.length;S++){a.seedPrefix=n(r,[["tr",0],["tc",S]]),l=s.parse(g[S].latex,a),m=[];for(var M=-1,D=0;D<g[S].values.length;D++)g[S].values[D].replace(/\\\\space/g,"").match(/\\S/)?(a.seedPrefix=n(r,[["tr",D+1],["tc",S]]),m.push(s.parse(g[S].values[D],a)),M=D):m.push(u(NaN));m=m.slice(0,M+1),y=d(l,b,m),y.id=g[S].id,y.header&&(y.header.userData=g[S]),y.header&&(y.header.metaData={}),v.push(y)}this.statements[r]=h(v);var T=this,P=this.statements[r].getAllIds();c.forEach(function(e){-1===P.indexOf(e)&&T._notifyGraphRemoved(e,t)});break;case"image":var I="-\\\\trigAngleMultiplier*\\\\arctan(\\\\sin("+e.angle+"),\\\\cos("+e.angle+"))";a.seedPrefix=n(r,[["ic",r]]);var C=s.parse(e.center,a);a.seedPrefix=n(r,[["ia",r]]);var O=s.parse(I,a);a.seedPrefix=n(r,[["iw",r]]);var A=s.parse(e.width,a);a.seedPrefix=n(r,[["ih",r]]);var L=s.parse(e.height,a);a.seedPrefix=n(r,[["io",r]]);var N=s.parse(e.opacity,a);this.statements[r]=p({center:C,radianAngle:O,width:A,height:L,opacity:N});break;default:if(this.statements[r]=s.parse(e.latex,a),this.statements[r].shouldPromoteToSlider(this.policy)){var q=e.slider;a.seedPrefix=n(r,[["lm",r]]);var F=E(q&&q.min,a);a.seedPrefix=n(r,[["lM",r]]);var R=E(q&&q.max,a);a.seedPrefix=n(r,[["ls",r]]);var V=E(q&&q.step,a);e.lineWidth&&(a.seedPrefix=n(r,[["lw",r]]),o.lineWidth=E(e.lineWidth,a)),this.statements[r]=f(this.statements[r],{sliderMin:F,sliderMax:R,sliderStep:V})}else if(e.polarDomain&&e.polarDomain.min&&(a.seedPrefix=n(r,[["lm",r]]),o.polarDomainMin=i(e.polarDomain.min,a)),e.polarDomain&&e.polarDomain.max&&(a.seedPrefix=n(r,[["lM",r]]),o.polarDomainMax=i(e.polarDomain.max,a)),e.parametricDomain&&e.parametricDomain.min&&(a.seedPrefix=n(r,[["lm",r]]),o.parametricDomainMin=i(e.parametricDomain.min,a)),e.parametricDomain&&e.parametricDomain.max&&(a.seedPrefix=n(r,[["lM",r]]),o.parametricDomainMax=i(e.parametricDomain.max,a)),e.vizProps&&(e.vizProps.axisOffset&&(a.seedPrefix=n(r,[["vo",r]]),o.vizAxisOffset=i(e.vizProps.axisOffset,a)),e.vizProps.breadth&&(a.seedPrefix=n(r,[["vb",r]]),o.vizBreadth=i(e.vizProps.breadth,a))),e.lineWidth&&(a.seedPrefix=n(r,[["lw",r]]),o.lineWidth=E(e.lineWidth,a)),e.fillOpacity&&(a.seedPrefix=n(r,[["fo",r]]),o.fillOpacity=E(e.fillOpacity,a)),e.cdf&&e.cdf.show){var k=w.parseToplevelFunction(e.latex,a);k&&"distribution"===k.type&&(o.distributionSpec=k,a.seedPrefix=n(r,[["lm",r]]),o.cdfMin=E(e.cdf.min,a),a.seedPrefix=n(r,[["lM",r]]),o.cdfMax=E(e.cdf.max,a))}}if(e.clickableInfo&&e.clickableInfo.enabled&&(o.clickableAssignment=E(e.clickableInfo.assignment,a),o.clickableExpression=E(e.clickableInfo.expression,a)),this.statements[r].userData=e,this.statements[r].metaData=o,e.label){var B=this.currentLabel[r];B&&B.raw===e.label||(this.currentLabel[r]=_.parse(e.label))}else delete this.currentLabel[r]}},e.removeStatement=function(e,t){var r=this.statements[e];if(r){if(this.markExportsDirty(e),r.isTable){var n=this;r.getAllIds().forEach(function(e){n._notifyGraphRemoved(e,t)})}else this._notifyGraphRemoved(e,t);delete this.currentLabel[e],delete this.statements[e],delete this.analysis[e]}},e.invalidate=function(){for(var e in this.statements)this.statements.hasOwnProperty(e)&&this.markAsDirtyRoot(e);this.currentStatus={},this.analysis={},this.parent_frame=L[this.evaluationMode].getFrame({restrictedFunctions:this.restrictedFunctions,replaceRoundWithReciprocal:this.replaceRoundWithReciprocal,distributions:this.distributions,additionalFunctions:this.additionalFunctions,trigAngleMultiplier:u(this.use_degrees?Math.PI/180:T(1,1)),globalRandomSeed:c(this.globalRandomSeedString||"")}),this.frame=Object.create(this.parent_frame),this.lastFrame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame)},e.markExportsDirty=function(e){if(this.statements[e]){this.statements[e].isRegression&&(this.markedRegressionDirty=!0);for(var t=this.statements[e].getLegalExports(this.policy),r=0;r<t.length;r++)this.dirtyExportedSymbolRoots[t[r]]=!0}},e.markAsDirtyRoot=function(e){this.dirtyStatementRoots[e]=!0},e.getFrame=function(){return this.updateAnalysis(),this.frame},e.getAnalysis=function(){return this.updateAnalysis(),this.analysis},e.getStatus=function(e){if(this.updateAnalysis(),this.analysis[e])return this.analysis[e].status},e.getEvaluationState=function(e){if(this.updateAnalysis(),this.analysis[e])return this.analysis[e].evaluationState},e._updateRegressions=function(e){var t,r=this.frame,n=this.lastFrame,i=this.regressionFrame,a=[];for(t in e)e.hasOwnProperty(t)&&e[t].isRegression&&a.push(t);var o=this;a.sort(function(e,t){var r=o.statements[e].userData&&o.statements[e].userData.residualVariable,n=o.statements[t].userData&&o.statements[t].userData.residualVariable;return r&&!n?-1:n&&!r?1:0});var s=y(this.policy,e,a);q(s,i);for(var u=s.resolved,c={},l=0;l<u.length;l++)if(t=u[l],this.statements[t].isRegression)this.analysis[t]=e[t].analyze(this.policy,i,r,n,c),this.analysis[t].exportTo(this.policy,r),delete e[t];else{var p=e[t].tryGetConcreteTree(this.policy,i);e[t].exportTo(this.policy,p,i),c[t]={rawTree:e[t],concreteTree:p}}},e.buildSymbolToExpressionDirtyMap=function(){var e={};for(var t in this.statements)if(this.statements.hasOwnProperty(t)){var r=this.statements[t],n=r.metaData;F(e,t,r.getDependencies()),F(e,t,r.getLegalExports(this.policy)),r.isRegression&&r.userData&&r.userData.residualVariable&&F(e,t,[I.latexToIdentifier(r.userData.residualVariable)]),n.polarDomainMin&&F(e,t,n.polarDomainMin.getDependencies()),n.polarDomainMax&&F(e,t,n.polarDomainMax.getDependencies()),n.parametricDomainMin&&F(e,t,n.parametricDomainMin.getDependencies()),n.parametricDomainMax&&F(e,t,n.parametricDomainMax.getDependencies()),n.vizBinWidth&&F(e,t,n.vizBinWidth.getDependencies()),n.vizBinCenter&&F(e,t,n.vizBinCenter.getDependencies()),n.vizAxisOffset&&F(e,t,n.vizAxisOffset.getDependencies()),n.vizBreadth&&F(e,t,n.vizBreadth.getDependencies()),n.cdfMin&&F(e,t,n.cdfMin.getDependencies()),n.cdfMax&&F(e,t,n.cdfMax.getDependencies()),n.lineWidth&&F(e,t,n.lineWidth.getDependencies()),n.fillOpacity&&F(e,t,n.fillOpacity.getDependencies()),n.clickableAssignment&&F(e,t,n.clickableAssignment.getDependencies()),n.clickableExpression&&F(e,t,n.clickableExpression.getDependencies())}return e},e.getDirtyIdsAndSymbols=function(e){var t,r,n,i={},a={},o=this.markedRegressionDirty,s=[],u=[];for(t in this.dirtyStatementRoots)this.dirtyStatementRoots[t]&&(a[t]=!0,s.push(t));for(n in this.dirtyExportedSymbolRoots)this.dirtyExportedSymbolRoots[n]&&(i[n]=!0,u.push(n));for(;s.length||u.length;){for(;s.length;){t=s.pop();var c=this.statements[t];if(c){c.isRegression&&(o=!0);var l=c.getLegalExports(this.policy);for(r=0;r<l.length;r++)n=l[r],i[n]||(i[n]=!0,u.push(n))}}for(;u.length;){n=u.pop();var p=e[n];if(p)for(r=0;r<p.length;r++)t=p[r],a[t]||(a[t]=!0,s.push(t))}}return{ids:a,symbols:i,hasDirtyRegression:o}},e.updateAnalysis=function(){var e,n,i,a=this.buildSymbolToExpressionDirtyMap(),o=this.getDirtyIdsAndSymbols(a);if(o.hasDirtyRegression){i={};for(e in this.statements)this.statements[e]&&(i[e]=this.statements[e]);this.frame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame)}else{var s=o.ids;i={};for(e in s)this.statements[e]&&(i[e]=this.statements[e]);var u=o.symbols;for(n in u)u[n]&&(delete this.frame[n],delete this.regressionFrame[n])}for(e in i)i[e]&&(this.unpublishedIds[e]=!0);this.markedRegressionDirty=!1,this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={};var c=this.analysis,l=this.frame;"graphing"===this.evaluationMode&&this._updateRegressions(i);var p=y(this.policy,i);q(p,l);for(var f=p.resolved,h=0;h<f.length;h++)switch(e=f[h],this.evaluationMode){case"fourFunction":case"singleExpressionFourFunction":c[e]=this.statements[e].analyzeFourFunction(this.policy,l,c),c[e].exportTo(this.policy,l);break;case"scientific":c[e]=this.statements[e].analyzeScientific(this.policy,l,c),c[e].exportTo(this.policy,l);break;case"singleExpressionScientific":c[e]=this.statements[e].analyzeSingleExpressionScientific(this.policy,l,c),c[e].exportTo(this.policy,l);break;case"graphing":case"graphing_3d":if(l.r){var d=Object.create(l);if(d.r=m("r"),c[e]=this.statements[e].analyze(this.policy,d,c),c[e].getGraphMode()===v.POLAR){c[e].exportTo(this.policy,l);continue}}c[e]=this.statements[e].analyze(this.policy,l,c),c[e].exportTo(this.policy,l)}if("graphing"===this.evaluationMode||"graphing_3d"===this.evaluationMode)for(h=0;h<f.length;h++){e=f[h];var g=c[e],b=g.evaluationState.expression_type;B(g,this.policy,l),b!==M.POLYGON&&b!==M.PARAMETRIC||k(g,this.policy,l),r(g)&&j(g,this.policy,l),b===M.PARAMETRIC||b===M.POLAR?z(g,this.policy,l):b===M.BOXPLOT?G(g,this.policy,l):t(g)&&V(g,this.policy,l)}U(a).forEach(function(e){c[e].evaluationState.depends_on_random_seed=!0}),this.lastFrame=Object.create(this.parent_frame);for(n in l)l.hasOwnProperty(n)&&(this.lastFrame[n]=l[n])}})}),define("worker/workercore",["require","core/math/context"],function(e){"use strict";var t=e("core/math/context");return function(e){var r=t();return{processChangeSet:function(t){var n=r.processChangeSet(t);e("processChangeSet",n)}}}}),define("console",["require"],function(e){var t=function(){},r=["log","info","warn","error","assert","dir","clear","profile","profileEnd","time","timeEnd","group","groupCollapsed","groupEnd","trace"],n={},i=function(e){"undefined"!=typeof window&&window.console&&window.console[e]?n[e]=function(){Function.prototype.apply.call(window.console[e],window.console,arguments)}:n[e]=t};return r.forEach(i),n}),define("worker/worker",["require","worker/workercore","console"],function(e){"use strict";var t=e("worker/workercore"),r={};e("console").log=function(e){self.postMessage({log:JSON.stringify(e)})};var n=self;n.window=n,n.onmessage=function(e){var i=e.data&&e.data.connectionId;if(i)if("destroy"===e.data.originalMessage.type)delete r[i];else{var a=r[i];a||(a=t(function(e,t){n.postMessage({connectionId:i,originalMessage:{type:e,payload:t}})}),r[i]=a),a.processChangeSet(e.data.originalMessage)}},n.loadMessageQueue&&(n.loadMessageQueue.forEach(function(e){n.onmessage(e)}),delete n.loadMessageQueue)}),function(){"use strict";"undefined"==typeof window&&(void 0===requirejs&&(importScripts("../vendor/require.js"),importScripts("config.js")),self.loadMessageQueue=[],self.onmessage=function(e){self.loadMessageQueue.push(e)},requirejs(["worker/worker"]))}(),define("toplevel/worker",function(){});
`}),q("worker_src",["require","text!worker_src_underlying"],function(O){return O("text!worker_src_underlying")}),q("worker/create_worker_url",["require","worker_src"],function(O){var o=O("worker_src");return function(){if(!o.length)return"/assets/generated/combined/toplevel/worker.js";var w;try{w=new Blob([o],{type:"application/javascript"})}catch{try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,d=new r;d.append(o),w=d.getBlob("application/javascript")}catch{return null}}return(window.URL||window.webkitURL).createObjectURL(w)}}),q("worker/fakeworker",["require","worker/workercore"],function(O){var o=O("worker/workercore");return function(w){function r(l,g){w({type:l,payload:g})}var d={},i=o(r);return d.postMessage=function(l){setTimeout(function(){i.processChangeSet(l)},0)},d}}),q("worker/workerpool",["require","console","./create_worker_url","pjs","underscore_model","./fakeworker","underscore","lib/urlparser"],function(O){function o(b){return u?function(m){f=Math.max(Date.now(),f)+u,setTimeout(b,f-Date.now(),m)}:b}var w=O("console"),r=O("./create_worker_url"),d=O("pjs"),i=O("underscore_model").UnderscoreModel,l=O("./fakeworker"),g=O("underscore"),y=O("lib/urlparser"),p=y.getParameter(location.search,"workerThrottle"),u=parseInt(p,10),f=0;return d(i,function(b,m){b.init=function(c){m.init.call(this),this.workers=[],this.maxWorkers=c,this.workerURL=r()},b.allowedToSpawnWorker=function(){return this.workerURL&&this.workers.length<this.maxWorkers},b.killWorker=function(c){g.indexOf(this.workers,c)!==-1&&(c.terminate(),this.workers=g.without(this.workers,c),g.shuffle(g.values(c.__connections)).forEach(function(n){n&&n.onWorkerKilled&&n.onWorkerKilled()}))},b.spawnWorker=function(){try{var c=new Worker(this.workerURL);return c.__connections={},c.__isFake=!1,c.onerror=function(n){w.log(n)},c.addEventListener("message",o(function(n){var s=n.data;if((!s||!s.log)&&s&&s.connectionId){var v=c.__connections[s.connectionId];v&&v.onResponse(s.originalMessage)}})),this.workers.push(c),c}catch{return null}},b.spawnFakeWorker=function(){var c=l(o(function(n){var s=g.values(c.__connections)[0];s&&s.onResponse(n)}));return c.__isFake=!0,c.__connections={},c},b.findLeastUsedWorker=function(){var c=function(n){return g.size(n.__connections)};return g.sortBy(this.workers,c)[0]},b.allocateWorker=function(){var c=null;return this.allowedToSpawnWorker()&&(c=this.spawnWorker()),c||(c=this.findLeastUsedWorker()),c||(c=this.spawnFakeWorker()),c}})}),q("main/evaluator",["require","exports","worker/workerpoolconnection","worker/workerpool","core/lib/deepCopy","core/math/functions","underscore"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function y(p){this.listeners={processChangeSet:function(u){var f={},b={};for(var m in u.graphChanges){var c=u.graphChanges[m];c===void 0?b[m]=!0:(i.rehydrateGraphData(c),f[m]=c)}var n={};for(var m in u.intersectionChanges)b[m]||(n[m]=u.intersectionChanges[m]);this.onEvaluatorResults({evaluationStates:u.statusChanges,graphData:{addedGraphs:f,removedGraphs:b,intersections:n},renderSlowly:!!u.isCompleteState});for(var s=u.syncId;this.syncRequests.length&&s!==void 0&&this.syncRequests[0].id<=s;)this.syncRequests.shift().callback();this.markJobFinished(),this._processChangeSet()}},this.__state={},this.changeSet=null,this.cumulativeChangeSet={},this.syncId=1,this.syncRequests=[],p||(p=r()),this.workerPool=p,this.createWorkerPoolConnection()}return y.prototype.createWorkerPoolConnection=function(){var p=this;this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){}),this.workerPoolConnection=w(this.workerPool),this.markJobFinished(),this.workerPoolConnection.onResponse=function(u){p.shouldIgnoreWorkerMessage(u)?u.type==="processChangeSet"&&(p.markJobFinished(),p._processChangeSet()):p.listeners[u.type].call(p,u.payload)},this.workerPoolConnection.onWorkerKilled=function(){var u=p.hasJobInWorker();p.createWorkerPoolConnection(),u?(p.changeSet=d.default(p.cumulativeChangeSet),p.__state.changed=!0,p.__state.droppedMessage=!0):(p.changeSet=d.default(p.cumulativeChangeSet),p.__state.changed=!1),p.processChangeSet()}},y.prototype.destroy=function(){this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){},this.workerPoolConnection.destroy())},y.prototype.shouldIgnoreWorkerMessage=function(p){return!!this.__suspendUntilSyncId&&(!p||!p.payload||!(p.payload.syncId>=this.__suspendUntilSyncId))},y.prototype.suspend=function(){var p=this;this.changeSet&&this.changeSet.syncId||(this.syncId++,this.applyToChangeSets(function(u){u.syncId=p.syncId})),this.__suspendUntilSyncId=this.changeSet.syncId},y.prototype.markJobFinished=function(){this.__state.droppedMessage=!1,this.__jobStartTime=-1,this.__suspendUntilSyncId=void 0},y.prototype.startJobTimer=function(){this.__jobStartTime=new Date().getTime()},y.prototype.hasJobInWorker=function(){return this.__jobStartTime!==-1},y.prototype.getJobElapsedTime=function(){return this.hasJobInWorker()?new Date().getTime()-this.__jobStartTime:NaN},y.prototype.tick=function(){this._processChangeSet()},y.prototype.processChangeSet=function(){this.__processChangeSetRequested=!0},y.prototype._processChangeSet=function(){if(this._syncEvaluatorConfig(),this.__processChangeSetRequested){var p=this.getJobElapsedTime()>=4e3;if(this.__state.droppedMessage&&p)return void this.workerPoolConnection.killWorker();if(this.__state.changed&&this.changeSet)if(this.changeSet.syncId||(this.syncId++,this.changeSet.syncId=this.syncId),this.hasJobInWorker())this.changeSet.isCompleteState&&p&&this.workerPoolConnection.killWorker();else{var u=this.changeSet;this.changeSet=null,this.__state.changed=!1,this.startJobTimer(),this.workerPoolConnection.sendMessage(u),this.__processChangeSetRequested=!1}}},y.prototype.notifyWhenSynced=function(p){var u=this;if(this._syncEvaluatorConfig(),!this.hasJobInWorker()&&!this.changeSet)return void setTimeout(p,0);this.syncId++,this.syncRequests.push({id:this.syncId,callback:p}),this.applyToChangeSets(function(f){f.syncId=u.syncId})},y.prototype.applyToChangeSets=function(p){this.__state.changed=!0,this.changeSet||(this.changeSet={}),this.cumulativeChangeSet||(this.cumulativeChangeSet={}),p(this.changeSet),p(this.cumulativeChangeSet),this.processChangeSet()},y.prototype.clearStatementsAndStartCompleteState=function(){this.hasJobInWorker()&&this.suspend(),this.applyToChangeSets(function(p){p.isCompleteState=!0,delete p.statements})},y.prototype.addStatement=function(p){this.applyToChangeSets(function(u){u.statements||(u.statements={}),u.statements[p.id]=d.default(p)})},y.prototype.removeStatement=function(p){this.applyToChangeSets(function(u){u.statements||(u.statements={}),u.statements[p]=null})},y.prototype._syncEvaluatorConfig=function(){if(this.readEvaluatorConfig){var p=this.readEvaluatorConfig();for(var u in p)this._applyIfChanged(p,u)}},y.prototype._applyIfChanged=function(p,u){var f=this.cumulativeChangeSet&&this.cumulativeChangeSet[u],b=p[u];l.isEqual(f,b)||this.applyToChangeSets(function(m){m[u]=b})},y}();o.Evaluator=g}),q("graphing/canvaslayer",["require","jquery","pjs","browser","lib/i18n"],function(O){var o=O("jquery"),w=O("pjs"),r=O("browser"),d=O("lib/i18n");return w(function(i){i.init=function(l){this.grapher=l,this.$=o("<div class='dcg-graph-outer' role='img'></div>").attr("aria-roledescription",this.t("graph paper")),this.canvas_node=o("<canvas class='dcg-graph-inner'></canvas>").css("position","relative").css("display","block"),this.devicePixelRatio=window.devicePixelRatio||1,this.ctx=this.canvas_node[0].getContext("2d"),this.resize(0,0),r.IS_IOS&&r.IS_IN_IFRAME&&(this.$.css("-webkit-transform","translate3d(0,-.25px,0)"),this.$.append('<div style="width:1px; height:.5px; pointer-events:none; opacity: 0;" aria-hidden="true">text</div>')),this.$.append(this.canvas_node)},i.resize=function(l,g,y){y=y||this.devicePixelRatio,l===this.width&&g===this.height||(this.width=l,this.height=g,this.canvas_node.css("width",l+"px").css("height",g+"px").attr("width",l*y).attr("height",g*y),this.ctx=this.canvas_node[0].getContext("2d"),this.ctx.scale(y,y))},i.t=function(l,g){return d.t(l,g,this.grapher.settings.language)},i.getAriaLabel=function(l){var g="";if(l===0)return this.t("Empty graph paper.");g=l===1?this.t("Graph paper showing 1 graph."):this.t("Graph paper showing __count__ graphs.",{count:l});var y=this.grapher.getAudioTrace();return y&&!y.getAudioTraceActive()&&y.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!1})!==void 0&&(r.IS_APPLE?g+=this.t(" Press OPTION+T for audio trace."):g+=this.t(" Press ALT+T for audio trace.")),g},i.updateAria=function(l,g){this.$.attr("aria-hidden",!l||!this.grapher.settings.config.graphpaper).attr("tabindex",l&&this.grapher.settings.config.graphpaper&&this.grapher.settings.config.enableTabindex&&g>0?0:-1).attr("aria-label",this.getAriaLabel(g))},i.redraw=function(){}})}),q("loadcss!poi",function(){}),q("graphing/constants",["require","exports"],function(O,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ANIMATE_ZOOM_DURATION=500,o.DOUBLETAP_ZOOM=2,o.ZOOM_FACTOR=1.0625,o.MAX_DOTTED_SEGMENTS=1e3,o.FILL_ALPHA=.4,o.POINT_ALPHA=.9,o.HIGHLIGHTED_POINT_ALPHA=.6,o.POLAR_ALPHA=.2,o.POI_ALPHA=.01,o.OFFSCREEN_RENDER_MARGIN=20,o.LINE_WIDTH=2.5}),q("graphing/dasheddrawer",["require","./constants","core/math/distance"],function(O){function o(d,i,l){return this.pattern=l,this.replen=this.pattern[0]+this.pattern[1],i/this.replen>w.MAX_DOTTED_SEGMENTS&&(this.pattern[0]=i*this.pattern[0]/this.replen/w.MAX_DOTTED_SEGMENTS,this.pattern[1]=i*this.pattern[1]/this.replen/w.MAX_DOTTED_SEGMENTS),this.pstate=0,this.dstaccum=0,this.px=null,this.py=null,this.ctx=d,this}var w=O("./constants"),r=O("core/math/distance");return o.getTotalSegmentLength=function(d){if(d.length<4)return 0;for(var i=0,l=0,g=d[0],y=d[1];isNaN(g)||isNaN(y);){if((l+=2)>=d.length)return 0;g=d[l],y=d[l+1]}var p,u;for(l+=2;l<d.length;l+=2)p=d[l],u=d[l+1],isNaN(p)||isNaN(u)||(i+=r.hypot(p-g,u-y),g=p,y=u);return i},o.prototype.start=function(d,i){this.ctx.desmos_batching||this.ctx.beginPath(),this.px=d,this.py=i},o.prototype.next=function(d,i){var l=this.pattern[this.pstate],g=Math.sqrt(Math.pow(d-this.px,2)+Math.pow(i-this.py,2));if(g>1e-5){for(;g+this.dstaccum>=l;){var y=d-this.px,p=i-this.py,u=l-this.dstaccum;y*=u/g,p*=u/g,this.pstate===0&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(this.px+y,this.py+p)),this.dstaccum=0,this.px+=y,this.py+=p,this.pstate=1-this.pstate,l=this.pattern[this.pstate],g-=u}this.pstate===0&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(d,i))}this.px=d,this.py=i,this.dstaccum+=g},o.prototype.close=function(){this.ctx.desmos_batching||this.ctx.stroke(),this.pstate=0,this.dstaccum=0,this.px=null,this.py=null},o.prototype.drawSegment=function(d){for(var i=0,l=d[0],g=d[1];isNaN(l)||isNaN(g);){if((i+=2)>=d.length)return;l=d[i],g=d[i+1]}this.start(l,g);var y,p;for(i+=2;i<d.length;i+=2)y=d[i],p=d[i+1],isNaN(y)||isNaN(p)||this.next(y,p);this.close()},o}),q("graphing/svg-classes",["require","exports"],function(O,o){function w(d,i){var l=d;l._dcgSaveClassName&&l._dcgSaveClassName(i)}function r(d){var i=d;i._dcgRestoreClassName&&i._dcgRestoreClassName()}Object.defineProperty(o,"__esModule",{value:!0}),o.save=w,o.restore=r}),q("graphing/draw-image-to-ctx",["require","exports","graphing-calc/models/list","./svg-classes"],function(O,o,w,r){function d(i,l,g){if(i.computed_x)for(var y=0;y<i.computed_x.length;y++){var p=i.computed_x[y],u=i.computed_y[y],f=i.computed_width[y],b=i.computed_height[y],m=i.computed_radian_angle[y];if(isFinite(p)&&isFinite(u)&&isFinite(f)&&isFinite(b)&&isFinite(m)){r.save(l,"dcg-svg-image"),l.save(),r.restore(l),l.globalAlpha=i.computed_opacity[y];var c=g.mapy(b)-g.mapy(0),n=g.mapx(f)-g.mapx(0),s=m===0?1:Math.abs(n/f*(b/c)),v=g.mapx(p),A=g.mapy(u),M=v-n/2,C=A+c*s/2,D=b<0?-1:1,S=f<0?-1:1,x=M*S,B=C*D,Z=Math.abs(n),X=Math.abs(c);m!==0&&(l.translate(v,A),l.scale(1,1/s),l.rotate(m),l.translate(-v,-A)),l.scale(S,D);var ee=!1,W=!1,U=i.controller.getGrapher();U&&U.type==="2d"&&(ee=U.clickableObjectsLayer.shouldDrawHovered(i.id),W=U.clickableObjectsLayer.shouldDrawPressed(i.id));var F=i.imageObj;W?i.depressedImageObj?F=i.depressedImageObj:B+=1:ee&&(i.hoveredImageObj?F=i.hoveredImageObj:l.globalAlpha*=.8),l.drawImage(F,x,B,Z,X*s),w.isItemSelected(i)&&(l.beginPath(),l.rect(x,B,Z,X*s),l.restore(),l.save(),l.strokeStyle="#6993C7",l.lineWidth=2,l.stroke()),l.restore()}}}Object.defineProperty(o,"__esModule",{value:!0}),o.drawImageToCtx=d}),q("graphing/svg-groups",["require","exports"],function(O,o){function w(d,i){var l=d;l._dcgStartNamedGroup&&l._dcgStartNamedGroup(i)}function r(d){var i=d;i._dcgEndNamedGroup&&i._dcgEndNamedGroup()}Object.defineProperty(o,"__esModule",{value:!0}),o.save=w,o.restore=r}),q("graphing/graphslayer",["require","pjs","./clipping","./dasheddrawer","./constants","./viewport","core/types/graphmode","underscore","expressions/colors","core/types/styles","core/types/styles","./draw-image-to-ctx","./svg-groups","./svg-classes"],function(O){var o=O("pjs"),w=O("./clipping"),r=O("./dasheddrawer"),d=O("./constants"),i=O("./viewport").Viewport,l=O("core/types/graphmode"),g=O("underscore"),y=O("expressions/colors"),p=O("core/types/styles").PointStyle,u=O("core/types/styles").LineStyle,f=O("./draw-image-to-ctx").drawImageToCtx,b=O("./svg-groups"),m=O("./svg-classes"),c={},n=function(A){return new i(-3,A.width+3,-3,A.height+3)},s=function(A){return Math.round(A-.5)+.5},v=o(function(A){A.init=function(M){if(M.config.plaidMode)for(var C in y)y.hasOwnProperty(C)&&typeof y[C]=="string"&&(c[y[C]]=document.createElement("img"),c[y[C]].setAttribute("src","/assets/img/april-fools/"+C.toLowerCase()+".png"))},A.redrawToCtx=function(M,C,D,S,x,B,Z){if(b.save(M,"expressions"),x===void 0)throw new Error("Programming Error: missing drawOrder argument to redrawToCtx");x.forEach(function(X){var ee=D[X],W=S[X];ee!==void 0&&ee.visible&&v.drawSketchToCtx(D[X],M,C,B,Z),W&&W.shouldGraph&&W.foreground&&f(W,M,C)}),b.restore(M)}});return v.eachSegment=function(A,M){for(var C=0;C<A.branches.length;C++)for(var D=A.branches[C],S=0;S<D.segments.length;S++){var x=D.segments[S];M(D,x)}},v.drawSketchToCtx=function(A,M,C,D,S){if(A.branches&&A.branches.length){var x=M.lineWidth,B=C.settings.globalCurveColor?C.settings.globalCurveColor:A.color,Z=c[B];if(Z&&Z.complete&&Z.naturalWidth>0){var X=M.createPattern(Z,"repeat");M.fillStyle=X}else M.fillStyle=B;M.strokeStyle=B,M.lineJoin="round",M.lineCap="round";var ee=!!C.settings.takingScreenshot,W=1;S.shouldDrawHovered(A.id)&&(W=1.2),S.shouldDrawPressed(A.id)&&(W=1.4);for(var U=0;U<A.branches.length;U++){var F=A.branches[U];if(F.graphMode!==l.XYPOINT&&F.graphMode!==l.XYPOINT_MOVABLE){F.graphMode!==l.POLAR&&(M.desmos_batching=!0,M.beginPath());for(var G=0;G<F.segments.length;G++){var ie=F.segments[G],ne=l.Y;if(F.flip&&(ne=l.X),F.graphMode&&(ne=F.graphMode),ne!==l.POLYGONFILL||C.settings.disableFill){if(ne!==l.IMPLICIT){var Y=F.operator,ge=!C.settings.disableFill&&(Y=="<"||Y==">"||Y=="<="||Y==">="||Y=="\\leq"||Y=="\\le"||Y=="\\geq"||Y=="\\ge"),te=Y=="<="||Y=="<"||Y=="\\leq"||Y=="\\le";ge&&v.fillGraphStrokeToCtx(M,C,ie,te,ne)}}else v.fillPolygonToCtx(M,C,ie,F.fillOpacity*W)}M.globalAlpha=this._clampedOpacity(F.fillOpacity*W),F.graphMode!==l.POLAR&&(M.fill(),M.desmos_batching=!1),M.globalAlpha=1}}v.eachSegment(A,function(H,pe){if(H.graphMode!==l.XYPOINT&&H.graphMode!==l.XYPOINT_MOVABLE){var fe=l.Y;H.flip&&(fe=l.X),H.graphMode&&(fe=H.graphMode);var re=H.lineWidth!==void 0,se=H.lineWidth,he=d.LINE_WIDTH;if(!re||!(se<=0)&&isFinite(se)){M.lineWidth=re?se:he;var xe=C.settings.graphLineWidth/he;M.lineWidth*=xe;var Me=H.operator,Be="default";Me=="<"||Me==">"||Me=="!="||A.style===u.DASHED||H.style===u.DASHED?Be=u.DASHED:A.style!==u.DOTTED&&H.style!==u.DOTTED||(Be=u.DOTTED,re&&(M.lineWidth*=2));var ke=S.shouldDrawPressed(A.id),Re=S.shouldDrawHovered(A.id);(ke||Re)&&(M.save(),M.lineWidth+=4.5,M.globalAlpha*=ke?.5:.3,v.drawGraphStrokeToCtx(M,C,pe,Be,fe,Me),M.restore()),v.drawGraphStrokeToCtx(M,C,pe,Be,fe,Me)}}}.bind(this)),M.lineWidth=x,v.eachSegment(A,function(H,pe){if(H.graphMode===l.XYPOINT&&H.showPoint||H.graphMode===l.XYPOINT_MOVABLE&&ee){var fe,re=[];if(H.interactiveLabel&&A.labels)for(var se=0,he=A.labels.length;se<he;se++){var xe=A.labels[se],Me=D.isOpenPOI(xe),Be=D.getHoveredPOI()===xe;re.push(Me||Be),!Me&&Be&&(fe=se)}var ke=1;H.pointSize==="medium"?ke=1.5:H.pointSize==="large"&&(ke=2.25);var Re=S.shouldDrawPressed(A.id),Ve=S.shouldDrawHovered(A.id),ye=1;Re?ye=.5:Ve&&(ye=.3),ye!==1&&(v.drawPointsToCtx(M,C,pe,H.style,re,fe,1.5*ke,ye),M.restore()),v.drawPointsToCtx(M,C,pe,H.style,re,fe,ke,1)}}.bind(this))}},v.drawGraphStrokeToCtx=function(A,M,C,D,S,x){var B=w.getClippingGraphType(S,x!=="=",M.settings),Z=w.mapSegmentToCanvas(C,M.viewport,M.screen,B),X=w.clipStrokeEdges(Z,n(M.screen));if(X.length!==0){A.save(),m.save(A,"dcg-svg-curve"),A.globalAlpha*=M.settings.curveOpacity;var ee,W;if(D==u.DASHED)W=new r(A,r.getTotalSegmentLength(X),[11,7]),W.drawSegment(X);else if(D==u.DOTTED)W=M.settings.config.projectorMode?new r(A,r.getTotalSegmentLength(X),[.1,16]):new r(A,r.getTotalSegmentLength(X),[.1,8]),W.drawSegment(X);else if(D!==u.SOLID&&D!=="default"||A.lineWidth!==1){for(A.desmos_batching||A.beginPath(),A.moveTo(X[0],X[1]),ee=0;ee<X.length;ee+=2)A.lineTo(X[ee],X[ee+1]);A.desmos_batching||A.stroke()}else{A.desmos_batching||A.beginPath();var U=X.length>4||X[0]!==X[2]&&X[1]!==X[3];if(U)for(A.moveTo(X[0],X[1]),ee=0;ee<X.length;ee+=2)A.lineTo(X[ee],X[ee+1]);else for(A.moveTo(s(X[0]),s(X[1])),ee=0;ee<X.length;ee+=2)A.lineTo(s(X[ee]),s(X[ee+1]));A.desmos_batching||A.stroke()}m.restore(A),A.restore()}},v.mapPointToScreen=function(A,M,C){var D=A.mapx(M)-.5;if(D<-20||D>A.screen.width+20)return null;var S=A.mapy(C)-.5;return S<-20||S>A.screen.height+20?null:{x:D,y:S}},v.drawPointToCtx=function(A,M,C,D,S,x,B,Z,X){var ee,W=A.lineWidth,U=A.fillStyle,F=v.mapPointToScreen(M,C,D);if(!F)return!1;m.save(A,"dcg-svg-point"),A.globalAlpha=S||d.POINT_ALPHA,X&&(A.globalAlpha*=X),A.desmos_batching||A.beginPath();var G=M.settings.pointLineWidth;return B&&(G=M.settings.config.projectorMode?17:11,A.lineWidth=G),Z&&(G*=Z,A.lineWidth=G),x===p.CROSS?(ee=.4*G,A.moveTo(F.x-ee,F.y-ee),A.lineTo(F.x+ee,F.y+ee),A.moveTo(F.x+ee,F.y-ee),A.lineTo(F.x-ee,F.y+ee),A.lineWidth=.3*G):x===p.OPEN?(ee=.42*G,A.moveTo(F.x+ee,F.y),A.arc(F.x,F.y,ee,0,2*Math.PI,!0),A.closePath(),A.fillStyle="white",A.lineWidth=.25*G,A.fill()):(A.moveTo(F.x-.1,F.y-.1),A.lineTo(F.x-.1,F.y+.1),A.lineTo(F.x+.1,F.y+.1),A.lineTo(F.x+.1,F.y-.1)),A.desmos_batching||A.stroke(),A.globalAlpha=1,A.lineWidth=W,A.fillStyle=U,m.restore(A),!0},v.drawPointsToCtx=function(A,M,C,D,S,x,B,Z){var X=A.lineWidth;A.lineWidth=M.settings.pointLineWidth;for(var ee=0;ee<C.length;ee++)v.drawPointToCtx(A,M,C[ee][0],C[ee][1],x===ee&&d.HIGHLIGHTED_POINT_ALPHA,D,S[ee],B,Z);A.lineWidth=X},v.fillGraphStrokeToCtx=function(A,M,C,D,S){A.globalAlpha=S===l.POLAR?d.POLAR_ALPHA:d.FILL_ALPHA;var x,B=null,Z=null;if(S===l.POLAR){Z=w.ALL;var X=D?0:M.viewport.polarDiameter(),ee=M.settings.degreeMode?180:2*Math.PI;B=w.computePolarFill(C,X,ee)}else S===l.Y?(Z=w.Y,x=D?M.viewport.ymin:M.viewport.ymax,B=w.computeCartesianFill(C,x)):S===l.X&&(Z=w.X,x=D?M.viewport.xmin:M.viewport.xmax,B=w.computeCartesianFill(C,x));for(var W=n(M.screen),U=0;U<B.length;U++){var F=w.getClippingGraphType(S,!0,M.settings),G=w.mapSegmentToCanvas(B[U],M.viewport,M.screen,F),ie=w.clipFillEdges(G,W,Z);if(ie.length>=6){m.save(A,"dcg-svg-region"),A.desmos_batching||A.beginPath(),A.moveTo(ie[0],ie[1]);for(var ne=2;ne<ie.length;ne+=2)A.lineTo(ie[ne],ie[ne+1]);A.lineTo(ie[0],ie[1]),A.desmos_batching||A.fill(),m.restore(A)}}A.globalAlpha=1},v._clampedOpacity=function(A){return A<0?0:A>1?1:g.isFinite(A)?A:d.FILL_ALPHA},v.fillPolygonToCtx=function(A,M,C,D){var S=n(M.screen);A.globalAlpha=this._clampedOpacity(D);var x=w.mapSegmentToCanvas(C,M.viewport,M.screen,w.Y_EQUALS),B=w.clipFillEdges(x,S,w.ALL);if(B.length>=6){m.save(A,"dcg-svg-region"),A.desmos_batching||A.beginPath(),A.moveTo(B[0],B[1]);for(var Z=2;Z<B.length;Z+=2)A.lineTo(B[Z],B[Z+1]);A.desmos_batching||A.fill(),m.restore(A)}A.globalAlpha=1},v}),q("graphing/poidotslayer",["require","loadcss!poi","pjs","./graphslayer","./constants"],function(O){O("loadcss!poi");var o=O("pjs"),w=O("./graphslayer"),r=O("./constants"),d=o(function(i){i.init=function(){this.savedPOI=[]},i.redrawToCtx=function(l,g,y,p,u){var f=[];for(var b in y){var m=y[b];if(m.visible){m.showHighlight&&d.drawSketchHighlight(m,l,g,p,u);var c=m.getPOI();(m.showPOI||c.length&&c[0].isAttachedToPlottedPoint())&&f.push.apply(f,d.drawPOIs(c,l,"#AAAAAA",g))}}this.savedPOI=f},i.getDrawnPOI=function(){return this.savedPOI}});return d.drawSketchHighlight=function(i,l,g,y,p){g.settings.setProperty("highlight",!0),w.drawSketchToCtx(i,l,g,y,p),g.settings.setProperty("highlight",!1)},d.drawPOIs=function(i,l,g,y){l.lineWidth=y.settings.pointLineWidth,l.strokeStyle=g||"#AAAAAA",l.fillStyle=g||"#AAAAAA",l.lineJoin="round",l.lineCap="round";var p=l.globalAlpha;l.globalAlpha=r.POI_ALPHA;var u,f,b=[],m=i.length;if(m&&i[0].isAttachedToPlottedPoint())for(u=0;u<m;u++)f=i[u],w.mapPointToScreen(y,f.x,f.y)&&b.push(f);else for(u=0;u<m;u++)f=i[u],w.drawPointToCtx(l,y,f.x,f.y)&&b.push(f);return l.globalAlpha=p,b},d}),q("graphing/stepnumber",["require","pjs","./svg-classes"],function(O){var o=O("pjs"),w=O("./svg-classes"),r=document.createElement("canvas").getContext("2d"),d=o(function(i){i.init=function(l,g){this._label=l,this._fontSize=g,this._layout=this._computeLayout(l,g)},i._computeLayout=function(l,g){var y={};return l.superscript?(y.mantissa_height=g,d.setCtxFontSize(r,y.mantissa_height),y.mantissa_width=r.measureText(l.mantissa).width,y.superscript_height=Math.round(.8*g),d.setCtxFontSize(r,y.superscript_height),y.superscript_width=r.measureText(l.superscript).width,y.mantissa_x=0,y.mantissa_y=g/5,y.superscript_x=y.mantissa_width/2+y.superscript_width/2,y.superscript_y=-g/4,y.top=y.superscript_y-y.superscript_height/2,y.bottom=y.mantissa_y+y.mantissa_height/2,y.left=y.mantissa_x-y.mantissa_width/2,y.right=y.superscript_x+y.superscript_width/2):(y.mantissa_height=g,d.setCtxFontSize(r,g),y.mantissa_width=r.measureText(l.string).width,y.mantissa_x=0,y.mantissa_y=0,y.top=y.mantissa_y-y.mantissa_height/2,y.bottom=y.mantissa_y+y.mantissa_height/2,y.left=y.mantissa_x-y.mantissa_width/2,y.right=y.mantissa_x+y.mantissa_width/2),y},i.getRect=function(){return this.getRectWhenCenteredAt({x:0,y:0})},i.getRectWhenCenteredAt=function(l){return{left:this._layout.left+l.x,right:this._layout.right+l.x,top:this._layout.top+l.y,bottom:this._layout.bottom+l.y}},i.getWidth=function(){return this._layout.right-this._layout.left},i.getHeight=function(){return this._layout.bottom-this._layout.top},i.clampBoundsWithinRect=function(l,g){var y={};return l.x+this._layout.left<g.left?y.x=g.left-this._layout.left:l.x+this._layout.right>g.right?y.x=g.right-this._layout.right:y.x=l.x,l.y+this._layout.top<g.top?y.y=g.top-this._layout.top:l.y+this._layout.bottom>g.bottom?y.y=g.bottom-this._layout.bottom:y.y=l.y,y},i.getValue=function(){return this._label.value},i.getMinusWidth=function(){return this.getValue()<0?(d.setCtxFontSize(r,this._fontSize),r.measureText("-1").width-r.measureText("1").width):0},i.getString=function(){return this._label.superscript?this._label.mantissa+"^"+this._label.superscript:this._label.string},i.drawCenteredAt=function(l,g,y){var p=g.x,u=d.computeBaselineFromCenter(g.y,this._fontSize);y&&w.save(l,y),l.save(),y&&w.restore(l),d.setCtxFontSize(l,this._fontSize),this._label.superscript?(l.strokeText(this._label.mantissa,this._layout.mantissa_x+p,this._layout.mantissa_y+u),l.strokeText(this._label.superscript,this._layout.superscript_x+p,this._layout.superscript_y+u),l.fillText(this._label.mantissa,this._layout.mantissa_x+p,this._layout.mantissa_y+u),l.fillText(this._label.superscript,this._layout.superscript_x+p,this._layout.superscript_y+u)):(l.strokeText(this._label.string,this._layout.mantissa_x+p,this._layout.mantissa_y+u),l.fillText(this._label.string,this._layout.mantissa_x+p,this._layout.mantissa_y+u)),l.restore()}});return d.computeBaselineFromCenter=function(i,l){return i+.272*l},d.setCtxFontSize=function(i,l){i.font=l+"px Arial",i.textAlign="center"},d}),q("graphing/computestepsizes",["require","./stepnumber","core/lib/label"],function(O){function o(l){return l?{base:10,major:[l,2*l,5*l],minor:[4,4,5]}:d.RATIONAL_STEPS}var w=O("./stepnumber"),r=O("core/lib/label"),d={},i=function(l,g,y,p){var u=Math.ceil(l/y),f=Math.floor(g/y),b=1/y;if(!(u>f||f-u>1e4))for(var m=u;m<=f;m++)p(m/b)};return d.RATIONAL_STEPS={base:10,major:[1,2,5],minor:[5,4,5]},d.PI_STEPS={base:10,major:[Math.PI,2*Math.PI,5*Math.PI],minor:[4,4,5]},d.PI_FRAC_STEPS={base:2,major:[Math.PI/3],minor:[3]},d.bestStep=function(l,g){for(var y,p,u,f,b=1/0,m=0;m<g.major.length;m++)y=g.major[m],u=Math.ceil(Math.log(l/y)/Math.log(g.base)),(f=y*Math.pow(g.base,u))<b&&(b=f,p=b/g.minor[m]);return{major:b,minor:p}},d.countStepsInRange=function(l,g,y){return 1+(g-l)/y},d.calculateSpaceBetweenRects=function(l,g){var y,p;return p=l.right<g.left?g.left-l.right:g.right<l.left?l.left-g.right:0,y=l.bottom<g.top?g.top-l.bottom:g.bottom<l.top?l.top-g.bottom:0,Math.max(y,p)},d.estimateMajors=function(l){var g=l.screen.width,y=l.screen.height,p=l.viewport.xmax-l.viewport.xmin,u=l.viewport.ymax-l.viewport.ymin,f=l.settings.pixelsPerLabel;return{majorStepX:f/g*p,majorStepY:f/y*u}},d.cartesian=function(l){var g,y={},p=Math.abs(l.settings.xAxisStep),u=Math.abs(l.settings.yAxisStep),f=l.viewport.xmax-l.viewport.xmin,b=l.viewport.ymax-l.viewport.ymin,m=r.value(p,f).string.indexOf("\u03C0")>=0,c=r.value(u,b).string.indexOf("\u03C0")>=0,n=d.countStepsInRange(l.viewport.xmin,l.viewport.xmax,p),s=d.countStepsInRange(l.viewport.ymin,l.viewport.ymax,u),v=d.estimateMajors(l),A=l.settings.labelSize;if(p&&p!==Math.PI&&n>=3&&n<100){var M=0;l.settings.xAxisNumbers&&i(l.viewport.xmin,l.viewport.xmax,p,function(X){var ee=w(r.value(X,f),A);M=Math.max(ee.getWidth(),M)}),g=M+10,l.settings.xAxisNumbers||(g=l.settings.xAxisMinorSubdivisions===1?8:20),n*g<=l.screen.width&&(y.majorStepX=p,y.minorStepX=p===3||p===5?1:p/4)}if(u&&u!==Math.PI&&s>=3&&s<100){var C=0;l.settings.yAxisNumbers&&i(l.viewport.ymin,l.viewport.ymax,u,function(X){var ee=w(r.value(X,b),A);C=Math.max(ee.getHeight(),C)}),g=C+10,l.settings.yAxisNumbers||(g=l.settings.yAxisMinorSubdivisions===1?8:20),s*g<=l.screen.height&&(y.majorStepY=u,y.minorStepY=u===3||u===5?1:u/4)}if(!y.majorStepX){var D;D=m?v.majorStepX>=1?d.PI_STEPS:d.PI_FRAC_STEPS:o(p);var S=d.bestStep(v.majorStepX,D);y.majorStepX=S.major,y.minorStepX=S.minor}if(!y.majorStepY){var x;x=c?v.majorStepY>=1?d.PI_STEPS:d.PI_FRAC_STEPS:o(u);var B=d.bestStep(v.majorStepY,x);y.majorStepY=B.major,y.minorStepY=B.minor}if(p===u){var Z=l.screen.width/f/(l.screen.height/b);Z>=1&&Z<=2?(y.majorStepX=y.majorStepY,y.minorStepX=y.minorStepY):Z<=1&&Z>=.5&&(y.majorStepY=y.majorStepX,y.minorStepY=y.minorStepX)}return l.settings.xAxisMinorSubdivisions>0&&(y.minorStepX=y.majorStepX/l.settings.xAxisMinorSubdivisions),l.settings.yAxisMinorSubdivisions>0&&(y.minorStepY=y.majorStepY/l.settings.yAxisMinorSubdivisions),y},d.polar=function(l){var g=d.estimateMajors(l),y=d.bestStep(g.majorStepX,d.RATIONAL_STEPS),p=d.bestStep(g.majorStepY,d.RATIONAL_STEPS),u=y.major>p.major?y:p;return{majorStepR:u.major,minorStepR:u.minor}},d}),q("graphing/gridlayer",["require","pjs","./stepnumber","core/lib/label","./computestepsizes","core/graphing-calc/json/graph-settings","./svg-classes","./svg-groups"],function(O){var o=O("pjs"),w=O("./stepnumber"),r=O("core/lib/label"),d=O("./computestepsizes"),i=O("core/graphing-calc/json/graph-settings").AxisArrowModes,l=O("./svg-classes"),g=O("./svg-groups"),y=o(function(m){m.redrawToCtx=function(c,n,s){g.save(c,"graphpaper");var v,A,M=n.settings.showGrid;if(n.settings.polarMode&&M)v=d.polar(n),g.save(c,"grid"),this.drawPolarGrid(c,n,v),g.restore(c),g.save(c,"axis"),this.drawAxes(c,n,s),A=this.drawPolarStepNumbers(c,n,v),this.drawLabels(c,n,A),g.restore(c);else{v=d.cartesian(n),M&&(g.save(c,"grid"),this.drawCartesianGrid(c,n,v),g.restore(c));var C=!M;g.save(c,"axis"),this.drawAxes(c,n,s),A=this.drawCartesianStepNumbers(c,n,v,C),this.drawLabels(c,n,A),g.restore(c)}g.restore(c)},m.addTextShadow=function(c,n){c.strokeStyle=n.settings.getBackgroundColor(),c.lineWidth=3,c.miterLimit=2},m.drawPolarGrid=function(c,n,s){c.save();var v=n.settings.minorAxisOpacity,A=n.settings.majorAxisOpacity,M=1-(1-A)/(1-v),C=Math.round(n.mapx(0))-.5,D=Math.round(n.mapy(0))-.5,S=n.screen.height/(n.viewport.ymax-n.viewport.ymin),x=n.screen.width/(n.viewport.xmax-n.viewport.xmin),B=S/x,Z=x/S,X=D/B,ee=n.viewport.smallestR(),W=n.viewport.largestR(),U=s.minorStepR*Math.max(1,Math.floor(ee/s.minorStepR)),F=s.majorStepR*Math.max(1,Math.floor(ee/s.majorStepR));c.lineWidth=1,c.strokeStyle="rgba(0, 0 , 0, "+v+")",p(U,W,s.minorStepR,function(G){l.save(c,"dcg-svg-minor-gridline"),c.beginPath(),l.restore(c),c.scale(1,B);var ie=n.mapx(G)-C;c.moveTo(C+ie,X),c.arc(C,X,ie,0,2*Math.PI),c.scale(1,Z),c.stroke()}),p(0,359,ee>0?5:15,function(G){if((G!==0&&G!==180||!n.settings.showXAxis)&&(G!==90&&G!==270||!n.settings.showYAxis)){l.save(c,"dcg-svg-minor-gridline"),c.beginPath(),l.restore(c),c.moveTo(C,D);var ie=n.mapx(W*Math.cos(G*Math.PI/180)),ne=n.mapy(W*Math.sin(G*Math.PI/180));c.lineTo(Math.round(ie)-.5,Math.round(ne)-.5),c.stroke()}}),c.lineWidth=1,c.strokeStyle="rgba(0, 0 , 0, "+M+")",p(F,W,s.majorStepR,function(G){l.save(c,"dcg-svg-major-gridline"),c.beginPath(),l.restore(c),c.scale(1,B);var ie=n.mapx(G)-C;c.moveTo(C+ie,X),c.arc(C,X,ie,0,2*Math.PI),c.scale(1,Z),c.stroke()}),c.restore()},m.drawCartesianGrid=function(c,n,s){c.save();var v=n.viewport.xmin,A=n.viewport.ymin,M=n.viewport.xmax,C=n.viewport.ymax,D=n.screen.width,S=n.screen.height,x=S,B=0;n.settings.restrictGridToFirstQuadrant&&(v=0,A=0,x=n.mapy(0),B=n.mapx(0));var Z=n.settings.minorAxisOpacity,X=n.settings.majorAxisOpacity;c.lineWidth=1,c.strokeStyle="rgba(0, 0 , 0, "+Z+")",l.save(c,"dcg-svg-minor-gridline"),p(v,M,s.minorStepX,function(W){if(W!==0||!n.settings.showYAxis){var U=Math.round(n.mapx(W));U!==D&&(c.beginPath(),c.moveTo(U-.5,0),c.lineTo(U-.5,x),c.stroke())}}),p(A,C,s.minorStepY,function(W){if(W!==0||!n.settings.showXAxis){var U=Math.round(n.mapy(W));U!==S&&(c.beginPath(),c.moveTo(B,U-.5),c.lineTo(D,U-.5),c.stroke())}}),l.restore(c);var ee=1-(1-X)/(1-Z);c.strokeStyle="rgba(0, 0 , 0, "+ee+")",l.save(c,"dcg-svg-major-gridline"),p(v,M,s.majorStepX,function(W){if(W!==0||!n.settings.showYAxis){var U=Math.round(n.mapx(W));U!==D&&(c.beginPath(),c.moveTo(U-.5,0),c.lineTo(U-.5,x),c.stroke())}}),p(A,C,s.majorStepY,function(W){if(W!==0||!n.settings.showXAxis){var U=Math.round(n.mapy(W));U!==S&&(c.beginPath(),c.moveTo(B,U-.5),c.lineTo(D,U-.5),c.stroke())}}),l.restore(c),c.restore()},m.drawAxes=function(c,n,s){function v(ie,ne,Y){c.save();var ge=Math.PI/12,te=8*Math.max(c.lineWidth,1.5);c.lineJoin="round",c.fillStyle=D,c.strokeStyle=D,c.beginPath(),c.moveTo(ie,ne),c.lineTo(ie+Math.cos(Y-ge)*te,ne+Math.sin(Y-ge)*te),c.lineTo(ie+Math.cos(Y+ge)*te,ne+Math.sin(Y+ge)*te),c.lineTo(ie,ne),c.lineTo(ie+Math.cos(Y-ge)*te,ne+Math.sin(Y-ge)*te),c.stroke(),c.fill(),c.restore()}var A=n.settings.axisLineOffset,M=n.settings.axisOpacity.toString();l.save(c,"dcg-svg-axis-line");var C="rgba(127,205,230,"+M+")",D="rgba(0,0,0,"+M+")",S=n.settings.xAxisArrowMode,x=n.settings.yAxisArrowMode,B=n.settings.showXAxis,Z=n.settings.showYAxis,X=Math.round(n.mapx(0))-A,ee=Math.round(n.mapy(0))-A,W=n.screen.height,U=n.screen.width,F=W,G=0;n.settings.restrictGridToFirstQuadrant&&(F=ee,G=X,S===i.BOTH&&(S=i.POSITIVE),x===i.BOTH&&(x=i.POSITIVE)),Z&&(c.lineWidth=1*n.settings.axisLineWidth,c.strokeStyle=s==="y"?C:D,x===i.BOTH?(c.beginPath(),c.moveTo(X,2*n.settings.axisLineWidth),c.lineTo(X,W-2*n.settings.axisLineWidth),c.stroke(),v(X,W-n.settings.axisLineWidth,3*Math.PI/2),v(X,n.settings.axisLineWidth,Math.PI/2)):x===i.POSITIVE?(c.beginPath(),c.moveTo(X,2*n.settings.axisLineWidth),c.lineTo(X,F),c.stroke(),v(X,n.settings.axisLineWidth,Math.PI/2)):(c.beginPath(),c.moveTo(X,0),c.lineTo(X,F),c.stroke())),B&&(c.lineWidth=1*n.settings.axisLineWidth,c.strokeStyle=s==="x"?C:D,S===i.BOTH?(c.beginPath(),c.moveTo(2*n.settings.axisLineWidth,ee),c.lineTo(U-2*n.settings.axisLineWidth,ee),c.stroke(),v(n.settings.axisLineWidth,ee,0),v(U-n.settings.axisLineWidth,ee,Math.PI)):S===i.POSITIVE?(c.beginPath(),c.lineTo(G,ee),c.lineTo(U-2*n.settings.axisLineWidth,ee),c.stroke(),v(U-n.settings.axisLineWidth,ee,Math.PI)):(c.beginPath(),c.lineTo(G,ee),c.lineTo(U,ee),c.stroke())),l.restore(c)},m.drawPolarStepNumbers=function(c,n,s){function v(Ne,z,Pe){var ot=Math.sqrt(Ne*Ne-z*z);ee<=ot&&ot<=W&&Pe.push({x:n.mapx(z),y:n.mapy(ot)}),ee<=-ot&&-ot<=W&&Pe.push({x:n.mapx(z),y:n.mapy(-ot)})}function A(Ne,z,Pe){var ot=Math.sqrt(Ne*Ne-z*z);Z<=ot&&ot<=X&&Pe.push({x:n.mapx(ot),y:n.mapy(z)}),Z<=-ot&&-ot<=X&&Pe.push({x:n.mapx(-ot),y:n.mapy(z)})}c.save();var M=n.settings.showGrid,C=n.settings.xAxisNumbers&&n.settings.showXAxis,D=n.settings.yAxisNumbers&&n.settings.showYAxis,S=M&&n.settings.polarNumbers,x=n.viewport.largestR(),B=n.viewport.smallestR(),Z=n.viewport.xmin,X=n.viewport.xmax,ee=n.viewport.ymin,W=n.viewport.ymax,U=n.screen.width,F=n.screen.height,G={left:3,right:U-3,top:3,bottom:F-3},ie=n.settings.labelHangingColor,ne=n.settings.getTextColor(),Y=n.settings.labelSize,ge=Y;this.addTextShadow(c,n),c.fillStyle=ne;var te=n.mapx(0),H=n.mapy(0),pe=ee<=0&&0<=W,fe=Z<=0&&0<=X,re=pe&&C,se=fe&&D,he="";if(!re&&!se&&M){var xe,Me,Be,ke,Re=Math.abs(te),Ve=Math.abs(te-U),ye=Math.abs(H),P=Math.abs(H-F);Re<=Ve?(xe="left",Be=Re):(xe="right",Be=Ve),ye<=P?(Me="top",ke=ye):(Me="bottom",ke=P),C&&D?he=Be<=ke?xe:Me:D?he=xe:C&&(he=Me)}var ue={left:0,right:U,top:H-1,bottom:H+1},Ae={left:te-1,right:te+1,top:0,bottom:F};if(p(0,x,s.majorStepR,function(Ne){var z=[],Pe=[],ot=[],rt=w(r.value(Ne,x),Y),kt=rt.getRect();switch(Ne>0?(se&&ee<=Ne&&Ne<=W&&Pe.push({x:te-kt.right-5,y:n.mapy(Ne)}),se&&ee<=-Ne&&-Ne<=W&&Pe.push({x:te-kt.right-5,y:n.mapy(-Ne)}),re&&Z<=Ne&&Ne<=X&&z.push({x:n.mapx(Ne),y:H-kt.top+3}),re&&Z<=-Ne&&-Ne<=X&&z.push({x:n.mapx(-Ne),y:H-kt.top+3})):se&&!C&&ee<=Ne&&Ne<=W?Pe.push({x:te-kt.right-5,y:n.mapy(Ne)}):re&&!D&&Z<=Ne&&Ne<=X&&z.push({x:n.mapx(Ne),y:H-kt.top+3}),he){case"top":A(Ne,W,ot);break;case"bottom":A(Ne,ee,ot);break;case"left":v(Ne,Z,ot);break;case"right":v(Ne,X,ot)}z.forEach(function(ve){ve=rt.clampBoundsWithinRect(ve,G),rt.drawCenteredAt(c,ve,"dcg-svg-axis-value"),f(ue,rt.getRectWhenCenteredAt(ve))}),Pe.forEach(function(ve){ve=rt.clampBoundsWithinRect(ve,G),rt.drawCenteredAt(c,ve,"dcg-svg-axis-value"),f(Ae,rt.getRectWhenCenteredAt(ve))}),ot.forEach(function(ve){ve=rt.clampBoundsWithinRect(ve,G),rt.drawCenteredAt(c,ve,"dcg-svg-axis-value")})}),S){var _e=Math.ceil(B/s.majorStepR),qe=Math.floor(x/s.majorStepR),Ye=Math.ceil((_e+qe)/2),Ie=Ye*s.majorStepR;p(0,359,B>0?15:30,function(Ne){var z;z=n.settings.degreeMode?Ne.toString()+"\xB0":r.value(Ne*Math.PI/180,2*Math.PI).string;var Pe=c.measureText(z).width/2,ot=Ie/1.05,rt=ot*Math.cos(Ne*Math.PI/180),kt=ot*Math.sin(Ne*Math.PI/180);if(!(rt<Z||rt>X||kt<ee||kt>W)){var ve=n.mapx(rt),ze=n.mapy(kt);Ne===0||Ne===180?ze-=ge:Ne!==90&&Ne!==270||(ve+=Pe+3);var je=u(ve,3+Pe,U-3-Pe),Te=u(ze,3+ge,F-3-ge);Te=w.computeBaselineFromCenter(Te,Y),l.save(c,"dcg-svg-polar-axis-value"),c.save(),l.restore(c),c.fillStyle=ie,w.setCtxFontSize(c,Y),c.strokeText(z,je,Te),c.fillText(z,je,Te),c.restore()}})}return c.restore(),{x:ue,y:Ae}},m.drawLabels=function(c,n,s){var v=n.viewport.xmin,A=n.viewport.xmax,M=n.viewport.ymin,C=n.viewport.ymax,D=n.screen.width,S=n.screen.height,x=(A-v)/D,B=(C-M)/S,Z=n.settings.getTextColor(),X=n.mapx(0),ee=n.mapy(0),W=n.settings.labelSize,U=n.settings.showXAxis&&n.settings.xAxisLabel,F=n.settings.showYAxis&&n.settings.yAxisLabel,G=s.x,ie=s.y;if(U&&G){l.save(c,"dcg-svg-axis-label"),c.save(),l.restore(c),c.fillStyle=Z;var ne;if(c.__xLabelOffset&&n.settings.isViewportTransient&&b(c.__xLabelOffset.xscale,x)&&b(c.__xLabelOffset.yscale,B)&&(ne={x:c.__xLabelOffset.x+X,y:c.__xLabelOffset.y+ee}),this._setAxisLabelFont(c,U,W,n),!ne){var Y=c.measureText(U).width,ge=D-Y-15,te=W;ne=G.bottom+te<S?{x:ge,y:G.bottom+te}:{x:ge,y:G.top-te/2},c.__xLabelOffset={x:ne.x-X,y:ne.y-ee,xscale:x,yscale:B}}c.strokeText(U,ne.x,ne.y),c.fillText(U,ne.x,ne.y),c.restore()}else c.__xLabelPosition=null;if(F&&ie){l.save(c,"dcg-svg-axis-label"),c.save(),l.restore(c),c.fillStyle=Z;var H;if(c.__yLabelOffset&&n.settings.isViewportTransient&&b(c.__yLabelOffset.xscale,x)&&b(c.__yLabelOffset.yscale,B)&&(H={x:c.__yLabelOffset.x+X,y:c.__yLabelOffset.y+ee}),this._setAxisLabelFont(c,F,W,n),!H){var pe=c.measureText(F).width,fe=W,re=pe+5;if(!this._isShortMathyLabel(F)){var se=pe;pe=fe,fe=se,re=.5*pe}var he=15+fe;H=ie.left-pe>0?{x:ie.left-re,y:he}:{x:ie.right+pe,y:he},c.__yLabelOffset={x:H.x-X,y:H.y-ee,xscale:x,yscale:B}}c.translate(H.x,H.y),this._isShortMathyLabel(F)||c.rotate(-Math.PI/2),c.strokeText(F,0,0),c.fillText(F,0,0),c.restore()}else c.__yLabelPosition=null},m._isShortMathyLabel=function(c){return c.trim().match(/^([a-zA-Z]?)\(?([a-zA-Z]?)\)?$/)},m._setAxisLabelFont=function(c,n,s,v){this.addTextShadow(c,v),this._isShortMathyLabel(n)?c.font="italic "+Math.round(1.4*s.toString())+"px Times":c.font=Math.round(1.2*s.toString())+"px Arial"},m.drawCartesianStepNumbers=function(c,n,s,v){c.save();var A=n.settings.showXAxis,M=n.settings.showYAxis,C=A&&n.settings.xAxisNumbers,D=M&&n.settings.yAxisNumbers,S=n.viewport.xmin,x=n.viewport.xmax,B=n.viewport.ymin,Z=n.viewport.ymax,X=n.screen.width,ee=n.screen.height,W={left:3,top:3,right:X-3,bottom:ee-3};n.settings.restrictGridToFirstQuadrant&&(S=0,B=0);var U=n.settings.labelHangingColor,F=n.settings.getTextColor(),G=n.mapx(0),ie=n.mapy(0),ne=n.settings.labelSize;this.addTextShadow(c,n);var Y={left:0,right:X,top:ie-1,bottom:ie+1},ge={left:G-1,right:G+1,top:0,bottom:ee},te=!1;if(A&&M&&(C||D)){te=!0,c.fillStyle=F;var H=w(r.value(0,1),ne);H.drawCenteredAt(c,{x:G-H.getRect().right-5,y:ie-H.getRect().top+5},"dcg-svg-axis-value")}var pe=[],fe=[];if(C&&p(S,x,s.majorStepX,function(ke){var Re=w(r.value(ke,x-S),ne);Re.getString()==="0"&&te||pe.push(Re)}),D&&p(B,Z,s.majorStepY,function(ke){var Re=w(r.value(ke,Z-B),ne);Re.getString()==="0"&&te||fe.push(Re)}),v){c.save(),l.save(c,"dcg-svg-tickmark");var re=n.settings.axisLineOffset,se=n.settings.axisOpacity.toString(),he="rgba(0,0,0,"+se+")";c.lineWidth=n.settings.axisLineWidth,c.strokeStyle=he;var xe=Math.round(n.mapy(0))-re,Me=Math.round(n.mapx(0))-re,Be=Math.round(2*c.lineWidth)-re;c.beginPath(),pe.forEach(function(ke){var Re=Math.round(n.mapx(ke.getValue()))-re;c.moveTo(Re,xe-Be),c.lineTo(Re,xe+Be)}),fe.forEach(function(ke){var Re=Math.round(n.mapy(ke.getValue()))-re;c.moveTo(Me-Be,Re),c.lineTo(Me+Be,Re)}),c.stroke(),l.restore(c),c.restore()}return pe.forEach(function(ke){var Re={x:n.mapx(ke.getValue())-.5*ke.getMinusWidth(),y:ie-ke.getRect().top+5},Ve=ke.clampBoundsWithinRect(Re,W);c.fillStyle=Re.y===Ve.y?F:U;var ye="dcg-svg-axis-value";Re.x!==Ve.x&&(ye+=" dcg-svg-offcenter-axis-value"),ke.drawCenteredAt(c,Ve,ye),f(Y,ke.getRectWhenCenteredAt(Ve)),l.restore(c)}),fe.forEach(function(ke){var Re={x:G-5-ke.getRect().right,y:n.mapy(ke.getValue())},Ve=ke.clampBoundsWithinRect(Re,W);c.fillStyle=Re.x===Ve.x?F:U;var ye="dcg-svg-axis-value";Re.y!==Ve.y&&(ye+=" dcg-svg-offcenter-axis-value"),ke.drawCenteredAt(c,Ve,ye),f(ge,ke.getRectWhenCenteredAt(Ve)),l.restore(c)}),c.restore(),{x:Y,y:ge}}}),p=function(m,c,n,s){var v=Math.ceil(m/n),A=Math.floor(c/n);if(isFinite(A-v)&&!(A-v>1e4))for(var M=v;M<=A;M++)s(M*n)},u=function(m,c,n){return m<c?c:m>n?n:m},f=function(m,c){c.left<m.left&&(m.left=c.left),c.right>m.right&&(m.right=c.right),c.top<m.top&&(m.top=c.top),c.bottom>m.bottom&&(m.bottom=c.bottom)},b=function(m,c){var n=Math.abs(m),s=Math.abs(c);return Math.abs(n-s)<=1e-4*(n<s?s:n)};return y}),q("graphing/imagelayer",["require","pjs","underscore","./draw-image-to-ctx","./svg-groups"],function(O){var o=O("pjs"),w=O("underscore"),r=O("./draw-image-to-ctx").drawImageToCtx,d=O("./svg-groups");return o(function(i){i.redrawToCtx=function(l,g,y,p){d.save(l,"background-images"),(p===void 0||p.length<w.size(y))&&(p=w.keys(y));for(var u=0;u<p.length;u++){var f=y[p[u]];f&&f.shouldGraph&&!f.foreground&&r(f,l,g)}d.restore(l)}})}),q("core/math/recttransformation",["require","exports"],function(O,o){function w(d,i){var l=d-1;return 1+l*l*l==1?i*(1+l*(i-1)*(.5+1/6*l*(i-2))):(Math.pow(d,i)-1)/l}Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function d(i,l,g,y){i===void 0&&(i=0),l===void 0&&(l=0),g===void 0&&(g=1),y===void 0&&(y=g),this.tx=i,this.ty=l,this.sx=g,this.sy=y}return d.prototype.toJSON=function(){return{tx:this.tx,ty:this.ty,sx:this.sx,sy:this.sy}},d.prototype.compose=function(i){return new d(this.sx*i.tx+this.tx,this.sy*i.ty+this.ty,this.sx*i.sx,this.sy*i.sy)},d.prototype.translate=function(i,l){var g=l===void 0?i.x:l.x-i.x,y=l===void 0?i.y:l.y-i.y;return new d(this.tx+g,this.ty+y,this.sx,this.sy)},d.prototype.scale=function(i,l){return d.scale(i,l).compose(this)},d.prototype.scaleAtPoint=function(i,l,g){return g===void 0&&(g=l),d.scaleAtPoint(i,l,g).compose(this)},d.prototype.inverse=function(){return new d(-this.tx/this.sx,-this.ty/this.sy,1/this.sx,1/this.sy)},d.prototype.div=function(i){return new d((this.tx*i.sx-this.sx*i.tx)/i.sx,(this.ty*i.sy-this.sy*i.ty)/i.sy,this.sx/i.sx,this.sy/i.sy)},d.prototype.conjugate=function(i){return new d(this.tx*i.sx+i.tx*(1-this.sx),this.ty*i.sy+i.ty*(1-this.sy),this.sx,this.sy)},d.prototype.pow=function(i){return new d(this.tx*w(this.sx,i),this.ty*w(this.sy,i),Math.pow(this.sx,i),Math.pow(this.sy,i))},d.prototype.mapX=function(i){return this.sx*i+this.tx},d.prototype.mapY=function(i){return this.sy*i+this.ty},d.prototype.mapPoint=function(i){return{x:this.mapX(i.x),y:this.mapY(i.y)}},d.prototype.mapRect=function(i){return{left:this.mapX(i.left),right:this.mapX(i.right),bottom:this.mapY(i.bottom),top:this.mapY(i.top)}},d.scale=function(i,l){return l===void 0&&(l=i),new d(0,0,i,l)},d.translate=function(i,l){return new d().translate(i,l)},d.scaleAtPoint=function(i,l,g){return g===void 0&&(g=l),g===void 0&&(g=l),new d(i.x*(1-l),i.y*(1-g),l,g)},d.fromRects=function(i,l){var g=(l.right-l.left)/(i.right-i.left),y=(l.top-l.bottom)/(i.top-i.bottom);return new d(l.left-g*i.left,l.bottom-y*i.bottom,g,y)},d.fromJSON=function(i){return new d(i.tx,i.ty,i.sx,i.sy)},d}();o.RT=r}),q("graphing/projection",["require","exports","core/math/recttransformation"],function(O,o,w){function r(l){return{left:0,right:l.width,top:0,bottom:l.height}}function d(l){return{left:l.xmin,right:l.xmax,bottom:l.ymin,top:l.ymax}}Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function l(g,y,p){this.screen=g,this.viewport=y,this.settings=p,this.mathCoordinates=d(y),this.pixelCoordinates=r(g),this.mathToPixels=w.RT.fromRects(this.mathCoordinates,this.pixelCoordinates),this.pixelsToMath=w.RT.fromRects(this.pixelCoordinates,this.mathCoordinates)}return l.prototype.mapx=function(g){return this.mathToPixels.mapX(g)},l.prototype.mapy=function(g){return this.mathToPixels.mapY(g)},l.prototype.map_pt=function(g){return this.mathToPixels.mapPoint(g)},l.prototype.reverse_mapx=function(g){return this.pixelsToMath.mapX(g)},l.prototype.reverse_mapy=function(g){return this.pixelsToMath.mapY(g)},l.prototype.reverse_map_pt=function(g){return this.pixelsToMath.mapPoint(g)},l.prototype.coordsAreOnscreen=function(g,y,p){return p=p===void 0?0:p,g>-p&&y>-p&&g<this.screen.width+p&&y<this.screen.height+p},l.prototype.closestPointOnScreen=function(g){var y=this.pixelCoordinates;return{x:Math.min(Math.max(g.x,y.left),y.right),y:Math.min(Math.max(g.y,y.top),y.bottom)}},l}();o.Projection=i}),function(O){typeof q=="function"&&q.amd?q("vendor/jquery.mousewheel",["jquery"],O):O(jQuery)}(function(O){function o(f){var b=f||window.event,m=y.call(arguments,1),c=0,n=0,s=0,v=0;if(f=O.event.fix(b),f.type="mousewheel","detail"in b&&(s=-1*b.detail),"wheelDelta"in b&&(s=b.wheelDelta),"wheelDeltaY"in b&&(s=b.wheelDeltaY),"wheelDeltaX"in b&&(n=-1*b.wheelDeltaX),"axis"in b&&b.axis===b.HORIZONTAL_AXIS&&(n=-1*s,s=0),c=s===0?n:s,"deltaY"in b&&(s=-1*b.deltaY,c=s),"deltaX"in b&&(n=b.deltaX,s===0&&(c=-1*n)),s!==0||n!==0){if(b.deltaMode===1){var A=O.data(this,"mousewheel-line-height");c*=A,s*=A,n*=A}else if(b.deltaMode===2){var M=O.data(this,"mousewheel-page-height");c*=M,s*=M,n*=M}return v=Math.max(Math.abs(s),Math.abs(n)),(!i||v<i)&&(i=v,r(b,v)&&(i/=40)),r(b,v)&&(c/=40,n/=40,s/=40),c=Math[c>=1?"floor":"ceil"](c/i),n=Math[n>=1?"floor":"ceil"](n/i),s=Math[s>=1?"floor":"ceil"](s/i),f.deltaX=n,f.deltaY=s,f.deltaFactor=i,f.deltaMode=0,m.unshift(f,c,n,s),d&&clearTimeout(d),d=setTimeout(w,200),(O.event.dispatch||O.event.handle).apply(this,m)}}function w(){i=null}function r(f,b){return u.settings.adjustOldDeltas&&f.type==="mousewheel"&&b%120==0}var d,i,l=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],g="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],y=Array.prototype.slice;if(O.event.fixHooks)for(var p=l.length;p;)O.event.fixHooks[l[--p]]=O.event.mouseHooks;var u=O.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var f=g.length;f;)this.addEventListener(g[--f],o,!1);else this.onmousewheel=o;O.data(this,"mousewheel-line-height",u.getLineHeight(this)),O.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var f=g.length;f;)this.removeEventListener(g[--f],o,!1);else this.onmousewheel=null},getLineHeight:function(f){return parseInt(O(f)["offsetParent"in O.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(f){return O(f).height()},settings:{adjustOldDeltas:!0}};O.fn.extend({mousewheel:function(f){return f?this.bind("mousewheel",f):this.trigger("mousewheel")},unmousewheel:function(f){return this.unbind("mousewheel",f)}})}),q("graphing/viewportcontroller",["require","jquery","pjs","lib/aria","lib/i18n","core/math/recttransformation","./viewport","core/math/distance","./constants","lib/animation-frame","./projection","keys","jquery.handleevent","vendor/jquery.mousewheel"],function(O){var o=O("jquery"),w=O("pjs"),r=O("lib/aria"),d=O("lib/i18n"),i=O("core/math/recttransformation").RT,l=O("./viewport").Viewport,g=O("core/math/distance"),y=O("./constants"),p=O("lib/animation-frame"),u=O("./projection").Projection,f=O("keys");return O("jquery.handleevent"),O("vendor/jquery.mousewheel"),w(function(b){function m(M,C){var D=C.x-M.x,S=C.y-M.y,x=.5*(M.x+C.x),B=.5*(M.y+C.y),Z=.5*g.hypot(D,S);return{center:s(x,B),radius:Z}}function c(M,C){return m(C,{x:2*M.x-C.x,y:2*M.y-C.y})}function n(M,C){for(var D=[],S=0;S<M.length;S++)D.push(s(M[S].x-C.left,M[S].y-C.top));return D}function s(M,C){return{x:M,y:C}}function v(M){return s(.5*(M.left+M.right),.5*(M.bottom+M.top))}var A=0;b.init=function(M,C){this.grapher=M,this.$=this.grapher.$,this.__id=A++,this.controller=C,this.isScalingEnabled=!1,this.mousePt=s(0,0),this.lastScrollZoom=Date.now(),this.preventScrollZoom=!1,this.addMouseWheelEventHandler(),this.addTouchEventHandler()},b.remove=function(){o(window).off(".viewportcontroller-"+this.__id)},b.t=function(M,C){return d.t(M,C,this.grapher.settings.language)},b.getViewport=function(){return this.grapher.getProjection().viewport},b.getProjection=function(){return this.grapher.getProjection()},b.updateMouse=function(M){var C=this.$[0].getBoundingClientRect();this.mousePt=s(M.clientX-C.left,M.clientY-C.top)},b.updateScaleAxis=function(){this.isMouseInViewport()&&(this.isMouseNearYAxis()?this.grapher.scaleAxis="y":this.isMouseNearXAxis()?this.grapher.scaleAxis="x":this.grapher.scaleAxis="both"),this.updateCursor(),this.grapher.redrawAllLayers()},b.updateCursor=function(){this.$.toggleClass("dcg-scale-horizontal",this.grapher.scaleAxis==="x"),this.$.toggleClass("dcg-scale-vertical",this.grapher.scaleAxis==="y"),this.$.toggleClass("dcg-scale-both",this.grapher.scaleAxis==="both")},b.isMouseNearOrigin=function(){var M=this.getProjection(),C=M.mathToPixels.mapPoint(s(0,0));return Math.abs(this.mousePt.x-C.x)<50&&Math.abs(this.mousePt.y-C.y)<50},b.isMouseNearXAxis=function(){var M=this.getProjection(),C=M.pixelCoordinates,D=M.mathToPixels.mapY(0);return D=Math.min(Math.max(C.top,D),C.bottom),Math.abs(this.mousePt.y-D)<40&&M.settings.showXAxis},b.isMouseNearYAxis=function(){var M=this.getProjection(),C=M.pixelCoordinates,D=M.mathToPixels.mapX(0);return D=Math.min(Math.max(C.left,D),C.right),Math.abs(this.mousePt.x-D)<40&&M.settings.showYAxis},b.isMouseInViewport=function(){var M=this.getProjection(),C=M.mathCoordinates,D=M.pixelsToMath.mapPoint(this.mousePt);return D.x>=C.left&&D.x<=C.right&&D.y>=C.bottom&&D.y<=C.top},b.getDefaultViewport=function(){return this.controller.getDefaultStateViewport()||this.grapher.getDefaultViewport()},b._setViewportWithoutCancellingAnimation=function(M){if(M.isValid()&&!M.equals(this.getViewport())){var C=this.getProjection();this.grapher._setProjection(new u(C.screen,M,C.settings))}},b.setViewport=function(M){this.cancelAnimation(),this._setViewportWithoutCancellingAnimation(M)},b.setScreen=function(M){var C=this.getProjection(),D=C.settings.squareAxes,S=new u(M,this.getViewportForScreen(C.viewport,M,D),C.settings);this.grapher._setProjection(S)},b.getTransformedViewport=function(M){var C=this.getProjection(),D=C.pixelsToMath.div(M).mapRect(C.pixelCoordinates);return new l(D.left,D.right,D.bottom,D.top)},b.transformViewport=function(M){this.setViewport(this.getTransformedViewport(M))},b.animateTransformation=function(M){function C(Z){S||(S=Z);var X=(Z-S)/y.ANIMATE_ZOOM_DURATION;B+=X,B<1?(D.__animationTimeout=p.requestAnimationFrame(C),D._setViewportWithoutCancellingAnimation(D.getTransformedViewport(M.pow(X))),D.grapher.debounceUserRequestedViewportChange()):(D.setViewport(x),D.grapher.debounceUserRequestedViewportChange())}var D=this;this.cancelAnimation();var S,x=this.getTransformedViewport(M),B=0;this.__animationTimeout=p.requestAnimationFrame(C)},b.cancelAnimation=function(){p.cancelAnimationFrame(this.__animationTimeout)},b.addMouseWheelEventHandler=function(){var M,C,D=this,S=!1;o(window).on("scroll.viewportcontroller-"+this.__id,function(Z){S=!0}),o(window).on("mousewheel.viewportcontroller-"+this.__id,function(Z){M=Z.originalEvent.clientX,C=Z.originalEvent.clientY}),o(window).on("mousemove.viewportcontroller-"+this.__id,function(Z){if(S){var X=Z.originalEvent.clientX-M,ee=Z.originalEvent.clientY-C;X*X+ee*ee<100||(S=!1)}});var x=0,B=function(Z,X){var ee=Date.now();if(D.preventScrollZoom&&ee-D.lastScrollZoom>50&&(D.preventScrollZoom=!1),D.lastScrollZoom=ee,!D.preventScrollZoom){var W=this.getProjection();if(!W.settings.config.lockViewport){var U=W.mathToPixels;if(!S){Z.preventDefault(),D.updateMouse(Z);var F=U.mapPoint(s(0,0)),G=D.isMouseNearOrigin()&&X>0?F:D.mousePt;if(!(x>0)){x+=1,p.requestAnimationFrame(function(){x--}),X=X>0?1:-1;var ie=X>0?y.ZOOM_FACTOR:1/y.ZOOM_FACTOR,ne=D.grapher.scaleAxis,Y=ne!=="x"&&ne!=="both"&&ne?1:ie,ge=ne!=="y"&&ne!=="both"&&ne?1:ie;this.transformViewport(i.scaleAtPoint(G,Y,ge)),this.grapher.debounceUserRequestedViewportChange()}}}}};this.$.mousewheel(B.bind(this))},b.handleDoubleClick=function(M){var C=this.getProjection();if(!C.settings.config.lockViewport&&!C.settings.config.disable_dblclick_zooming&&!M.wasHandled()){M.preventDefault();var D=this.$[0].getBoundingClientRect(),S=s(M.clientX-D.left,M.clientY-D.top);this.animateTransformation(i.scaleAtPoint(S,y.DOUBLETAP_ZOOM))}},b.applyPanTouchChanges=function(M,C){if(!this.getProjection().settings.config.lockViewport&&!this.isScalingEnabled){var D=s(C[0].x-M[0].x,C[0].y-M[0].y);this.transformViewport(i.translate(D)),this.grapher.debounceUserRequestedViewportChange()}},b.chooseDragScaleCenter=function(){var M=this.getProjection(),C=M.pixelCoordinates,D=M.mathToPixels.mapX(0),S=M.mathToPixels.mapY(0);return D=Math.min(Math.max(C.left,D),C.right),S=Math.min(Math.max(C.top,S),C.bottom),s(D,S)},b.applyScaleTouchChanges=function(M,C){if(!this.getProjection().settings.config.lockViewport){var D,S,x=this.grapher.scaleAxis;if(M.length===2&&C.length===2)D=m(M[0],M[1]),S=m(C[0],C[1]);else{if(C.length!==1)return;var B=this.chooseDragScaleCenter();D=c(B,M[0]),S=c(B,C[0])}var Z=S.radius/D.radius,X=x==="y"?1:Z,ee=x==="x"?1:Z,W=i.scaleAtPoint(D.center,X,ee).translate(D.center,S.center);this.transformViewport(W),this.grapher.debounceUserRequestedViewportChange()}},b.addTouchEventHandler=function(){var M=this,C=[],D=!1,S=!0,x=!0,B=function(ne){var Y=M.grapher.getProjection();D||Y.settings.config.lockViewport||(M.updateMouse(ne),M.isScalingEnabled&&M.updateScaleAxis())};o(window).on("mousemove.viewportcontroller-"+this.__id,B);var Z=function(ne){var Y=M.getProjection();if(!Y.settings.config.lockViewport&&!ne.wasHandled()&&!D&&ne.touches.length===ne.changedTouches.length){D=!0,M.grapher.isDragging=!0,M.updateMouse(ne);var ge=Y.mathToPixels.mapPoint(s(0,0)),te=M.grapher.scaleAxis;te!=="x"&&te!=="both"||(S=M.mousePt.x>ge.x),te!=="y"&&te!=="both"||(x=M.mousePt.y>ge.y),M.controller.dispatch({type:"grapher/drag-start"}),o(document).on("dcg-tapmove.graphdrag",G),o(document).on("dcg-tapstart.graphdrag dcg-tapend.graphdrag dcg-tapcancel.graphdrag",ie)}},X=function(ne){if(!(ne.length<2)){var Y=M.grapher.getProjection(),ge=Y.pixelCoordinates,te=Y.mathToPixels.mapX(0),H=Y.mathToPixels.mapY(0);te=Math.min(Math.max(ge.left,te),ge.right),H=Math.min(Math.max(ge.top,H),ge.bottom);var pe=ne[1].x-ne[0].x,fe=ne[1].y-ne[0].y;return Math.abs(ne[0].x-te)<40&&Math.abs(ne[1].x-te)<40&&Math.abs(fe)>3*Math.abs(pe)&&Y.settings.showYAxis?"y":Math.abs(ne[0].y-H)<40&&Math.abs(ne[1].y-H)<40&&Math.abs(pe)>3*Math.abs(fe)&&Y.settings.showXAxis?"x":"both"}},ee=function(ne){return M.grapher.scaleAxis||(M.grapher.scaleAxis=X(ne)),M.grapher.scaleAxis},W=function(){M.grapher.scaleAxis&&(M.grapher.scaleAxis=void 0,M.grapher.redrawAllLayers(),M.updateCursor())},U=function(){M.isScalingEnabled=!1,M.preventScrollZoom=!0,W()},F=function(ne){return ne.altKey||ne.ctrlKey||ne.metaKey},G=function(ne){if(D&&!M.getProjection().settings.config.lockViewport&&M.grapher&&M.grapher.clickableObjectsLayer&&!M.grapher.clickableObjectsLayer.isAnObjectPressed()){var Y=n(ne.touches,M.$.offset());if(C.length===2&&Y.length===2)ee(Y),M.applyScaleTouchChanges(C,Y);else if(C.length===1&&M.isScalingEnabled){M.updateMouse(ne);var ge,te,H=M.grapher.scaleAxis,pe=M.getProjection(),fe=pe.mathToPixels.mapPoint(s(0,0)),re=S?1:-1,se=x?1:-1;if(H!=="x"&&H!=="both"||(ge=M.mousePt.x>fe.x+5*re),H!=="y"&&H!=="both"||(te=M.mousePt.y>fe.y+5*se),H==="x"&&S!==ge||H==="y"&&x!==te||H==="both"&&S!==ge&&x!==te)return;M.applyScaleTouchChanges(C,Y)}else W();C.length===1&&M.applyPanTouchChanges(C,Y),M.controller.dispatch({type:"grapher/drag-move"}),C=Y}},ie=function(ne){D&&(M.cancelAnimation(),C=n(ne.touches,M.$.offset()),ne.touches.length===0&&(D=!1,M.grapher.isDragging=!1,o(document).off(".graphdrag"),M.grapher.debounceUserRequestedViewportChange(),M.controller.dispatch({type:"grapher/drag-end"})),(ne.touches.length===0||ne.touches.length===1&&!M.isScalingEnabled)&&W())};this.$.on("dcg-tapstart",Z),this.$.on("dblclick",this.handleDoubleClick.bind(this)),o(window).on("keydown.viewportcontroller-"+this.__id,function(ne){this.getProjection().settings.config.lockViewport||(f.lookup(ne)!==f.SHIFT||F(ne)?U():(this.isScalingEnabled=!0,this.grapher.scaleAxis||this.updateScaleAxis()))}.bind(this)),o(window).on("keyup.viewportcontroller-"+this.__id+" blur.viewportcontroller-"+this.__id,U)},b.zoom=function(M){var C=this.getProjection().pixelCoordinates;if(M==="in")this.animateTransformation(i.scaleAtPoint(v(C),2));else if(M==="out")this.animateTransformation(i.scaleAtPoint(v(C),.5));else if(M==="default"){var D=this.getDefaultViewport();this.animateTransformation(this.getCustomZoomTransformation(D))}else if(M==="square"){var S=this.getSquareViewport();this.animateTransformation(this.getCustomZoomTransformation(S))}r.alert(this.t("Graph zoom __action__",{action:M}))},b.zoomCustom=function(M){this.animateTransformation(this.getCustomZoomTransformation(M)),r.alert(this.t("Graph viewport updated."))},b.getCustomZoomTransformation=function(M){var C=this.getProjection().viewport,D=this.getProjection().pixelCoordinates,S=this.getProjection().mathCoordinates,x=(C.xmax-C.xmin)/(M.xmax-M.xmin),B=(C.ymax-C.ymin)/(M.ymax-M.ymin),Z=function(){return{x:0,y:0}},X=i.fromRects(S,D),ee=new i.translate(X.mapPoint(Z()),Z()),W=new i.scale(x,B),U=i.fromRects({left:M.xmin,right:M.xmax,bottom:M.ymin,top:M.ymax},D);return new i.translate(Z(),U.mapPoint(Z())).compose(W.compose(ee))},b.isZoomRestored=function(){var M=this.getProjection(),C=M.viewport,D=this.getDefaultViewport();return M.settings.squareAxes&&Math.abs((C.xmin-D.xmin)/C.xmin)<.05&&Math.abs((C.xmax-D.xmax)/C.xmax)<.05&&Math.abs((C.ymin-D.ymin)/C.ymin)<.05&&Math.abs((C.ymax-D.ymax)/C.ymax)<.05},b.getViewportForScreen=function(M,C,D){return D?this.getProjection().settings.lastChangedAxis=="y"?M.squareXAxis(C):M.squareYAxis(C):M},b.getSquareViewport=function(){var M=this.getProjection();return this.getViewportForScreen(M.viewport,M.screen,!0)},b.enforceSquareAxes=function(){var M=this.getProjection();M.settings.squareAxes&&(M.viewport.isSquare(M.screen)||this.setViewport(this.getViewportForScreen(M.viewport,M.screen,!0)))}})}),q("geometry/math/hypot",["require","exports"],function(O,o){function w(d){return d===1/0||d===-1/0}Object.defineProperty(o,"__esModule",{value:!0});var r=Math.hypot&&Math.hypot(1/0,NaN)===1/0;o.default=r?Math.hypot:function(d,i){if(w(d)||w(i))return 1/0;if(isNaN(d)||isNaN(i))return NaN;if(d===0&&i===0)return 0;if(Math.abs(d)>Math.abs(i)){var l=i/d;return Math.abs(d)*Math.sqrt(l*l+1)}var l=d/i;return Math.abs(i)*Math.sqrt(l*l+1)}}),q("lib/priority-queue",["require","exports"],function(O,o){Object.defineProperty(o,"__esModule",{value:!0});var w=function(){function r(d){this.comparator=d,this._data=[]}return r.prototype.size=function(){return this._data.length},r.prototype.queue=function(d){var i=this._data.length;for(this._data.push(d);i>0;){var l=i-1>>>1;if(!(this.comparator(this._data[i],this._data[l])<0))break;var g=this._data[l];this._data[l]=this._data[i],this._data[i]=g,i=l}},r.prototype.dequeue=function(){var d=this._data[0],i=this._data.pop();if(this._data.length>0&&i!==void 0){this._data[0]=i;for(var l=0,g=this._data.length-1;;){var y=1+(l<<1),p=y+1,u=l;if(y<=g&&this.comparator(this._data[y],this._data[u])<0&&(u=y),p<=g&&this.comparator(this._data[p],this._data[u])<0&&(u=p),u===l)break;var f=this._data[u];this._data[u]=this._data[l],this._data[l]=f,l=u}}return d},r.prototype.peek=function(){return this._data[0]},r.prototype.clear=function(){this._data.length=0},r}();o.default=w}),q("geometry/math/polygon-area-support",["require","exports","lib/priority-queue","bugsnag"],function(O,o,w,r){function d(v,A){var M=v.pt2.y-v.pt1.y,C=v.pt1.x-v.pt2.x,D=A.pt2.y-A.pt1.y,S=A.pt1.x-A.pt2.x,x=M*v.pt1.x+C*v.pt1.y,B=D*A.pt1.x+S*A.pt1.y,Z=M*S-D*C;if(Z!==0)return(M*B-D*x)/Z}function i(v,A,M){if(M.scanlineX<A.scanlineX&&r.notify("PolygonArea: rightEdge should not be left of leftEdge!",{metaData:{scanlineY:v,leftEdge:A,rightEdge:M}}),!(M.xSlope>=A.xSlope)){if(A.scanlineX===M.scanlineX)return v;var C=A.pt2.y>A.pt1.y?A.pt2:A.pt1,D=M.pt2.y>M.pt1.y?M.pt2:M.pt1,S=C.y;if(D.y<C.y){if(S=D.y,g(S,A)<D.x)return}else if(C.y<D.y){var x=g(S,M);if(C.x<x)return}else if(C.x<D.x)return;var B=d(A,M);if(B!==void 0)return Math.max(Math.min(B,S),v)}}function l(v,A,M,C){if(M&&C){if(M.id<C.id){if(M.skipIntersectionWith[C.id])return}else if(C.skipIntersectionWith[M.id])return;var D=i(v,M,C);D!==void 0&&(M.id<C.id?M.skipIntersectionWith[C.id]=!0:C.skipIntersectionWith[M.id]=!0,A.queue({type:"x",y:D,edge1:M,edge2:C}))}}function g(v,A){var M=A.pt1.x,C=A.pt2.x,D=A.pt1.y,S=A.pt2.y;if(D===v)return M;if(S===v)return C;var x=(v-D)/(S-D),B=(1-x)*M+x*C;if(M<C){if(B<=M)return M;if(C<=B)return C}else{if(B<=C)return C;if(M<=B)return M}return B}function y(v){for(var A=0,M=0,C=!1,D=0,S=v;D<S.length;D++){var x=S[D].scanlineX;C?(C=!1,A+=x-M):(C=!0,M=x)}return A}function p(v){for(var A=0,M=0,C=!1,D=0,S=0,x=v;S<x.length;S++){var B=x[S],Z=B.scanlineX;B.isClockwise?D+=1:D-=1,D===0||C?D===0&&C&&(C=!1,A+=Z-M):(C=!0,M=Z)}return A}function u(v,A){for(var M=0,C=0,D=!1,S=-1/0,x=0,B=A;x<B.length;x++){var Z=B[x],X=g(v,Z);X<S?(X-S<-1e-4&&r.notify("PolygonArea: scanlineX reversed!",{metaData:{scanlineY:v,edge:Z,minScanlineX:S,scanlineX:X}}),X=S):S=X,Z.scanlineX=X,D?(D=!1,M+=X-C):(D=!0,C=X)}return M}function f(v,A){for(var M=0,C=0,D=!1,S=0,x=-1/0,B=0,Z=A;B<Z.length;B++){var X=Z[B],ee=g(v,X);ee<x?(ee-x<-1e-4&&r.notify("PolygonArea: scanlineX reversed!",{metaData:{scanlineY:v,edge:X,minScanlineX:x,scanlineX:ee}}),ee=x):x=ee,X.scanlineX=ee,X.isClockwise?S+=1:S-=1,S===0||D?S===0&&D&&(D=!1,M+=ee-C):(D=!0,C=ee)}return M}function b(v){for(var A=1,M=[],C=new w.default(function(Z,X){return Z.y-X.y}),D=v.length-1;D>=1;D--){var S=v[D],x=v[D-1],B={id:A++,pt1:S,pt2:x,scanlineX:0,xSlope:1/0,isClockwise:x.y>S.y,skipIntersectionWith:{}};x.y>S.y?(C.queue({type:"+",y:S.y,edge:B}),C.queue({type:"-",y:x.y,edge:B}),B.xSlope=(x.x-S.x)/(x.y-S.y),B.scanlineX=S.x):S.y>x.y&&(C.queue({type:"+",y:x.y,edge:B}),C.queue({type:"-",y:S.y,edge:B}),B.xSlope=(S.x-x.x)/(S.y-x.y),B.scanlineX=x.x)}return{activeEdges:M,events:C}}function m(v,A,M){v.type==="x"?s(v,A,M):v.type==="+"?c(v,A,M):v.type==="-"&&n(v,A,M)}function c(v,A,M){for(var C=v.edge,D=v.y,S=C.xSlope,x=C.scanlineX,B=0;B<M.length;B++){var Z=M[B];if(x<Z.scanlineX||x===Z.scanlineX&&S<=Z.xSlope)break}M.splice(B,0,C),l(D,A,M[B-1],C),l(D,A,C,M[B+1])}function n(v,A,M){var C=v.edge,D=v.y,S=M.indexOf(C);M.splice(S,1),l(D,A,M[S-1],M[S])}function s(v,A,M){var C=v.edge1,D=v.edge2,S=v.y,x=M.indexOf(C),B=x+1;x===-1||M[B]!==D?C.id<D.id?delete C.skipIntersectionWith[D.id]:delete D.skipIntersectionWith[C.id]:(M[x]=D,M[B]=C,l(S,A,M[x-1],D),l(S,A,C,M[B+1]))}Object.defineProperty(o,"__esModule",{value:!0}),o._unstableYIntersectEdges=d,o._stableYIntersectEdges=i,o.checkForEdgeIntersection=l,o.computeScanlineX=g,o.measureDownwardEvenOddLength=y,o.measureDownwardNonZeroLength=p,o.measureUpwardEvenOddLength=u,o.measureUpwardNonZeroLength=f,o.setupEventQueueAndActiveEdges=b,o.processEvent=m}),q("geometry/math/polygon",["require","exports","./hypot","bugsnag","./polygon-area-support"],function(O,o,w,r,d){function i(f,b){if(!f)return!1;for(var m=b.x,c=b.y,n=!1,s=f.length-1;s>=3;s-=2){var v=f[s-3],A=f[s-2],M=f[s-1],C=f[s];A>c!=C>c&&m<(M-v)*(c-A)/(C-A)+v&&(n=!n)}return n}function l(f,b){if(!f)return!1;for(var m=b.x,c=b.y,n=0,s=f.length-1;s>=3;s-=2){var v=f[s-3],A=f[s-2],M=f[s-1],C=f[s];A>c!=C>c&&m<(M-v)*(c-A)/(C-A)+v&&(A>C?n+=1:A<C&&(n-=1))}return n!==0}function g(f){for(var b=0,m=0;m<f.length-1;m++)b+=w.default(f[m].x-f[m+1].x,f[m].y-f[m+1].y);return b}function y(f){for(var b=0,m=0;m<f.length-1;m++)b+=f[m].x*f[m+1].y-f[m].y*f[m+1].x;return Math.abs(b)/2}function p(f){if(f.length<4||f[0].x!==f[f.length-1].x||f[0].y!==f[f.length-1].y)return 0;var b=d.setupEventQueueAndActiveEdges(f),m=b.events,c=b.activeEdges,n=m.peek();if(!n)return 0;for(var s,v=0,A=n.y,M=0;s=m.dequeue();){var C=s.y;C<A&&r.notify("PolygonArea: scanlineY jumped up vertically",{metaData:{points:f,scanlineY:C,lastScanlineY:A}}),M+=.5*(C-A)*(d.measureUpwardEvenOddLength(C,c)+v),d.processEvent(s,m,c),A=C,v=d.measureDownwardEvenOddLength(c)}return M}function u(f){if(f.length<4||f[0].x!==f[f.length-1].x||f[0].y!==f[f.length-1].y)return 0;var b=d.setupEventQueueAndActiveEdges(f),m=b.events,c=b.activeEdges,n=m.peek();if(!n)return 0;for(var s,v=0,A=n.y,M=0;s=m.dequeue();){var C=s.y;C<A&&r.notify("PolygonArea: scanlineY jumped up vertically",{metaData:{points:f,scanlineY:C,lastScanlineY:A}}),M+=.5*(C-A)*(d.measureUpwardNonZeroLength(C,c)+v),d.processEvent(s,m,c),A=C,v=d.measureDownwardNonZeroLength(c)}return M}Object.defineProperty(o,"__esModule",{value:!0}),o.pointIsWithinEvenOddFill=i,o.pointIsWithinNonZeroFill=l,o.calculatePerimeter=g,o.calculateSimpleArea=y,o.calculatePaintedEvenOddArea=p,o.calculatePaintedNonZeroArea=u}),q("graphing/poicontroller",["require","jquery","core/math/distance","lib/rounding","core/types/graphmode","lib/conditional_blur","keys","lib/aria","core/lib/label","expressions/colors","graphing-calc/models/image","graphing-calc/models/expression","../geometry/math/polygon"],function(O){function o(n,s){this.manager=n,this.controller=n.controller,this.graphSettings=s,this.$=this.manager.$,this.__id=c++,this.graphSettings.config.graphpaper&&!this.graphSettings.config.disableMouseInteractions&&(this.addTouchEventHandlers(),this.addHoverEventHandler(),this.addKeydownEventHandler(),this.addManualUnhoverListener())}var w=O("jquery"),r=O("core/math/distance"),d=O("lib/rounding"),i=O("core/types/graphmode"),l=O("lib/conditional_blur").default,g=O("keys"),y=O("lib/aria"),p=O("core/lib/label"),u=O("expressions/colors").getColorName,f=O("graphing-calc/models/image"),b=O("graphing-calc/models/expression"),m=O("../geometry/math/polygon"),c=0;return o.prototype.getExpressionModel=function(n){return this.controller.getItemModel(n)},o.prototype.remove=function(){this.removeAllGlobalMouseListeners(),this.removeManualUnhoverListener()},o.prototype.addGlobalMouseListener=function(n,s){for(var v=n.split(" "),A=0;A<v.length;A++)w(document).on(v[A]+".dcg-poiController-"+this.__id,s)},o.prototype.removeAllGlobalMouseListeners=function(){w(document).off(".dcg-poiController-"+this.__id)},o.prototype.getToleranceByDevice=function(n){return n==="touch"?20:10},o.prototype.addHoverEventHandler=function(){this.$.on("dcg-tapmove",function(n){if(n.device!=="touch"){var s,v=w(document.elementFromPoint(n.clientX,n.clientY)).closest(".dcg-grapher").length,A=this.manager.poiLabelsLayer,M=this.getMouseRelativeToGrapher(n),C=this.getToleranceByDevice(n.device);v&&(s=this.getFeatureUnderPoint(M,C));var D;s&&s.type==="movable-point"&&(D=s.poi.getMovablePoint().id);var S;s&&s.isClickable&&(this.manager.movablePointsLayer.isMovingPoint()||this.manager.traceLayer.isTracing()||(S=s.model)),this.manager.clickableObjectsLayer.setHoveredId(S&&S.id);var x;s&&s.type==="poi"&&(s.poi.isAttachedToPlottedPoint()&&!s.poi.hasInteractiveLabel()||(x=s.poi)),x!==A.getHoveredPOI()&&(this.controller.isTraceEnabled()?A.setHoveredPOI(x):A.setHoveredPOI(void 0),this.manager.redrawAllLayers()),this.manager.movablePointsLayer.setHoveredPointId(D)}}.bind(this))},o.prototype.addManualUnhoverListener=function(){var n=function(){var s=this.manager;s.poiLabelsLayer.setHoveredPOI(void 0),s.clickableObjectsLayer.setHoveredId(void 0),s.redrawAllLayers()}.bind(this);w(window).on("blur.dcg-poiController-"+this.__id,n),this.$.on("mouseleave",n)},o.prototype.removeManualUnhoverListener=function(){w(window).off(".dcg-poiController-"+this.__id)},o.prototype.addTouchEventHandlers=function(){this.$.on("dblclick",function(n){var s=this.getMouseRelativeToGrapher(n),v=this.getToleranceByDevice(n.device);this.getFeatureUnderPoint(s,v)&&(n.preventDefault(),n.handle())}.bind(this)),this.$.on("touchstart",function(n){if(!this.graphSettings.config.lockViewport)return void n.preventDefault();var s=this.getMouseRelativeToGrapher(n.originalEvent),v=this.getToleranceByDevice(n.device),A=this.getFeatureUnderPoint(s,v);A&&(A.type!=="image"||A.model.selected)&&(A.type==="sketch-branch"&&this.graphSettings.config.onlyTraceSelected&&!A.sketch.selected||n.preventDefault())}.bind(this)),this.$.on("dcg-tapstart",function(n){var s=this.getMouseRelativeToGrapher(n),v=this.getToleranceByDevice(n.device),A=this.getFeatureUnderPoint(s,v);if(A&&A.isClickable?this.manager.clickableObjectsLayer.setPressedId(A.model.id):this.manager.clickableObjectsLayer.setPressedId(void 0),A&&A.type==="editable-label")return void n.handle();if(l(),A&&A.type==="movable-point")return this.controller.dispatch({type:"start-moving-point",pointInfo:A.poi.getMovablePoint()}),this.startMovingPoint(A.poi),n.handle(),void n.handle("do-not-clear-poi-labels");if(this._togglePOIUnderPoint(s,v))return n.handle(),void n.handle("do-not-clear-poi-labels");if(A&&A.type==="sketch-branch"&&!A.isClickable){if(!this.graphSettings.config.onlyTraceSelected){var M=!this.controller.isTraceEnabled(),C=!this.controller.isListEnabled();return M&&C||(this.controller.dispatch({type:"set-selected-id",id:A.sketch.id}),M)?void 0:(this.startTracingBranch(A.branchInfo,s),n.handle(),void n.handle("do-not-clear-poi-labels"))}if(A.sketch.selected)return this.startTracingBranch(A.branchInfo,s),n.handle(),void n.handle("do-not-clear-poi-labels")}A&&A.type==="image"||this.controller.dispatch({type:"set-none-selected"});var D=this;this.addGlobalMouseListener("dcg-tapmove",function(S){this.manager.clickableObjectsLayer.isAnObjectPressed()?s=this.getMouseRelativeToGrapher(S):D.removeAllGlobalMouseListeners()}.bind(this)),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",function(S){D.removeAllGlobalMouseListeners();var x=this.manager.clickableObjectsLayer.getPressedId();this.manager.clickableObjectsLayer.setPressedId(void 0);var B=this.getFeatureUnderPoint(s,v);return B&&B.isClickable?void(B.model.id===x&&this.controller.dispatch({type:"clickable-item-clicked",id:B.model.id})):B&&B.type==="sketch-branch"&&!B.sketch.selected?void this.controller.dispatch({type:"set-selected-id",id:B.model.id}):B&&B.type==="image"?void this.controller.dispatch({type:"set-selected-id",id:B.model.id}):void 0}.bind(this))}.bind(this))},o.prototype.addKeydownEventHandler=function(){this.$.on("keydown",function(n){var s=this.manager.movablePointsLayer.getFocusedPoint();if(s){var v=g.lookup(n),A=g.lookupChar(n);v==="Up"||v==="Down"||v==="Left"||v==="Right"?(n.stopPropagation(),n.preventDefault(),this.movePointFromKeyboard(s,n)):A!=="X"&&A!=="Y"&&A!=="L"&&A!=="C"||this.speakPoint(s,A)}}.bind(this))},o.prototype.getMouseRelativeToGrapher=function(n){var s=this.$[0].getBoundingClientRect(),v=n.touches?n.touches[0]:n;return{x:v.clientX-s.left,y:v.clientY-s.top}},o.prototype._getClosestPoint=function(n,s,v){for(var A=v,M=null,C=this.manager.getProjection(),D=0;D<n.length;D++){var S=n[D],x=C.map_pt(S),B=r.hypot(x.x-s.x,x.y-s.y);B<A&&(A=B,M=S)}return M},o.prototype.getFeatureUnderPoint=function(n,s){var v=this.manager.poiLabelsLayer,A=this.manager.getProjection(),M=A.reverse_map_pt(n),C=v.getEditableLabelUnderPoint(n);if(C)return{type:"editable-label",model:C};for(var D,S=this.manager.__sketchOrder,x={},B=1,Z=S.length-1;Z>=0;Z--){var X=S[Z],ee=this.controller.getItemModel(X),W=B;if(x[X]=W,ee){if(ee.type==="expression"){var U=this.manager.getGraphSketch(X);if(!U||!U.visible)continue;var F=U.branches;if(!F||!F.length)continue;if(U.showHighlight&&(W=-1/0,x[X]=W),!D||D.stackingContext>=W)for(var G=b.isClickableObject(ee),ie=0;ie<F.length;ie++){var ne=o.calculateDistanceFromBranch(F[ie],M,A,G);if(ne<s){var Y=!1;D?(W<D.stackingContext||W===D.stackingContext&&ne<D.distance)&&(Y=!0):Y=!0,Y&&(D={type:"sketch-branch",model:ee,sketch:U,distance:ne,stackingContext:W,branchInfo:{id:U.id,branch:ie,sketch:U}})}}}else if(ee.type==="image"){var ge=this.manager.getGraphImage(X);if(!ge||!this.isImageUnderMouse(ge,M,s))continue;ge.foreground?(B+=1,W=B,x[X]=W,B+=1):(W=1/0,x[X]=W),(!D||D.stackingContext>W)&&(D={type:"image",model:ge,distance:0,stackingContext:W})}}}var te=[],H=[],pe=[],fe=D?D.stackingContext:1/0;this.manager.poiDotsLayer.getDrawnPOI().forEach(function(Me){Me.isBareLabel()||(Me.isMovable()?te.push(Me):Me.isAttachedToPlottedPoint()?x[Me.sketch.id]<=fe&&H.push(Me):pe.push(Me))});var re=this._getClosestPoint(te,n,s);if(re)return{type:"movable-point",poi:re};var se=this._getClosestPoint(pe,n,s);if(se)return{type:"poi",poi:se};var he=this._getClosestPoint(H,n,s);if(he){var xe=this.controller.getItemModel(he.sketch.id);return xe&&xe.type==="expression"&&b.isClickableObject(xe)?{type:"poi",poi:he,isClickable:!0,model:xe}:{type:"poi",poi:he}}return D?D.type==="sketch-branch"?{type:"sketch-branch",branchInfo:D.branchInfo,sketch:D.sketch,model:D.model,isClickable:b.isClickableObject(D.model)}:{type:"image",model:D.model,isClickable:f.isClickableObject(D.model)}:void 0},o.prototype._togglePOIUnderPoint=function(n,s){if(this.controller.isTraceEnabled()){var v=this.getFeatureUnderPoint(n,s);if(!v||v.isClickable)return!1;var A=v.poi;return!!A&&!A.isBareLabel()&&(this.manager.poiLabelsLayer.isOpenPOI(A)?(this.manager.poiLabelsLayer.closePOI(A),this.manager.poiLabelsLayer.setHoveredPOI(void 0)):(this.manager.poiLabelsLayer.openPOI(A),this.speakPoint(A)),this.manager.redrawAllLayers(),!0)}},o.prototype.isImageUnderMouse=function(n,s,v){if(!n||!n.computed_x||!n.computed_y||!n.computed_width||!n.computed_height||n.hidden||this.controller.isItemSecret(n.id))return!1;for(var A=0;A<n.computed_x.length;A++){var M=n.computed_x[A],C=n.computed_y[A],D=n.computed_radian_angle[A],S=M+Math.cos(D)*(s.x-M)-Math.sin(D)*(s.y-C),x=C+Math.sin(D)*(s.x-M)+Math.cos(D)*(s.y-C),B=.5*Math.abs(n.computed_width[A]),Z=.5*Math.abs(n.computed_height[A]);if(S>M-B&&S<M+B&&x>C-Z&&x<C+Z)return!0}return!1},o.calculateDistanceFromBranch=function(n,s,v,A){if(n&&n.graphMode===i.POLYGONFILL&&A){for(var M=n.segments,C=0;C<M.length;C++)if(m.pointIsWithinNonZeroFill(M[C],s))return 0;return 1/0}var D=o.getBranchesDistanceInfo(n,s,v,A);return D?D.minDistance:1/0},o.getBranchesDistanceInfo=function(n,s,v,A){var M=v.screen.width/(v.viewport.xmax-v.viewport.xmin),C=v.screen.height/(v.viewport.ymax-v.viewport.ymin),D=s.x,S=s.y,x=!1,B=!1;switch(n.graphMode){case i.PARAMETRIC:case i.IMPLICIT:if(!A)return null;break;case i.POLAR:if(!A)return null;B=!0;break;case i.Y:break;case i.X:x=!0;var Z=D;D=S,S=Z,Z=M,M=C,C=Z;break;default:return null}for(var X,ee,W=1/0,U=1/0,F=0;F<n.segments.length;F++)for(var G=n.segments[F],ie=0;ie<G.length-3;ie+=2){var ne=G[ie],Y=G[ie+1],ge=G[ie+2],te=G[ie+3];if(B){var H=Y,pe=ne;ne=H*Math.cos(pe),Y=H*Math.sin(pe);var fe=te,re=ge;ge=fe*Math.cos(re),te=fe*Math.sin(re)}var se=r.closestPointOnSegment(0,0,(ne-D)*M,(Y-S)*C,(ge-D)*M,(te-S)*C),he=r.hypot(se[0],se[1]);se[0]<0?he<W&&(W=he,X=se):he<U&&(U=he,ee=se)}var xe=W<U?X:ee;if(!xe)return null;var Me=xe[0]/M+D,Be=xe[1]/C+S;return{closestPoint:{x:x?Be:Me,y:x?Me:Be},minDistance:Math.min(W,U),secondDistance:Math.max(W,U)}},o.getBranchesTracePoint=function(n,s,v){if(n&&n.compiled&&n.compiled.fn){var A=n.compiled.fn,M=v.screen.width/(v.viewport.xmax-v.viewport.xmin),C=v.screen.height/(v.viewport.ymax-v.viewport.ymin),D=this.getBranchesDistanceInfo(n,s,v,!1);if(!D)return null;var S=D.minDistance/D.secondDistance;S*=S;var x=n.graphMode===i.Y?"x":"y",B=D.closestPoint[x]*(1-S)+s[x]*S,Z=1/(2*M),X=1/(2*C),ee=A(B-Z),W=A(B),U=A(B+Z),F=Z*Math.min(1,X/Math.abs(ee-W)),G=Z*Math.min(1,X/Math.abs(U-W));isFinite(F)||(F=Z),isFinite(G)||(G=Z),B=d.shortestDecimalBetween(B-F,B+G);var ie=o.fillHole(A,B,M,C,s.x,s.y);return{x:n.graphMode===i.Y?B:ie,y:n.graphMode===i.Y?ie:B}}},o.prototype.startMovingPoint=function(n){var s=!1;this.manager.movablePointsLayer.setPressedPointId(n.isMovable()?n.getMovablePoint().id:void 0);var v=null,A=function(){if(v){s=!0;var M=this.manager.getProjection(),C=this.getMouseRelativeToGrapher(v);v=null,this.controller.dispatch({type:"on-move-point",pointInfo:n.getMovablePoint(),screenPt:C,projection:M})}}.bind(this);this.manager.registerMovablePointListener(A),this.addGlobalMouseListener("dcg-tapmove",function(M){v=M}),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",function(M){if(A(),this.manager.deregisterMovablePointListener(),this.removeAllGlobalMouseListeners(),this.manager.movablePointsLayer.setPressedPointId(void 0),this.controller.dispatch({type:"stop-moving-point",pointInfo:n.getMovablePoint()}),!s){var C=this.manager.getProjection(),D=this.getToleranceByDevice(M.device),S=C.map_pt(n);this._togglePOIUnderPoint(S,D)}}.bind(this))},o.prototype.startTracingBranch=function(n,s){this.manager.markLabelsDirty(),this.last_screen_pt=s;var v=this.manager.getProjection(),A=v.reverse_map_pt(s),M=n.sketch,C=M.branches[n.branch],D=o.getBranchesTracePoint(C,A,v);D&&this.speakPoint(D),this.manager.traceLayer.setTraceInfo({pt:D,branchInfo:n}),this.manager.redrawAllLayers(),this.addGlobalMouseListener("dcg-tapmove",this.handleTraceUpdate.bind(this)),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",this.stopTracingBranch.bind(this))},o.prototype.stopTracingBranch=function(n){this.manager.markLabelsDirty();var s=this.manager.poiLabelsLayer.getHoveredPOI();s&&!this.manager.poiLabelsLayer.isOpenPOI(s)&&(this.manager.poiLabelsLayer.openPOI(s),this.speakPoint(s),this.manager.redrawAllLayers()),this.last_screen_pt=null,this.manager.traceLayer.setTraceInfo(void 0),this.manager.redrawAllLayers(),this.removeAllGlobalMouseListeners()},o.prototype.handleTraceUpdate=function(n){if(this.manager.traceLayer.traceInfo){var s,v=this.manager.getProjection();if(n)s=this.getMouseRelativeToGrapher(n),this.last_screen_pt=s,this.manager.markLabelsDirty();else{if(!this.last_screen_pt)return;s=this.last_screen_pt}var A=v.reverse_map_pt(s),M=1/0,C=-1,D=this.manager.traceLayer.traceInfo,S=this.manager.graphSketches[D.branchInfo.sketch.id];if(S){D.branchInfo.sketch=S;for(var x=D.branchInfo.sketch.branches,B=0;B<x.length;B++){var Z=o.calculateDistanceFromBranch(x[B],A,v,!1);Z<M&&(C=B,M=Z)}var X=x[C],ee=X?o.getBranchesTracePoint(X,A,v):null;ee&&this.speakPoint(ee),this.manager.traceLayer.traceInfo.branchInfo.branch=C,this.manager.traceLayer.traceInfo.pt=ee,this.manager.redrawAllLayers()}}},o.prototype.speakPoint=function(n){var s=this.manager.getAudioTrace();s&&n&&s.queueCoordinates(n,void 0,!0)},o.fillHole=function(n,s,v,A,M,C){var D=n(s);if(isFinite(D))return D;var S=s-1e-11,x=s+1e-11,B=n(S),Z=n(x);if(isNaN(B)&&isNaN(Z))return NaN;if(isNaN(B))return Z;if(isNaN(Z))return B;var X=(M-S)*v,ee=(M-x)*v,W=(C-B)*A,U=(C-Z)*A;return r.hypot(X,W)<r.hypot(ee,U)?B:Z},o.prototype.hasNonlinearMoveStrategy=function(n){if(!n||!n.sketch)return!1;var s=this.getExpressionModel(n.sketch.id);if(!s||!s.formula)return!1;var v=s.formula.move_strategy;return!(!v||!v[0])&&v[0].type==="updateSliderNonlinear"},o.prototype.movePointFromKeyboard=function(n,s){if(n&&s&&n.type==="movable-point"){var v,A=this.manager.getProjection(),M=A.map_pt({x:n.x,y:n.y}),C=0,D=0,S=s.shiftKey?10:2,x=s.shiftKey?"big":"",B=g.lookup(s);if(B==="Up"?(v="y",D-=S,x+="up"):B==="Down"?(v="y",D+=S,x+="down"):B==="Left"?(v="x",C-=S,x+="down"):B==="Right"&&(v="x",C+=S,x+="up"),C!==0||D!==0){var Z,X={x:M.x+C,y:M.y+D};v==="x"||this.hasNonlinearMoveStrategy(n)?Z=[x,""]:v==="y"&&(Z=["",x]),this.controller.dispatch({type:"on-move-point",pointInfo:n,screenPt:X,projection:A,keyboardDirection:Z})}}},o.prototype.speakPoint=function(n,s){if(n&&this.manager.getAudioTrace()){var v=this.manager.getProjection();if(v){var A=v.viewport;switch(s){case"X":y.alert("X: "+p.value(n.x,A.xmax-A.xmin).ariaString);break;case"Y":y.alert("Y: "+p.value(n.y,A.ymax-A.ymin).ariaString);break;case"L":y.alert(n.ariaLabel||this.controller.t("Graph point"));break;case"C":y.alert(u(this.controller,n.sketch.color))}}}},o}),q("vendor/canvas2svg",[],function(){function O(p,u){var f,b=Object.keys(u);for(f=0;f<b.length;f++)p=p.replace(new RegExp("\\{"+b[f]+"\\}","gi"),u[b[f]]);return p}function o(p){var u,f,b;if(!p)throw new Error("cannot create a random attribute name for an undefined object");u="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",f="";do for(f="",b=0;b<12;b++)f+=u[Math.floor(Math.random()*u.length)];while(p[f]);return f}function w(p){var u={left:"start",right:"end",center:"middle",start:"start",end:"end"};return u[p]||u.start}var r,d,i,l,g;g=function(p,u){var f,b,m,c={};for(p=p.split(","),u=u||10,f=0;f<p.length;f+=2)b="&"+p[f+1]+";",m=parseInt(p[f],u),c[b]="&#"+m+";";return c["\\xa0"]="&#160;",c}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),r={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},i=function(p,u){this.__root=p,this.__ctx=u},i.prototype.addColorStop=function(p,u){var f,b,m=this.__ctx.__createElement("stop");m.setAttribute("offset",p),u.indexOf("rgba")!==-1?(f=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,b=f.exec(u),m.setAttribute("stop-color",O("rgb({r},{g},{b})",{r:b[1],g:b[2],b:b[3]})),m.setAttribute("stop-opacity",b[4])):m.setAttribute("stop-color",u),this.__root.appendChild(m)},l=function(p,u){this.__root=p,this.__ctx=u},d=function(p){var u,f={width:500,height:500,enableMirroring:!1};if(arguments.length>1?(u=f,u.width=arguments[0],u.height=arguments[1]):u=p||f,!(this instanceof d))return new d(u);this._randomPostfix="-"+function(){return"xxxxxxxx".replace(/x/g,function(b){return(16*Math.random()|0).toString(16)})}(),this._svgClassNames=[],this.width=u.width||f.width,this.height=u.height||f.height,this.enableMirroring=u.enableMirroring!==void 0?u.enableMirroring:f.enableMirroring,this.canvas=this,this.__document=u.document||document,u.ctx?this.__ctx=u.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)},d.prototype.__createElement=function(p,u,f){u===void 0&&(u={});var b,m,c=this.__document.createElementNS("http://www.w3.org/2000/svg",p),n=Object.keys(u);for(f&&(c.setAttribute("fill","none"),c.setAttribute("stroke","none")),b=0;b<n.length;b++)m=n[b],c.setAttribute(m,u[m]);var s=this._svgClassNames&&this._svgClassNames[this._svgClassNames.length-1];return s&&c.setAttribute("class",s),c},d.prototype.__setDefaultStyles=function(){var p,u,f=Object.keys(r);for(p=0;p<f.length;p++)u=f[p],this[u]=r[u].canvas},d.prototype.__applyStyleState=function(p){var u,f,b=Object.keys(p);for(u=0;u<b.length;u++)f=b[u],this[f]=p[f]},d.prototype.__getStyleState=function(){var p,u,f={},b=Object.keys(r);for(p=0;p<b.length;p++)u=b[p],f[u]=this[u];return f},d.prototype.__applyStyleToCurrentElement=function(p){var u=this.__currentElement,f=this.__currentElementsToStyle;f&&(u.setAttribute(p,""),u=f.element,f.children.forEach(function(S){S.setAttribute(p,"")}));var b,m,c,n,s,v,A=Object.keys(r);for(b=0;b<A.length;b++)if(m=r[A[b]],c=this[A[b]],m.apply){if(c instanceof l){if(c.__ctx)for(;c.__ctx.__defs.childNodes.length;)n=c.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[n]=n,this.__defs.appendChild(c.__ctx.__defs.childNodes[0]);u.setAttribute(m.apply,O("url(#{id})",{id:c.__root.getAttribute("id")}))}else if(c instanceof i)u.setAttribute(m.apply,O("url(#{id})",{id:c.__root.getAttribute("id")}));else if(m.apply.indexOf(p)!==-1&&m.svg!==c)if(m.svgAttr!=="stroke"&&m.svgAttr!=="fill"||c.indexOf("rgba")===-1){var M=m.svgAttr;if(A[b]==="globalAlpha"&&(M=p+"-"+m.svgAttr,u.getAttribute(M)))continue;u.setAttribute(M,c)}else{s=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,v=s.exec(c),u.setAttribute(m.svgAttr,O("rgb({r},{g},{b})",{r:v[1],g:v[2],b:v[3]}));var C=v[4],D=this.globalAlpha;D!=null&&(C*=D),u.setAttribute(m.svgAttr+"-opacity",C)}}},d.prototype.__closestGroupOrSvg=function(p){return p=p||this.__currentElement,p.nodeName==="g"||p.nodeName==="svg"?p:this.__closestGroupOrSvg(p.parentNode)},d.prototype.getSerializedSvg=function(p){var u,f,b,m,c,n,s=new XMLSerializer().serializeToString(this.__root);if(n=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi,n.test(s)&&(s=s.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),p)for(u=Object.keys(g),f=0;f<u.length;f++)b=u[f],m=g[b],c=new RegExp(b,"gi"),c.test(s)&&(s=s.replace(c,m));return s},d.prototype.getSvg=function(){return this.__root},d.prototype._dcgStartNamedGroup=function(p){var u=this.__createElement("g");u.setAttribute("id",p+this._randomPostfix);var f=this.__closestGroupOrSvg();this.__groupStack.push(f),f.appendChild(u),this.__currentElement=u},d.prototype._dcgEndNamedGroup=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElement||(this.__currentElement=this.__root.childNodes[1])},d.prototype._dcgSaveClassName=function(p){this._svgClassNames.push(p),this.__currentElement&&this.__currentElement.tagName==="path"&&!this.__currentDefaultPath&&(this.__currentElement.getAttribute("class")||this.__currentElement.setAttribute("class",p))},d.prototype._dcgRestoreClassName=function(){this._svgClassNames.pop()},d.prototype.save=function(){var p=this.__createElement("g"),u=this.__closestGroupOrSvg();this.__groupStack.push(u),u.appendChild(p),this.__currentElement=p,this.__stack.push(this.__getStyleState())},d.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var p=this.__stack.pop();this.__applyStyleState(p)},d.prototype.__addTransform=function(p){var u=this.__closestGroupOrSvg();if(u.childNodes.length>0){this.__currentElement.nodeName==="path"&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:u,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var f=this.__createElement("g");u.appendChild(f),this.__currentElement=f}var b=this.__currentElement.getAttribute("transform");b?b+=" ":b="",b+=p,this.__currentElement.setAttribute("transform",b)},d.prototype.scale=function(p,u){u===void 0&&(u=p),this.__addTransform(O("scale({x},{y})",{x:p,y:u}))},d.prototype.rotate=function(p){var u=180*p/Math.PI;this.__addTransform(O("rotate({angle},{cx},{cy})",{angle:u,cx:0,cy:0}))},d.prototype.translate=function(p,u){this.__addTransform(O("translate({x},{y})",{x:p,y:u}))},d.prototype.transform=function(p,u,f,b,m,c){this.__addTransform(O("matrix({a},{b},{c},{d},{e},{f})",{a:p,b:u,c:f,d:b,e:m,f:c}))},d.prototype.beginPath=function(){var p,u;this.__currentDefaultPath="",this.__currentPosition={},p=this.__createElement("path",{},!0),u=this.__closestGroupOrSvg(),u.appendChild(p),this.__currentElement=p},d.prototype.__applyCurrentDefaultPath=function(){var p=this.__currentElement;p.nodeName==="path"?p.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",p.nodeName)},d.prototype.__addPathCommand=function(p){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=p},d.prototype.moveTo=function(p,u){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.__currentPosition={x:p,y:u},this.__addPathCommand(O("M {x} {y}",{x:p,y:u}))},d.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},d.prototype.lineTo=function(p,u){this.__currentPosition={x:p,y:u},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(O("L {x} {y}",{x:p,y:u})):this.__addPathCommand(O("M {x} {y}",{x:p,y:u}))},d.prototype.bezierCurveTo=function(p,u,f,b,m,c){this.__currentPosition={x:m,y:c},this.__addPathCommand(O("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:p,cp1y:u,cp2x:f,cp2y:b,x:m,y:c}))},d.prototype.quadraticCurveTo=function(p,u,f,b){this.__currentPosition={x:f,y:b},this.__addPathCommand(O("Q {cpx} {cpy} {x} {y}",{cpx:p,cpy:u,x:f,y:b}))};var y=function(p){var u=Math.sqrt(p[0]*p[0]+p[1]*p[1]);return[p[0]/u,p[1]/u]};return d.prototype.arcTo=function(p,u,f,b,m){var c=this.__currentPosition&&this.__currentPosition.x,n=this.__currentPosition&&this.__currentPosition.y;if(c!==void 0&&n!==void 0){if(m<0)throw new Error("IndexSizeError: The radius provided ("+m+") is negative.");if(c===p&&n===u||p===f&&u===b||m===0)return void this.lineTo(p,u);var s=y([c-p,n-u]),v=y([f-p,b-u]);if(s[0]*v[1]==s[1]*v[0])return void this.lineTo(p,u);var A=s[0]*v[0]+s[1]*v[1],M=Math.acos(Math.abs(A)),C=y([s[0]+v[0],s[1]+v[1]]),D=m/Math.sin(M/2),S=p+D*C[0],x=u+D*C[1],B=[-s[1],s[0]],Z=[v[1],-v[0]],X=function(U){var F=U[0];return U[1]>=0?Math.acos(F):-Math.acos(F)},ee=X(B),W=X(Z);this.lineTo(S+B[0]*m,x+B[1]*m),this.arc(S,x,m,ee,W)}},d.prototype.stroke=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},d.prototype.fill=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},d.prototype.rect=function(p,u,f,b){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.moveTo(p,u),this.lineTo(p+f,u),this.lineTo(p+f,u+b),this.lineTo(p,u+b),this.lineTo(p,u),this.closePath()},d.prototype.fillRect=function(p,u,f,b){var m,c;m=this.__createElement("rect",{x:p,y:u,width:f,height:b},!0),c=this.__closestGroupOrSvg(),c.appendChild(m),this.__currentElement=m,this.__applyStyleToCurrentElement("fill")},d.prototype.strokeRect=function(p,u,f,b){var m,c;m=this.__createElement("rect",{x:p,y:u,width:f,height:b},!0),c=this.__closestGroupOrSvg(),c.appendChild(m),this.__currentElement=m,this.__applyStyleToCurrentElement("stroke")},d.prototype.__clearCanvas=function(){for(var p=this.__closestGroupOrSvg(),u=p.getAttribute("transform"),f=this.__root.childNodes[1],b=f.childNodes,m=b.length-1;m>=0;m--)b[m]&&f.removeChild(b[m]);this.__currentElement=f,this.__groupStack=[],u&&this.__addTransform(u)},d.prototype.clearRect=function(p,u,f,b){if(p===0&&u===0&&f===this.width&&b===this.height)return void this.__clearCanvas();var m,c=this.__closestGroupOrSvg();m=this.__createElement("rect",{x:p,y:u,width:f,height:b,fill:"#FFFFFF"},!0),c.appendChild(m)},d.prototype.createLinearGradient=function(p,u,f,b){var m=this.__createElement("linearGradient",{id:o(this.__ids),x1:p+"px",x2:f+"px",y1:u+"px",y2:b+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(m),new i(m,this)},d.prototype.createRadialGradient=function(p,u,f,b,m,c){var n=this.__createElement("radialGradient",{id:o(this.__ids),cx:b+"px",cy:m+"px",r:c+"px",fx:p+"px",fy:u+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(n),new i(n,this)},d.prototype.__parseFont=function(){var p=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i,u=p.exec(this.font),f={style:u[1]||"normal",size:u[4]||"10px",family:u[6]||"sans-serif",weight:u[3]||"normal",decoration:u[2]||"normal",href:null};return this.__fontUnderline==="underline"&&(f.decoration="underline"),this.__fontHref&&(f.href=this.__fontHref),f},d.prototype.__wrapTextLink=function(p,u){if(p.href){var f=this.__createElement("a");return f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p.href),f.appendChild(u),f}return u},d.prototype.__applyText=function(p,u,f,b){var m=this.__parseFont(),c=this.__closestGroupOrSvg(),n=this.__createElement("text",{"font-family":m.family,"font-size":m.size,"font-style":m.style,"font-weight":m.weight,"text-decoration":m.decoration,x:u,y:f,"text-anchor":w(this.textAlign)},!0);n.appendChild(this.__document.createTextNode(p)),this.__currentElement=n,this.__applyStyleToCurrentElement(b),c.appendChild(this.__wrapTextLink(m,n))},d.prototype.fillText=function(p,u,f){this.__applyText(p,u,f,"fill")},d.prototype.strokeText=function(p,u,f){this.__applyText(p,u,f,"stroke")},d.prototype.measureText=function(p){return this.__ctx.font=this.font,this.__ctx.measureText(p)},d.prototype.arc=function(p,u,f,b,m,c){if(b!==m){b%=2*Math.PI,m%=2*Math.PI,b===m&&(m=(m+2*Math.PI-.001*(c?-1:1))%(2*Math.PI));var n=p+f*Math.cos(m),s=u+f*Math.sin(m),v=p+f*Math.cos(b),A=u+f*Math.sin(b),M=c?0:1,C=0,D=m-b;D<0&&(D+=2*Math.PI),C=c?D>Math.PI?0:1:D>Math.PI?1:0,this.lineTo(v,A),this.__addPathCommand(O("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:f,ry:f,xAxisRotation:0,largeArcFlag:C,sweepFlag:M,endX:n,endY:s})),this.__currentPosition={x:n,y:s}}},d.prototype.clip=function(){var p=this.__closestGroupOrSvg(),u=this.__createElement("clipPath"),f=o(this.__ids),b=this.__createElement("g");this.__applyCurrentDefaultPath(),p.removeChild(this.__currentElement),u.setAttribute("id",f),u.appendChild(this.__currentElement),this.__defs.appendChild(u),p.setAttribute("clip-path",O("url(#{id})",{id:f})),p.appendChild(b),this.__currentElement=b},d.prototype.drawImage=function(){var p,u,f,b,m,c,n,s,v,A,M,C,D,S,x=Array.prototype.slice.call(arguments),B=x[0],Z=0,X=0;if(x.length===3)p=x[1],u=x[2],m=B.width,c=B.height,f=m,b=c;else if(x.length===5)p=x[1],u=x[2],f=x[3],b=x[4],m=B.width,c=B.height;else{if(x.length!==9)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);Z=x[1],X=x[2],m=x[3],c=x[4],p=x[5],u=x[6],f=x[7],b=x[8]}n=this.__closestGroupOrSvg(),this.__currentElement;var ee="translate("+p+", "+u+")";if(B instanceof d){if(s=B.getSvg().cloneNode(!0),s.childNodes&&s.childNodes.length>1){for(v=s.childNodes[0];v.childNodes.length;)S=v.childNodes[0].getAttribute("id"),this.__ids[S]=S,this.__defs.appendChild(v.childNodes[0]);if(A=s.childNodes[1]){var W,U=A.getAttribute("transform");W=U?U+" "+ee:ee,A.setAttribute("transform",W),n.appendChild(A)}}}else B.nodeName!=="CANVAS"&&B.nodeName!=="IMG"||(M=this.__createElement("image"),M.setAttribute("width",f),M.setAttribute("height",b),M.setAttribute("opacity",this.globalAlpha),M.setAttribute("preserveAspectRatio","none"),(Z||X||m!==B.width||c!==B.height)&&(C=this.__document.createElement("canvas"),C.width=f,C.height=b,D=C.getContext("2d"),D.drawImage(B,Z,X,m,c,0,0,f,b),B=C),M.setAttribute("transform",ee),M.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",B.nodeName==="CANVAS"?B.toDataURL():B.getAttribute("src")),n.appendChild(M))},d.prototype.createPattern=function(p,u){var f,b=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),m=o(this.__ids);return b.setAttribute("id",m),b.setAttribute("width",p.width),b.setAttribute("height",p.height),p.nodeName==="CANVAS"||p.nodeName==="IMG"?(f=this.__document.createElementNS("http://www.w3.org/2000/svg","image"),f.setAttribute("width",p.width),f.setAttribute("height",p.height),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p.nodeName==="CANVAS"?p.toDataURL():p.getAttribute("src")),b.appendChild(f),this.__defs.appendChild(b)):p instanceof d&&(b.appendChild(p.__root.childNodes[1]),this.__defs.appendChild(b)),new l(b,this)},d.prototype.setLineDash=function(p){p&&p.length>0?this.lineDash=p.join(","):this.lineDash=null},d.prototype.ellipse=function(p,u,f,b,m,c,n,s){if(c!==n){c%=2*Math.PI,n%=2*Math.PI,c===n&&(n=(n+2*Math.PI-.001*(s?-1:1))%(2*Math.PI));var v=p+Math.cos(-m)*f*Math.cos(n)+Math.sin(-m)*b*Math.sin(n),A=u-Math.sin(-m)*f*Math.cos(n)+Math.cos(-m)*b*Math.sin(n),M=p+Math.cos(-m)*f*Math.cos(c)+Math.sin(-m)*b*Math.sin(c),C=u-Math.sin(-m)*f*Math.cos(c)+Math.cos(-m)*b*Math.sin(c),D=s?0:1,S=0,x=n-c;x<0&&(x+=2*Math.PI),S=s?x>Math.PI?0:1:x>Math.PI?1:0,this.lineTo(M,C),this.__addPathCommand(O("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:f,ry:b,xAxisRotation:m*(180/Math.PI),largeArcFlag:S,sweepFlag:D,endX:v,endY:A})),this.__currentPosition={x:v,y:A}}},d.prototype.drawFocusRing=function(){},d.prototype.createImageData=function(){},d.prototype.getImageData=function(){},d.prototype.putImageData=function(){},d.prototype.globalCompositeOperation=function(){},d.prototype.setTransform=function(){},d}),q("graphing/screen",["require","exports"],function(O,o){Object.defineProperty(o,"__esModule",{value:!0});var w=function(){function r(d,i){this.width=d,this.height=i}return r}();o.Screen=w}),q("core/math/poi-type",["require","exports"],function(O,o){Object.defineProperty(o,"__esModule",{value:!0}),o.INTERSECTION=1001,o.ZERO=1002,o.INTERCEPT=1003,o.EXTREMUM=1004,o.EDGE=1005,o.DEFINITION=1006,o.TRACE=1007,o.LABEL=1008}),q("graphing/poi",["require","exports","core/math/poi-type","core/types/graphmode"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=1,i=function(){function l(g,y,p,u,f,b,m){this.x=g,this.y=y,this.type=p,this.sketch=u,this.branch=f,this.pointIdxOnBranch=b,this.bareLabel=m!==void 0&&m,this.id=d++}return l.prototype.getLabel=function(){var g=this.sketch&&this.sketch.branches[this.branch];return this.type===w.LABEL&&g&&"labels"in g&&g.labels&&g.labels[this.pointIdxOnBranch]||""},l.prototype.getGraphMode=function(){return this.sketch.branches[this.branch].graphMode},l.prototype.getCompiledFunction=function(){var g=this.sketch.branches[this.branch];if("compiled"in g&&g.compiled)return g.compiled.fn},l.prototype.isAttachedToPlottedPoint=function(){return this.type===w.DEFINITION||this.type===w.LABEL},l.prototype.isMovable=function(){return this.getGraphMode()===r.XYPOINT_MOVABLE},l.prototype.isPersistent=function(){return this.type===w.LABEL},l.prototype.getLabelSize=function(){var g=this.sketch&&this.sketch.branches[this.branch];if(this.type===w.LABEL&&g&&"labelSize"in g)return g.labelSize},l.prototype.getVerticalLabel=function(){var g=this.sketch&&this.sketch.branches[this.branch];return!!(this.type===w.LABEL&&g&&"verticalLabel"in g)&&!!g.verticalLabel},l.prototype.getTextOutline=function(){if(this.hasEditableLabel())return!1;var g=this.sketch&&this.sketch.branches[this.branch];return!(this.type===w.LABEL&&g&&"suppressTextOutline"in g)||!g.suppressTextOutline},l.prototype.hasInteractiveLabel=function(){var g=this.sketch&&this.sketch.branches[this.branch];return!!(g&&"interactiveLabel"in g)&&!!g.interactiveLabel},l.prototype.hasEditableLabel=function(){var g=this.sketch&&this.sketch.branches[this.branch];return!!(g&&"editableLabel"in g)&&!!g.editableLabel},l.prototype.isBareLabel=function(){return this.bareLabel},l.prototype.getMovablePoint=function(){return this.sketch.getMovablePointByIndex(this.pointIdxOnBranch)},l}();o.POI=i}),q("lib/mathspeak",["require","exports","vendor/mathquill","jquery"],function(O,o,w,r){function d(u){var f="",b=[];b=g(u)?y(u):[{from:0,to:u.length,type:"text",text:u}];for(var m=0,c=b;m<c.length;m++){var n=c[m];f+=n.type==="text"?n.text:i(n.text)}return f}function i(u){return u.match(/^\s*[\d]{0,3}(\.[\d]*)?\s*$/)?u:(p.latex(u),p.mathspeak().trim())}Object.defineProperty(o,"__esModule",{value:!0});var l=/`[^`]*`/g,g=function(u){if(u!=null){var f=u.match(/`/g);return(f!=null&&f.length||0)%2==0}return!0},y=function(u){var f=[];if(u==null||u.length==0)return f;for(var b,m=0;b=l.exec(u);){var c=u.slice(m,b.index);c.length>0&&f.push({from:m,to:b.index,type:"text",text:c}),m=b.index+b[0].length,f.push({from:b.index,to:m,type:"math",text:b[0].slice(1,-1)})}var n=u.slice(m);return n.length>0&&f.push({from:m,to:u.length,type:"text",text:n}),f},p=w.MQ.StaticMath(r("<span/>")[0]);o.getMathspeakFromText=d}),q("graphing/graphsketch",["require","exports","core/math/poi-type","core/types/graphmode","./poi","core/math/poi-type","lib/mathspeak"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function y(p,u){var f=this;this.color="#000000",this.style="normal",this.visible=!0,this.showPOI=!1,this.showHighlight=!1,this.selected=!1,this.labels=[],this.id=p,this.branches=u!==void 0?u:[],this.getPOI().forEach(function(b){b.type===w.LABEL&&f.labels.push(b)})}return y.prototype.getPOI=function(){if(this.__cachedPOI)return this.__cachedPOI;this.__cachedPOI=[],this.__cachedPOIIds={};for(var p=0;p<this.branches.length;p++){var u=this.branches[p],f=u.poi;if(u.graphMode===r.X||u.graphMode===r.Y)this._pushPOI(f.zeros,p,w.ZERO),this._pushPOI(f.intercept,p,w.INTERCEPT),this._pushPOI(f.extrema,p,w.EXTREMUM),f.intersections&&this._pushPOI(f.intersections,p,w.INTERSECTION);else if(u.graphMode===r.XYPOINT||u.graphMode===r.XYPOINT_MOVABLE){u.graphMode;var b=u.graphMode===r.XYPOINT&&u.interactiveLabel===!0;if(u.showLabel===!0||b){var m=u.nakedLabel;f.defined&&this._pushPOI(f.defined,p,w.LABEL,m)}else f.defined&&this._pushPOI(f.defined,p,w.DEFINITION)}}return this.__cachedPOI},y.prototype.getBranchPOI=function(p){return this.getPOI().filter(function(u){return u.branch===p})},y.prototype.getMovablePoints=function(){if(this.__cachedMovablePoints)return this.__cachedMovablePoints;this.__cachedMovablePoints=[];var p=this.branches[0];if(p&&p.segments.length===1&&p.graphMode===r.XYPOINT_MOVABLE)for(var u=p.segments[0],f=0;f<u.length;f++){var b=void 0;p.tableId&&(b={tableId:p.tableId,columnId:this.id,rowIndex:p.movablePointInfo[f].index,dragX:p.movablePointInfo[f].dragX,dragY:p.movablePointInfo[f].dragY});var m=p.scaleFactors?p.scaleFactors[0][f]:void 0,c=b?b.rowIndex:f,n=p.segments.length===1&&p.labels&&p.labels[f]?p.labels[f]:void 0;this.__cachedMovablePoints.push({type:"movable-point",id:"movable:["+this.id+","+c+"]",sketch:this,color:this.color,tableInfo:b,scaleFactor:m,x:u[f][0],y:u[f][1],label:n,ariaLabel:n&&l.getMathspeakFromText(n)})}return this.__cachedMovablePoints},y.prototype.getMovablePointByIndex=function(p){return this.getMovablePoints()[p]},y.prototype.getStaticLabeledPoints=function(){var p=this;if(this.__cachedStaticLabeledPoints)return this.__cachedStaticLabeledPoints;var u=this.branches[0];return this.__cachedStaticLabeledPoints=[],this.getPOI().forEach(function(f){if((f.type===i.DEFINITION||f.type===i.LABEL)&&u.graphMode===r.XYPOINT){var b=u.showLabel,m=u.labels&&u.labels[0];(b||m)&&p.__cachedStaticLabeledPoints.push({type:"static-labeled-point",id:"static["+p.id+","+f.id+"]",x:f.x,y:f.y,sketch:f.sketch,label:m,ariaLabel:l.getMathspeakFromText(m)})}}),this.__cachedStaticLabeledPoints},y.prototype._pushPOI=function(p,u,f,b){b===void 0&&(b=!1);for(var m=0,c=p.x.length;m<c;m++){var n=new d.POI(p.x[m],p.y[m],f,this,u,m,b);p.intersects&&(n.intersects=p.intersects[m]),this.__cachedPOI.push(n),this.__cachedPOIIds[n.id]=n}},y.prototype.updateIntersections=function(p){for(var u=this,f=0,b=this.branches.length;f<b;f++)this.branches[f].poi.intersections=p[f];var m=this.__cachedPOI;this.__cachedPOI=[],m.forEach(function(v){v.type!==w.INTERSECTION?u.__cachedPOI.push(v):delete u.__cachedPOIIds[v.id]});for(var f=0;f<this.branches.length;f++){var c=this.branches[f],n=c.graphMode,s=c.poi;n!==r.X&&n!==r.Y||s.intersections&&this._pushPOI(s.intersections,f,w.INTERSECTION)}},y.prototype.getPOIById=function(p){return this.__cachedPOIIds[p]},y.prototype.updateFrom=function(p){if(p){this.visible=!0,this.showPOI=p.showPOI,this.showHighlight=p.showHighlight,this.selected=p.selected;var u=this.branches[0].graphMode;if(u===r.XYPOINT||u===r.XYPOINT_MOVABLE){for(var f=!0,b=0;b<this.__cachedPOI.length;b++){var m=p.__cachedPOI[b],c=this.__cachedPOI[b];if(!m||m.type!==c.type){f=!1;break}}if(f)for(var b=0;b<this.__cachedPOI.length;b++){var m=p.__cachedPOI[b],c=this.__cachedPOI[b];delete this.__cachedPOIIds[c.id],this.__cachedPOIIds[m.id]=c,c.id=m.id}}}},y}();o.GraphSketch=g}),function(O){if(typeof q=="function"&&q.amd)q("base64",[],O);else{var o;o=typeof window<"u"?window:typeof I<"u"?I:typeof self<"u"?self:this,o.base64js=O()}}(function(){return function O(o,w,r){function d(g,y){if(!w[g]){if(!o[g]){var p=typeof ae=="function"&&ae;if(!y&&p)return p(g,!0);if(i)return i(g,!0);var u=new Error("Cannot find module '"+g+"'");throw u.code="MODULE_NOT_FOUND",u}var f=w[g]={exports:{}};o[g][0].call(f.exports,function(b){var m=o[g][1][b];return d(m||b)},f,f.exports,O,o,w,r)}return w[g].exports}for(var i=typeof ae=="function"&&ae,l=0;l<r.length;l++)d(r[l]);return d}({"/":[function(O,o,w){function r(n){var s=n.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return n[s-2]==="="?2:n[s-1]==="="?1:0}function d(n){return 3*n.length/4-r(n)}function i(n){var s,v,A,M,C,D,S=n.length;C=r(n),D=new f(3*S/4-C),A=C>0?S-4:S;var x=0;for(s=0,v=0;s<A;s+=4,v+=3)M=u[n.charCodeAt(s)]<<18|u[n.charCodeAt(s+1)]<<12|u[n.charCodeAt(s+2)]<<6|u[n.charCodeAt(s+3)],D[x++]=M>>16&255,D[x++]=M>>8&255,D[x++]=255&M;return C===2?(M=u[n.charCodeAt(s)]<<2|u[n.charCodeAt(s+1)]>>4,D[x++]=255&M):C===1&&(M=u[n.charCodeAt(s)]<<10|u[n.charCodeAt(s+1)]<<4|u[n.charCodeAt(s+2)]>>2,D[x++]=M>>8&255,D[x++]=255&M),D}function l(n){return p[n>>18&63]+p[n>>12&63]+p[n>>6&63]+p[63&n]}function g(n,s,v){for(var A,M=[],C=s;C<v;C+=3)A=(n[C]<<16)+(n[C+1]<<8)+n[C+2],M.push(l(A));return M.join("")}function y(n){for(var s,v=n.length,A=v%3,M="",C=[],D=0,S=v-A;D<S;D+=16383)C.push(g(n,D,D+16383>S?S:D+16383));return A===1?(s=n[v-1],M+=p[s>>2],M+=p[s<<4&63],M+="=="):A===2&&(s=(n[v-2]<<8)+n[v-1],M+=p[s>>10],M+=p[s>>4&63],M+=p[s<<2&63],M+="="),C.push(M),C.join("")}w.byteLength=d,w.toByteArray=i,w.fromByteArray=y;for(var p=[],u=[],f=typeof Uint8Array<"u"?Uint8Array:Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,c=b.length;m<c;++m)p[m]=b[m],u[b.charCodeAt(m)]=m;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}]},{},[])("/")}),q("bin",["base64"],function(O){var o={};return{load:function(w,r,d,i){var l=r.toUrl("assets_src/"+w);if(i.isBuild){var g=ae.nodeRequire("fs");o[w]=g.readFileSync(l).toString("base64"),d()}else{var y=new XMLHttpRequest;y.open("GET",l,!0),y.responseType="arraybuffer",y.onload=function(){d(y.response)},y.send()}},write:function(w,r,d,i){r in o?d("define('"+w+"!"+r+"', ['base64'], function (base64) {  return base64.toByteArray('"+o[r]+"').buffer;});"):console.log("ERROR - failed to find file "+r+" in buildMap")}}}),q("bin!audio/poi.mp3",["base64"],function(O){return O.toByteArray("//tQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAIAAAHVwAgICAgICAgICAgICBAQEBAQEBAQEBAQEBgYGBgYGBgYGBgYGBggICAgICAgICAgICAoKCgoKCgoKCgoKCgoMDAwMDAwMDAwMDAwODg4ODg4ODg4ODg4OD///////////////8AAAA5TEFNRTMuOThyAaUAAAAALmcAABRAJAiwQgAAQAAAB1cctrbdAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7UMQAAAjsKyK0YYABp52xtx8wAgAgBd34IAhAgnsECEe7QIAAgsPxACDgcBAEHQfD/g+D4PggCAIf///ghLny4Pg+D5+sHz/wf+XPwfB8H3iMHwfwffUCYPvz/Y7Hg/H4/H4/H4HAwADcoDwAP7XfuAFtXrhzjsjOXP8iCYM4IBVoH2DGAhQR2hm5vikA2IVEPX9nQaITi6IiLCKX/fxcg/DdGmS5BP7fIGQ0hw7DQi5Q//8midImXygdJ0tlz/1NAgXIANV6MA2Vy2y27jv/+1LEBIALOHOTvGGAMXWhbnTxGZ+LOa2FNMsDtj9/jUmPqqqARrNvlVjDDoGZqq0T11A0DVqeEnlQk8q4sVEp0FcqdxLoEJ0RPYWvIlQkbGA0Anw6VJJgqRKw1NJaAXkR4ag0/FwCCABbbdbJA0fzVgdvgvu5Px6Rwiv3VllZVDREqmWntLyBDka3sz951iTve+ddHP0/M3P/+ydU4zbqOZOeop5jfu1kwk8VezPeGc1hRMbWrJNv6SO/fH0Mc15KYvKqAAAAdrdsrbBDuBpp4v/7UsQGgguVE2ekjNP5aSBo6YSNgKAQUoCZEBJK8q73G/nhJFFmLY5dNc4b7gjBRyEs5yjJokY9TBoU/pXQBglyNjeiA87V8vkzaw019YTu2fxY0t6gteLMI37f9fYw7UVnWoE4NJOSpQBu3GfVAIVACgw+IikZZAnB7UKlLGnha4PDbIhsBhk4RYmlE2hYZ8NrQ5HnyEUvZxDyVG1hM33ZZH0OlrJV5///3/51qTGtJgxhREVLEfoO1w6686eRAAAAUicksbA1qegZCe2AuEgJ//tSxAkCDF0XSaw8ailyn+l1h4w1BvVY04S56fYY5nGkBZHMGLBjHDUMlORG4wcCT9R6RB+3vM8jVMU1hmlOoXIOMKqotE2HxWYNJq/7EZ2l63NJ+Z2aTA4Yq+7t0PhOxCz9WP1mA3DJZZGDkRfq+qFAGwhwHUAVqBfDiMUlypaMWApR1VoWLChfUpJzkBDMCTf85UZr6jyHa1psZnTS5iKatTVKcX/Ker9zMvM1T0okGyiQcreJbU1tc+Yj/ms3395FBIADkjlkjbAZNdiwgRD/+1LEBwAL8Tdbp6Rh+XmT6XWHjCx5U4sTCtlUidNtS9I7oUx7oxdIZlOghkIQYzB0vxtMs6QgCg4WMVakQMM5HRfrsdIEftM0yfOHnNGkiPRMoWCKSsxsChat8/vYw4c4t+CMMB5AAAAXZrftWiEVdbSgnURZoWvK2KhK9GfCkIGnQKxIqbYJ0JCNFJ3St1wuUNRLW4Kw5VhLVGrmgYKhhRe1qzzC7SqFFyjJlIqXcPD6gw//epZ9bwQFw+s+rdVAFtzl0AAAA3I3JK0QJxtCHv/7UsQGAApAM0WssGFpSCKqNYMMvgZph6CwIhKEt0yEiMwFKpnDBBajVc5jbTM7KayRt3I43h8Ag05kd9AtqO0bItmf/+Aevzf7dx28sK0hvP//3/izNwf1pfEAgANutuOJACSqWvuW+SKNLQSpOQKsrX3XxnZxy2Rus0Q1irPy9Mkg4kZGJFRQUax4R+jsACwavqYd2bmRX/6VnKrLk2Z2VGYwQNCIEasJh7/oBScAAMtBNgBWssKw0uCAgKkVpJirpZyBklUCwqaSIkW6BgIY//tSxBIDSYw3Km0kSoEzi9KAliSw9QNAydBqoFQVEQNBwiJYiBWdDqxiwVBUGqg6JgaBoGj3//////huVcFQsIRoPjBXLBGA8AkCwOhcD4KAmFAtEYcR6E8gD2OAXJ2N//uSJVZVJNRdh0gkLCwuKioqz4sLC3//////4sLC31ioqKpAoqKirOgFqkxBTUUzLjk4LjKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEIwPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==").buffer}),q("graphing/tonegenerator",["require","exports","bin!audio/poi.mp3","tslib","browser","lib/animation-frame","bugsnag","core/types/graphmode"],function(O,o,w,r,d,i,l,g){function y(){return{amplitude:0,phase:0,noiseVal:0,lowerOctaveGain:0,upperOctaveGain:0}}function p(fe,re){var se=re.independentMin,he=re.independentMax,xe=Math.abs((fe-se)/(he-se));return isFinite(xe)||(xe=.5),xe=Math.max(Math.min(xe,1),0),{left:Math.cos(Math.PI/2*xe),right:Math.sin(Math.PI/2*xe)}}function u(fe,re,se,he,xe){var Me=re.independent,Be=re.dependent,ke=fe.phase,Re=fe.noiseVal,Ve=fe.lowerOctaveGain,ye=fe.upperOctaveGain,P=se.dependentMin,ue=se.dependentMax,Ae=0,_e=0,qe=0;return!isNaN(Be)&&P<=Be&&Be<=ue?(ke+=f((Be-P)/(ue-P))/he,xe<4*Y?(_e=0,qe=0):(_e=.5,qe=Me<0?.5:0),Be<0&&(Re=m(Re),Ae+=.15*Re)):(Re=m(Re),Ae+=.15*Re),Ve+=(_e-Ve)/(he*Y),ye+=(qe-ye)/(he*Y),Ae+=Ve*b(ke)+ye*b(2*ke),{amplitude:Ae,phase:ke,noiseVal:Re,lowerOctaveGain:Ve,upperOctaveGain:ye}}function f(fe){return Math.min(Math.max(te*Math.pow(2,fe),ge),H)}function b(fe){return Math.abs(4*fe+1-4*Math.floor((4*fe+3)/4))-1}function m(fe){return(fe+.2*(2*Math.random()-1))/1.02}function c(fe,re){return fe[0]-re[0]}function n(fe){fe=r.__assign({},fe);var re=fe.segments[0].slice();return re.sort(c),fe.segments=[re],fe}function s(fe,re,se,he){for(var xe=fe.getChannelData(0),Me=re.getChannelData(0),Be=re.getChannelData(1),ke=0;ke<xe.length&&ke+se<Me.length;ke++)Me[ke+se]+=xe[ke]*he.left,Be[ke+se]+=xe[ke]*he.right}function v(fe){for(var re=0,se=fe.branches;re<se.length;re++)if(A(se[re]))return!0;return!1}function A(fe){switch(fe.graphMode){case g.X:case g.Y:case g.XYPOINT:case g.XYPOINT_MOVABLE:return fe.segments.length>0;default:return!1}}function M(fe){for(var re=0;re<fe.branches.length;re++)if(A(fe.branches[re]))return re;return 0}function C(fe,re){for(var se=0,he=0;he<=re;he++)A(fe.branches[he])&&(se+=1);return se}function D(fe){switch(fe.graphMode){case g.X:case g.Y:case g.XYPOINT:case g.XYPOINT_MOVABLE:return!0;default:return!1}}function S(fe,re,se){switch(fe.graphMode){case g.Y:case g.X:if(re<0||re>=fe.segments.length)return!1;var he=fe.segments[re],xe=2*se;return xe>=0&&xe<he.length;case g.XYPOINT:case g.XYPOINT_MOVABLE:return se>=0&&se<=1&&re>=0&&re<fe.segments[0].length;default:return!1}}function x(){return{independent:NaN,dependent:NaN}}function B(fe,re,se,he,xe){if(!S(fe,re,se))return x();switch(fe.graphMode){case g.Y:case g.X:var ke=fe.segments[re],Me=2*se;return Me+1>=ke.length?x():{independent:ke[Me],dependent:ke[Me+1]};case g.XYPOINT:case g.XYPOINT_MOVABLE:var Be=fe.segments[0][re][1],ke=fe.segments[0],Re=.5*(he.xmax-he.xmin)/xe*ne;if(se===0){var Ve=-1/0;S(fe,re-1,0)&&(Ve=.5*(ke[re][0]+ke[re-1][0]));var P=Math.max(ke[re][0]-Re,Ve);return{independent:P,dependent:Be}}var ye=1/0;S(fe,re+1,0)&&(ye=.5*(ke[re][0]+ke[re+1][0]));var P=Math.min(ke[re][0]+Re,ye);return{independent:P,dependent:Be};default:return x()}}function Z(fe){switch(fe.graphMode){case g.Y:case g.X:return fe.segments.length;case g.XYPOINT:case g.XYPOINT_MOVABLE:return fe.segments[0].length;default:return 0}}function X(fe,re,se,he){if(!S(fe,re,0))return NaN;switch(fe.graphMode){case g.Y:case g.X:var xe=fe.segments[re];return xe[xe.length-2];case g.XYPOINT:case g.XYPOINT_MOVABLE:var xe=fe.segments[0],Me=1/0;S(fe,re+1,0)&&(Me=.5*(xe[re][0]+xe[re+1][0]));var Be=.5*(se.xmax-se.xmin)/he*ne;return Math.min(xe[re][0]+Be,Me);default:return NaN}}function ee(fe,re){switch(re){case g.Y:case g.XYPOINT:case g.XYPOINT_MOVABLE:return{independentMin:fe.xmin,independentMax:fe.xmax,dependentMin:fe.ymin,dependentMax:fe.ymax};case g.X:return{independentMin:fe.ymin,independentMax:fe.ymax,dependentMin:fe.xmin,dependentMax:fe.xmax};default:throw F(re)}}function W(fe){switch(fe.graphMode){case g.Y:case g.XYPOINT:case g.XYPOINT_MOVABLE:return{independent:fe.x,dependent:fe.y};case g.X:return{independent:fe.y,dependent:fe.x};default:throw F(fe.graphMode)}}function U(fe,re){if(fe===g.X)return re.y;if(fe===g.Y)return re.x;throw F(fe)}function F(fe){return"Unexpected graph mode. Received "+fe}function G(fe,re,se,he){var xe=fe.sampleRate,Me=fe.getChannelData(0),Be=fe.getChannelData(1),ke=re.graphMode,Re=ee(se,ke),Ve=Re.independentMin,ye=Re.independentMax,P=ye-Ve,ue=0,Ae=0,_e=Me.length-1,qe=_e/xe;re.graphMode!==g.XYPOINT&&re.graphMode!==g.XYPOINT_MOVABLE||(re=n(re));for(var Ye=y(),Ie=0;Ie<Me.length;Ie++){for(var Ne=NaN,z=(_e-Ie)/_e*Ve+Ie/_e*ye,Pe=p(z,Re);ue<Z(re)&&B(re,ue,Ae,se,qe).independent<z;)Ae+=1,S(re,ue,Ae)||(ue+=1,Ae=0);var ot=(X(re,ue,se,qe)-z)*(qe/P),rt=B(re,ue,Ae,se,qe),kt=B(re,ue,Ae-1,se,qe),ve=rt.independent-kt.independent;Ne=(rt.independent-z)/ve*kt.dependent+(z-kt.independent)/ve*rt.dependent,Ye=u(Ye,{independent:z,dependent:Ne},Re,xe,ot),Me[Ie]+=Ye.amplitude*Pe.left,Be[Ie]+=Ye.amplitude*Pe.right}if(he&&(ke===g.X||ke===g.Y)&&re.poi.intersections)for(var ze=U(ke,re.poi.intersections),je=0,Te=ze;je<Te.length;je++){var z=Te[je],Ie=Math.round((z-Ve)/(ye-Ve)*_e);s(he,fe,Ie,p(z,Re))}}function ie(fe,re,se,he){for(var xe=fe.sampleRate,Me=fe.getChannelData(0),Be=fe.getChannelData(1),ke=re.graphMode,Re=ee(se,ke),Ve=Me.length-1,ye=y(),P=W(re),ue=P.independent,Ae=P.dependent,_e=p(ue,Re),qe=0;qe<Me.length;qe++)ye=u(ye,{independent:ue,dependent:Ae},Re,xe,(Ve-qe)/xe),Me[qe]+=ye.amplitude*_e.left,Be[qe]+=ye.amplitude*_e.right;he&&re.intersects!==void 0&&s(he,fe,0,_e)}Object.defineProperty(o,"__esModule",{value:!0});var ne=.075,Y=.0015,ge=125,te=500,H=2e3,pe=function(){function fe(re){var se=re.audioPointMove,he=re.animationFinished;this.audioSpeed=50,this.audioVolume=.5,this.audioPointMove=se,this.animationFinished=he}return fe.prototype.suspend=function(){this.playbackSupported&&this.audioCtx&&(this.stop(),this.audioCtx.suspend())},fe.prototype.resume=function(){if(!this.audioCtx){var re=window.AudioContext||window.webkitAudioContext;if(d.IS_IE)this.playbackSupported=!1,this.audioCtx=void 0;else try{this.audioCtx=re?new re:void 0,this.playbackSupported=!0}catch(se){l.notify(se),this.playbackSupported=!1,this.audioCtx=void 0}}this.playbackSupported&&this.audioCtx&&(this.audioCtx.state==="suspended"&&this.audioCtx.resume(),this.loadPOI())},fe.prototype.stop=function(){this.playTimeout&&(i.cancelAnimationFrame(this.playTimeout),this.playTimeout=void 0),this.bufferSource&&(this.bufferSource.stop(),this.bufferSource.disconnect(),this.bufferSource=void 0),this.animationFinished()},fe.prototype.isAnimating=function(){return this.playTimeout!==void 0},fe.prototype.getAudioSpeed=function(){return this.audioSpeed},fe.prototype.setAudioSpeed=function(re){this.audioSpeed=re},fe.prototype.getAudioVolume=function(){return this.audioVolume},fe.prototype.setAudioVolume=function(re){this.audioVolume=re,this.gainMaster!==void 0&&(this.gainMaster.gain.value=this.audioVolume)},fe.prototype.getPlaybackSupported=function(){return this.playbackSupported},fe.prototype.playBranchByIndex=function(re,se,he){var xe=this;if(!(se<0||se>=re.branches.length)&&A(re.branches[se])){var Me=function(){return xe.stop()};this.playBranch(re.branches[se],se,he,Me)}},fe.prototype.playSketch=function(re,se){var he=this,xe=re.branches;if(xe.length!==0){var Me=-1,Be=function(){for(Me+=1;Me<xe.length&&!A(xe[Me]);)Me+=1;Me<xe.length?he.playBranch(xe[Me],Me,se,Be):he.stop()};Be()}},fe.prototype.playPoint=function(re,se){if(this.audioCtx&&D(re)){var he=this.audioCtx.sampleRate,xe=he*ne,Me=this.audioCtx.createBuffer(2,xe,he);ie(Me,re,se,this.poiBuffer),this.connectBuffer(Me)}},fe.prototype.connectBuffer=function(re){if(this.audioCtx){this.gainMaster=this.audioCtx.createGain(),this.gainMaster.connect(this.audioCtx.destination),this.gainMaster.gain.value=this.audioVolume;var se=this.audioCtx.createBufferSource();this.bufferSource=se,se.buffer=re,se.connect(this.gainMaster),se.start()}},fe.prototype.playBranch=function(re,se,he,xe){var Me=this;if(this.audioCtx){var Be=this.audioSpeed/10,ke=this.audioCtx.sampleRate,Re=ke*Be,Ve=this.audioCtx.createBuffer(2,Re,ke);G(Ve,re,he,this.poiBuffer),this.connectBuffer(Ve);var ye=this.audioCtx.currentTime,P=function(){if(Me.playTimeout!==void 0&&i.cancelAnimationFrame(Me.playTimeout),Me.audioCtx){var ue=Me.audioCtx.currentTime,Ae=ue-ye,_e=re.graphMode,qe=ee(he,_e),Ye=qe.independentMin,Ie=qe.independentMax,Ne=(Be-Ae)/Be*Ye+Ae/Be*Ie;Me.audioPointMove(se,Ne),Ae<Be?Me.playTimeout=i.requestAnimationFrame(P):xe()}};P()}},fe.prototype.loadPOI=function(){var re=this;this.playbackSupported&&!this.poiBuffer&&this.audioCtx&&this.audioCtx.decodeAudioData(w.slice(0),function(se){re.poiBuffer=se})},fe}();o.default=pe,o.canPlaySketch=v,o.canPlayBranch=A,o.getFirstPlayableBranchIndex=M,o.getReportedBranch=C}),q("graphing/audiographnavigator",["require","exports","main/propagate_selection","tslib","underscore","core/types/graphmode","core/lib/label","core/math/poi-type","graphing/tonegenerator","underscore","lib/aria"],function(O,o,w,r,d,i,l,g,y,p,u){function f(m,c,n){return{x:m.x,y:m.y,branch:m.branch,reportedBranch:n,type:m.type,graphMode:c,intersects:m.intersects}}Object.defineProperty(o,"__esModule",{value:!0});var b=function(){function m(c,n,s){this.grapher=s,this.controller=c,this.audiograph=n,this.reset()}return m.prototype.reset=function(){this.currentPoint=void 0,this.resetToFirstBranch(),this.sampledPoints=[],this.pois=[],this.independent=0,this.xstep=0,this.ystep=0},m.prototype.resetToFirstBranch=function(){var c=this.getCurrentSketch();this.branch=c?y.getFirstPlayableBranchIndex(c):0},m.prototype.getBranchPoints=function(c){var n=[];if(c>=0)for(var s=0,v=this.getSampledPoints();s<v.length;s++){var A=v[s];A.branch===c&&n.push(A)}return n},m.prototype.resetTracePoint=function(){this.drawTrace(this.getCurrentPoint())},m.prototype.drawTrace=function(c){var n=this.getCurrentSketch();if(c&&n){var s=n.branches[this.branch];if(s&&s.graphMode!==i.XYPOINT){var v={x:c.x,y:c.y},A={branchInfo:{branch:c.branch,id:n.id,sketch:n},pt:v};p.isEqual(A,this.grapher.traceLayer.getTraceInfo())||(this.grapher.traceLayer.setTraceInfo(A),this.grapher.redrawAllLayers())}}},m.prototype.moveToOrigin=function(){var c=this.getCurrentSketch();if(c&&y.canPlaySketch(c)){var n=c.branches[this.branch];if(y.canPlayBranch(n)){var s=n.graphMode;if(s===i.Y)this.setIndependent("x",0);else if(s===i.X)this.setIndependent("y",0);else if(s===i.XYPOINT){var v=this.getSortedPOI()[0];this.setIndependent("x",v?v.x:0)}}}},m.prototype.getCurrentSketch=function(){var c,n=this.getSelectedItem();if(n){var s=this.audiograph.getFocusedCell();c=n.type==="table"&&s?this.getGraphSketchForTableCell(n,s):this.grapher.getGraphSketch(n.id)}return c},m.prototype.getFirstTraceableSketch=function(c){for(var n,s=this.controller.getItemCount(),v=this.controller.shouldAudioTraceReverseExpressions(),A=0;A<s;A++){var M=v?s-1-A:A,C=this.controller.getItemModelByIndex(M);if(C&&this.canTrace(C)){var D=v?this.prevTableColumn(C):this.nextTableColumn(C);if(D?(this.audiograph.setFocusedCell(D),n=this.getGraphSketchForTableCell(C,D)):n=this.grapher.getGraphSketch(C.id),n){c&&c.selectAssociatedExpression&&this.controller.dispatch({type:"set-selected-index",index:M});break}}}return n},m.prototype.canTrace=function(c){if(c.type==="image")return!1;if("shouldGraph"in c){var n=this.grapher.getGraphSketch(c.id);return!!n&&y.canPlaySketch(n)}return!1},m.prototype.getTraceableExpressionCount=function(){for(var c=0,n=this.controller.getItemCount(),s=0;s<n;s++){var v=this.controller.getItemModelByIndex(s);v&&this.canTrace(v)&&c++}return c},m.prototype.computeStepSizes=function(){var c=this.grapher.getProjection().viewport;if(c){this.viewport=c;var n=c.xmin,s=c.xmax;this.xstep=Math.abs(s-n)/100,this.xscale=s-n;var v=c.ymin,A=c.ymax;this.ystep=Math.abs(A-v)/100,this.yscale=A-v;var M=this.getCurrentSketch();if(M&&y.canPlaySketch(M)){var C=M.branches[this.branch];if(y.canPlayBranch(C)){var D=C.graphMode;if(D===i.Y)this.independent<n?this.independent=n:this.independent>s&&(this.independent=s);else if(D===i.X)this.independent<v?this.independent=v:this.independent>A&&(this.independent=A);else if(D===i.XYPOINT){var S=void 0,x=void 0;this.independent<n?(x=this.getSortedPOI()[0],this.independent=x&&x.x!==void 0?x.x:0):this.independent>s&&(S=this.getSortedPOI(),x=S[S.length-1],this.independent=x&&x.x!==void 0?x.x:0)}}}}},m.prototype.getPoint=function(c,n){var s,v=this.getCurrentSketch();if(!v||!y.canPlaySketch(v))return s;var A,M,C,D=0,S=v.branches[c];if(S){var x=y.getReportedBranch(v,c);return"compiled"in S&&S.compiled&&(C=S.compiled.fn),M=S.graphMode,M===i.Y?(A=this.getInterveningPOIs(n,n+this.xstep,c,M)[0],A&&A.x===n&&A.branch===c||(A=void 0,D=C?C(n):0),A?s={x:A.x,y:A.y,type:A.type,typeChain:A.typeChain,branch:A.branch,reportedBranch:x,graphMode:M,intersects:A.intersects}:C&&(s={x:n,y:D,branch:c,reportedBranch:x,graphMode:M})):M===i.X?(A=this.getInterveningPOIs(n,n+this.ystep,c,M)[0],A&&A.y===n&&A.branch===c||(A=void 0,D=C?C(n):0),A?s={x:A.x,y:A.y,type:A.type,typeChain:A.typeChain,branch:A.branch,reportedBranch:x,graphMode:M,intersects:A.intersects}:C&&(s={y:n,x:D,branch:c,reportedBranch:x,graphMode:M})):M===i.XYPOINT&&(A=this.getInterveningPOIs(n,n+this.xstep,c,M)[0],s=A&&A.x===n&&A.branch===c?{x:A.x,y:A.y,type:A.type,typeChain:A.typeChain,branch:A.branch,reportedBranch:x,graphMode:M,intersects:A.intersects}:{x:n,y:NaN,branch:c,reportedBranch:x,graphMode:M}),s}},m.prototype.getSampledPoints=function(){return this.sampledPoints.length===0&&this.updateSampledPoints(),this.sampledPoints},m.prototype.updateSampledPoints=function(){var c=this.getCurrentSketch();if(c&&y.canPlaySketch(c)){for(var n=[],s=0;s<c.branches.length;s++){var v=c.branches[s];if(y.canPlayBranch(v)){var A=v.graphMode,M=0,C=0,D=0,S=[];if(A===i.Y||A===i.XYPOINT?(M=this.viewport.xmin,C=this.viewport.xmax,D=this.xstep):A===i.X&&(M=this.viewport.ymin,C=this.viewport.ymax,D=this.ystep),M!==0||C!==0||D!==0){for(var x=0;l.value(M+x*D).value<=C;x++){var B=l.value(M+x*D).value,Z=this.getInterveningPOIs(B,B+D,s,A);if(Z.length>0)S.push.apply(S,Z);else{var X=this.getPoint(s,B);X&&S.push(X)}}n.push.apply(n,this.removeDuplicates(S,A))}}}this.sampledPoints=n}},m.prototype.getCurrentPoint=function(){return this.currentPoint||this.updateCurrentPoint(),this.currentPoint},m.prototype.updateCurrentPoint=function(c){if(c){this.currentPoint=c;var n=c.graphMode;n===i.Y||n===i.XYPOINT?this.independent=c.x!==void 0?c.x:0:n===i.X&&(this.independent=c.y!==void 0?c.y:0),this.branch=c.branch}else this.currentPoint=this.getPoint(this.branch,this.independent)},m.prototype.prevPoint=function(){this.moveToPoint(-1)},m.prototype.nextPoint=function(){this.moveToPoint(1)},m.prototype.firstPoint=function(){var c=this.getSampledPoints();c.length>0&&this.updateCurrentPoint(c[0])},m.prototype.lastPoint=function(){var c=this.getSampledPoints();c.length>0&&this.updateCurrentPoint(c[c.length-1])},m.prototype.moveToPoint=function(c){var n=this.getCurrentPoint();if(n){if(n.graphMode===i.XYPOINT)return void this.moveToPOI(c);var s=this.getSampledPoints(),v=this.getPointIndex(s,n);if(v!==-1){var A=v+c;A<=0?(A=0,u.queue(this.controller.t("First point"))):A>=s.length-1&&(A=s.length-1,u.queue(this.controller.t("Last point")));var M=s[A];this.updateCurrentPoint(M)}}},m.prototype.prevPOI=function(){this.moveToPOI(-1)},m.prototype.nextPOI=function(){this.moveToPOI(1)},m.prototype.getSortedPOI=function(){return this.pois&&this.pois.length!==0||this.updatePOI(),this.pois},m.prototype.updatePOI=function(){var c,n=[],s=[],v=this.getCurrentSketch();if(v&&y.canPlaySketch(v)){for(var A=0;A<v.branches.length;A++){var M=v.branches[A];if(M){var C=y.getReportedBranch(v,A),D=M.graphMode;if(s=[],c=v.getBranchPOI(A),c.length>0){D===i.Y||D===i.XYPOINT?s=d.sortBy(c,"x"):D===i.X&&(s=d.sortBy(c,"y"));for(var S=[],x=0,B=s;x<B.length;x++){var Z=B[x];S.push(f(Z,D,C))}n.push.apply(n,this.removeDuplicates(S,D))}}}this.pois=n}},m.prototype.removeDuplicates=function(c,n){for(var s=[],v=0,A=c;v<A.length;v++){var M=A[v];if(M=r.__assign({},M),M.graphMode=n,s.length!==0){var C=s[s.length-1];l.value(C.x).value===l.value(M.x).value&&l.value(C.y).value===l.value(M.y).value&&C.branch===M.branch?(C.typeChain||(C.typeChain=C.type!==void 0?[C.type]:[]),M.type!==void 0&&C.typeChain.indexOf(M.type)===-1&&C.typeChain.push(M.type),M.type===g.INTERSECTION&&M.intersects&&C.intersects===void 0&&(C.intersects=M.intersects)):s.push(M)}else s.push(M)}return s},m.prototype.getInterveningPOIs=function(c,n,s,v){for(var A=[],M=this.getSortedPOI(),C=NaN,D=0,S=M;D<S.length;D++){var x=S[D];x&&(v!==i.Y&&v!==i.XYPOINT||isNaN(x.x)?v!==i.X||isNaN(x.y)||(C=x.y):C=x.x,x.branch===s&&!isNaN(C)&&(c<=C&&C<n||n<=C&&C<c)&&A.push(x))}return c>n?A.reverse():A},m.prototype.setIndependent=function(c,n){for(var s=this.getSampledPoints(),v=0,A=s;v<A.length;v++){var M=A[v];if(M&&M.hasOwnProperty(c)&&M[c]===n){if(c==="x")return this.independent=M.x!==void 0?M.x:0,void this.updateCurrentPoint();if(c==="y")return this.independent=M.y!==void 0?M.y:0,void this.updateCurrentPoint()}}var C=!0;if(s.length>0){var D=Math.floor((s.length-1)/2),S=s[D];S&&(c==="x"?(this.independent=S.x!==void 0?S.x:0,C=!1):c==="y"&&(this.independent=S.y!==void 0?S.y:0,C=!1))}C&&(this.independent=0),this.resetToFirstBranch(),this.updateCurrentPoint()},m.prototype.moveToPOI=function(c){var n=this.getCurrentPoint();if(n){var s=this.getSampledPoints(),v=this.getPointIndex(s,n);if(v!==-1){for(var A=n.graphMode,M=-1,C=c===1?s.length-1:0,D=v;D!==C+c;D+=c){var S=s[D];if(((A===i.Y||A===i.XYPOINT)&&n.x!==S.x||A===i.X&&n.y!==S.y)&&S.type!==void 0){M=D;break}}M===-1?u.queue(this.controller.t("No more points of interest")):this.updateCurrentPoint(s[M])}}},m.prototype.getPointIndex=function(c,n){var s=-1;if(c.length>0&&n)for(var v=n.graphMode,A=0;A<c.length;A++){var M=c[A];if(((v===i.Y||v===i.XYPOINT)&&M.x===n.x||v===i.X&&M.y===n.y)&&M.branch===n.branch){s=A;break}}return s},m.prototype.prevCurve=function(){this.controller.shouldAudioTraceReverseExpressions()?this.curveDown():this.curveUp()},m.prototype.nextCurve=function(){this.controller.shouldAudioTraceReverseExpressions()?this.curveUp():this.curveDown()},m.prototype.curveUp=function(){var c=this.getSelectedItem();if(c){var n=this.prevTableColumn(c);if(n)this.audiograph.setFocusedCell(n);else{var s=c.index,v=this.findPrevTraceableIndex(s);if(v!==-1){var A=this.controller.getItemModelByIndex(v);A&&this.controller.dispatch({type:"set-selected-id",id:A.id})}}(n||this.getSelectedItem()!==c)&&this.audiograph.enterAudioTrace()}},m.prototype.curveDown=function(){var c=this.getSelectedItem();if(c){var n=this.nextTableColumn(c);if(n)this.audiograph.setFocusedCell(n);else{var s=c.index,v=this.findNextTraceableIndex(s);if(v!==-1){var A=this.controller.getItemModelByIndex(v);A&&this.controller.dispatch({type:"set-selected-id",id:A.id})}}(n||this.getSelectedItem()!==c)&&this.audiograph.enterAudioTrace()}},m.prototype.findPrevTraceableIndex=function(c){var n;do{c--,n=this.controller.getItemModelByIndex(c);var s=n&&this.prevTableColumn(n);if(s)return this.audiograph.setFocusedCell(s),c}while(n&&!this.canTrace(n));return n?c:-1},m.prototype.findNextTraceableIndex=function(c){var n;do{c++,n=this.controller.getItemModelByIndex(c);var s=n&&this.nextTableColumn(n);if(s)return this.audiograph.setFocusedCell(s),c}while(n&&!this.canTrace(n));return n?c:-1},m.prototype.prevTableColumn=function(c){return this.tableColumn(c,-1)},m.prototype.nextTableColumn=function(c){return this.tableColumn(c,1)},m.prototype.tableColumn=function(c,n){var s;if(c&&c.type==="table"){var v=this.audiograph.getFocusedCell(),A=void 0,M=void 0,C=void 0;n===-1?(A=v?Math.max(v.location.column-1,0):NaN,M=v&&v.tableId===c.id&&!isNaN(A)?A:c.columnModels.length-1,C=0):(A=v?Math.min(v.location.column+1,c.columnModels.length-1):NaN,M=v&&v.tableId===c.id&&!isNaN(A)?A:0,C=c.columnModels.length-1);var D=(C-M)/n;if(isFinite(D)&&D>=0)for(var S=M;S!==C;S+=n){var x=c.columnModels[S];if(x){var B=this.grapher.getGraphSketch(x.id);if(B){s={tableId:c.id,location:{column:S,row:0}};break}}}}return s},m.prototype.getGraphSketchForTableCell=function(c,n){if(c&&c.type==="table"&&n){var s=c.columnModels[n.location.column];return s?this.grapher.getGraphSketch(s.id):void 0}},m.prototype.getXScale=function(){return this.xscale},m.prototype.getYScale=function(){return this.yscale},m.prototype.getSelectedItem=function(){var c=this.controller.getSelectedItem();return c&&c.type==="folder"?this.controller.getItemModel(w.getSelectedId(c)):c},m}();o.default=b}),q("graphing/audiograph",["require","exports","tslib","browser","keys","lib/aria","graphing/audiographnavigator","graphing/tonegenerator","core/types/graphmode","core/lib/label","core/math/poi-type","graphing-calc/models/table","expressions/colors","lib/mathspeak"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function n(s,v){var A=this;this.grapher=v,this.controller=s,this.audioTraceActive=!1,this.wasFocusInExpressionsView=!1,this.focusedCell=void 0,this.sliderTraceActive=!1,this.sliderIndex=0,this.sliderArray=[],this.lastSpokenBranch=1,this.agNavigator=new l.default(s,this,this.grapher),this.tonegen=new g.default({audioPointMove:function(M,C){A.agNavigator.drawTrace(A.agNavigator.getPoint(M,C))},animationFinished:function(){A.recomputePoints()}}),this.tonegen.suspend()}return n.prototype.remove=function(){},n.prototype.handleKeydown=function(s){var v=s.altKey||s.metaKey,A=s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey,M=s.ctrlKey&&!s.metaKey&&!s.altKey,C=r.IS_APPLE?M:v,D=C&&(s.which===61||s.which===187),S=C&&!s.shiftKey&&(s.which===173||s.which===189),x=C&&!s.shiftKey&&d.lookupChar(s)==="0";A&&d.lookupChar(s)==="S"?this.agNavigator.getSelectedItem()&&(this.audioTraceActive||this.isFocusInExpressionsView())&&(s.preventDefault(),s.stopPropagation(),this.describeGraph()):A&&d.lookupChar(s)==="T"?(s.preventDefault(),s.stopPropagation(),this.toggleAudioTrace()):D?(s.preventDefault(),s.stopPropagation(),this.zoom("in")):S?(s.preventDefault(),s.stopPropagation(),this.zoom("out")):x?(s.preventDefault(),s.stopPropagation(),this.zoom("default")):this.audioTraceActive&&(this.sliderTraceActive?this.sliderTraceKeydown(s):this.audioTraceKeydown(s))},n.prototype.sliderTraceKeydown=function(s){var v=s.altKey||s.metaKey,A=!v&&!s.ctrlKey&&!s.shiftKey;A&&d.lookup(s)===d.LEFT||d.lookupChar(s)==="J"?(s.preventDefault(),s.stopPropagation(),this.decrementSliderValue()):A&&d.lookup(s)===d.RIGHT||d.lookupChar(s)==="L"?(s.preventDefault(),s.stopPropagation(),this.incrementSliderValue()):A&&d.lookup(s)===d.PAGEDOWN?(s.preventDefault(),s.stopPropagation(),this.decrementBigSliderValue()):A&&d.lookup(s)===d.PAGEUP?(s.preventDefault(),s.stopPropagation(),this.incrementBigSliderValue()):v||d.lookup(s)!==d.DOWN&&(s.shiftKey||d.lookup(s)!==d.TAB)&&d.lookupChar(s)!=="K"?!v&&(d.lookup(s)===d.UP||s.shiftKey&&d.lookup(s)===d.TAB||d.lookupChar(s)==="I")?(s.preventDefault(),s.stopPropagation(),this.prevSlider()):A&&d.lookup(s)===d.HOME||d.lookupChar(s)==="U"?(s.preventDefault(),s.stopPropagation(),this.sliderMin()):A&&d.lookup(s)===d.END||d.lookupChar(s)==="N"?(s.preventDefault(),s.stopPropagation(),this.sliderMax()):(this.stopAnimations(),this.audioTraceKeydown(s)):(s.preventDefault(),s.stopPropagation(),this.nextSlider())},n.prototype.audioTraceKeydown=function(s){var v=this,A=s.altKey||s.metaKey,M=A&&!s.ctrlKey&&!s.shiftKey,C=!A&&!s.ctrlKey&&!s.shiftKey,D=d.lookupChar(s);if(d.lookup(s)===d.UP&&M)s.preventDefault(),s.stopPropagation(),this.agNavigator.prevCurve();else if(d.lookup(s)===d.DOWN&&M)s.preventDefault(),s.stopPropagation(),this.agNavigator.nextCurve();else if(C&&d.lookup(s)===d.LEFT||d.lookup(s)===d.UP||D==="J")s.preventDefault(),s.stopPropagation(),this.agNavigator.prevPoint(),this.reportAudioTrace();else if(C&&d.lookup(s)===d.RIGHT||d.lookup(s)===d.DOWN||D==="L")s.preventDefault(),s.stopPropagation(),this.agNavigator.nextPoint(),this.reportAudioTrace();else if(A||d.lookup(s)!==d.PAGEDOWN&&(s.shiftKey||d.lookup(s)!==d.TAB)&&D!=="I")if(!A&&(d.lookup(s)===d.PAGEUP||s.shiftKey&&d.lookup(s)===d.TAB||D==="K"))s.preventDefault(),s.stopPropagation(),this.agNavigator.prevPOI(),this.reportAudioTrace();else if(C&&d.lookup(s)===d.HOME||D==="U")s.preventDefault(),s.stopPropagation(),this.agNavigator.firstPoint(),this.reportAudioTrace();else if(C&&d.lookup(s)===d.END||D==="N")s.preventDefault(),s.stopPropagation(),this.agNavigator.lastPoint(),this.reportAudioTrace();else if(C&&D==="X")s.preventDefault(),s.stopPropagation(),this.reportAudioTrace("x");else if(C&&D==="P")s.preventDefault(),s.stopPropagation(),this.queuePOICount(),i.alert();else if(C&&D==="Y")s.preventDefault(),s.stopPropagation(),this.reportAudioTrace("y");else if(C&&D==="T")s.preventDefault(),s.stopPropagation(),this.reportAudioTrace("type");else if(C&&D==="B")s.preventDefault(),s.stopPropagation(),this.reportAudioTrace("branch");else if(C&&D==="O")s.preventDefault(),s.stopPropagation(),this.agNavigator.moveToOrigin(),this.reportAudioTrace();else if(C&&D==="H")if(s.preventDefault(),s.stopPropagation(),this.tonegen.getPlaybackSupported()){this.tonegen.stop();var S=this.agNavigator.getCurrentSketch();S&&g.canPlaySketch(S)?(i.alert(this.controller.t("Playing graph.")),clearTimeout(this.playTimeout),this.playTimeout=setTimeout(function(){return v.tonegen.playSketch(S,v.grapher.getCurrentViewport())},500)):i.alert(this.controller.t("Unable to audio trace this expression."))}else i.alert(this.controller.t("Unable to play audio."));else if(C&&typeof D=="string"&&D>="0"&&D<="9"){s.preventDefault(),s.stopPropagation(),this.tonegen.stop();var x=this.agNavigator.getCurrentSketch();if(x){var B=void 0;B=s.which===48?9:s.which-49;for(var Z=B,X=-1,ee=0;ee<x.branches.length;ee++)if(g.canPlayBranch(x.branches[ee])&&(Z-=1),Z<0){X=ee;break}X>=0?this.tonegen.getPlaybackSupported()?(i.alert(this.controller.t("Branch __branch__",{branch:B+1})),clearTimeout(this.playTimeout),this.playTimeout=setTimeout(function(){return v.tonegen.playBranchByIndex(x,X,v.grapher.getCurrentViewport())},500)):i.alert(this.controller.t("Unable to play audio.")):i.alert(this.controller.t("Branch __branch__ does not exist.",{branch:B+1}))}else i.alert(this.controller.t("No graph selected."))}else if(A&&typeof D=="string"&&D>="1"&&D<="5")s.preventDefault(),s.stopPropagation(),this.adjustPlaybackSpeed(D);else if(s.altKey||s.ctrlKey||s.metaKey||D!=="V")if(C&&D==="A")s.preventDefault(),s.stopPropagation(),this.queueAnimatingPoints(!0),i.alert();else if(C&&D==="S"&&this.controller.isListEnabled())s.preventDefault(),s.stopPropagation(),this.toggleSliderTrace();else if(C&&D==="C"){s.preventDefault(),s.stopPropagation();var W=this.agNavigator.getCurrentSketch();W?i.queue(b.getColorName(this.controller,W.color)):i.queue("unknown"),i.alert()}else C&&this.exitAudioTrace();else s.preventDefault(),s.stopPropagation(),s.shiftKey?this.adjustVolume("down"):this.adjustVolume("up");else s.preventDefault(),s.stopPropagation(),this.agNavigator.nextPOI(),this.reportAudioTrace()},n.prototype.describeGraph=function(){var s=this.agNavigator.getCurrentSketch();if(s){var v=g.getReportedBranch(s,s.branches.length-1);v>1&&i.queue(this.controller.t("Branches: __branches__.",{branches:v}));var A=this.agNavigator.getSortedPOI();if(i.queue(this.controller.t("Points of interest: __poiCount__.",{poiCount:A.length})),A.length>0)for(var M=0;M<A.length;M++)this.queueCoordinates(A[M])}else i.queue(this.controller.t("No graph information available."));i.alert()},n.prototype.queueCoordinates=function(s,v,A){if(A===void 0&&(A=!1),s){var M=this.agNavigator.getCurrentSketch();(s.hasOwnProperty("branch")&&M&&M.branches.length>1&&this.lastSpokenBranch!==s.reportedBranch||v==="branch")&&i.queue(this.controller.t("Branch __branch__.",{branch:s.reportedBranch})),this.lastSpokenBranch=s.reportedBranch?s.reportedBranch:s.branch+1,s.hasOwnProperty("type")&&!v?i.queue(this.controller.t("__type__ at",{type:this.describePOI(s)})):v==="type"&&i.queue(this.describePOI(s)),v&&v!=="x"||i.queue(this.controller.t("X: __x__.",{x:p.value(s.x,this.agNavigator.getXScale()).ariaString})),v&&v!=="y"||i.queue(this.controller.t("Y: __y__.",{y:p.value(s.y,this.agNavigator.getYScale()).ariaString})),A&&i.alert()}},n.prototype.describePOI=function(s){if(s.typeChain){for(var v=[],A=0;A<s.typeChain.length;A++)v.push(this.poiTypeToText(s,A));return v.join(", ")}return this.poiTypeToText(s)},n.prototype.poiTypeToText=function(s,v){switch(v&&s.typeChain?s.typeChain[v]:s.type){case u.INTERSECTION:var A=this.getIntersectingCurves(s);return A!==""?this.controller.t("Intersection with __curves__",{curves:A}):this.controller.t("Intersection");case u.ZERO:return this.controller.t("Zero");case u.INTERCEPT:return this.controller.t("Intercept");case u.EXTREMUM:return this.controller.t("Extremum");case u.EDGE:return this.controller.t("Edge");case u.DEFINITION:return this.controller.t("Point");case u.TRACE:return this.controller.t("Trace");case u.LABEL:return this.controller.t("Label");default:return this.controller.t("Not a P O I")}},n.prototype.getIntersectingCurves=function(s){return s&&s.intersects?this.getExpressionAriaLabel(s.intersects):""},n.prototype.getExpressionAriaLabel=function(s){var v=this.controller.getItemModel(s);return v?v.type==="expression"&&v.label?m.getMathspeakFromText(v.label):this.controller.isItemSecret(v.id)?this.controller.t("Secret expression __index__",{index:v.secretIndex}):v.type==="table"&&this.focusedCell?this.controller.t("Expression __index__ column __column__",{index:v.displayIndex,column:this.focusedCell.location.column+1}):this.controller.t("Expression __index__",{index:v.displayIndex}):""},n.prototype.exitAudioTrace=function(s){if(this.audioTraceActive){if(this.audioTraceActive=!1,s||(s=this.controller.t("Audio trace off.")),this.controller.dispatch({type:"toast/close"}),this.wasFocusInExpressionsView){var v=this.agNavigator.getSelectedItem();v&&this.controller.isItemSelectable(v.id)||(v=this.controller.getFirstFullyVisibleItem()),v&&this.controller.isItemSelectable(v.id)&&this.controller.dispatch({type:"move-focus-to-item",id:v.id,where:v.type==="table"&&this.focusedCell!==void 0?w.__assign({location:"cell"},this.focusedCell.location):"end"})}this.wasFocusInExpressionsView=!1,this.focusedCell=void 0,this.stopAnimations(),this.sliderTraceActive=!1,this.sliderIndex=0,this.tonegen.stop(),this.tonegen.suspend(),this.agNavigator.reset(),this.lastSpokenBranch=1,this.grapher.traceLayer.setTraceInfo(void 0),this.grapher.redrawAllLayers(),i.alert(s),this.resumeAnimations()}},n.prototype.isFocusInExpressionsView=function(){return!!this.controller.getFocusedItem()},n.prototype.enterAudioTrace=function(){var s=this,v=this.agNavigator.getSelectedItem(),A=v&&v.type!=="table"&&!this.agNavigator.canTrace(v)?this.getExpressionAriaLabel(v.id):void 0,M=!1;this.audioTraceActive||(this.wasFocusInExpressionsView=this.isFocusInExpressionsView(),v&&A&&i.queue(this.controller.t("__expression__ cannot be audio traced.",{expression:A})),M=!!A||!this.wasFocusInExpressionsView);var C;if(M)C=this.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!0});else if(!A){if(v&&v.type==="expression"&&v.formula&&v.formula.error)return this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("No graph to trace.")}});if(v&&v.type==="table"){var D=f.getSelectedCell(v);this.focusedCell&&this.focusedCell.tableId===v.id&&(!D||D.column===this.focusedCell.location.column&&D.row===this.focusedCell.location.row)||(this.focusedCell=D!==void 0?{tableId:v.id,location:D}:void 0)}else this.focusedCell=void 0;C=this.agNavigator.getCurrentSketch()}if(!C)return this.agNavigator.reset(),this.lastSpokenBranch=1,this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("No graph to trace.")}});var S=C.branches[0].graphMode;return S===y.IMPLICIT?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Sorry, but I can't trace implicit curves yet.")}})):S===y.PARAMETRIC?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Sorry, but I can't trace parametric curves yet.")}})):S===y.POLAR?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Sorry, but I can't trace polar curves yet.")}})):(this.agNavigator.reset(),this.agNavigator.computeStepSizes(),this.lastSpokenBranch=1,this.grapher.traceLayer.clearOpenedPOI(),this.grapher.redrawAllLayers(),this.audioTraceActive||(this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Audio trace on."),noAria:!0,onHide:function(){return s.exitAudioTrace()},hideAfter:0}}),A&&C&&i.queue(this.controller.t("Tracing __expression__.",{expression:this.getExpressionAriaLabel(C.id)})),i.queue(this.controller.t("Audio trace on.")),this.pauseAnimations(),this.queueAnimatingPoints(!1),i.queue(this.controller.t("Use Arrow keys to navigate.")),this.tonegen.resume(),this.tonegen.getPlaybackSupported()&&i.queue(this.controller.t("To hear the graph, press H.")),this.agNavigator.getTraceableExpressionCount()>1&&(r.IS_APPLE?i.queue(this.controller.t("To move between expressions, press COMMAND+Up-Arrow or COMMAND+Down-Arrow.")):i.queue(this.controller.t("To move between expressions, press ALT+Up-Arrow or ALT+Down-Arrow."))),r.IS_APPLE?i.queue(this.controller.t("To disable audio trace, press OPTION+T.")):i.queue(this.controller.t("To disable audio trace, press ALT+T.")),this.wasFocusInExpressionsView&&this.controller.find$(".dcg-graph-outer").one("focusin",function(){setTimeout(function(){i.alert()},0)}).focus()),this.agNavigator.moveToOrigin(),i.queue(this.getExpressionAriaLabel(C.id)),this.reportAudioTrace(),this.wasFocusInExpressionsView||i.alert(),void(this.audioTraceActive=!0))},n.prototype.checkIfSelectedItemChanged=function(s){this.lastSelectedId!==s&&(this.lastSelectedId=s,this.audioTraceActive&&(s?(i.queue(this.getExpressionAriaLabel(s)),this.exitSliderTrace(),this.agNavigator.updatePOI(),this.agNavigator.moveToOrigin(),this.reportAudioTrace(),i.alert()):this.exitAudioTrace()))},n.prototype.pauseAnimations=function(){var s=this;this.sliderArray.length=0,this.controller.getAllModelsWithSliders().forEach(function(v){v.slider.isPlaying&&(s.controller.dispatch({type:"set-slider-isplaying",id:v.id,isPlaying:!1}),s.sliderArray.push(v))})},n.prototype.resumeAnimations=function(){if(this.sliderArray.length!==0){for(var s=0;s<this.sliderArray.length;s++){var v=this.sliderArray[s];v.slider.isPlaying!==!0&&this.controller.dispatch({type:"set-slider-isplaying",id:v.id,isPlaying:!0})}this.sliderArray.length=0}},n.prototype.stopAnimations=function(){var s=this;this.controller.getAllModelsWithSliders().forEach(function(v){v.slider.isPlaying&&s.controller.dispatch({type:"set-slider-isplaying",id:v.id,isPlaying:!1})})},n.prototype.getAnimatingVars=function(){for(var s=[],v=0;v<this.sliderArray.length;v++)s.push('"'+this.sliderArray[v].dependent+'"');return s},n.prototype.hasActiveSliders=function(){for(var s=this.controller.getAllModelsWithSliders(),v=0;v<s.length;v++)if(s[v].slider.isPlaying)return!0;return!1},n.prototype.queueAnimatingPoints=function(s){this.sliderArray.length===1?i.queue(this.controller.t("One animating slider was paused.")):this.sliderArray.length>1?i.queue(this.controller.t("__sliders__ animating sliders were paused.",{sliders:this.sliderArray.length})):s&&i.queue(this.controller.t("No animating sliders were paused."))},n.prototype.queueSliderLatex=function(){this.hasActiveSliders()||this.tonegen.stop();var s=this.getSelectedSlider();s?i.queue(s.latex):i.queue(this.controller.t("Unable to determine slider value"))},n.prototype.getSelectedSlider=function(){var s=this.controller.getAllModelsWithSliders();return this.sliderIndex<=s.length-1?s[this.sliderIndex]:null},n.prototype.incrementSliderValue=function(){this.adjustSlider("up")},n.prototype.decrementSliderValue=function(){this.adjustSlider("down")},n.prototype.incrementBigSliderValue=function(){this.adjustSlider("bigup")},n.prototype.decrementBigSliderValue=function(){this.adjustSlider("bigdown")},n.prototype.nextSlider=function(){this.adjustSlider("next")},n.prototype.prevSlider=function(){this.adjustSlider("prev")},n.prototype.sliderMin=function(){this.adjustSlider("min")},n.prototype.sliderMax=function(){this.adjustSlider("max")},n.prototype.adjustSlider=function(s){var v=this.getSelectedSlider();if(!v)return void i.queue(this.controller.t("Unable to adjust slider"));var A=v.latex,M=this.controller.getAllModelsWithSliders().length;switch(s){case"up":case"down":case"bigup":case"bigdown":case"min":case"max":this.controller.dispatch({type:"adjust-slider-by-keyboard",id:v.id,adjustment:s}),this.queueSliderLatex(),i.alert();break;case"next":return this.sliderIndex++,this.sliderIndex>=M&&(i.queue(this.controller.t("Last slider.")),this.sliderIndex=M-1),this.queueSliderLatex(),void i.alert();case"prev":return this.sliderIndex--,this.sliderIndex<0&&(i.queue(this.controller.t("First slider.")),this.sliderIndex=0),this.queueSliderLatex(),void i.alert()}v.slider.isPlaying||A===v.latex||(this.queueSliderLatex(),i.alert())},n.prototype.toggleAudioTrace=function(){this.audioTraceActive?this.exitAudioTrace():this.enterAudioTrace()},n.prototype.toggleSliderTrace=function(){this.sliderTraceActive?this.exitSliderTrace():this.enterSliderTrace()},n.prototype.enterSliderTrace=function(){this.sliderTraceActive||(this.sliderIndex=0,this.controller.getAllModelsWithSliders().length!==0?(i.queue(this.controller.t("Slider trace on.")),this.queueSliderLatex(),this.sliderTraceActive=!0):(i.queue(this.controller.t("No sliders to trace.")),this.sliderTraceActive=!1),i.alert())},n.prototype.exitSliderTrace=function(){this.sliderTraceActive&&(i.queue(this.controller.t("Slider trace off.")),this.sliderTraceActive=!1,this.sliderIndex=0,i.alert())},n.prototype.recomputePoints=function(){this.audioTraceActive&&(this.tonegen.isAnimating()||(this.agNavigator.updatePOI(),this.agNavigator.updateSampledPoints(),this.agNavigator.updateCurrentPoint(),this.agNavigator.resetTracePoint(),this.agNavigator.computeStepSizes()))},n.prototype.queuePOICount=function(){var s=this.agNavigator.getCurrentSketch(),v=s?s.getPOI().length:0;i.queue(this.controller.t("Points of interest, __x__.",{x:v}))},n.prototype.reportAudioTrace=function(s,v){var A=this.agNavigator.getCurrentPoint();if(A&&(s||(v||this.tonegen.stop(),this.tonegen.playPoint(A,this.grapher.getCurrentViewport())),!v)){this.queueCoordinates(A,s);var M=s?0:100;setTimeout(function(){i.alert()},M)}},n.prototype.adjustPlaybackSpeed=function(s){switch(s){case"1":return this.tonegen.setAudioSpeed(150),i.alert(this.controller.t("Graph playback very slow"));case"2":return this.tonegen.setAudioSpeed(100),i.alert(this.controller.t("Graph playback slow"));case"3":return this.tonegen.setAudioSpeed(50),i.alert(this.controller.t("Graph playback normal"));case"4":return this.tonegen.setAudioSpeed(30),i.alert(this.controller.t("Graph playback fast"));case"5":return this.tonegen.setAudioSpeed(16),i.alert(this.controller.t("Graph playback very fast"));default:return this.tonegen.setAudioSpeed(50),i.alert(this.controller.t("Graph playback normal"))}},n.prototype.adjustVolume=function(s){var v=this.tonegen.getAudioVolume(),A=s==="up"?Math.min(100,Math.round(100*(v+.1))):Math.max(0,Math.round(100*(v-.1)));this.tonegen.setAudioVolume(A/100),i.alert(this.controller.t("Volume __volume__ percent",{volume:A}))},n.prototype.zoom=function(s){this.grapher.viewportController.zoom(s)},n.prototype.getFocusedCell=function(){return this.focusedCell},n.prototype.setFocusedCell=function(s){this.focusedCell=s},n.prototype.getAudioTraceActive=function(){return this.audioTraceActive},n}();o.default=c}),q("graphing/canvas-braille",["require","exports","tslib","./projection","./screen","core/graphing-calc/json/graph-settings","abraham"],function(O,o,w,r,d,i,l){function g(se,he,xe,Me,Be){var ke=se.dotSpacing,Re=1+ke,Ve=Be.charCodeAt(0)-re;1&Ve&&he.fillRect(xe,Me,1,1),2&Ve&&he.fillRect(xe,Me+Re,1,1),4&Ve&&he.fillRect(xe,Me+2*Re,1,1),8&Ve&&he.fillRect(xe+Re,Me,1,1),16&Ve&&he.fillRect(xe+Re,Me+Re,1,1),32&Ve&&he.fillRect(xe+Re,Me+2*Re,1,1)}function y(se,he){for(var xe=he.x,Me=he.y,Be=he.width,ke=he.height,Re=se.getImageData(xe,Me,Be,ke).data,Ve=3;Ve<Re.length;Ve+=4)if(Re[Ve]!==0)return!1;return!0}function p(se,he){for(var xe=he.x,Me=he.y,Be=he.width,ke=he.height,Re=se.getImageData(xe,Me,Be,ke).data,Ve=3;Ve<Re.length;Ve+=4)if(Re[Ve]===0)return!1;return!0}function u(se,he,xe,Me,Be){return y(he,c(se,xe,Me,Be))}function f(se,he,xe,Me,Be){for(var ke=se.dotSpacing,Re=3+2*ke,Ve=0;Ve<Be.length;Ve++)g(se,he,xe+Re*Ve,Me,Be[Ve])}function b(se,he){var xe=se.dotSpacing;return(2+xe)*he.length+(1+xe)*(he.length-1)}function m(se,he){return 3+2*se.dotSpacing}function c(se,he,xe,Me){var Be=se.cellPadding;return{x:he-Be,y:xe-Be,width:b(se,Me)+2*Be,height:m(se)+2*Be}}function n(se,he){if(!se)return he;var xe=Math.min(se.x,he.x),Me=Math.min(se.y,he.y);return{x:xe,y:Me,width:Math.max(se.x+se.width,he.x+he.width)-xe,height:Math.max(se.y+se.height,he.y+he.height)-Me}}function s(se,he,xe){return Math.min(Math.max(se,he),xe)}function v(se,he,xe,Me,Be){return{x:s(xe,0,he.canvas.width-b(se,Be)),y:s(Me,0,he.canvas.height-m(se))}}function A(se,he,xe,Me,Be){var ke=he.fillStyle;he.fillStyle="white";var Re=c(se,xe,Me,Be);he.fillRect(Re.x,Re.y,Re.width,Re.height),he.fillStyle="black",f(se,he,xe,Me,Be),he.fillStyle=ke}function M(se,he,xe,Me){var Be=se.cellPadding;return{x:Math.round(he-(b(se,Me)+Be)),y:xe}}function C(se){return se.replace(/\u283C(?!$)/g,"")}function D(se,he){var xe=he==="nemeth"?l.latexToNemeth(se):l.latexToUeb(se);return xe.isError?"":C(xe.value)}function S(se,he){return he>=0?se*Math.pow(10,he):se/Math.pow(10,-he)}function x(se,he,xe,Me){var Be=xe[0],ke=xe[1],Re=Math.ceil(Math.log(ke-Be)/Math.LN10)-1,Ve=Re,ye=5;e:for(var P=Re;Re-P<4;P--)for(var ue=0,Ae=[5,2,1];ue<Ae.length;ue++){var _e=Ae[ue],qe=S(_e,P),Ye=Math.floor(Be/qe)+1,Ie=Math.ceil(ke/qe)-1,Ne=Math.abs(Me(qe)-Me(0)),z=D(String(S(Ye*_e,P)),he),Pe=D(String(S(Ie*_e,P)),he);if(Ne<b(se,z)+b(se," ")||Ne<b(se,Pe)+b(se," ")||Ie-Ye>=15)break e;Ve=P,ye=_e}return{int:ye,exp:Ve}}function B(se,he,xe){return x(se,he,[xe.viewport.xmin,xe.viewport.xmax],function(Me){return xe.mapx(Me)})}function Z(se,he,xe){return xe.viewport.isSquare(xe.screen)?B(se,he,xe):x(se,he,[xe.viewport.ymin,xe.viewport.ymax],function(Me){return xe.mapy(Me)})}function X(se,he){for(var xe=se.int,Me=se.exp,Be=he[0],ke=he[1],Re=Math.ceil(Be/S(xe,Me)),Ve=Math.floor(ke/S(xe,Me)),ye=[],P=Re;P<=Ve;P++)ye.push(S(P*xe,Me));return ye}function ee(se,he,xe){return{x:X(B(se,he,xe),[xe.viewport.xmin,xe.viewport.xmax]),y:X(Z(se,he,xe),[xe.viewport.ymin,xe.viewport.ymax])}}function W(se,he,xe,Me,Be){var ke,Re,Ve,ye,P,ue,Ae,_e;if(xe.margins!==void 0&&he!==void 0){var qe=U(Me),Ye=xe.margins,Ie=w.__assign({},he.settings),Ne=Ie.showGrid&&F(Me),z=!!Ie.showXAxis,Pe=!!Ie.showYAxis,ot=!!Ie.xAxisNumbers,rt=Ie.xAxisArrowMode,kt=!!Ie.yAxisNumbers,ve=Ie.yAxisArrowMode,ze=qe.graphLineWidth,je={showGrid:!1,xAxisNumbers:!1,xAxisArrowMode:i.AxisArrowModes.NONE,yAxisNumbers:!1,yAxisArrowMode:i.AxisArrowModes.NONE,showXAxis:!1,showYAxis:!1,graphLineWidth:ze,pointLineWidth:2.5,curveOpacity:1,globalCurveColor:"#000",disableFill:!0};for(var Te in je)he.settings[Te]=je[Te];var Xe=se.width-Ye.right-Ye.left,Ze=se.height-Ye.top-Ye.bottom,Ce=new d.Screen(Xe,Ze),Fe=he.getProjection().viewport;he.settings.squareAxes&&(Fe=Fe.squareCrop(Ce));var Ge=new r.Projection(Ce,Fe,he.settings),Qe=se.getContext("2d"),it=document.createElement("canvas");it.width=Xe,it.height=Ze;var ct=it.getContext("2d"),gt=document.createElement("canvas");gt.width=Xe,gt.height=Ze;var Rt=gt.getContext("2d"),ut=document.createElement("canvas");ut.width=Xe,ut.height=Ze;var mt=ut.getContext("2d"),Nt=document.createElement("canvas");Nt.width=Xe,Nt.height=Ze;var Et=Nt.getContext("2d"),Kt=document.createElement("canvas");Kt.width=Xe,Kt.height=Ze;var xt=Kt.getContext("2d");if(Qe!==null&&Et!==null&&ct!==null&&mt!==null&&xt!==null&&Rt!==null){he.settings.disableFill=!0,he.screenshotToCanvas(Nt,{width:Xe,height:Ze,targetPixelRatio:1,transparentBackground:!0}),he.settings.disableFill=!1,he.screenshotToCanvas(it,{width:Xe,height:Ze,targetPixelRatio:1,transparentBackground:!0}),Qe.fillStyle="white",Qe.fillRect(0,0,se.width,se.height);var Ut=Math.round(Ge.mapx(0)),jt=Math.round(Ge.mapy(0)),or=Ie.xAxisLabel!==""?Ie.xAxisLabel.replace(/ /g,"\\ "):"x",dr=Ie.yAxisLabel!==""?Ie.yAxisLabel.replace(/ /g,"\\ "):"y";if(z&&Ge.coordsAreOnscreen(Xe-6,jt-8,0)){var Xt=w.__assign(w.__assign({},qe),{cellPadding:qe.cellPadding+1}),Wt=2+2*m(Xt),$=Xe-2,ce=jt-Wt,N=D(or,Be);ke=M(Xt,$,ce,N),$=ke.x,ce=ke.y,Re=v(Xt,ct,$,ce,N),$=Re.x,ce=Re.y,A(Xt,xt,$,ce,N)}if(Pe&&Ge.coordsAreOnscreen(Ut+4,1,0)){var Xt=w.__assign(w.__assign({},qe),{cellPadding:qe.cellPadding+1}),$=Ut+4,ce=1,N=D(dr,Be);Ve=v(Xt,ct,$,ce,N),$=Ve.x,ce=Ve.y,A(Xt,xt,$,ce,N)}var Q=ee(qe,Be,Ge),oe=Q.x,we=Q.y;if(z){for(var J=void 0,Se=0,De=oe;Se<De.length;Se++){var We=De[Se];if(We!==0||!Pe){var et=Math.round(Ge.mapx(We));if(!(et<2||et>Ge.screen.width-2)&&ot){var lt=b(qe,D("-1",Be))-b(qe,D("1",Be)),ht=We<0?lt+1:1,$=et-ht,ce=jt+4,N=D(""+We,Be);ye=v(qe,xt,$,ce,N),$=ye.x,ce=ye.y,u(qe,Et,$,ce,N)&&(A(qe,xt,$,ce,N),J=n(J,c(qe,$,ce,N)))}}}if(qe.embossPatternInequalities&&J){var ft={x:0,y:jt,width:Xe,height:0};J=n(J,ft),mt.fillStyle="white",mt.fillRect(J.x,J.y,J.width,J.height)}}if(Pe){for(var J=void 0,bt=0,Bt=we;bt<Bt.length;bt++){var zt=Bt[bt];if(zt!==0||!z){var Vt=Math.round(Ge.mapy(zt));if(!(Vt<2||Vt>Ge.screen.height-2)){var Wt=-Math.ceil(m(qe)/2);if(kt){var $=Ut-4,ce=Vt+Wt,N=D(""+zt,Be);P=M(qe,$,ce,N),$=P.x,ce=P.y,ue=v(qe,xt,$,ce,N),$=ue.x,ce=ue.y,u(qe,Et,$,ce,N)&&(A(qe,xt,$,ce,N),J=n(J,c(qe,$,ce,N)))}}}}if(qe.embossPatternInequalities&&J){var ft={x:Ut,y:0,width:0,height:Ze};J=n(J,ft),mt.fillStyle="white",mt.fillRect(J.x,J.y,J.width,J.height)}}if(z&&Pe){var $=Ut-2,ce=jt+2,N=D(ot||kt?"0":"o",Be);Ae=M(qe,$,ce,N),$=Ae.x,ce=Ae.y,Ge.coordsAreOnscreen($,ce,0)&&(_e=v(qe,xt,$,ce,N),$=_e.x,ce=_e.y,u(qe,Et,$,ce,N)&&A(qe,xt,$,ce,N))}for(var qt=0,Zt=oe;qt<Zt.length;qt++){var We=Zt[qt],et=Math.round(Ge.mapx(We));et<2||et>Ge.screen.width-2||Pe&&We===0||Ne&&ne(mt,"white",et-1,0,Ze,3)}for(var Ft=0,Ot=we;Ft<Ot.length;Ft++){var zt=Ot[Ft],Vt=Math.round(Ge.mapy(zt));Vt<2||Vt>Ge.screen.height-2||z&&zt===0||Ne&&Y(mt,"white",Vt-1,0,Xe,3)}z&&Y(mt,"white",jt-3,0,Xe,7),Pe&&ne(mt,"white",Ut-3,0,Ze,7);for(var ir=0,ar=oe;ir<ar.length;ir++){var We=ar[ir],et=Math.round(Ge.mapx(We));et<2||et>Ge.screen.width-2||Pe&&We===0||(Ne?ne(mt,ie(Me),et,0,Ze):z&&ne(mt,ie(Me),et,jt-3,jt+2))}for(var vr=0,St=we;vr<St.length;vr++){var zt=St[vr],Vt=Math.round(Ge.mapy(zt));Vt<2||Vt>Ge.screen.height-2||z&&zt===0||(Ne?Y(mt,ie(Me),Vt,0,Xe):Pe&&Y(mt,ie(Me),Vt,Ut-3,Ut+2))}if(z&&Y(mt,G(Me),jt,0,Xe),Pe&&ne(mt,G(Me),Ut,0,Ze),ve!==i.AxisArrowModes.NONE&&(pe(mt,G(Me),Ut,0),ve===i.AxisArrowModes.BOTH&&H(mt,G(Me),Ut,Ze-1)),rt!==i.AxisArrowModes.NONE&&(ge(mt,G(Me),Xe-1,jt),rt===i.AxisArrowModes.BOTH&&te(mt,G(Me),0,jt)),qe.embossPatternInequalities)for(var $=0;$<Xe;$+=6)for(var ce=0;ce<Ze;ce+=6){var sr={x:$,y:ce,width:3,height:3};p(ct,sr)&&y(mt,sr)&&y(Et,sr)&&y(xt,sr)&&fe(Rt,"black",$,ce)}qe.embossPatternInequalities||Qe.drawImage(it,Ye.left,Ye.top),Qe.drawImage(ut,Ye.left,Ye.top),Qe.drawImage(Nt,Ye.left,Ye.top),Qe.drawImage(Kt,Ye.left,Ye.top),qe.embossPatternInequalities&&Qe.drawImage(gt,Ye.left,Ye.top)}for(var Te in je)he.settings[Te]=Ie[Te]}}function U(se){if(se==="etc8"||se==="etc11")return{dotSpacing:0,cellPadding:1,graphLineWidth:1.75,embossPatternInequalities:!0};if(se==="vpmax8"||se==="vpmax11")return{dotSpacing:1,cellPadding:2,graphLineWidth:1,embossPatternInequalities:!1};var he=se;throw new Error("Unexpected embosser model "+he)}function F(se){if(se==="etc8"||se==="etc11")return!1;if(se==="vpmax8"||se==="vpmax11")return!0;var he=se;throw new Error("Unexpected embosser model "+he)}function G(se){switch(se){case"vpmax8":case"vpmax11":return"rgb(145, 145, 145)";case"etc8":case"etc11":return"rgb(0, 0, 0)";default:var he=se;throw new Error("Unexpected embosser model: "+he)}}function ie(se){switch(se){case"vpmax8":case"vpmax11":return"rgb(219, 219, 219)";case"etc8":case"etc11":return"rgb(0, 0, 0)";default:var he=se;throw new Error("Unexpected embosser model: "+he)}}function ne(se,he,xe,Me,Be,ke){ke===void 0&&(ke=1);var Re=se.fillStyle;se.fillStyle=he,se.fillRect(xe-1,Me,ke,Be-Me),se.fillStyle=Re}function Y(se,he,xe,Me,Be,ke){ke===void 0&&(ke=1);var Re=se.fillStyle;se.fillStyle=he,se.fillRect(Me,xe-1,Be-Me,ke),se.fillStyle=Re}function ge(se,he,xe,Me){var Be=se.fillStyle;se.fillStyle=he;for(var ke=-2;ke<=2;ke++)se.fillRect(xe-Math.abs(ke),Me-1+ke,1,1);se.fillStyle=Be}function te(se,he,xe,Me){var Be=se.fillStyle;se.fillStyle=he;for(var ke=-2;ke<=2;ke++)se.fillRect(xe+Math.abs(ke),Me-1+ke,1,1);se.fillStyle=Be}function H(se,he,xe,Me){var Be=se.fillStyle;se.fillStyle=he;for(var ke=-2;ke<=2;ke++)se.fillRect(xe-1+ke,Me-Math.abs(ke),1,1);se.fillStyle=Be}function pe(se,he,xe,Me){var Be=se.fillStyle;se.fillStyle=he;for(var ke=-2;ke<=2;ke++)se.fillRect(xe-1+ke,Me+Math.abs(ke),1,1);se.fillStyle=Be}function fe(se,he,xe,Me){var Be=se.fillStyle;se.fillStyle=he,se.fillRect(xe+1,Me,1,1),se.fillRect(xe,Me+1,1,1),se.fillRect(xe+1,Me+1,1,1),se.fillRect(xe+2,Me+1,1,1),se.fillRect(xe+1,Me+2,1,1),se.fillStyle=Be}Object.defineProperty(o,"__esModule",{value:!0});var re=10240;o.createBrailleImage=W}),q("graphing/braille-size-options",["require","exports"],function(O,o){Object.defineProperty(o,"__esModule",{value:!0}),o.brailleSizes={},o.brailleSizes.vpmax8={width:170,height:220,margins:{left:5,top:15,right:5,bottom:50},name:function(w){return w.t("VP Max (8.5 x 11 in)")}},o.brailleSizes.vpmax11={width:230,height:220,margins:{left:15,top:15,right:5,bottom:5},name:function(w){return w.t("VP Max (11.5 x 11 in)")}},o.brailleSizes.etc8={width:96,height:96,margins:{left:5,top:15,right:0,bottom:0},name:function(w){return w.t("ETC Romeo/Juliet (8.5 x 11 in)")}},o.brailleSizes.etc11={width:132,height:134,margins:{left:10,top:15,right:5,bottom:5},name:function(w){return w.t("ETC Romeo/Juliet (11.5 x 11 in)")}}}),q("graphing/movablepointslayer",["require","exports","tslib","dcgview","browser","core/lib/label","core/graphing-calc/json/expression","lib/aria","./constants","jquery"],function(O,o,w,r,d,i,l,g,y,p){function u(m,c,n){return"X: "+i.value(m,n.xmax-n.xmin).ariaString+". Y: "+i.value(c,n.ymax-n.ymin).ariaString}Object.defineProperty(o,"__esModule",{value:!0});var f=r.Components.For,b=function(m){function c(){return m!==null&&m.apply(this,arguments)||this}return w.__extends(c,m),c.prototype.init=function(){this.grapher=this.props.grapher(),this.renderedPointsIdOrder=[],this.renderedPoints={}},c.prototype.template=function(){var n=this;return r.createElement(f,{each:function(){return n.renderedPointsIdOrder}},r.createElement("div",{class:r.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:function(){return n.requestRedrawNextFrame()},onFocusout:function(){return n.requestRedrawNextFrame()},didMount:this.didMountRoot.bind(this)},function(s){return r.createElement("div",{class:n.const({"dcg-tabbable-point":!0,"dcg-movable-point":n.renderedPoints[s].type==="movable"}),style:function(){return{transform:n.getTransform(s)}},role:r.const("button"),"aria-roledescription":function(){return n.renderedPoints[s].type==="movable"?"movable point":"point"},"dcg-mp-id":n.const(s),tabindex:function(){return n.getTabIndex(s)},"aria-label":function(){return n.getAriaLabel(s)},"aria-hidden":n.bindFn(n.getAriaHidden)})}))},c.prototype.redraw=function(n,s,v){var A=this,M=this.grapher.graphSketches,C=this.renderedPoints;this.renderedPoints={},this.renderedPointsIdOrder=[];var D,S=this.getFocusedPointId(),x=function(ie){var ne=A.processPOI(n,s,ie,C[ie.id],v,S);ne&&(A.renderedPoints[ie.id]=ne,A.renderedPointsIdOrder.push(ie.id))};for(D in M){var B=M[D];B.visible&&(B.getMovablePoints().forEach(x),B.getStaticLabeledPoints().forEach(x))}var Z=this.renderedPoints[this.hoveredPointId],X=this.renderedPoints[this.pressedPointId],ee=Z&&Z.poi,W=X&&X.poi;ee||this.setHoveredPointId(void 0),W||this.setPressedPointId(void 0);var U,F,G=W||ee;G?(U=G.type==="movable-point"&&G.tableInfo&&G.tableInfo.dragX,F=G.type==="movable-point"&&G.tableInfo&&G.tableInfo.dragY,U&&F||!U&&!F?this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point"):U?this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point-ew"):this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point-ns")):this.grapher.setLayerClass("movablePoints",void 0),this.update(),this.speakAriaAlert()},c.prototype.drawForScreenshot=function(n,s,v,A){var M=this,C=this.grapher.graphSketches;for(var D in C){var S=C[D];S.visible&&S.getMovablePoints().forEach(function(x){var B={screenX:s.mapx(x.x),screenY:s.mapy(x.y),color:x.color,animationPercent:0};M.drawMovablePointOnCtx(n,B,v,A)})}},c.prototype.processPOI=function(n,s,v,A,M,C){var D=v.id,S=v.x,x=v.y,B=s.mapx(S),Z=s.mapy(x),X=C===D,ee=s.coordsAreOnscreen(B,Z,y.OFFSCREEN_RENDER_MARGIN);if(ee||X)return A||(A=v.type==="movable-point"?{type:"movable",id:D,pointOnScreen:ee,poi:v,projection:s,screenX,screenY,color:v.color,pointIsHovered:!1,pointIsPressed:!1,lastHoverActionTime:0,animationPercent:0}:{type:"static",id:D,pointOnScreen:ee,poi:v,projection:s,screenX,screenY}),A.pointOnScreen=ee,A.poi=v,A.projection=s,A.screenX=B,A.screenY=Z,A.type==="movable"&&(A.color=A.poi.color),A.type==="movable"&&(this.updateMovablePointAnimation(A),this.drawMovablePointOnCtx(n,A,M)),A},c.prototype.drawMovablePointOnCtx=function(n,s,v,A){var M;M=A||(this.grapher.settings.config.projectorMode?13.5:10.5);var C=s.color,D=s.screenX,S=s.screenY,x=s.animationPercent||0;v.push({left:D-M,right:D+M,top:S-M,bottom:S+M}),n.save(),n.fillStyle=C,n.globalAlpha=.35,n.beginPath(),n.moveTo(D+M,S),n.arc(D,S,M,0,2*Math.PI,!0),n.closePath(),n.fill(),n.globalAlpha=1,M*=.3+.7*x,n.beginPath(),n.moveTo(D+M,S),n.arc(D,S,M,0,2*Math.PI,!0),n.closePath(),n.fill(),n.restore()},c.prototype.updateMovablePointAnimation=function(n){var s=Date.now(),v=n.id,A=this.hoveredPointId===v,M=this.pressedPointId===v;n.pointIsPressed=M,A!==n.pointIsHovered&&(n.pointIsHovered=A,n.lastHoverActionTime=s);var C=n.animationPercent||0,D=s-n.lastHoverActionTime,S=.004*D;M?C=1:A?(C+=S,C>=1?C=1:this.requestRedrawNextFrame()):(C-=S,C<=0?C=0:this.requestRedrawNextFrame()),n.animationPercent=C},c.prototype.getTransform=function(n){var s=this.renderedPoints[n];if(s)return d.translateRule(s.screenX,s.screenY)},c.prototype.getTabIndex=function(n){var s=this.renderedPoints[n];if(!s)return-1;var v=s.poi,A=this.grapher.controller.getItemEditableLabelMode(v.sketch.id),M=s.type==="movable"||A===void 0||A===l.EditableLabelMode.None,C=this.grapher.settings,D=C.config.graphpaper&&C.config.enableTabindex;return M&&D?0:-1},c.prototype.getAriaHidden=function(){return!this.grapher.settings.config.graphpaper},c.prototype.getAriaLabel=function(n){var s=this.getAriaAlert({id:n,includeUsageInstructions:!1});return s&&s.completeMessage},c.prototype.speakAriaAlert=function(){var n=this.getFocusedPointId();if(n){var s=this.renderedPoints[n];if(!s||s.type==="static")return}var v=this.getAriaAlert({id:n,lastAriaAlert:this.lastAriaAlert,includeUsageInstructions:!0});this.lastAriaAlert=v,v&&v.completeMessage&&g.alert(v.completeMessage)},c.prototype.getAriaAlert=function(n){var s=n.id,v=n.lastAriaAlert,A=n.includeUsageInstructions;if(s){var M=this.renderedPoints[s];if(M){v&&v.id!==s&&(v=void 0);var C=M.poi,D=M.pointOnScreen,S=M.projection;if(C&&S){var x=S.viewport;if(x){var B,Z=v&&v.label,X=C.ariaLabel,ee=Z!==X,W=v&&v.coordX,U=v&&v.coordY,F=C.x,G=C.y,ie=F!==W||G!==U,ne=u(F,G,x)+".",Y=this.grapher.controller.t,ge=X||Y("Graph point"),te=C.type==="movable-point"&&A?Y(" is movable. Press Arrows or Shift+Arrows to adjust."):"",H=D?"":Y(" not visible on screen");return B=v?ee?ge+H:ie?ne+H:"":ge+". "+ne+te+H,{id:s,coordX:F,coordY:G,label:X,completeMessage:B}}}}}},c.prototype.setHoveredPointId=function(n){n!==this.hoveredPointId&&(this.hoveredPointId=n,this.requestRedrawNextFrame())},c.prototype.isMovingPoint=function(){return!!this.pressedPointId},c.prototype.setPressedPointId=function(n){n!==this.pressedPointId&&(this.pressedPointId=n,this.requestRedrawNextFrame())},c.prototype.getFocusedPointId=function(){if(document.activeElement&&p.contains(this.rootNode,document.activeElement))return p(document.activeElement).attr("dcg-mp-id")},c.prototype.getFocusedPoint=function(){var n=this.getFocusedPointId();if(n){var s=this.renderedPoints[n];if(s)return s.poi}},c.prototype.didMountRoot=function(n){this.rootNode=n},c.prototype.requestRedrawNextFrame=function(){this.grapher.redrawAllLayers()},c}(r.Class);o.default=b,o.getCoordsString=u}),q("graphing/integral-image",["require","exports"],function(O,o){function w(d,i,l){return Math.max(i,Math.min(l,d))}Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function d(i){var l=i.data,g=i.width,y=i.height;this.imageData=i;for(var p=1;p<g;p++)l[p]+=l[p-1];for(var u=1;u<y;u++)l[u*g]+=l[u*g-g];for(var f=g*y-g-y+1,b=g-1,m=0;m<f;m++){var p=1+m%b,u=1+Math.floor(m/b),c=u*g,n=p-1+c,s=p+c-g,v=p-1+c-g;l[c+p]+=l[n]+l[s]-l[v]}}return d.prototype.getSumForValidRect=function(i){var l=i.left-1,g=i.right-1,y=i.top-1,p=i.bottom-1,u=this.imageData.width,f=this.imageData.data,b=f[l+y*u],m=f[g+y*u],c=f[l+p*u],n=f[g+p*u];return l>=0&&y>=0?n-m-c+b:l>=0?n-c:y>=0?n-m:n},d.prototype.getSum=function(i){var l={left:w(Math.floor(i.left),0,this.imageData.width),right:w(Math.ceil(i.right),0,this.imageData.width),top:w(Math.floor(i.top),0,this.imageData.height),bottom:w(Math.ceil(i.bottom),0,this.imageData.height)};return l.left>=l.right||l.top>=l.bottom?0:this.getSumForValidRect(l)},d}();o.default=r}),q("graphing/automatic-label-placer",["require","exports","graphing/integral-image","underscore"],function(O,o,w,r){function d(D,S){if(!(S.width*S.height>0))return new w.default({width:0,height:0,data:[]});M.width=0,M.width=Math.round(S.width*A),M.height=Math.round(S.height*A);var x=M.getContext("2d");x.save(),x.scale(M.width/D.canvas.width,M.height/D.canvas.height),x.drawImage(D.canvas,0,0),x.restore();var B=x.getImageData(0,0,M.width,M.height),Z=B.data;Z.length,C.length,C=new Array(Z.length/4);for(var X=C,ee=0;ee<X.length;ee++)X[ee]=Z[4*ee+3];return new w.default({width:B.width,height:B.height,data:X})}function i(D){for(var S=0;S<D.length;S++){var x=l(S,D);D[S]=[x]}return D.map(function(B){return B[0]})}function l(D,S){var x=1/0,B=-1,Z=S[D];if(Z.length===1)return Z[0];for(var X=0;X<Z.length;X++){var ee=S[D][X].staticScore,W=g(D,X,S),U=ee+W;(B===-1||U<x)&&(x=U,B=X)}return Z[B]}function g(D,S,x){for(var B=0,Z=x[D][S],X=0;X<x.length;X++)if(X!==D){for(var ee=0,W=x[X],U=W.length-1;U>=0;U--){var F=W[U],G=Math.max(0,Math.min(Z.right,F.right)-Math.max(Z.left,F.left)),ie=Math.max(0,Math.min(Z.bottom,F.bottom)-Math.max(Z.top,F.top));ee+=G*ie}B+=ee/W.length}return B}function y(D,S){var x=S.getSum({left:D.left*A,right:D.right*A,top:D.top*A,bottom:D.bottom*A});return x/=200,x/=A*A}function p(D,S){var x=0;return S.forEach(function(B){x+=f(D,B)}),x}function u(D,S){var x=f(D,S);return 10*(D.width*D.height-x)}function f(D,S){return Math.max(0,Math.min(D.right,S.right)-Math.max(D.left,S.left))*Math.max(0,Math.min(D.bottom,S.bottom)-Math.max(D.top,S.top))}function b(D,S,x){var B;return function(){return B||(B={domObstructions:x,viewport:{left:0,right:S.width,top:0,bottom:S.height},integralImage:d(D,S)}),B}}function m(D,S){if(!(S.length<=1))for(var x=D(),B=0,Z=S;B<Z.length;B++){var X=Z[B];X.staticScore+=u(X,x.viewport),X.staticScore+=p(X,x.domObstructions),X.staticScore+=y(X,x.integralImage)}}function c(D,S){var x=S.nakedLabel?0:S.pt_radius,B=Math.round(x/Math.sqrt(2)),Z=[],X=S.pt_x,ee=S.pt_y,W=S.width,U=S.height;Z.push({left:X-W/2,top:ee-U/2,staticScore:-1/0,orientation:"center"}),Z.push({left:X+x+3,top:ee-U/2,staticScore:400,orientation:"right"}),Z.push({left:X-(x+W)-3,top:ee-U/2,staticScore:400,orientation:"left"}),Z.push({left:X-W/2,top:ee-(U+x),staticScore:400,orientation:"above"}),Z.push({left:X-(W+B),top:ee-(U+B),staticScore:400,orientation:"tl"}),Z.push({left:X+B,top:ee-(U+B),staticScore:400,orientation:"tr"}),Z.push({left:X-W/2,top:ee+x,staticScore:400,orientation:"below"}),Z.push({left:X-(W+B),top:ee+B,staticScore:400,orientation:"bl"}),Z.push({left:X+B,top:ee+B,staticScore:400,orientation:"br"});var F=Z.map(function(G){var ie=Math.round(G.left),ne=Math.round(G.left+W),Y=Math.round(G.top),ge=Math.round(G.top+U);return{pt_x:Math.round(X),pt_y:Math.round(ee),left:ie,right:ne,top:Y,bottom:ge,width:ne-ie,height:ge-Y,staticScore:S.priorOrientation===G.orientation?G.staticScore-20:G.staticScore,orientation:G.orientation}});return F=S.enforceOrientation&&S.enforceOrientation!=="default"?r.filter(F,function(G){return G.orientation===S.enforceOrientation}):S.nakedLabel?r.filter(F,function(G){return G.orientation==="center"}):S.keepOrientation&&S.priorOrientation?r.filter(F,function(G){return G.orientation===S.priorOrientation}):r.filter(F,function(G){return G.orientation!=="center"}),m(D,F),F}function n(D,S){for(var x=[],B=S.width,Z=S.height,X=B/2,ee=Z/2,W=S.pt_x1,U=S.pt_y1,F=S.pt_x2,G=S.pt_y2,ie=(G-U)/(F-W),ne=Math.atan2(G-U,F-W)+Math.PI/2,Y=5*Math.cos(ne),ge=5*Math.sin(ne),te=Math.min(U,G)-Math.abs(ge)-Z,H=Math.max(U,G)+Math.abs(ge),pe=[.5,.4,.6,.2,.8],fe=[0,20,20,40,40],re=[],se=0,he=pe;se<he.length;se++){var xe=he[se];re.push({x:W*(1-xe)+F*xe,y:U*(1-xe)+G*xe})}for(var Me=0;Me<re.length;Me++){var Be,ke,Re,Ve,ye=re[Me];if(ie>=2||ie<=-2){Re=Ve=ye.y-ee;var P=Math.abs((F-W)/(G-U)*ee)+Math.abs(Y);Be=ye.x+P,ke=ye.x-P-B}else if(ie<=.05&&ie>=-.05){Be=ke=ye.x-X;var ue=Math.abs(ie*X)+Math.abs(ge);Re=ye.y-ue-Z,Ve=ye.y+ue}else Y>0?(Be=ye.x+Y,ke=ye.x-Y-B):(Be=ye.x+Y-B,ke=ye.x-Y),ge>0?(Re=ye.y+ge,Ve=ye.y-ge-Z):(Re=ye.y+ge-Z,Ve=ye.y-ge);Re<te?Re=te:Re>H&&(Re=H),Ve<te?Ve=te:Ve>H&&(Ve=H);var Ae=(F-W)*(Re-U)-(G-U)*(Be-W)>0;x.push({pt_x:ye.x,pt_y:ye.y,left:Be,top:Re,staticScore:fe[Me],orientation:Me.toString()+(Ae?"-a":"-b")}),x.push({pt_x:ye.x,pt_y:ye.y,left:ke,top:Ve,staticScore:fe[Me],orientation:Me.toString()+(Ae?"-b":"-a")})}var _e=x.map(function(qe){var Ye=Math.round(qe.left),Ie=Math.round(qe.left+B),Ne=Math.round(qe.top),z=Math.round(qe.top+Z);return{pt_x:Math.round(qe.pt_x),pt_y:Math.round(qe.pt_y),left:Ye,right:Ie,top:Ne,bottom:z,width:Ie-Ye,height:z-Ne,staticScore:S.priorOrientation===qe.orientation?qe.staticScore-20:qe.staticScore,orientation:qe.orientation}});return S.keepOrientation&&S.priorOrientation&&(_e=r.filter(_e,function(qe){return qe.orientation===S.priorOrientation})),m(D,_e),_e}function s(D,S){var x=[],B=S.pt_x,Z=S.pt_y,X=S.width,ee=S.height,W=S.startAngle,U=S.endAngle;U<W&&(U+=2*Math.PI);var F=(W+U)/2,G=S.isRightAngle?S.radius*Math.sqrt(2):S.radius+4,ie=G+Math.sqrt(S.width*S.width/4+S.height*S.height/4),ne=[],Y=ie*Math.sin(F);Y>G+.5*ee&&(Y=G+.5*ee),Y<-G-.5*ee&&(Y=-G-.5*ee),ne.push({x:B+ie*Math.cos(F)-X/2,y:Z+Y-ee/2});for(var ge=0;ge<ne.length;ge++){var te=ne[ge];x.push({pt_x:te.x,pt_y:te.y,left:te.x,top:te.y,staticScore:0,orientation:ge.toString()+"-a"})}var H=x.map(function(pe){var fe=Math.round(pe.left),re=Math.round(pe.left+X),se=Math.round(pe.top),he=Math.round(pe.top+ee);return{pt_x:Math.round(pe.pt_x),pt_y:Math.round(pe.pt_y),left:fe,right:re,top:se,bottom:he,width:re-fe,height:he-se,staticScore:S.priorOrientation===pe.orientation?pe.staticScore-20:pe.staticScore,orientation:pe.orientation}});return S.keepOrientation&&S.priorOrientation&&(H=r.filter(H,function(pe){return pe.orientation===S.priorOrientation})),m(D,H),H}function v(D,S){for(var x=[],B=S.width,Z=S.height,X=Math.round(10/Math.sqrt(2)),ee=0,W=0,U=0,F=0;F<S.path.length-2;F+=2)U+=1,ee+=S.path[F],W+=S.path[F+1];var G=ee/U,ie=W/U;x.push({left:G-B/2,top:ie-Z/2,staticScore:0,orientation:"center"}),x.push({left:G+10+3,top:ie-Z/2,staticScore:50,orientation:"right"}),x.push({left:G-(10+B)-3,top:ie-Z/2,staticScore:50,orientation:"left"}),x.push({left:G-B/2,top:ie-(Z+10),staticScore:50,orientation:"top"}),x.push({left:G-(B+X),top:ie-(Z+X),staticScore:50,orientation:"tl"}),x.push({left:G+X,top:ie-(Z+X),staticScore:50,orientation:"tr"}),x.push({left:G-B/2,top:ie+10,staticScore:50,orientation:"bottom"}),x.push({left:G-(B+X),top:ie+X,staticScore:50,orientation:"bl"}),x.push({left:G+X,top:ie+X,staticScore:50,orientation:"br"});var ne=x.map(function(Y){var ge=Math.round(Y.left),te=Math.round(Y.left+B),H=Math.round(Y.top),pe=Math.round(Y.top+Z);return{pt_x:Math.round(G),pt_y:Math.round(ie),left:ge,right:te,top:H,bottom:pe,width:te-ge,height:pe-H,staticScore:S.priorOrientation===Y.orientation?Y.staticScore-20:Y.staticScore,orientation:Y.orientation}});return S.keepOrientation&&S.priorOrientation&&(ne=r.filter(ne,function(Y){return Y.orientation===S.priorOrientation})),m(D,ne),ne}Object.defineProperty(o,"__esModule",{value:!0});var A=.5,M=document.createElement("canvas"),C=[];o.getIntegralImage=d,o.computePositions=i,o.buildStaticEnvGetter=b,o.generateCandidatesForPoint=c,o.generateCandidatesForSegment=n,o.generateCandidatesForAngle=s,o.generateCandidatesForPolygon=v}),q("graphing/canvas-labels",["require","exports","tslib","core/lib/deepCopy","graphing/svg-classes"],function(O,o,w,r,d){function i(A,M,C){C.verticalLabel?(A.translate(M.left-.5,M.bottom-.5),A.rotate(-Math.PI/2)):A.translate(M.left-.5,M.top-.5)}function l(A,M){var C=document.createRange();C.selectNode(A);var D=C.getBoundingClientRect();if(D.width>0&&D.height>0){var S=window.getComputedStyle(A.parentElement),x=A.nodeValue||"";if(x){var B=parseFloat(S.fontSize),Z=-.228*B;return{type:"text",rect:{left:D.left-M.canvasLeft,right:D.right-M.canvasLeft,top:D.top-M.canvasTop,bottom:D.bottom-M.canvasTop},text:x,color:S.color||"#000",font:S.fontStyle+" "+S.fontSize+" "+S.fontFamily,y:(M.verticalLabel?D.width:D.height)+Z}}}}function g(A,M,C){A.save(),A.font=M.font,C?(A.strokeStyle="#FFF",A.lineWidth=3,A.miterLimit=2,A.strokeText(M.text,0,M.y)):(A.fillStyle=M.color,A.fillText(M.text,0,M.y)),A.restore()}function y(A,M,C){A.save(),C?(A.strokeStyle="#FFF",A.lineWidth=3):A.fillStyle=M.color,A.beginPath();for(var D=0,S=M.instructions;D<S.length;D++){var x=S[D];switch(x.type){case"moveTo":A.moveTo(x.x,x.y);break;case"lineTo":A.lineTo(x.x,x.y);break;case"ellipse":A.ellipse(x.centerX,x.centerY,x.radiusX,x.radiusY,x.rotation,x.startAngle,x.endAngle,x.anticlockwise)}}A.closePath(),C?A.stroke():A.fill(),A.restore()}function p(A,M,C){var D=A.getBoundingClientRect();if(D.width>0&&D.height>0){var S;S=C.verticalLabel?D.height:D.width;var x=parseFloat(M.borderTopWidth||"1px"),B=M.borderTopColor||"#000",Z=[{type:"moveTo",x:0,y:0},{type:"lineTo",x:S,y:0},{type:"lineTo",x:S,y:x},{type:"lineTo",x:0,y:x}];return{type:"path",rect:{left:D.left-C.canvasLeft,right:D.right-C.canvasLeft,top:D.top-C.canvasTop,bottom:D.bottom-C.canvasTop},instructions:Z,color:B}}}function u(A,M){var C=Math.sqrt(A[0]*A[0]+A[1]*A[1]),D=Math.sqrt(M[0]*M[0]+M[1]*M[1]),S=A[0]*M[0]+A[1]*M[1],x=Math.acos(S/(C*D));return A[0]*M[1]-A[1]*M[0]<0&&(x*=-1),x}function f(A,M,C,D,S,x,B,Z,X){var ee=Math.cos(S),W=Math.sin(S),U=(A-Z)/2,F=(M-X)/2,G=ee*U+W*F,ie=-W*U+ee*F,ne=C*C,Y=D*D,ge=G*G,te=ie*ie,H=Math.sqrt((ne*Y-ne*te-Y*ge)/(ne*te+Y*ge));x===B&&(H*=-1);var pe=H*C*ie/D,fe=-H*D*G/C,re=(A+Z)/2,se=(M+X)/2,he=ee*pe-W*fe+re,xe=W*pe+ee*fe+se,Me=[1,0],Be=[(G-pe)/C,(ie-fe)/D],ke=[(-G-pe)/C,(-ie-fe)/D];return{centerX:he,centerY:xe,radiusX:C,radiusY:D,startAngle:u(Me,Be),endAngle:u(Me,ke),rotation:S,anticlockwise:B===0}}function b(A,M){function C(Re){return(Re-Z)/U}function D(Re){return(Re-ee)/F}var S=A+"-"+M,x=v[S];if(x)return x;x=[],v[S]=x;var B=M.split(" ");if(B.length!==4)return x;var Z=parseFloat(B[0]),X=parseFloat(B[2]),ee=parseFloat(B[1]),W=parseFloat(B[3]),U=X-Z,F=W-ee,G=new RegExp("(M[0-9-.]+ [0-9-.]+)|(L[0-9-.]+ [0-9-.]+)|(A[0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+)","g"),ie=A.match(G);if(!ie||!ie.length)return x;for(var ne=NaN,Y=NaN,ge=0,te=ie;ge<te.length;ge++){var H=te[ge],pe=H.substr(1).split(" ").map(parseFloat);switch(H[0]){case"M":ne=C(pe[0]),Y=D(pe[1]),x.push({type:"moveTo",x:ne,y:Y});break;case"L":ne=C(pe[0]),Y=D(pe[1]),x.push({type:"lineTo",x:ne,y:Y});break;case"A":var fe=pe[0]/U,re=pe[1]/F,se=pe[2],he=pe[3],xe=pe[4],Me=C(pe[5]),Be=D(pe[6]),ke=f(ne,Y,fe,re,se,he,xe,Me,Be);ne=Me,Y=Be,x.push(w.__assign({type:"ellipse"},ke))}}return x}function m(A,M){var C=A.childNodes[0];if(C&&C.nodeName==="path"){var D=A.getBoundingClientRect();if(D.width>0&&D.height>0){var S,x,B=C.getAttribute("d")||"",Z=A.getAttribute("viewBox")||"",X=b(B,Z),ee=window.getComputedStyle(A);M.verticalLabel?(S=D.height,x=D.width):(S=D.width,x=D.height),X=r.default(X);for(var W=0,U=X;W<U.length;W++){var F=U[W];switch(F.type){case"moveTo":case"lineTo":F.x*=S,F.y*=x;break;case"ellipse":F.centerX*=S,F.centerY*=x,F.radiusX*=S,F.radiusY*=x;break;default:return F}}return{type:"path",rect:{left:D.left-M.canvasLeft,right:D.right-M.canvasLeft,top:D.top-M.canvasTop,bottom:D.bottom-M.canvasTop},color:ee.color||"#000",instructions:X}}}}function c(A,M,C){var D=window.getComputedStyle(A);if(D.borderTopWidth!=="0px"){var S=p(A,D,M);S&&C.push(S)}for(var x=A.childNodes,B=0;B<x.length;B++){var Z=x[B];if(Z.nodeType===3){var S=l(Z,M);S&&C.push(S)}else if(Z.nodeName==="svg"){var S=m(Z,M);S&&C.push(S)}else Z.nodeType===1&&c(Z,M,C)}}function n(A,M){var C=[];return c(A,M,C),C}function s(A,M,C){d.save(M,"dcg-svg-label"),M.save(),d.restore(M);for(var D=0,S=A;D<S.length;D++){var x=S[D];switch(M.save(),i(M,x.rect,C),x.type){case"path":y(M,x,!0);break;case"text":g(M,x,!0);break;default:var B=x;return B}M.restore()}for(var Z=0,X=A;Z<X.length;Z++){var x=X[Z];switch(M.save(),i(M,x.rect,C),x.type){case"path":y(M,x,!1);break;case"text":g(M,x,!1);break;default:var B=x;return B}M.restore()}M.restore()}Object.defineProperty(o,"__esModule",{value:!0});var v={};o.computeDrawingCommandsForDOMLabel=n,o.drawCommandsToCtx=s}),q("graphing/poilabelslayer",["require","exports","tslib","dcgview","jquery","core/lib/label","core/types/graphmode","core/types/label-sizes","core/math/poi-type","./constants","./poi","./automatic-label-placer","core/lib/color-helpers","core/math/interpolatedlabel","../dcgview-helpers/static-mathquill-view","../dcgview-helpers/mathquill-view","core/graphing-calc/json/expression","graphing-calc/models/expression","graphing/canvas-labels","graphing/movablepointslayer","./svg-groups"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n,s,v,A,M,C){function D(U,F){return F&&F.visible?F.getPOIById(U):null}function S(U,F){var G,ie=F.xmax-F.xmin,ne=F.ymax-F.ymin,Y=U.getGraphMode();if(U.type===y.TRACE){var ge=Y===l.X,te=ge?U.y:U.x,H=U.getCompiledFunction();if(G=i.point(te,ie,ne,H),ge){var pe=G[0];G[0]=G[1],G[1]=pe}}else G=[i.value(U.x,ie),i.value(U.y,ne)];var fe=!isFinite(G[1].value),re=U.getLabel();if(re)return m.isMathLabel(re)?{is_hole:fe,type:"latex",text:re.substr(1,re.length-2)}:{is_hole:fe,type:"text",text:re};var se=G[0].superscript?G[0].mantissa+"^{"+G[0].superscript+"}":G[0].string,he=G[1].superscript?G[1].mantissa+"^{"+G[1].superscript+"}":G[1].string;return se==="undefined"&&(se="\\mathrm{undefined}"),he==="undefined"&&(he="\\mathrm{undefined}"),{is_hole:fe,type:"latex",text:"\\left("+se+",\\space "+he+"\\right)"}}function x(U,F,G){var ie=U.t("unknown coordinates"),ne=F.getProjection();if(!ne)return ie;var Y=ne.viewport;return Y&&G&&(ie=M.getCoordsString(G.x,G.y,Y)),ie}Object.defineProperty(o,"__esModule",{value:!0});var B=r.Components.Input,Z=r.Components,X=Z.For,ee=Z.Switch,W=function(U){function F(){var G=U!==null&&U.apply(this,arguments)||this;return G.labelsDirty=!1,G}return w.__extends(F,U),F.prototype.init=function(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.cachedLabelDict={},this.cachedLabelOrder=[],this.hoveredPOI=void 0,this.openedPOI2Sketch={},this.takingScreenshot=!1},F.prototype.template=function(){var G=this;return r.createElement(X,{each:function(){return G.cachedLabelOrder}},r.createElement("div",{class:r.const("dcg-graph-outer"),style:this.const({"z-index":0}),didMount:this.didMountRoot.bind(this)},function(ie){return r.createElement("div",{class:function(){return G.getLabelClasses(ie)},style:function(){return G.getLabelStyles(ie)}},r.createElement("div",{class:r.const("dcg-pt"),style:function(){return G.getDotStyles(ie)}}),r.createElement("div",{class:r.const("dcg-label"),didMount:function(ne){return G.linkLabelNode(ie,ne)}},G.renderLabelContent(ie)))}))},F.prototype.renderLabelContent=function(G){var ie=this;return r.createElement(ee,{key:function(){return ie.getLabelContent(G).type}},function(ne){return ne==="text"?r.createElement("span",null,function(){return ie.getLabelContent(G).text}):ne==="latex"?r.createElement(c.default,{latex:function(){return ie.getLabelContent(G).text}}):ne===s.EditableLabelMode.Math?r.createElement("div",{class:function(){return{"dcg-editable-label-border":!0,"dcg-do-not-blur":!0,"dcg-focus":ie.shouldEditableLabelBeFocused(G),"dcg-empty-label":ie.getEditableLabelText(G).trim().length===0}},style:function(){return{"border-color":b.shadeColor(ie.getEditableLabelTextColor(G),.3)}}},r.createElement(n.default,{latex:function(){return ie.getEditableLabelText(G)},placeholder:function(){return""},isFocused:function(){return ie.shouldEditableLabelBeFocused(G)},capExpressionSize:function(){return!!ie.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:r.const(!1),config:ie.const({}),getAriaLabel:function(){return ie.controller.t("Editable point label at __coordinates__",{coordinates:x(ie.controller,ie.grapher,ie.cachedLabelDict[G])})},getAriaPostLabel:ie.const(""),onUserChangedLatex:function(Y){return ie.onLabelInput(Y,G)},onExpressionSizeExceeded:function(){return ie.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(Y){return ie.onEditableLabelFocusChange(Y,G)},hasError:ie.const(!1),noFadeout:ie.const(!0),needsSystemKeypad:function(){return!ie.controller.isKeypadEnabled()}})):r.createElement("div",{class:function(){return{"dcg-resizing-text-input-container":!0,"dcg-editable-label-border":!0,"dcg-focus":ie.shouldEditableLabelBeFocused(G),"dcg-empty-label":ie.getEditableLabelText(G).trim().length===0}},style:function(){return{"border-color":b.shadeColor(ie.getEditableLabelTextColor(G),.3)}},onScroll:function(Y){Y.target&&(Y.target.scrollLeft=0)}},r.createElement(B,{"aria-label":function(){return ie.controller.t("Editable point label at __coordinates__",{coordinates:x(ie.controller,ie.grapher,ie.cachedLabelDict[G])})},onInput:function(Y){return ie.onLabelInput(Y,G)},value:function(){return ie.getEditableLabelText(G)},onFocus:function(){return ie.onEditableLabelFocusChange(!0,G)},onBlur:function(){return ie.onEditableLabelFocusChange(!1,G)}}),r.createElement("span",{class:r.const("dcg-text-input-content")},function(){return ie.getEditableLabelText(G)||" "}))})},F.prototype.getSketchIdFromLabelId=function(G){var ie=this.cachedLabelDict[G];if(ie)return ie.sketchId},F.prototype.getEditableLabelTextColor=function(G){var ie=this.getSketchIdFromLabelId(G);if(!ie)return"#000";var ne=this.controller.getItemModel(ie);return ne&&ne.type==="expression"?ne.color:"#000"},F.prototype.onEditableLabelFocusChange=function(G,ie){var ne=this.getSketchIdFromLabelId(ie);ne&&(G?this.controller.dispatch({type:"set-focus-location",location:{type:"editable-label",id:ne}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"editable-label",id:ne}}),this.update())},F.prototype.shouldEditableLabelBeFocused=function(G){var ie=this.getSketchIdFromLabelId(G),ne=this.controller.getFocusLocation();return!(!ne||ne.type!=="editable-label"||!ie||ne.id!==ie)},F.prototype.onLabelInput=function(G,ie){var ne=this.getSketchIdFromLabelId(ie);if(ne&&this.grapher.poiController.getExpressionModel(ne)){var Y=G;this.controller.getItemEditableLabelMode(ne)===s.EditableLabelMode.Math&&Y.length>0&&(Y="`"+Y+"`"),this.controller.dispatch({type:"set-item-label",id:ne,label:Y})}},F.prototype.getEditableLabelText=function(G){var ie=this.getSketchIdFromLabelId(G);if(ie){var ne=this.grapher.poiController.getExpressionModel(ie);return ne?this.controller.getItemEditableLabelMode(ie)===s.EditableLabelMode.Math?ne.label.substr(1,ne.label.length-2):ne.label:""}},F.prototype.linkLabelNode=function(G,ie){var ne=this.cachedLabelDict[G];ne&&(ne.labelDOM=ie)},F.prototype.getLabelClasses=function(G){var ie=this.cachedLabelDict[G];return ie?ie.classes:{}},F.prototype.getLabelStyles=function(G){var ie=this.cachedLabelDict[G];return ie?ie.styles:{}},F.prototype.getDotStyles=function(G){var ie=this.cachedLabelDict[G];return ie?ie.dotStyles:{}},F.prototype.getLabelContent=function(G){var ie=this.cachedLabelDict[G];if(ie){var ne=this.getSketchIdFromLabelId(G);if(!ne)return{is_hole:!1,type:"text",text:""};var Y=this.controller.getItemEditableLabelMode(ne);return ie.classes["dcg-editable-label"]&&Y!==void 0&&Y!==s.EditableLabelMode.None?{is_hole:!1,type:Y,text:""}:ie.content}return{is_hole:!1,type:"text",text:""}},F.prototype.didMountRoot=function(G){this.node=G},F.prototype.computeHoveredLabel=function(G,ie){var ne;this.hoveredPOI?this.isOpenPOI(this.hoveredPOI)?this.grapher.setLayerClass("hoveredPOI","dcg-mouse-over-opened-poi"):(ne=this.computeLabel(this.hoveredPOI,G,ie,"hovered"),this.grapher.setLayerClass("hoveredPOI","dcg-mouse-over-closed-poi")):this.grapher.setLayerClass("hoveredPOI",void 0);var Y=this.getHoveredInteractiveLabel();return Y&&!Y.bareLabel?this.grapher.setLayerClass("interactiveLabel","dcg-mouse-over-opened-poi"):this.grapher.setLayerClass("interactiveLabel",void 0),ne},F.prototype.computeTraceLabel=function(G,ie){if(this.traceInfo){var ne=this.traceInfo.pt;if(ne){var Y=new u.POI(ne.x,ne.y,y.TRACE,this.traceInfo.branchInfo.sketch,this.traceInfo.branchInfo.branch,0);return this.computeLabel(Y,G,ie,"trace")}}},F.prototype.computeLabel=function(G,ie,ne,Y){var ge=G.id+"";Y==="trace"&&(ge="*trace*");var te=ie.mapx(G.x),H=ie.mapy(G.y),pe=te,fe=H;if(ie.coordsAreOnscreen(te,H,p.OFFSCREEN_RENDER_MARGIN)){if(this.isHiddenInteractiveLabel(G))return;var re=!1,se=void 0,he=G.sketch,xe=he&&he.branches[0];xe&&(re=!!("nakedLabel"in xe&&xe.nakedLabel),se="labelOrientation"in xe?xe.labelOrientation:void 0);var Me=he.id,Be=this.controller.getItemModel(Me);if(G.hasEditableLabel()&&Be&&Be.type==="expression"&&!v.isSinglePoint(Be))return;var ke=S(G,ie.viewport),Re=G.getLabelSize(),Ve=!!G.getVerticalLabel(),ye=!!G.getTextOutline(),P=G.isPersistent(),ue=G.isAttachedToPlottedPoint(),Ae=G.hasInteractiveLabel(),_e=G.hasEditableLabel()&&!this.takingScreenshot,qe=he.color,Ye=!P,Ie=!!ue;Ae&&(Ie=!0,Ye=!0),Y==="trace"&&(Ie=!1,Ye=!0);var Ne=ne[ge],z=Ne&&Ne.labelDOM,Pe=Ne&&Ne.width,ot=Ne&&Ne.height,rt=Ne&&Ne.orientation,kt={"dcg-poi-label":!0,"dcg-tracept":Y==="trace","dcg-opened":Y==="opened","dcg-hole":ke.is_hole,"dcg-size-small":Re===g.LabelSize.SMALL,"dcg-size-medium":Re===g.LabelSize.MEDIUM,"dcg-size-large":Re===g.LabelSize.LARGE,"dcg-vertical-label":!!Ve,"dcg-show-border":Ye,"dcg-hide-dot":Ie,"dcg-editable-label":_e,"dcg-has-outline":ye},ve={left:te+"px",top:H+"px"};if(P&&qe){var ze=Ae&&!this.isOpenInteractiveLabel(G)?.5:.3;ve.color=b.shadeColor(qe,ze)}var je={};return Y==="trace"&&(je["background-color"]=qe,je["border-color"]=qe),{id:ge,sketchId:Me,x:G.x,y:G.y,screenX:te,screenY:H,top:fe,left:pe,width:Pe,height:ot,labelDOM:z,forcedOrientation:se,isNakedLabel:re,isVertical:Ve,orientation:rt,classes:kt,styles:ve,dotStyles:je,content:ke}}},F.prototype.computeAllLabels=function(G,ie){var ne,Y,ge={},te=this.grapher.graphSketches;for(ne in te){var H=te[ne];if(H.visible){var pe=H.labels;if(pe.length)for(var fe=0;fe<pe.length;fe++)(Y=this.computeLabel(pe[fe],G,ie,"opened"))&&(ge[Y.id]=Y)}}var re={};for(ne in this.openedPOI2Sketch){var se=D(ne,te[this.openedPOI2Sketch[ne]]);se&&(re[ne]=se.sketch.id,(Y=this.computeLabel(se,G,ie,"opened"))&&(ge[Y.id]=Y))}return this.openedPOI2Sketch=re,ge},F.prototype.markLabelsDirty=function(){this.labelsDirty=!0},F.prototype.getEditableLabelUnderPoint=function(G){for(var ie=0,ne=this.cachedLabelOrder.length;ie<ne;ie++){var Y=this.cachedLabelOrder[ie],ge=this.cachedLabelDict[Y];if(ge&&ge.width&&ge.height){var te=ge.screenX,H=ge.screenY,pe=ge.left,fe=ge.top,re=ge.width,se=ge.height;if(re>0&&se>0&&G.x>te+pe&&G.x<te+pe+re&&G.y>H+fe&&G.y<H+fe+se){var he=this.getSketchIdFromLabelId(Y);if(he===void 0)continue;var xe=this.controller.getItemModel(he);if(!xe||xe.type!=="expression"||!v.hasEditableLabel(xe))continue;return xe}}}},F.prototype.positionLabels=function(G,ie,ne,Y,ge){var te=!this.labelsDirty;this.labelsDirty=!1;var H=this.grapher.settings.config.projectorMode?14:10,pe=[];ie.forEach(function(se){var he=ne[se];if(he&&he.labelDOM){var xe=he.screenX,Me=he.screenY,Be=he.labelDOM.getBoundingClientRect(),ke=Be.width,Re=Be.height;ke>0&&Re>0&&pe.push({renderedLabel:he,pt_x:xe,pt_y:Me,pt_radius:H,nakedLabel:he.isNakedLabel,width:ke,height:Re,keepOrientation:te,priorOrientation:he.orientation,enforceOrientation:he.forcedOrientation})}});var fe=f.buildStaticEnvGetter(G,Y,ge),re=pe.map(function(se){return f.generateCandidatesForPoint(fe,se)});f.computePositions(re).forEach(function(se,he){var xe=pe[he].renderedLabel;xe.orientation=se.orientation;var Me=se.left-se.pt_x,Be=se.top-se.pt_y;xe.left=Me,xe.top=Be,xe.width=se.width,xe.height=se.height;var ke=xe.labelDOM;ke&&(ke.style.left=Me+"px",ke.style.top=Be+"px",d(ke).data("orientation",se.orientation))})},F.prototype.copyToCtx=function(G){C.save(G,"labels");var ie=this.node.getBoundingClientRect();for(var ne in this.cachedLabelDict){var Y=this.cachedLabelDict[ne];if(Y){var ge=Y.labelDOM;if(ge){var te={canvasLeft:ie.left,canvasTop:ie.top,verticalLabel:Y.isVertical},H=A.computeDrawingCommandsForDOMLabel(ge,te);A.drawCommandsToCtx(H,G,te)}}}C.restore(G)},F.prototype.drawForScreenshot=function(G,ie,ne,Y,ge){this.takingScreenshot=!0,this.redraw(G,ie,Y,ge),this.takingScreenshot=!1,this.copyToCtx(ne)},F.prototype.redraw=function(G,ie,ne,Y){var ge=this.computeAllLabels(G,this.cachedLabelDict),te=this.computeHoveredLabel(G,this.cachedLabelDict);te&&(ge[te.id]=te);var H=this.computeTraceLabel(G,this.cachedLabelDict);H&&(ge[H.id]=H),this.cachedLabelDict=ge,this.cachedLabelOrder=Object.keys(ge),this.update(),this.positionLabels(ie,this.cachedLabelOrder,this.cachedLabelDict,ne,Y)},F.prototype.clearOpenedPOI=function(){this.openedPOI2Sketch={}},F.prototype.closePOI=function(G){delete this.openedPOI2Sketch[G.id]},F.prototype.openPOI=function(G){this.openedPOI2Sketch[G.id]=G.sketch.id},F.prototype.isOpenPOI=function(G){return this.openedPOI2Sketch.hasOwnProperty(G.id)},F.prototype.isOpenInteractiveLabel=function(G){return!!this.isOpenPOI(G)&&G.hasInteractiveLabel()},F.prototype.isHiddenInteractiveLabel=function(G){return!!G&&!!G.hasInteractiveLabel()&&!this.isOpenPOI(G)&&this.getHoveredPOI()!==G},F.prototype.setHoveredPOI=function(G){this.hoveredPOI=G},F.prototype.getHoveredPOI=function(){return this.hoveredPOI},F.prototype.getHoveredInteractiveLabel=function(){var G=this.getHoveredPOI();return G&&G.hasInteractiveLabel()?G:void 0},F.prototype.setTraceInfo=function(G){this.traceInfo=G},F.prototype.isTracing=function(){return!!this.traceInfo},F.prototype.getTraceInfo=function(){return this.traceInfo},F}(r.Class);o.default=W}),q("graphing/clickableobject-layer",["require","exports","tslib","dcgview","jquery","graphing-calc/models/expression","graphing-calc/models/image"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=r.Components.For,y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.init=function(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.renderedTabTargetOrder=[],this.renderedTabTargets={}},u.prototype.template=function(){var f=this;return r.createElement(g,{each:function(){return f.renderedTabTargetOrder}},r.createElement("div",{class:r.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:this.bindFn(this.handleFocusChange),onFocusout:this.bindFn(this.handleFocusChange),didMount:function(b){return f.rootNode=b}},function(b){return r.createElement("div",{class:r.const("dcg-tabbable-clickableobject"),role:r.const("button"),"aria-roledescription":r.const("clickable object"),"dcg-clickableobject-id":f.const(b),tabindex:function(){return f.getTabIndex()},"aria-hidden":f.bindFn(f.getAriaHidden),"aria-label":function(){return f.getAriaLabel(b)},onTap:function(){f.controller.dispatch({type:"clickable-item-clicked",id:b})}})}))},u.prototype.redraw=function(){this.renderedTabTargets={},this.renderedTabTargetOrder=[];var f,b=this.grapher.graphSketches;for(f in b)if(b[f].visible){var m=this.controller.getItemModel(f);if(m&&m.type==="expression"&&i.isClickableObject(m)){this.renderedTabTargetOrder.push(f);var c=m.clickableInfo.description!==""?m.clickableInfo.description:this.grapher.getAudioTrace().getExpressionAriaLabel(f);this.renderedTabTargets[f]={id:f,description:c}}}var n=this.grapher.graphImages;for(f in n)if(!n[f].hidden&&!this.controller.isItemSecret(f)){var m=this.controller.getItemModel(f);m&&m.type==="image"&&l.isClickableObject(m)&&(this.renderedTabTargetOrder.push(f),this.renderedTabTargets[f]={id:f,description:m.clickableInfo.description})}this.renderedTabTargets[this.hoveredId]||this.setHoveredId(void 0),this.renderedTabTargets[this.pressedId]||this.setPressedId(void 0),this.hoveredId||this.pressedId?this.grapher.setLayerClass("clickableObjects","dcg-mouse-over-clickable-object"):this.grapher.setLayerClass("clickableObjects",void 0),this.update()},u.prototype.getTabIndex=function(){var f=this.grapher.settings;return f.config.graphpaper&&f.config.enableTabindex?0:-1},u.prototype.getAriaHidden=function(){return!this.grapher.settings.config.graphpaper},u.prototype.getAriaLabel=function(f){var b=this.renderedTabTargets[f];return b?b.description:""},u.prototype.shouldDrawHovered=function(f){return f===this.focusedId||!(this.isAnObjectPressed()&&!this.isObjectPressed(f))&&this.isObjectHovered(f)},u.prototype.isObjectHovered=function(f){return f!==void 0&&this.hoveredId===f},u.prototype.setHoveredId=function(f){f!==this.hoveredId&&(this.hoveredId=f,this.requestRedrawNextFrame())},u.prototype.shouldDrawPressed=function(f){return this.isObjectPressed(f)},u.prototype.isObjectPressed=function(f){return f!==void 0&&this.pressedId===f},u.prototype.setPressedId=function(f){f!==this.pressedId&&(this.pressedId=f,this.requestRedrawNextFrame())},u.prototype.getPressedId=function(){return this.pressedId},u.prototype.isAnObjectPressed=function(){return!!this.pressedId},u.prototype.handleFocusChange=function(){var f=void 0;document.activeElement&&d.contains(this.rootNode,document.activeElement)&&(f=d(document.activeElement).attr("dcg-clickableobject-id")),this.focusedId!==f&&(this.focusedId=f,this.requestRedrawNextFrame())},u.prototype.requestRedrawNextFrame=function(){this.grapher.redrawAllLayers()},u}(r.Class);o.default=y}),q("graphing/grapher",["require","exports","main/graph_settings","./canvaslayer","./poidotslayer","./gridlayer","./graphslayer","./imagelayer","./viewportcontroller","./poicontroller","vendor/canvas2svg","dcgview","jquery","underscore","./viewport","./screen","./graphsketch","./projection","underscore_model","./audiograph","./canvas-braille","./braille-size-options","core/lib/deepCopy","lib/animation-frame","core/lib/default-spec","core/graphing-calc/json/graph-settings","graphing/tonegenerator","./movablepointslayer","./poilabelslayer","./clickableobject-layer","./svg-classes","./svg-groups"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n,s,v,A,M,C,D,S,x,B,Z,X,ee,W,U,F,G){function ie(){return new n.Screen(1024,768)}function ne(){return new c.Viewport(-10,10,-10,10)}Object.defineProperty(o,"__esModule",{value:!0});var Y=function(){function ge(te,H,pe,fe){var re=this;this.type="2d",this._layerClasses={},this.$=te,this.evaluator=fe,this.controller=pe,this.settings=H;var se=ie(),he=ne().squareYAxis(se);this.setUserRequestedViewport(he),this.__projection=new v.Projection(se,he,H),this.markLabelsDirty=m.debounce(function(){re.evaluator.notifyWhenSynced(function(){re.__isRedrawingSlowly?re.notifyAfterRedraw(function(){re.poiLabelsLayer.markLabelsDirty(),re.redrawAllLayers()}):(re.poiLabelsLayer.markLabelsDirty(),re.redrawAllLayers())})},300),this.poiController=new p(this,H),this.viewportController=y(this,this.controller),this.showPOIDots=!0,this.$.css("overflow","hidden"),this.graphSketches={},this.graphImages={},this.canvasLayer=r(this),this.$.append(this.canvasLayer.$),this.imageLayer=g(),this.gridLayer=i(),this.poiDotsLayer=d(),this.graphsLayer=l(this.settings);var xe=b("<div></div>");this.$.append(xe);var Be=this;this.clickableObjectsLayer=f.mountToNode(U.default,xe[0],{grapher:function(){return Be}});var Me=b("<div></div>");this.$.append(Me);var Be=this;this.movablePointsLayer=f.mountToNode(ee.default,Me[0],{grapher:function(){return Be}});var ke=b("<div></div>");this.$.append(ke),this.poiLabelsLayer=f.mountToNode(W.default,ke[0],{grapher:function(){return Be}}),this.traceLayer=this.poiLabelsLayer,this.scaleAxis=void 0,this.__sketchOrder=[],this.selectedId=void 0,this.__redrawRequested=!1,this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!1,this.events=new A.UnderscoreModel,this.audioGraph=new M.default(pe,this)}return ge.prototype.remove=function(){this.$.remove(),this.poiController.remove(),this.viewportController.remove(),this.audioGraph.remove()},ge.prototype.tick=function(te){this.__isRedrawingSlowly?this._redrawSlowly():this.__redrawRequested&&this._redrawAllLayers(),this.__movablePointListener&&this.__movablePointListener()},ge.prototype.registerMovablePointListener=function(te){this.__movablePointListener=te},ge.prototype.deregisterMovablePointListener=function(){this.__movablePointListener=void 0},ge.prototype.setSketchOrder=function(te){m.isEqual(this.__sketchOrder,te)||(this.__sketchOrder=te,this.redrawAllLayers())},ge.prototype.clear=function(){this.graphSketches={},this.graphImages={}},ge.prototype.getGraphSketch=function(te){return this.graphSketches[te]},ge.prototype.getGraphImage=function(te){return this.graphImages[te]},ge.prototype.addGraphSketch=function(te){this.graphSketches[te.id]=te},ge.prototype.removeGraphSketch=function(te){delete this.graphSketches[te]},ge.prototype.addGraphImage=function(te){var H=this;te.imageObj.width&&te.imageObj.height?(this.graphImages[te.id]=te,this.redrawAllLayers()):b(te.imageObj).on("load.calc_load",function(){return H.addGraphImage(te)})},ge.prototype.removeGraphImage=function(te){var H=this.graphImages[te];H&&b(H.imageObj).off("load.calc_load"),delete this.graphImages[te],this.redrawAllLayers()},ge.prototype.getProjection=function(){return this.__projection},ge.prototype._setProjection=function(te){this.__projection=te,this.redrawAllLayers()},ge.prototype.getAudioTrace=function(){return this.audioGraph},ge.prototype.getDefaultViewport=function(){var te=this.getProjection();return ne().squareYAxis(te.screen)},ge.prototype._updateScreenSize=function(te,H){if(!(te<=0||H<=0)){var pe=this.getProjection(),fe=pe.screen;if(fe.width!==te||fe.height!==H){this.$.width(te);var re=new n.Screen(te,H);this.viewportController.setScreen(re)}}},ge.prototype._setIsVisible=function(te){te!==this.isVisible&&(this.isVisible=te,te?this.redrawAllLayers():this.canvasLayer.resize(0,0))},ge.prototype.update=function(){var te=this.controller.computeMajorLayout().grapher;te.width>0&&te.height>0?(this._setIsVisible(!0),this._updateScreenSize(te.width,te.height),this.$.css({position:"absolute",left:te.left+"px",top:te.top+"px",width:te.width+"px",height:te.height+"px"})):this._setIsVisible(!1)},ge.prototype.hide=function(te){var H=this.getGraphSketch(te);H&&(H.visible=!1)},ge.prototype.select=function(te){if(this.selectedId){var H=this.getGraphSketch(this.selectedId);H&&(H.selected=!1,H.showPOI=!1,H.showHighlight=!1)}var pe=this.getGraphSketch(te);pe&&(pe.selected=!0,pe.showPOI=this.controller.isTraceEnabled(),pe.showHighlight=!0),this.selectedId=te},ge.prototype.updateSketch=function(te,H){var pe=this.getGraphSketch(te);if(!H.length)return this.hide(te);var fe=new s.GraphSketch(te,H);fe.color=H[0].color,fe.style=H[0].style,pe&&fe.updateFrom(pe);var re=String(te)===String(this.selectedId);fe.selected=re,fe.showPOI=re&&this.controller.isTraceEnabled(),fe.showHighlight=re,this.addGraphSketch(fe)},ge.prototype.updateIntersections=function(te,H){var pe=this.getGraphSketch(te);pe&&pe.updateIntersections(H)},ge.prototype.redrawAllLayers=function(){this.cancelRedrawSlowly(),this.__redrawRequested=!0},ge.prototype._clear=function(){var te=this.getProjection(),H=te.screen;this.canvasLayer.resize(te.screen.width,te.screen.height),this.canvasLayer.ctx.clearRect(0,0,H.width,H.height)},ge.prototype._redrawAllLayers=function(){this.isVisible&&(this.__redrawRequested=!1,this._clear(),this.audioGraph.recomputePoints(),this._recomputeClickableObjects(),this._redrawImageLayer(),this._redrawGridLayer(),this._redrawGraphsLayer(),this._redrawPointsAndLabels(),this._updateCanvasLayerAria(),this.events.triggerEvent("redraw",void 0))},ge.prototype.cancelRedrawSlowly=function(){this.__isRedrawingSlowly&&(this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!1,this.redrawAllLayers())},ge.prototype.redrawSlowly=function(){this.__isRedrawingSlowly||(this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!0,this.audioGraph.recomputePoints())},ge.prototype._redrawSlowly=function(){var te,H,pe=this.__redrawSlowlyIndex;if(pe===0&&(this._clear(),this._redrawGridLayer()),pe>=this.__sketchOrder.length)return void this.cancelRedrawSlowly();var fe=this.__sketchOrder[pe],re=(te={},te[fe]=this.graphSketches[fe],te),se=(H={},H[fe]=this.graphImages[fe],H);(se[fe]||re[fe])&&this.graphsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),re,se,[fe],this.poiLabelsLayer,this.clickableObjectsLayer),this.__redrawSlowlyIndex+=1},ge.prototype._redrawGridLayer=function(){this.gridLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.scaleAxis)},ge.prototype._recomputeClickableObjects=function(){this.clickableObjectsLayer.redraw()},ge.prototype._redrawGraphsLayer=function(){this.graphsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphSketches,this.graphImages,this.__sketchOrder,this.poiLabelsLayer,this.clickableObjectsLayer)},ge.prototype._updateCanvasLayerAria=function(){var te=0;for(var H in this.graphSketches)X.canPlaySketch(this.graphSketches[H])&&(te+=1);this.canvasLayer.updateAria(this.isVisible,te)},ge.prototype._redrawPointsAndLabels=function(){var te=this.getProjection(),H=[];this.movablePointsLayer.redraw(this.canvasLayer.ctx,te,H),this.showPOIDots&&this.poiDotsLayer.redrawToCtx(this.canvasLayer.ctx,te,this.graphSketches,this.poiLabelsLayer,this.clickableObjectsLayer);var pe=this.$[0].getBoundingClientRect();m.each([this.controller.find$(".dcg-overgraph-pillbox-elements")[0],this.controller.find$(".dcg-graphpaper-branding")[0]],function(re){if(re){var se=re.getBoundingClientRect();H.push({left:se.left-pe.left,top:se.top-pe.top,right:se.right-pe.left,bottom:se.bottom-pe.top})}});var fe=this.canvasLayer.ctx.canvas.getBoundingClientRect();this.poiLabelsLayer.redraw(te,this.canvasLayer.ctx,{width:fe.width,height:fe.height},H)},ge.prototype._redrawImageLayer=function(){this.imageLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphImages,this.__sketchOrder)},ge.prototype._parseScreenshotOpts=function(te){var H,pe,fe,re,se,he,xe=this.getProjection();return te?(H=te.width||te.height||xe.screen.width,pe=te.height||te.width||xe.screen.height,fe=te.targetPixelRatio||1,re=(H<256||pe<256)&&!te.preserveAxisNumbers,se=w.fromObject(te.settings||this.settings),he=!!te.transparentBackground):(H=xe.screen.width,pe=xe.screen.height,fe=1,re=!1,se=w.fromObject(this.settings),he=!1),re&&(se.setProperty("xAxisNumbers",!1),se.setProperty("yAxisNumbers",!1),se.setProperty("polarNumbers",!1)),{width:H,height:pe,targetPixelRatio:fe,settings:se,transparentBackground:he}},ge.prototype._syncScreenshotReturnCanvas=function(te){var H=document.createElement("canvas");if(te&&te.braille){var pe=te.braille,fe=pe.embosserModel,re=pe.brailleMode,se=D.brailleSizes[fe];H.width=se.width,H.height=se.height,C.createBrailleImage(H,this,se,fe,re)}else{var he=this._parseScreenshotOpts(te);H.width=he.width*he.targetPixelRatio,H.height=he.height*he.targetPixelRatio,this.screenshotToCanvas(H,te)}return H},ge.prototype.screenshot=function(te){return this._syncScreenshotReturnCanvas(te).toDataURL("image/png")},ge.prototype.asyncScreenshot=function(te,H){var pe=this,fe=!1;!te.transparentBackground&&te.showLabels&&(te=S.default(te),te.transparentBackground=!0,fe=!0);var re=this._syncScreenshotReturnCanvas(te),se=re.getContext("2d"),he=re,xe=se;te&&te.format==="svg"&&(fe=!1,te.transparentBackground&&(te=S.default(te),te.transparentBackground=!1),xe=new u(re.width,re.height),he={getContext:function(){return xe},width:re.width,height:re.height},this.screenshotToCanvas(he,te));var Me=this.makeScreenshotProjection(te),Be=[];if(te.showMovablePoints&&this.movablePointsLayer.drawForScreenshot(xe,Me,Be),te.showLabels){var ke=b('<div class="dcg-calculator-api-container"><div class="dcg-container"></div></div>').css({width:Me.screen.width,height:Me.screen.height,position:"absolute",left:"0px",top:"0px"}).appendTo("body"),Re=ke.find(".dcg-container"),Ve=f.mountToNode(W.default,Re[0],{grapher:function(){return pe}}),ye={width:Me.screen.width,height:Me.screen.height};Ve.drawForScreenshot(Me,se,xe,ye,Be),ke.remove()}fe&&(xe.globalCompositeOperation="destination-over",xe.fillStyle="#FFF",xe.fillRect(0,0,he.width,he.height)),H(te&&te.format==="svg"?xe.getSerializedSvg():he.toDataURL("image/png"))},ge.prototype.makeScreenshotProjection=function(te){var H=this._parseScreenshotOpts(te),pe=H.width,fe=H.height,re=H.settings,se=new n.Screen(pe,fe),he=this.getProjection().viewport;return this.getSetting("squareAxes")&&(he=he.squareCrop(se)),new v.Projection(se,he,re)},ge.prototype.screenshotToCanvas=function(te,H){var pe=this._parseScreenshotOpts(H),fe=pe.targetPixelRatio,re=pe.transparentBackground,se=te.getContext("2d");se.scale(fe,fe);var he=this.makeScreenshotProjection(H);he.settings.takingScreenshot=!0,G.save(se,"background"),F.save(se,"dcg-svg-background"),re?se.clearRect(0,0,he.screen.width,he.screen.height):(se.fillStyle="white",se.fillRect(0,0,he.screen.width,he.screen.height)),F.restore(se),G.restore(se),this.imageLayer.redrawToCtx(se,he,this.graphImages,this.__sketchOrder),this.gridLayer.redrawToCtx(se,he),this.graphsLayer.redrawToCtx(se,he,this.graphSketches,this.graphImages,this.__sketchOrder,this.poiLabelsLayer,this.clickableObjectsLayer)},ge.prototype.getImageData=function(te,H,pe,fe){return this.canvasLayer.ctx.getImageData(te,H,pe,fe)},ge.prototype.getSetting=function(te,H){var pe=this.settings.getProperty(te);return pe!==void 0?pe:H},ge.prototype.getState=function(te){var H=this,pe={viewport:this.getCurrentViewport()};return this.settings.stateProperties.forEach(function(fe){fe!=="randomSeed"&&(pe[fe]=H.getSetting(fe))}),te.stripDefaults&&(pe=B.stripDefaults(Z.DefaultGraphSettings,pe)),pe},ge.prototype.getUndoRedoState=function(){var te=this,H={};return this.settings.stateProperties.forEach(function(pe){H[pe]=te.getSetting(pe)}),H.viewport=this.getUserRequestedViewport(),H},ge.prototype.notifyAfterRedraw=function(te){var H=this;if(this.__isRedrawingSlowly)x.requestAnimationFrame(this.notifyAfterRedraw.bind(this,te));else if(this.__redrawRequested){this.notifyAfterRedraw_i?this.notifyAfterRedraw_i++:this.notifyAfterRedraw_i=1;var pe="redraw.notifyAfterRedraw"+this.notifyAfterRedraw_i;this.events.observeEvent(pe,function(){H.events.unobserveEvent(pe),te()})}else te()},ge.prototype.getCurrentViewport=function(){return this.viewportController.getViewport().toObject()},ge.prototype.getUserRequestedViewport=function(){return this._lastUserRequestedViewport},ge.prototype.setUserRequestedViewport=function(te){this._lastUserRequestedViewportUpdateToken||(this._lastUserRequestedViewportUpdateToken=0),this._lastUserRequestedViewportUpdateToken+=1,this._lastUserRequestedViewport=S.default(te)},ge.prototype.debounceUserRequestedViewportChange=function(){var te=this;this.__debouncedViewportCommit||(this.__debouncedViewportCommit=m.debounce(function(pe,fe){if(!te.isDragging&&te._lastUserRequestedViewportUpdateToken===fe){if(te._lastUserRequestedViewport){var re=c.Viewport.fromObject(te._lastUserRequestedViewport);if(te.computeConcreteViewport(re).equals(pe))return}te.controller.dispatch({type:"commit-user-requested-viewport",viewport:pe})}},1e3));var H=this.getCurrentViewport();this.__debouncedViewportCommit(H,this._lastUserRequestedViewportUpdateToken)},ge.prototype.setGrapherState=function(te,H){te=B.populateDefaults(Z.DefaultGraphSettings,te),H&&H.doNotClear||this.clear();for(var pe in Z.DefaultGraphSettings)Z.DefaultGraphSettings.hasOwnProperty(pe)&&this.settings.setProperty(pe,te[pe]);if("viewport"in te){var fe=c.Viewport.fromObject(te.viewport);this.setUserRequestedViewport(fe);var re=this.computeConcreteViewport(fe);this.viewportController.setViewport(re)}this.redrawAllLayers()},ge.prototype.computeConcreteViewport=function(te){var H=this.getProjection().screen;return this.getSetting("squareAxes")&&!te.isSquare(H)?te.squareYAxis(H):te},ge.prototype.setLayerClass=function(te,H){var pe=this._layerClasses[te];this._layerClasses[te]=H,pe!==H&&(pe&&this.$.removeClass(pe),H&&this.$.addClass(H))},ge}();o.Grapher=Y}),q("loadcss!tour",function(){}),q("loadcss!calculator_embed",function(){}),q("loadcss!buttons",function(){}),q("loadcss!dcg-normalize",function(){}),q("loadcss!projector_mode",function(){}),q("loadcss!desmos-icons",function(){}),q("loadcss!popovers",function(){}),q("main/calc_embed",["require","exports","main/graph_settings","tours/tour_manager","tslib","lib/i18n","jquery","main/controller","dcgview","main/instancehotkeys","lib/console","underscore","lib/defocus-mobile","graphing-calc/views/main","underscore_model","graphing/viewport","main/evaluator","graphing/grapher","core/lib/color-helpers","loadcss!tour","loadcss!calculator_embed","loadcss!buttons","loadcss!dcg-normalize","loadcss!projector_mode","loadcss!desmos-icons","loadcss!popovers"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n,s,v,A){Object.defineProperty(o,"__esModule",{value:!0});var M=0,C=function(){function D(S,x,B,Z){function X(){var re=ne.computeMajorLayout(),se={left:re.grapher.left,right:re.grapher.left+re.grapher.width,width:re.grapher.width,top:re.grapher.top,bottom:re.grapher.top+re.grapher.height,height:re.grapher.height},he=te.getCurrentViewport(),xe={top:he.ymax,bottom:he.ymin,left:he.xmin,right:he.xmax,width:he.xmax-he.xmin,height:he.ymax-he.ymin};f.isEqual(xe,H.mathCoordinates)||H.setProperty("mathCoordinates",xe),se.height>0&&se.width>0&&!f.isEqual(se,H.pixelCoordinates)&&H.setProperty("pixelCoordinates",se)}function ee(){var re=te.getProjection();G.setProperty("zoomedDefault",te.viewportController.isZoomRestored()),G.setProperty("squareAxes",re.viewport.isSquare(re.screen))}function W(re,se){return i.t(re,se,G.config.language)}var U=this;S||(S=document.createElement("div"));var F=document.createElement("div");F.className="dcg-wrapper",F.style.width="100%",F.style.height="100%",S.appendChild(F),this.__id=M++;var G=new w;this.graphSettings=G;for(var ie in B)G.config.setProperty(ie,B[ie]);var ne=new g.default(G);this.controller=ne,Z&&ne.dispatch({type:"ui/container-resized",size:Z}),this.rootElt=F,this.view=y.mountToNode(m.default,this.rootElt,{controller:y.const(ne)});var Y=new s.Evaluator(x);this.controller.setEvaluator(Y),this.controller.setRootElt(this.rootElt);var ge=ne.find$(".dcg-grapher"),te=new v.Grapher(ge,G,this.controller,Y);this.controller.setGrapher(te),G.registerCallbacks(te,Y),this.controller.initStateStack(),G.config.redrawSlowly||(te.redrawSlowly=te.redrawAllLayers),Y.readEvaluatorConfig=function(){return{evaluationMode:"graphing",globalRandomSeed:G.randomSeed,degreeMode:G.degreeMode,viewState:ne.getViewState(),intersectId:ne.getIntersectId(),restrictedFunctions:G.config.restrictedFunctions,distributions:G.config.distributions,pointsOfInterest:G.config.pointsOfInterest,plotSingleVariableImplicitEquations:G.config.plotSingleVariableImplicitEquations,plotImplicits:G.config.plotImplicits,plotInequalities:G.config.plotInequalities,sliders:G.config.sliders}},Y.onEvaluatorResults=function(re){U.controller.dispatch({type:"on-evaluator-changes",changes:re.evaluationStates}),U.controller.dispatch({type:"process-graph-data",graphData:re.graphData}),re.renderSlowly?te.redrawSlowly():te.redrawAllLayers()},this.unsubFunc=this.controller.subToChanges(function(){U.controller.doesDOMHaveSize()&&(U.view.update(),te.update()),X(),ee()});var H=new c.UnderscoreModel;H.setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=H,l(this.rootElt).on("keydown.calculator-"+this.__id,function(re){U.grapher&&U.grapher.audioGraph.handleKeydown(re),U.instanceHotkeys.handleKeydown(re)}),l(window).on("dcg-tapstart.calculator-"+this.__id,function(re){var se=l(re.target),he=!!se.closest(U.rootElt).length,xe=re.wasHandled("create-expression-with-keyboard"),Me=!!se.closest(".dcg-api-shared-keypad-root").length,Be=!!se.hasClass("dcg-shell");if(he||Me||Be||xe||ne.dispatch({type:"set-none-selected"}),re.wasHandled("do-not-clear-poi-labels")||(te.traceLayer.clearOpenedPOI(),te.redrawAllLayers()),ne.isInEditListMode()){var ke=se.closest(".dcg-exppanel").length===0&&se.closest(".dcg-options-menu").length===0&&se.closest(".dcg-expression-top-bar").length===0&&se.closest(".dcg-keypad").length===0;he&&!ke||ne.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!1})}}),this.grapher=te,this.evaluator=Y,this.tourManager=r({evaluator:Y}),this.controller.dispatch({type:"set-blank"});var pe=["degreeMode"],fe={};pe.forEach(function(re){B[re]!==void 0&&(fe[re]=B[re])}),G.setGraphSettings(fe),G.config.expressionsCollapsed&&this.setOptions({expressionsCollapsed:!0}),G.config.capExpressionSize&&this.setOptions({capExpressionSize:!0}),G.config.hasOwnProperty("pointsOfInterest")&&this.setOptions({pointsOfInterest:G.config.pointsOfInterest}),G.config.hasOwnProperty("backgroundColor")&&this.setOptions({backgroundColor:G.config.backgroundColor}),G.config.hasOwnProperty("textColor")&&this.setOptions({textColor:G.config.textColor}),G.config.observe("language",function(){var re=U.controller.getState();U.controller.dispatch({type:"set-state",state:re}),U.tourManager&&(U.tourManager.closingMsg=["<b>__endingMessage__</b><br>",W("This message will self-destruct in __seconds__...")].join(""))}),this.instanceHotkeys=new p.default(ne)}return D.prototype.setOption=function(S,x){this.controller.getGraphSettings().config.setProperty(S,x)},D.prototype.setOptions=function(S){function x(ne){var Y=ne.notes,ge=ne.folders,te=ne.images;return Y===!1||ge===!1||te===!1}var B,Z=this.controller.getGraphSettings().config,X=d.__assign({},S);S.hasOwnProperty("backgroundColor")&&(A.isValidHexColor(S.backgroundColor)||(u.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)"),delete X.backgroundColor)),S.hasOwnProperty("textColor")&&(A.isValidHexColor(S.textColor)||(u.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)"),delete X.textColor)),S.hasOwnProperty("menus")&&(u.warn("Deprecated option: menus. Setting settingsMenu and expressionsTopbar instead."),S.hasOwnProperty("settingsMenu")||(X.settingsMenu=!!S.menus),S.hasOwnProperty("expressionsTopbar")||(X.expressionsTopbar=!!S.menus)),S.hasOwnProperty("solutions")&&(u.warn("Deprecated option: solutions. Setting pointsOfInterest instead."),S.hasOwnProperty("pointsOfInterest")||(X.pointsOfInterest=!!S.solutions)),S.hasOwnProperty("singleVariableSolutions")&&u.warn("Deprecated option: singleVariableSolutions has been removed."),S.graphpaper===!1&&(S.expressionsCollapsed&&(X.expressionsCollapsed=!1,u.warn("Cannot set graphpaper: false with expressionsCollapsed: true. Proceeding with expressionsCollapsed: false.")),Z.expressionsCollapsed&&(X.expressionsCollapsed=!1,u.warn("Disabling the graphpaper with the expressions list collapsed is not supported.Setting expressionsCollapsed: false.")),S.zoomButtons&&(X.zoomButtons=!1,u.warn("Cannot set graphpaper: false with zoomButtons: true. Proceeding with zoomButtons: false.")),S.showResetButtonOnGraphpaper&&(X.showResetButtonOnGraphpaper=!1,u.warn("Cannot set graphpaper: false with showResetButtonOnGraphpaper: true. Proceeding with showResetButtonOnGraphpaper: false.")),Z.zoomButtons&&(X.zoomButtons=!1,u.warn("Disabling the graphpaper with the zoomButtons visible is not supported. Setting zoomButtons: false.")),Z.showResetButtonOnGraphpaper&&(X.showResetButtonOnGraphpaper=!1,u.warn("Disabling the graphpaper with the reset button visible is not supported. Setting showResetButtonOnGraphpaper: false."))),Z.graphpaper===!1&&(S.expressionsCollapsed||S.zoomButtons||S.showResetButtonOnGraphpaper)&&(X.graphpaper=!0,u.warn("Must have visible graphpaper to proceed. Setting graphpaper: true.")),S.lockViewport&&S.zoomButtons&&(X.zoomButtons=!1,u.warn("Cannot set zoomButtons: true and lockViewport: true. Proceeding with zoomButtons: false.")),Z.lockViewport&&S.zoomButtons&&(X.lockViewport=!1,u.warn("Cannot set zoomButtons: true while the viewport is locked. Setting lockViewport: false.")),Z.zoomButtons&&S.lockViewport&&(X.zoomButtons=!1,u.warn("Cannot lock the viewport without hiding the zoom buttons. Setting zoomButtons: false."));var ee=x(S),W=x(d.__assign(d.__assign({},Z),S)),U=Z.pasteGraphLink,F=S.pasteGraphLink;ee?(F||U)&&(X.pasteGraphLink=!1,u.warn("Cannot disable creating note, folder, or image expressions without disabling graph link pasting. Setting pasteGraphLink: false.")):F&&W&&(X.notes=!0,X.folders=!0,X.images=!0,u.warn("Cannot enable graph link pasting while the creation of notes, folders, or images is disable. Setting notes: true, folders: true, images: true."));for(B in X)if(X.hasOwnProperty(B))switch(B){case"expressionsCollapsed":this.setOption("expressionsCollapsed",!!X.expressionsCollapsed),X.expressionsCollapsed?this.controller.dispatch({type:"hide-expressions-list"}):this.controller.dispatch({type:"show-expressions-list"});break;case"qwertyKeyboard":this.setOption("qwertyKeyboard",!!X.qwertyKeyboard),this.controller.isLetterKeypadOpen()&&this.controller.dispatch({type:"keypad/abc"});break;case"degreeMode":this.setOption("degreeMode",!!X.degreeMode),this.controller.getGraphSettings().setGraphSettings({degreeMode:!!X.degreeMode});break;case"keypad":case"graphpaper":case"expressions":case"settingsMenu":case"zoomButtons":case"showResetButtonOnGraphpaper":case"expressionsTopbar":case"pointsOfInterest":case"trace":case"border":case"lockViewport":case"administerSecretFolders":case"advancedStyling":case"authorIDE":case"clickableObjects":case"images":case"imageUploadCallback":case"folders":case"notes":case"sliders":case"links":case"restrictedFunctions":case"distributions":case"pasteGraphLink":case"pasteTableData":case"clearIntoDegreeMode":case"autosize":case"plotSingleVariableImplicitEquations":case"plotImplicits":case"plotInequalities":case"colors":case"branding":case"disableScrollFix":case"invertedColors":case"fontSize":case"projectorMode":case"language":case"redrawSlowly":case"onlyTraceSelected":case"disableMouseInteractions":case"nativeOnscreenKeypad":case"functionDefinition":case"plaidMode":case"pasteGraphLinkCallback":case"editOnWeb":case"crossOriginSaveTest":case"backgroundColor":case"textColor":case"enableTabindex":case"audioTraceReverseExpressions":case"showHamburger":case"decimalToFraction":case"capExpressionSize":case"transparentBackground":case"pauseWhenOffscreen":case"brailleMode":case"sixKeyInput":var G=X[B];G!==void 0&&this.setOption(B,G);break;default:var ie=B;return ie}},D.prototype.setViewport=function(S){this.grapher.viewportController.setViewport(new n.Viewport(S[0],S[1],S[2],S[3]))},D.prototype.resize=function(S){S&&this.controller.dispatch({type:"ui/container-resized",size:S})},D.prototype.interceptTouch=function(){var S=l(this.rootElt),x=S.find(".dcg-expression-top-bar");x.add(S.find(".dcg-keypad")),x.length&&(x.on("touchstart",function(B){l(B.target).is("input, textarea")||B.preventDefault()}),x.on("touchend",function(B){l(B.target).closest(".dcg-do-not-blur").length>0||b.default()}))},D.prototype.destroy=function(){l(window).off(".calculator-"+this.__id);var S=l(this.rootElt);S.off(".calculator-"+this.__id),this.unsubFunc(),this.graphSettings.unobserveAll(),this.evaluator&&this.evaluator.destroy(),this.grapher&&this.grapher.remove(),y.unmountFromNode(this.rootElt),S.remove()},D.prototype.tick=function(S,x){x||(this.controller.shouldDispatchTickNextFrame()&&this.controller.dispatch({type:"tick",time:S}),this.controller.updateRenderShellsAfterDispatch()),this.evaluator.tick(),this.grapher&&this.grapher.tick(S)},D.prototype.getState=function(S){return this.controller.getState(S)},D.prototype.setBlank=function(S){this.controller.dispatch({type:"set-blank",opts:S||{}})},D.prototype.setState=function(S,x){this.controller.dispatch({type:"set-state",state:S,opts:x||{}})},D}();o.default=C}),q("lib/dom-change-detector",["require","exports","tslib","lib/animation-frame","jquery"],function(O,o,w,r,d){function i(){p=!0,r.requestAnimationFrame(l)}function l(){o.testFixture.rafSPY&&o.testFixture.rafSPY(),p=!1;for(var f in y)y[f].detectAndEnqueueEvent(),p=!0;if(p){i();for(var f in y)y[f].dispatchQueuedEvent()}}Object.defineProperty(o,"__esModule",{value:!0});var g=1,y={},p=!1;o.testFixture={},o.checkAllWatchingDetectors=l;var u=function(){function f(b,m){this.elt=b,this.cb=m,this.destroyed=!1,this.lastOffscreen=!1,this.id=g.toString(),this.appliedScale={x:1,y:1},g++}return f.prototype.stopWatching=function(){delete y[this.id]},f.prototype.startWatching=function(){this.checkForChanges(),y[this.id]=this,p||i()},f.prototype.resetAppliedScalingAndGetBoundingClientRect=function(){var b=this.elt.getBoundingClientRect(),m={x:b.width/this.elt.offsetWidth,y:b.height/this.elt.offsetHeight};if(m.x===this.appliedScale.x&&m.y===this.appliedScale.y)return b;var c=d(this.elt).children(".dcg-wrapper")[0];return c&&(this.appliedScale=m,d(c).css({transform:"scale("+1/this.appliedScale.x+","+1/this.appliedScale.y+")",width:100*this.appliedScale.x+"%",height:100*this.appliedScale.y+"%","transform-origin":"0 0"})),b},f.prototype.detectAndEnqueueEvent=function(){if(!this.destroyed){var b=!0;if(document.body&&document.body.contains(this.elt)){var m=this.resetAppliedScalingAndGetBoundingClientRect();b=m.top>window.innerHeight||m.bottom<0||m.left>window.innerWidth||m.right<0,this.lastSize?m.width===this.lastSize.width&&m.height===this.lastSize.height||(this.lastSize.width=m.width,this.lastSize.height=m.height,this.queuedEvent={type:"resized",target:this.elt,size:w.__assign({},this.lastSize),isOffscreen:b}):(this.lastSize={width:m.width,height:m.height},this.queuedEvent={type:"added",target:this.elt,size:w.__assign({},this.lastSize),isOffscreen:b})}else this.lastSize&&(this.lastSize=void 0,this.queuedEvent={type:"removed",target:this.elt,isOffscreen:!0});b!==this.lastOffscreen&&(this.lastOffscreen=b,this.queuedEvent||(this.queuedEvent={type:"offscreen-noop",target:this.elt,isOffscreen:b}))}},f.prototype.dispatchQueuedEvent=function(){var b=this.queuedEvent;b&&(this.queuedEvent=void 0,this.cb(b))},f.prototype.checkForChanges=function(){this.detectAndEnqueueEvent(),this.dispatchQueuedEvent()},f.prototype.destroy=function(){this.stopWatching();for(var b in this)this.hasOwnProperty(b)&&delete this[b];this.destroyed=!0},f}();o.default=u}),q("graphing/compute-async-screenshot-bounds",["require","exports","lib/console"],function(O,o,w){function r(d){var i=d.mode,l=d.width,g=d.height,y=d.currentBounds,p=d.graphpaperAspectRatio,u=d.mathAspectRatio,f=d.mathBounds,b=l/g,m={x:y.left+y.width/2,y:y.bottom+y.height/2};if(f.left===void 0!=(f.right===void 0)||f.bottom===void 0!=(f.top===void 0))return w.warn('asyncScreenshot: cannot specify "left" bound without "right" or "bottom" bound without "top". Got: '+f),y;var c,n,s,v,A,M,C,D,S,x,B=f.left!==void 0&&f.right!==void 0,Z=f.bottom!==void 0&&f.top!==void 0,X=B&&Z;switch(i){case"stretch":return X?f:B?{left:f.left,right:f.right,bottom:y.bottom,top:y.top}:Z?{left:y.left,right:y.right,bottom:f.bottom,top:f.top}:y;case"contain":return X?(v=f.right-f.left,A=f.top-f.bottom,M={x:f.left+v/2,y:f.bottom+A/2},s=v/A,b>s?(n=A/g,c=n*u,{left:M.x-c*l/2,right:M.x+c*l/2,bottom:f.bottom,top:f.top}):(c=v/l,n=c/u,{left:f.left,right:f.right,bottom:M.y-n*g/2,top:M.y+n*g/2})):B?(C=f.right-f.left,D=f.left+C/2,s=C/y.height,b>s?(n=y.height/g,c=n*u,{left:D-c*l/2,right:D+c*l/2,bottom:y.bottom,top:y.top}):(c=C/l,n=c/u,{left:f.left,right:f.right,bottom:m.y-n*g/2,top:m.y+n*g/2})):Z?(S=f.top-f.bottom,x=f.bottom+S/2,s=y.width/S,b>s?(n=S/g,c=n*u,{left:m.x-c*l/2,right:m.x+c*l/2,bottom:f.bottom,top:f.top}):(c=y.width/l,n=c/u,{left:y.left,right:y.right,bottom:x-n*g/2,top:x+n*g/2})):b>p?(n=y.height/g,c=n*u,{left:m.x-c*l/2,right:m.x+c*l/2,bottom:y.bottom,top:y.top}):(c=y.width/l,n=c/u,{left:y.left,right:y.right,bottom:m.y-n*g/2,top:m.y+n*g/2});case"preserveX":return X?(v=f.right-f.left,A=f.top-f.bottom,M={x:f.left+v/2,y:f.bottom+A/2},s=v/A,c=v/l,n=c/u,{left:f.left,right:f.right,bottom:M.y-n*g/2,top:M.y+n*g/2}):Z?(S=f.top-f.bottom,x=f.bottom+S/2,s=y.width/S,c=y.width/l,n=c/u,{left:y.left,right:y.right,bottom:x-n*g/2,top:x+n*g/2}):B?(C=f.right-f.left,c=C/l,n=c/u,{left:f.left,right:f.right,bottom:m.y-n*g/2,top:m.y+n*g/2}):(C=y.right-y.left,c=C/l,n=c/u,{left:y.left,right:y.right,bottom:m.y-n*g/2,top:m.y+n*g/2});case"preserveY":return X?(v=f.right-f.left,A=f.top-f.bottom,M={x:f.left+v/2,y:f.bottom+A/2},s=v/A,n=A/g,c=n*u,{left:M.x-c*l/2,right:M.x+c*l/2,bottom:f.bottom,top:f.top}):B?(C=f.right-f.left,D=f.left+C/2,s=C/y.height,n=y.height/g,c=n*u,{left:D-c*l/2,right:D+c*l/2,bottom:y.bottom,top:y.top}):Z?(S=f.top-f.bottom,n=S/g,c=n*u,{left:m.x-c*l/2,right:m.x+c*l/2,bottom:f.bottom,top:f.top}):(S=y.top-y.bottom,n=S/g,c=n*u,{left:m.x-c*l/2,right:m.x+c*l/2,bottom:y.bottom,top:y.top});default:return y}}Object.defineProperty(o,"__esModule",{value:!0}),o.computeBoundsFromScreenshotOpts=r}),q("dcgview-helpers/mathquill-proxy",["require","exports","dcgview-helpers/mathquill-view"],function(O,o,w){Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function d(i){this.mq=i,this.id=i.id,this.data=i.data}return d.prototype.simulateUserChangedLatex=function(){w.default.simulateUserChangedLatex(this.mq)},d.prototype.simulateKeypress=function(i){w.default.simulateKeypress(this.mq,i)},d.prototype.latex=function(i){return i===void 0?this.mq.latex():(this.mq.latex(i),void this.simulateUserChangedLatex())},d.prototype.reflow=function(){this.mq.reflow()},d.prototype.el=function(){return this.mq.el()},d.prototype.getAriaLabel=function(){return this.mq.getAriaLabel()},d.prototype.setAriaLabel=function(i){return this.mq.setAriaLabel(i)},d.prototype.html=function(){return this.mq.html()},d.prototype.mathspeak=function(){return this.mq.mathspeak()},d.prototype.select=function(){this.mq.select()},d.prototype.moveToRightEnd=function(){this.mq.moveToRightEnd()},d.prototype.cmd=function(i){this.mq.cmd(i),this.simulateUserChangedLatex()},d.prototype.write=function(i){this.mq.write(i),this.simulateUserChangedLatex()},d.prototype.keystroke=function(i){this.simulateKeypress(i)},d.prototype.typedText=function(i){this.mq.typedText(i),this.simulateUserChangedLatex()},d.prototype.clearSelection=function(){this.mq.clearSelection()},d.prototype.getAriaPostLabel=function(){return this.mq.getAriaPostLabel()},d.prototype.setAriaPostLabel=function(i,l){this.mq.setAriaPostLabel(i,l)},d.prototype.blur=function(){this.mq.blur()},d.prototype.focus=function(){this.mq.focus()},d.prototype.revert=function(){this.mq.revert()},d.prototype.ignoreNextMousedown=function(i){this.mq.ignoreNextMousedown(i)},d.prototype.clickAt=function(i,l,g){this.mq.clickAt(i,l,g)},d}();o.MathQuillProxy=r}),q("main/raf-loop",["require","lib/animation-frame"],function(O){function o(r){function d(i){w.requestAnimationFrame(d),r(i)}w.requestAnimationFrame(d)}var w=O("lib/animation-frame");return o}),q("main/shared-clock-bus",["require","exports","main/raf-loop","underscore_model"],function(O,o,w,r){function d(y){return g+=1,l.observeEvent("tick."+g,function(p,u){y(u)}),g}function i(y){l.unobserveEvent("tick."+y)}Object.defineProperty(o,"__esModule",{value:!0});var l=new r.UnderscoreModel;w(function(y){l.triggerEvent("tick",y)});var g=0;o.subscribe=d,o.unsubscribe=i}),q("main/shared-worker-pool",["require","exports","worker/workerpool","lib/urlparser"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=r.getParameter(location.search,"nworkers"),i=4;d&&(i=parseInt(d,10)),o.default=new w(i)}),q("graphing-calc/json/config-options",["require","exports","tslib","core/lib/color-helpers","lib/console","main/font_sizes","expressions/colors","expressions/image_file_to_data_url","core/lib/deepCopy"],function(O,o,w,r,d,i,l,g,y){function p(n){return!!f.hasOwnProperty(n)||!!b.hasOwnProperty(n)||!!m.hasOwnProperty(n)}function u(n){var s=y.default(c);for(var v in n)s.hasOwnProperty(v)&&(s[v]=n[v]);return r.isValidHexColor(s.backgroundColor)||(s.backgroundColor=c.backgroundColor,d.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)")),r.isValidHexColor(s.textColor)||(s.textColor=c.textColor,d.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)")),n.zoomButtons===void 0&&(s.graphpaper&&!s.lockViewport||(s.zoomButtons=!1)),n.images===void 0&&(s.graphpaper||(s.images=!1)),n.hasOwnProperty("menus")&&(d.warn("As of API version 0.4, the 'menus' option is deprecated and has been split into 'settingsMenu' (boolean) and 'expressionsTopbar' (boolean)."),n.hasOwnProperty("settingsMenu")||(s.settingsMenu=!!n.menus),n.hasOwnProperty("expressionsTopbar")||(s.expressionsTopbar=!!n.menus)),n.hasOwnProperty("solutions")&&(d.warn("As of API v1.0, the 'solutions' option is deprecated and has been replaced with 'pointsOfInterest' (boolean)."),n.hasOwnProperty("pointsOfInterest")||(s.pointsOfInterest=!!n.solutions)),n.hasOwnProperty("singleVariableSolutions")&&d.warn("As of API v1.0, the 'singleVariableSolutions' has been removed. The calculator no longer displays solutions to single variable equations."),s.graphpaper||(s.expressionsCollapsed&&(s.expressionsCollapsed=!1,d.warn("Desmos API initialized with bad options. graphpaper: false and expressionsCollapsed: true are incompatible. Proceeding with expressionsCollapsed: false.")),s.zoomButtons&&(s.zoomButtons=!1,d.warn("Desmos API initialized with bad options. graphpaper: false and zoomButtons: true are incompatible. Proceeding with zoomButtons: false.")),s.showResetButtonOnGraphpaper&&(s.showResetButtonOnGraphpaper=!1,d.warn("Desmos API initialized with bad options. graphpaper: false and showResetButtonOnGraphpaper: true are incompatible. Proceeding with showResetButtonOnGraphpaper: false."))),s.lockViewport&&s.zoomButtons&&(s.zoomButtons=!1,d.warn("Desmos API initialized with bad options. lockViewport: true and zoomButtons: true are incompatible. Proceeding with zoomButtons: false.")),s.notes!==!1&&s.folders!==!1&&s.images!==!1||s.pasteGraphLink!==!0||(s.pasteGraphLink=!1,d.warn("Desmos API initialized with bad options. pasteGraphLink: true is incompatible with disabling the creation of note, folder, or image expressions. Proceeding with pasteGraphLink: false.")),s}Object.defineProperty(o,"__esModule",{value:!0});var f={keypad:!0,graphpaper:!0,expressions:!0,settingsMenu:!0,zoomButtons:!0,showResetButtonOnGraphpaper:!1,expressionsTopbar:!0,capExpressionSize:!1,pointsOfInterest:!0,trace:!0,border:!0,lockViewport:!1,expressionsCollapsed:!1,administerSecretFolders:!1,advancedStyling:!1,authorIDE:!1,clickableObjects:!1,images:!0,imageUploadCallback:g.imageFileToDataURL,folders:!0,notes:!0,sliders:!0,links:!0,qwertyKeyboard:!0,restrictedFunctions:!1,pasteGraphLink:!1,pasteTableData:!0,degreeMode:!1,clearIntoDegreeMode:!1,autosize:!0,plotSingleVariableImplicitEquations:!0,plotImplicits:!0,plotInequalities:!0,colors:{RED:l.RED,BLUE:l.BLUE,GREEN:l.GREEN,ORANGE:l.ORANGE,PURPLE:l.PURPLE,BLACK:l.BLACK},invertedColors:!1,functionDefinition:!0,projectorMode:!1,decimalToFraction:!0,fontSize:i.MEDIUM,language:"en",backgroundColor:"#fff",textColor:"#000",distributions:!0,brailleMode:"none",sixKeyInput:!1};o.publicConfigOptions=Object.keys(f);var b={showHamburger:!1,disableScrollFix:!1,branding:!0,redrawSlowly:!1,onlyTraceSelected:!1,disableMouseInteractions:!1,nativeOnscreenKeypad:!1,plaidMode:!1,pasteGraphLinkCallback:void 0,editOnWeb:!1,crossOriginSaveTest:!1,enableTabindex:!0,audioTraceReverseExpressions:!1,transparentBackground:!1,pauseWhenOffscreen:!1},m={solutions:!0,menus:!0,singleVariableSolutions:!0},c=w.__assign(w.__assign({},f),b);o.isConfigOption=p,o.validateConfigOptions=u}),q("lib/underscore-shim",["require","exports","underscore_model"],function(O,o,w){Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function d(){this.model=new w.UnderscoreModel}return d.prototype.triggerEvent=function(i,l){this.model.triggerEvent(i,l)},d.prototype.observeEvent=function(i,l){this.model.observeEvent(i,l)},d.prototype.unobserveEvent=function(i){this.model.unobserveEvent(i)},d.prototype.setProperty=function(i,l){this[i]=l,this.model.setProperty(i,l)},d.prototype.observe=function(i,l){this.model.observe(i,l)},d.prototype.observeAndSync=function(i,l){this.model.observeAndSync(i,l)},d.prototype.unobserve=function(i){this.model.unobserve(i)},d}();o.UnderscoreModelShim=r}),q("api/graphing",["require","exports","tslib","lib/i18n","main/calc_embed","core/lib/deepCopy","underscore_model","core/math/recttransformation","lib/dom-change-detector","graphing/compute-async-screenshot-bounds","graphing-calc/api/sanitize-expression","dcgview-helpers/mathquill-view","dcgview-helpers/mathquill-proxy","lib/console","underscore","main/shared-clock-bus","main/shared-worker-pool","core/graphing-calc/json/graph-settings","graphing-calc/json/config-options","core/lib/random-seed","../lib/underscore-shim"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n,s,v,A,M,C){function D(W,U){var F={},G={};for(var ie in W)A.isConfigOption(ie)?F[ie]=W[ie]:v.isGraphSetting(ie)?G[ie]=W[ie]:U||m.warn("Unrecognized setting: "+ie+". Ignoring.");return{configOptions:F,settingsOptions:G}}function S(W,U){var F={};return U.hasOwnProperty("x")&&(F.x=W.mapX(U.x)),U.hasOwnProperty("y")&&(F.y=W.mapY(U.y)),F}function x(){if(!X){for(var W;(W=Z.shift())&&W.api._destroyed;);if(W){var U=W;X=!0;var F=U.options,G=U.mathBounds,ie=U.state,ne=U.callback;B||(B=new ee);var Y=B;Y.setState(ie),Y.setMathBounds(G),["majorAxisOpacity","minorAxisOpacity","axisLineOffset","axisLineWidth","labelSize","graphLineWidth","pointLineWidth"].forEach(function(fe){fe==="axisLineWidth"?Y._calc.grapher.settings.setProperty(fe,U.api._calc.grapher.settings[fe]):Y._calc.grapher.settings[fe]=U.api._calc.grapher.settings[fe]});var ge=Y._calc.evaluator,te=function(){Y._calc.grapher.asyncScreenshot(F,function(fe){X=!1,x(),ne(fe)})},H=U.api._calc.controller,pe=n.subscribe(function(){H.areAnyImagesLoading()||(n.unsubscribe(pe),ge.notifyWhenSynced(te))})}}}Object.defineProperty(o,"__esModule",{value:!0});var B,Z=[],X=!1,ee=function(W){function U(F,G,ie){var ne=W.call(this)||this;if(ne._destroyed=!1,ne.isOffscreen=!1,!(ne instanceof U))return new U(F,G,ie);var Y=D(G||{},!0),ge=A.validateConfigOptions(Y.configOptions),te=Y.settingsOptions;return ne._calc=new d.default(F,s.default,ge),ne._calc.interceptTouch(),ne.controller=ne._calc.controller,ne.controller.onEventsEmitted=function(H){ne.setProperty("isAnyExpressionSelected",!!ne.controller.getSelectedItem()),ne.setProperty("expressionAnalysis",ne.controller.getExpressionAnalysis());var pe=f.default.getFocusedMathquill();ne.setProperty("focusedMathQuill",pe?new b.MathQuillProxy(pe):void 0);for(var fe in H)H.hasOwnProperty(fe)&&H[fe]&&ne.triggerEvent(fe,void 0)},ne._calc.graphpaperBounds.observeAndSync("mathCoordinates",ne._syncGraphpaperBounds.bind(ne)),ne._calc.graphpaperBounds.observeAndSync("pixelCoordinates",ne._syncGraphpaperBounds.bind(ne)),ne.colors=ne.controller.getColors(),ne._initGraphSettings(),ne.updateSettings(te),ne._sharedClockBusToken=n.subscribe(function(H){var pe=ne._calc.grapher.settings.config.pauseWhenOffscreen&&ne.isOffscreen;ne._calc.tick(H,pe)}),ne.domChangeDetector=new y.default(F,function(H){switch(ne.isOffscreen=H.isOffscreen,H.type){case"offscreen-noop":break;case"added":ne._calc.resize(H.size);break;case"removed":break;case"resized":ne._calc.resize(H.size)}}),ge.autosize?ne.domChangeDetector.startWatching():ne.domChangeDetector.checkForChanges(),typeof ie=="function"&&ie(ne),ne}return w.__extends(U,W),U.prototype.destroy=function(){function F(ie){m.warn("You've destroyed this API instance. You can no longer call ."+ie+"()")}this._calc.destroy(),this.controller.onEventsEmitted=function(){},n.unsubscribe(this._sharedClockBusToken),this.domChangeDetector.destroy();for(var G in this)typeof this[G]=="function"?this[G]=F.bind(this,G):this.hasOwnProperty(G)&&delete this[G];this.destroy=function(){},this._destroyed=!0},U.prototype._syncGraphpaperBounds=function(){var F=this;this.controller.runAfterDispatch(function(){F.setProperty("graphpaperBounds",{mathCoordinates:F._calc.graphpaperBounds.mathCoordinates,pixelCoordinates:F._calc.graphpaperBounds.pixelCoordinates})})},U.prototype._initGraphSettings=function(){var F=this,G=new l.UnderscoreModel;this.settings=this.graphSettings=G,v.publicGraphSettings.forEach(function(ie){F._calc.grapher.settings.observeAndSync(ie,function(){F.controller.runAfterDispatch(function(){G.setProperty(ie,F._calc.grapher.settings[ie])})})}),A.publicConfigOptions.forEach(function(ie){F._calc.grapher.settings.config.observeAndSync(ie,function(){F.controller.runAfterDispatch(function(){G.setProperty(ie,F._calc.grapher.settings.config[ie])})})})},U.prototype.updateSettings=function(F){var G=D(F,!1),ie=G.configOptions,ne=G.settingsOptions;c.isEmpty(ie)||this._calc.setOptions(ie),c.isEmpty(ne)||this._calc.grapher.settings.setGraphSettings(ne),this.notifyControllerOfAPICall()},U.prototype.setGraphSettings=function(F){m.warn("As of API v0.8 the 'setGraphSettings' method is deprecated and has been renamed 'updateSettings.'"),this.updateSettings(F),this.setGraphSettings=this.updateSettings,this.notifyControllerOfAPICall()},U.prototype.fetchLanguage=function(F){return r.fetchLanguage(F)},U.prototype.setDefaultState=function(F){this._calc.grapher.settings.setProperty("defaultState",F),this.notifyControllerOfAPICall()},U.prototype.mathToPixels=function(F){return S(g.RT.fromRects(this.graphpaperBounds.mathCoordinates,this.graphpaperBounds.pixelCoordinates),F)},U.prototype.pixelsToMath=function(F){return S(g.RT.fromRects(this.graphpaperBounds.pixelCoordinates,this.graphpaperBounds.mathCoordinates),F)},U.prototype.notifyControllerOfAPICall=function(){this.controller.dispatch({type:"api-method-called"})},U.prototype.setExpression=function(F){var G=this.controller,ie=G.getItemModel(F.id),ne=ie&&ie.type,Y=u.validateItem(F,ne,this.controller);if(Y)if(ne)this.controller.dispatch({type:"set-expression-properties-from-api",id:Y.id,properties:Y});else{if(Y.type==="image")return;this.controller.dispatch({type:"add-item-to-end-from-api",state:Y})}},U.prototype.setExpressions=function(F){F.forEach(this.setExpression.bind(this))},U.prototype.removeExpression=function(F){var G=F.id.toString();this.controller.dispatch({type:"remove-item-by-id",id:G})},U.prototype.removeExpressions=function(F){F.forEach(this.removeExpression.bind(this))},U.prototype.removeSelected=function(){var F=this.controller.getSelectedItem();F&&this.controller.dispatch({type:"remove-item-by-id",id:F.id})},U.prototype.setMathBounds=function(F){F&&F.left<F.right&&F.bottom<F.top?this._calc.setViewport([F.left,F.right,F.bottom,F.top]):m.warn("Invalid bounds argument. Expected a bounds object with bounds.bottom < bounds.top, and bounds.left < bounds.right. Got "+JSON.stringify(F)),this.notifyControllerOfAPICall()},U.prototype.setViewport=function(F){F.length==4&&F[1]>F[0]&&F[3]>F[2]?this._calc.setViewport(F):m.warn("Invalid viewport.  Expected [xmin, xmax, ymin, ymax].  Got "+F),this.notifyControllerOfAPICall()},U.prototype.resize=function(){this.domChangeDetector.checkForChanges()},U.prototype.getState=function(F){return this.controller.getState(F)},U.prototype.getExpressions=function(){return this.getState({stripDefaults:!1}).expressions.list.map(u.sanitizeItem)},U.prototype.setBlank=function(F){this.controller.dispatch({type:"set-blank",opts:F||{}})},U.prototype.setState=function(F,G){this.controller.dispatch({type:"set-state",state:F,opts:G||{}})},U.prototype.undo=function(){this.controller.dispatch({type:"undo"})},U.prototype.redo=function(){this.controller.dispatch({type:"redo"})},U.prototype.clearHistory=function(){this.controller.dispatch({type:"clear-undoredo-history"})},U.prototype.newRandomSeed=function(){this.updateSettings({randomSeed:M.default()})},U.prototype.screenshot=function(F){return F||(F={}),F=this._validateBrailleScreenshotOptions(F),this._calc.grapher.screenshot(F)},U.prototype._getMathAspectRatio=function(){var F=this.graphpaperBounds.mathCoordinates,G=this._calc.grapher.getProjection().pixelCoordinates,ie=G.right-G.left,ne=G.bottom-G.top;return F.width/ie/(F.height/ne)},U.prototype.isProjectionUniform=function(){return!!this._calc.grapher.getProjection().settings.squareAxes},U.prototype._validateBrailleScreenshotOptions=function(F){F=i.default(F);var G=F.braille;if(G){var ie=G.embosserModel;if(!ie)return m.warn("Screenshot braille options requires an embosser model to be specified. "),m.warn("Continuing with non-braille screenshot."),delete F.braille,F;if(ie==="etc"&&(G.embosserModel="etc11"),ie==="vpmax"&&(G.embosserModel="vpmax11"),G.embosserModel!=="etc8"&&G.embosserModel!=="etc11"&&G.embosserModel!=="vpmax8"&&G.embosserModel!=="vpmax11")return m.warn('Unknown screenshot braille embosser model. Valid models are "etc" and "vpmax".'),m.warn("Continuing with non-braille screenshot."),delete F.braille,F;G.brailleMode!=="nemeth"&&G.brailleMode!=="ueb"&&(m.warn("Screenshot options braille.brailleMode must be nemeth or ueb. Proceeding with nemeth."),G.brailleMode="nemeth"),F.width&&(m.warn("Screenshot width option is ignored when exporting Braille."),delete F.width),F.height&&(m.warn("Screenshot height option is ignored when exporting Braille."),delete F.height),F.targetPixelRatio&&(m.warn("Screenshot targetPixelRatio option is ignored when exporting Braille."),delete F.targetPixelRatio),F.preserveAxisNumbers&&(m.warn("Screenshot preserveAxisNumbers option is ignored when exporting Braille."),delete F.preserveAxisNumbers)}return F},U.prototype._validateAsyncScreenshotOpts=function(F){F=i.default(F);var G=F.mode||"contain",ie=F.width||F.height||this.graphpaperBounds.pixelCoordinates.width,ne=F.height||F.width||this.graphpaperBounds.pixelCoordinates.height,Y=F.targetPixelRatio||1,ge=F.preserveAxisNumbers;F.hasOwnProperty("format")||(F.svg?(F.format="svg",delete F.svg):F.format="png");var te=F.mathBounds||{},H=this._getMathAspectRatio(),pe=this.graphpaperBounds.pixelCoordinates.width/this.graphpaperBounds.pixelCoordinates.height,fe=p.computeBoundsFromScreenshotOpts({mode:G,width:ie,height:ne,currentBounds:this.graphpaperBounds.mathCoordinates,graphpaperAspectRatio:pe,mathAspectRatio:H,mathBounds:te});return{opts:w.__assign(w.__assign({},F),{width:ie,height:ne,targetPixelRatio:Y,preserveAxisNumbers:ge}),mathBounds:fe}},U.prototype.asyncScreenshot=function(F,G){if(!arguments.length)return void m.warn("asyncScreenshot expects a callback");if(arguments.length===1){if(typeof F!="function")return void m.warn("asyncScreenshot expects a callback");G=F,F={}}F||(F={}),F=this._validateBrailleScreenshotOptions(F);var ie=this._validateAsyncScreenshotOpts(F),ne=ie.opts,Y=ie.mathBounds;Z.push({api:this,options:ne,mathBounds:Y,state:this.getState(),callback:G}),x()},U.prototype.setOptions=function(F){var G=this._calc.setOptions(F);return this.notifyControllerOfAPICall(),G},U.prototype.focusFirstExpression=function(){var F=this.controller.getItemModelByIndex(0);F&&this.controller.dispatch({type:"move-focus-to-item",id:F.id,where:"end"})},U.prototype.HelperExpression=function(F){var G=F&&F.latex||"",ie=new l.UnderscoreModel;return ie.latex=G,this.controller.dispatch({type:"add-helper-expression",state:{type:"helper-expression",id:this.controller.generateId(),latex:G,proxy:ie}}),ie},U}(C.UnderscoreModelShim);o.default=ee}),q("main/calc_headless",["require","exports","main/graph_settings","main/evaluator","underscore_model","main/controller"],function(O,o,w,r,d,i){Object.defineProperty(o,"__esModule",{value:!0});var l=function(){function g(y,p){var u=this,f=new w;for(var b in p)f.config.setProperty(b,p[b]);this.controller=new i.default(f);var m=new r.Evaluator(y);this.controller.setEvaluator(m),m.readEvaluatorConfig=function(){return{evaluationMode:"graphing",globalRandomSeed:f.randomSeed,degreeMode:f.degreeMode,restrictedFunctions:f.config.restrictedFunctions,distributions:f.config.distributions,pointsOfInterest:f.config.pointsOfInterest,plotSingleVariableImplicitEquations:f.config.plotSingleVariableImplicitEquations,plotImplicits:f.config.plotImplicits,plotInequalities:f.config.plotInequalities,sliders:f.config.sliders}},m.onEvaluatorResults=function(n){u.controller.dispatch({type:"on-evaluator-changes",changes:n.evaluationStates})};var c=new d.UnderscoreModel;c.setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=c,this.evaluator=m,this.setBlank()}return g.prototype.setBlank=function(y){this.controller.dispatch({type:"set-blank",opts:y})},g.prototype.tick=function(){this.evaluator.tick()},g.prototype.destroy=function(){this.evaluator.destroy()},g}();o.HeadlessCalc=l}),q("api/headless",["require","exports","main/calc_headless","graphing-calc/json/config-options","main/shared-clock-bus","main/shared-worker-pool","graphing-calc/api/sanitize-expression","underscore_model","lib/console"],function(O,o,w,r,d,i,l,g,y){Object.defineProperty(o,"__esModule",{value:!0});var p=function(){function u(){var f=this;if(!(this instanceof u))return new u;this._calc=new w.HeadlessCalc(i.default,r.validateConfigOptions({})),this.controller=this._calc.controller,this._sharedClockBusToken=d.subscribe(function(){f._calc.tick()})}return u.prototype.destroy=function(){function f(m){y.warn("You've destroyed this API instance. You can no longer call ."+m+"()")}this._calc.destroy(),d.unsubscribe(this._sharedClockBusToken);for(var b in this)typeof this[b]=="function"?this[b]=f.bind(this,b):this.hasOwnProperty(b)&&delete this[b];this.destroy=function(){}},u.prototype.setExpression=function(f){var b=this.controller,m=b.getItemModel(f.id),c=m&&m.type,n=l.validateItem(f,c,this.controller);if(n)if(c)this.controller.dispatch({type:"set-expression-properties-from-api",id:n.id,properties:n});else{if(n.type==="image")return;this.controller.dispatch({type:"add-item-to-end-from-api",state:n})}},u.prototype.setExpressions=function(f){f.forEach(this.setExpression.bind(this))},u.prototype.removeExpression=function(f){var b=f.id.toString();this.controller.dispatch({type:"remove-item-by-id",id:b})},u.prototype.removeExpressions=function(f){f.forEach(this.removeExpression.bind(this))},u.prototype.getState=function(f){return this.controller.getState(f)},u.prototype.getExpressions=function(){return this.getState({stripDefaults:!1}).expressions.list.map(l.sanitizeItem)},u.prototype.setBlank=function(f){this.controller.dispatch({type:"set-blank",opts:f||{}})},u.prototype.setState=function(f,b){this.controller.dispatch({type:"set-state",state:f,opts:b||{}})},u.prototype.HelperExpression=function(f){var b=f&&f.latex||"",m=new g.UnderscoreModel;return m.latex=b,this.controller.dispatch({type:"add-helper-expression",state:{type:"helper-expression",id:this.controller.generateId(),latex:b,proxy:m}}),m},u.prototype.resize=function(){},u}();o.default=p}),q("api/abstract",["require","exports","lib/console","underscore_model","ipad.scrollfix","lib/dom-change-detector"],function(O,o,w,r,d,i){Object.defineProperty(o,"__esModule",{value:!0});var l=function(){function g(y){if(this.rootElt=y,this.eventModel=new r.UnderscoreModel,!y)throw new Error("must pass an HTMLElement to the API")}return g.prototype.setupDomChangeDetector=function(y){var p=this;this.autoSize=y,d.limitScrollOnElement(this.rootElt),this.domChangeDetector=new i.default(this.rootElt,function(u){switch(u.type){case"added":p.view=p.onCreateView(),p.onResizeView(u.size);break;case"removed":p.onDestroyView(),p.view=void 0;break;case"resized":p.onResizeView(u.size)}}),this.autoSize!==!1?this.domChangeDetector.startWatching():this.domChangeDetector.checkForChanges()},g.prototype.detach=function(){w.warn(".detach() is deprecated. It should no longer be necessary")},g.prototype.destroy=function(){function y(u){w.warn("You've destroyed this API instance. You can no longer call ."+u+"()")}this.view&&this.onDestroyView(),this.domChangeDetector.destroy();for(var p in this)typeof this[p]=="function"?this[p]=y.bind(this,p):this.hasOwnProperty(p)&&delete this[p];this.destroy=function(){}},g.prototype.resize=function(){this.domChangeDetector.checkForChanges()},g.prototype.updateView=function(){this.view&&document.body&&document.body.contains(this.rootElt)&&this.view.update()},g.prototype.triggerEvent=function(y,p){this.eventModel.triggerEvent(y,p)},g.prototype.observeEvent=function(y,p){this.eventModel.observeEvent(y,p)},g.prototype.unobserveEvent=function(y){this.eventModel.unobserveEvent(y)},g}();o.default=l}),q("immutable-store",["require","underscore","core/lib/deepCopy"],function(O){function o(i){return r.clone(i)}function w(i){this.setState(i)}var r=O("underscore"),d=O("core/lib/deepCopy").default;return w.prototype.setState=function(i){this.state=i},w.prototype.getState=function(){return this.state},w.prototype.set=function(i,l){if(arguments.length===1)return void(this.state=i);if(typeof i=="string")return this.state=o(this.state),void(this.state[i]=l);var g,y=i.length-2,p=i[y+1];this.state=g=o(this.state);for(var u=0;u<=y;u++){var f=i[u];g=g[f]=o(g[f])}g[p]=l},w.prototype.deepMutate=function(i,l){if(arguments.length===1)return l=i,this.state=d(this.state),void l(this.state);if(typeof i=="string")return this.state=o(this.state),this.state[i]=d(this.state[i]),void l(this.state[i]);for(var g=i.length-2,y=i[g+1],p=this.state=o(this.state),u=0;u<=g;u++){var f=i[u];p=p[f]=o(p[f])}p=p[y]=d(p[y]),l(p)},w.prototype.shallowMutate=function(i,l){if(arguments.length===1)return l=i,this.state=o(this.state),void l(this.state);if(typeof i=="string")return this.state=o(this.state),this.state[i]=o(this.state[i]),void l(this.state[i]);for(var g=i.length-1,y=this.state=o(this.state),p=0;p<=g;p++){var u=i[p];y=y[u]=o(y[u])}l(y)},w.areShallowEqual=function(i,l){},w.areDeepEqual=function(i,l){},{default:w}}),q("basic/model",["require","exports","immutable-store","main/shared-clock-bus","core/lib/label","main/evaluator","core/lib/label","underscore"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(){function p(u){var f=this,b=u.evaluationMode,m=u.additionalFunctions,c=u.functionDefinition,n=u.replaceRoundWithReciprocal,s=u.workerPool;this._evaluations={},this._nextObjectId=0,this.store=new w.default({expressions:{1:{id:"1",latex:"",braille:"",type:"latex",displayAsFraction:!1}},order:["1"],settings:{degreeMode:!1},ui:{focus:void 0}}),this.evaluationMode=b,this.additionalFunctions=m,this.functionDefinition=c,this.replaceRoundWithReciprocal=n,this.workerPool=s,this._setupEvaluator(),this.clear(),this._sharedClockBusToken=r.subscribe(function(){f._evaluator.tick()})}return p.prototype.isSingleExpression=function(){return this.evaluationMode==="singleExpressionScientific"||this.evaluationMode==="singleExpressionFourFunction"},p.prototype.destroy=function(){r.unsubscribe(this._sharedClockBusToken)},p.prototype.generateObjectId=function(){return(this._nextObjectId++).toString()},p.prototype.updateNextObjectId=function(){var u=this.store.getState().order;this._nextObjectId=0;for(var f=/^[0-9]+$/,b=0,m=u;b<m.length;b++){var c=m[b];if(f.test(c)){var n=parseInt(c,10);n>=this._nextObjectId&&(this._nextObjectId=n+1)}}},p.prototype.clearShouldDebounceUndoRedo=function(){this._shouldDebounceUndoRedo=!1},p.prototype.markShouldDebounceUndoRedo=function(){this._shouldDebounceUndoRedo=!0},p.prototype.getShouldDebounceUndoRedo=function(){return this._shouldDebounceUndoRedo},p.prototype.clearCachedBrailleValues=function(){for(var u=0,f=this.getExpressionOrder();u<f.length;u++){var b=f[u];this.store.set(["expressions",b,"braille"],"")}},p.prototype.getState=function(){return this.store.getState()},p.prototype.getPersistedState=function(){var u=this.getState(),f=u.expressions,b=u.order,m=u.settings;return{expressions:{list:b.map(function(c){var n=f[c];return{id:n.id,latex:n.latex,displayAsFraction:n.displayAsFraction}})},settings:m}},p.prototype.setState=function(u){this.store.set(u),this._updateIndexes(),this.updateNextObjectId()},p.prototype.setStateFromAPI=function(u){var f=[],b={};u.expressions.list.forEach(function(m){f.push(m.id),b[m.id]={id:m.id,latex:m.latex,braille:"",type:"latex",displayAsFraction:!!m.displayAsFraction}}),this.setState({expressions:b,order:f,settings:u.settings,ui:{focus:void 0}})},p.prototype.canClear=function(){if(this.getNumberOfExpressions()>1)return!0;var u=this.getExpressionOrder()[0];return this.getExpressionLatex(u)!==""},p.prototype.clear=function(){this.setState({expressions:{1:{id:"1",type:"latex",latex:"",braille:"",displayAsFraction:!1}},ui:{focus:void 0},order:["1"],settings:this.getState().settings})},p.prototype.getExpressionOrder=function(){return this.store.getState().order},p.prototype.getNumberOfExpressions=function(){return this.getExpressionOrder().length},p.prototype.getExpressionById=function(u){return this.getState().expressions[u]},p.prototype.getExpressionIndex=function(u){return this._indexes[u]},p.prototype._getExpressionByIndex=function(u){var f=this.getExpressionOrder()[u];return this.getExpressionById(f)},p.prototype._updateIndexes=function(){this._indexes={};for(var u=0,f=0,b=this.getExpressionOrder();f<b.length;f++){var m=b[f];this._indexes[m]=u,u+=1}this._evaluate()},p.prototype._usesAnsById=function(u){return this.getExpressionById(u).latex.indexOf("\\operatorname{ans}")!==-1},p.prototype._getPreviousExpById=function(u){var f=this.getExpressionIndex(u);return this._getExpressionByIndex(f-1)},p.prototype.createBlankAfterId=function(u){if(!this.isSingleExpression()&&this.getExpressionById(u).latex){var f=this.getExpressionIndex(u),b=this.generateObjectId();this.store.shallowMutate("order",function(m){m.splice(f+1,0,b)}),this.store.shallowMutate("expressions",function(m){m[b]={id:b,latex:"",braille:"",type:"latex",displayAsFraction:!1}}),this._updateIndexes(),this.setFocusedById(b,!0)}},p.prototype.conditionallyCopyPrevious=function(u){var f=this._getPreviousExpById(u),b=this.getExpressionById(u);f!=null&&b.latex===""&&this._usesAnsById(f.id)&&this.setLatexById(u,f.latex)},p.prototype.backspaceAtFrontOfId=function(u){if(this.getExpressionById(u).latex===""&&this.getNumberOfExpressions()!==1){var f=this.getExpressionIndex(u);this.store.shallowMutate("order",function(b){b.splice(f,1)}),this.store.shallowMutate("expressions",function(b){delete b[u]}),this._updateIndexes(),this._setFocusedByIndex(Math.max(f-1,0),!0)}},p.prototype.setLatexById=function(u,f){this.store.set(["expressions",u,"latex"],f),this.store.set(["expressions",u,"braille"],""),f===""&&this.setFractionEvaluation(u,!1),this._evaluate()},p.prototype.setLatexAndBrailleById=function(u,f,b){this.store.set(["expressions",u,"latex"],f),this.store.set(["expressions",u,"braille"],b),f===""&&this.setFractionEvaluation(u,!1),this._evaluate()},p.prototype.setFractionEvaluation=function(u,f){this.store.set(["expressions",u,"displayAsFraction"],f)},p.prototype.setLatexOfFocusedExpression=function(u){var f=this.getFocusedExpressionId();f&&this.setLatexById(f,u)},p.prototype.isExpressionFocused=function(u){return this.getFocusedExpressionId()===u},p.prototype.getExpressionLatex=function(u){return this.getExpressionById(u).latex},p.prototype.getExpressionError=function(u){var f=this._evaluations[u];return f?f.error:""},p.prototype.getExpressionValue=function(u){var f=this._evaluations[u];if(f)return f.value},p.prototype.getExpressionAns=function(u){var f=this._evaluations[u];if(f)return f.ans},p.prototype.getExpressionAnsId=function(u){var f=this._evaluations[u];if(f)return f.ansId},p.prototype.shouldShowEvaluationForExpression=function(u){var f=this._evaluations[u];return!!f&&f.showEvaluation},p.prototype.isRationalizableConstant=function(u){var f=this._evaluations[u];return!!f&&f.isRationalizableConstant},p.prototype.canDisplayEvaluationAsFraction=function(u){var f=this.getExpressionValue(u);return!!f&&l.canDisplayAsFraction(f)},p.prototype._setFocusedByIndex=function(u,f){var b=this._getExpressionByIndex(u),m=this.store.getState().ui.focus,c=f?{type:"latex-expression",id:b.id}:void 0;if(!g.isEqual(m,c)){if(m){var n=m.id;this.store.deepMutate("expressions",function(s){var v=s[n];v&&(v.braille="")})}(f||this.getFocusedExpressionId()===b.id)&&this.store.shallowMutate("ui",function(s){s.focus=c})}},p.prototype.setFocusedById=function(u,f){var b=this.getExpressionIndex(u);this._setFocusedByIndex(b,f)},p.prototype.focusPrevById=function(u){var f=this.getExpressionIndex(u)-1;f>=0&&this._setFocusedByIndex(f,!0)},p.prototype.focusNextById=function(u){var f=this.getExpressionIndex(u)+1;f<this.getNumberOfExpressions()?this._setFocusedByIndex(f,!0):this.createAtEnd()},p.prototype.getFocusedExpression=function(){var u=this.getFocusedExpressionId();return u?this.getExpressionById(u):void 0},p.prototype.getFocusedExpressionId=function(){var u=this.getState().ui.focus;return u&&u.id},p.prototype.clearFocusedExpression=function(){var u=this.getFocusedExpression();u&&this.setLatexById(u.id,"")},p.prototype.shouldShowClear=function(){if(this.getNumberOfExpressions()===1)return!1;var u=this.getFocusedExpression();return!!u&&!!u.latex},p.prototype.getLastExpression=function(){return this._getExpressionByIndex(this.getNumberOfExpressions()-1)},p.prototype.isLastExpressionEmpty=function(){return!!this.getLastExpression().latex},p.prototype.createAtEnd=function(){this.createBlankAfterId(this.getLastExpression().id)},p.prototype.focusLastExpression=function(){this._setFocusedByIndex(this.getNumberOfExpressions()-1,!0)},p.prototype.focusFirstExpression=function(){this._setFocusedByIndex(0,!0)},p.prototype.getDegreeMode=function(){return this.getState().settings.degreeMode},p.prototype.setDegreeMode=function(u){this.store.set(["settings","degreeMode"],!!u),this._evaluate()},p.prototype._cleanupLatex=function(u){return u=d.trimLatex(u),u.substr(u.length-1)==="="&&(u=u.substr(0,u.length-1)),u},p.prototype._evaluate=function(){var u=this;this._evaluator.clearStatementsAndStartCompleteState(),this.getExpressionOrder().forEach(function(f){return u._evaluator.addStatement({id:f,index:u.getExpressionIndex(f),latex:u._cleanupLatex(u.getExpressionLatex(f)),shouldGraph:!1,type:"statement"})})},p.prototype._setupEvaluator=function(){var u=this;this._evaluator=new i.Evaluator(this.workerPool),this._evaluator.readEvaluatorConfig=function(){return{degreeMode:u.getDegreeMode(),evaluationMode:u.evaluationMode,additionalFunctions:u.additionalFunctions,functionDefinition:u.functionDefinition,replaceRoundWithReciprocal:u.replaceRoundWithReciprocal}},this._evaluator.onEvaluatorResults=function(f){var b=f.evaluationStates;u._evaluations={};for(var m in b){var c=b[m];if(u.getExpressionById(m)){var n=c.constant_value;n===void 0&&c.zero_values&&c.zero_values.length&&(n=c.zero_values[0].val);var s=c.hasOwnProperty("constant_value")&&l.canDisplayAsFraction(c.constant_value),v=!c.is_evaluable&&s,A=!!c.is_evaluable||v||Array.isArray(n);u._evaluations[m]={error:c.error,ans:void 0,ansId:void 0,value:n,showEvaluation:A,isRationalizableConstant:v}}}for(var M=void 0,C=void 0,D=0,S=u.getExpressionOrder();D<S.length;D++){var m=S[D],x=u._evaluations[m];if(M&&x){var B=M.value;typeof B=="number"?(x.ans=B,x.ansId=C):Array.isArray(B)&&(x.ans="[...]")}M=x,C=m}typeof u.onEvaluationUpdate=="function"&&u.onEvaluationUpdate()}},p.prototype.reloadState=function(){this.setState(this.getState())},p.prototype.getFunctionDefinition=function(){return!!this.functionDefinition},p.prototype.enableFunctionDefinition=function(){this.functionDefinition=!0,this.reloadState()},p.prototype.disableFunctionDefinition=function(){this.functionDefinition=!1,this.reloadState()},p.prototype.getReplaceRoundWithReciprocal=function(){return!!this.replaceRoundWithReciprocal},p.prototype.enableReplaceRoundWithReciprocal=function(){this.replaceRoundWithReciprocal=!0,this.reloadState()},p.prototype.disableReplaceRoundWithReciprocal=function(){this.replaceRoundWithReciprocal=!1,this.reloadState()},p}();o.default=y}),q("basic/controller",["require","exports","tslib","flux","underscore","./model","lib/state-stack","keypad/mq-commands","lib/i18n","dcgview-helpers/mathquill-view","lib/console","bugsnag","core/lib/color-helpers"],function(O,o,w,r,d,i,l,g,y,p,u,f,b){Object.defineProperty(o,"__esModule",{value:!0});var m=function(){function c(n,s){var v=this;this.keyboardMode="main",this.fontSize=16,this.invertedColors=!1,this.backgroundColor="",this.textColor="",this.projectorMode=!1,this.capExpressionSize=!1,this.decimalToFraction=!0,this.settingsMenu=!0,this.settingsMenuOpen=!1,this.language="en",this.brailleMode="none",this.sixKeyInput=!1,this.brailleExpressionDownload=!0,this.replaceCommaWith10Exp=!1,this.typingAsteriskWritesTimesSymbol=!1,this.stateStack=new l.default,this.dispatcher=new r.Dispatcher,this.t=function(A,M){return y.t(A,M,v.language)},this.dispatch=function(A){f.leaveBreadcrumb("dispatch",A),v.dispatcher.dispatch(A);for(var M;M=v._queuedCallbacks.shift();)M()},this._queuedCallbacks=[],this.stateStack=new l.default,this.dispatcher=new r.Dispatcher,this.options=n,this.model=new i.default({evaluationMode:this.options.evaluationMode,additionalFunctions:this.options.additionalFunctions,functionDefinition:this.options.functionDefinition,replaceRoundWithReciprocal:this.options.replaceRoundWithReciprocal,workerPool:s.workerPool}),this.model=this.model,this.model.setDegreeMode(n.degreeMode),this.setBrailleMode(n.brailleMode),this.setSixKeyInput(n.sixKeyInput),this.setBrailleExpressionDownload(n.brailleExpressionDownload),this.setReplaceCommaWith10Exp(n.replaceCommaWith10Exp),this.setReplaceRoundWithReciprocal(n.replaceRoundWithReciprocal),this.setTypingAsteriskWritesTimesSymbol(n.typingAsteriskWritesTimesSymbol),this.setProjectorMode(n.projectorMode),this.setCapExpressionSize(n.capExpressionSize),this.setDecimalToFraction(n.decimalToFraction),this.invertedColors=n.invertedColors,this.backgroundColor=n.backgroundColor,this.textColor=n.textColor,this.settingsMenu=n.settingsMenu,this.model.onEvaluationUpdate=function(){return v.dispatch({type:"render"})},this.settingsProxy=s.settingsProxy,this.syncPublicSettings(),this.hookUpDispatcher(),this.containerSize={width:0,height:0}}return c.prototype.runAfterDispatch=function(n){this._queuedCallbacks.push(n)},c.prototype.enqueueEvent=function(n){var s=this;this.runAfterDispatch(function(){s.onEventEmitted&&s.onEventEmitted(n)})},c.prototype.getFunctionDefinition=function(){return this.options.functionDefinition},c.prototype.getSettingsMenu=function(){return this.settingsMenu},c.prototype.getBrailleMode=function(){return this.brailleMode},c.prototype.renderAsBraille=function(){return this.brailleMode!=="none"},c.prototype.setBrailleMode=function(n){this.brailleMode=n},c.prototype.getSixKeyInput=function(){return this.sixKeyInput},c.prototype.setSixKeyInput=function(n){this.sixKeyInput=n},c.prototype.getBrailleExpressionDownload=function(){return this.brailleExpressionDownload},c.prototype.setBrailleExpressionDownload=function(n){this.brailleExpressionDownload=n},c.prototype.getRestrictedEditing=function(){return this.options.restrictedEditing},c.prototype.getKeyboardMode=function(){return this.keyboardMode},c.prototype.getFontSize=function(){return this.fontSize},c.prototype.getInvertedColors=function(){return this.invertedColors},c.prototype.hasBackgroundColor=function(){return this.getBackgroundColor()!=="#ffffff"},c.prototype.getBackgroundColor=function(){var n=b.normalizeColor(this.backgroundColor||"#fff");return this.getInvertedColors()&&n!=="#ffffff"?b.invertColor(n):n},c.prototype.getTextColor=function(){var n=b.normalizeColor(this.textColor||"#000");return this.getInvertedColors()&&n!=="#000000"?b.invertColor(n):n},c.prototype.getAdditionalFunctions=function(){return this.options.additionalFunctions},c.prototype.getTypingSlashWritesDivisionSymbol=function(){return this.options.typingSlashWritesDivisionSymbol},c.prototype.setTypingAsteriskWritesTimesSymbol=function(n){this.typingAsteriskWritesTimesSymbol=n},c.prototype.getTypingAsteriskWritesTimesSymbol=function(){return this.typingAsteriskWritesTimesSymbol},c.prototype.setProjectorMode=function(n){this.projectorMode=n},c.prototype.isProjectorMode=function(){return this.projectorMode},c.prototype.getReplaceCommaWith10Exp=function(){return this.replaceCommaWith10Exp},c.prototype.setReplaceCommaWith10Exp=function(n){this.replaceCommaWith10Exp=n},c.prototype.getReplaceRoundWithReciprocal=function(){return this.model.getReplaceRoundWithReciprocal()},c.prototype.setReplaceRoundWithReciprocal=function(n){n?this.model.enableReplaceRoundWithReciprocal():this.model.disableReplaceRoundWithReciprocal()},c.prototype.setCapExpressionSize=function(n){this.capExpressionSize=n},c.prototype.getCapExpressionSize=function(){return this.capExpressionSize},c.prototype.setDecimalToFraction=function(n){this.decimalToFraction=n},c.prototype.getDecimalToFraction=function(){return this.decimalToFraction},c.prototype.isScientificCalc=function(){var n=this.options.evaluationMode;return n==="scientific"||n==="singleExpressionScientific"},c.prototype.isFourFunctionCalc=function(){return this.options.evaluationMode==="fourFunction"||this.options.evaluationMode==="singleExpressionFourFunction"},c.prototype.getAllowLinks=function(){return this.options.links},c.prototype.canUndo=function(){return this.stateStack.canUndo()},c.prototype.canRedo=function(){return this.stateStack.canRedo()},c.prototype.undo=function(n){if(this.canUndo()){this.stateStack.undo();var s=this.stateStack.getState();if(!n.restoreFocus){var v={focus:void 0};s=w.__assign(w.__assign({},s),{ui:v})}this.model.setState(s),this.enqueueEvent("change")}},c.prototype.redo=function(n){if(this.canRedo()){this.stateStack.redo();var s=this.stateStack.getState();if(!n.restoreFocus){var v={focus:void 0};s=w.__assign(w.__assign({},s),{ui:v})}this.model.setState(s),this.enqueueEvent("change")}},c.prototype.clearHistory=function(){this.stateStack.clear()},c.prototype.canBackspace=function(){var n=this.model.getFocusedExpression();return n&&(n.latex.length>0||this.model.getNumberOfExpressions()>1)},c.prototype.focusLastExpression=function(){this.model.focusLastExpression()},c.prototype.shouldRender=function(){return this.containerSize.width>0&&this.containerSize.height>0},c.prototype.canClear=function(){return this.model.canClear()},c.prototype.shouldShowClear=function(){return this.model.shouldShowClear()},c.prototype.enableSettingsMenu=function(){this.settingsMenu=!0},c.prototype.disableSettingsMenu=function(){this.closeSettingsMenu(),this.settingsMenu=!1},c.prototype.closeSettingsMenu=function(){this.settingsMenuOpen=!1},c.prototype.toggleSettingsMenu=function(){this.settingsMenuOpen=!this.settingsMenuOpen},c.prototype.isSettingsMenuOpen=function(){return this.settingsMenuOpen},c.prototype.isLastExpressionEmpty=function(){return this.model.isLastExpressionEmpty()},c.prototype.createAtEnd=function(){this.model.createAtEnd()},c.prototype.clearFocusedExpression=function(){this.model.clearFocusedExpression()},c.prototype.setLatexById=function(n,s){this.model.setLatexById(n,s)},c.prototype.setLatexAndBrailleById=function(n,s,v){this.model.setLatexAndBrailleById(n,s,v)},c.prototype.setLatexOfFocusedExpression=function(n){this.model.setLatexOfFocusedExpression(n)},c.prototype.toggleFractionEvaluationById=function(n){this.model.setFractionEvaluation(n,!this.model.getExpressionById(n).displayAsFraction)},c.prototype.conditionallyCopyPrevious=function(n){this.model.conditionallyCopyPrevious(n)},c.prototype.createBlankAfterId=function(n){this.model.createBlankAfterId(n)},c.prototype.backspaceAtFrontOfId=function(n){this.model.backspaceAtFrontOfId(n)},c.prototype.areStatesDifferentEnoughForUndoRedo=function(n,s){var v={focus:void 0};return d.isEqual(w.__assign(w.__assign({},n),{ui:v}),w.__assign(w.__assign({},s),{ui:v}))},c.prototype.commitUndoRedoDebounced=function(){var n=this.model.getState(),s=this.stateStack.getState();if(!this.areStatesDifferentEnoughForUndoRedo(n,s)){var v=new Date().getTime();v-this._lastDebouncedTime<1e3?this.stateStack.replaceState(n):this.stateStack.addState(n),this._lastDebouncedTime=v,this.enqueueEvent("change")}},c.prototype.commitUndoRedoSynchronously=function(){var n=this.model.getState(),s=this.stateStack.getState();this.areStatesDifferentEnoughForUndoRedo(n,s)||(this._lastDebouncedTime=0,this.stateStack.addState(n),this.enqueueEvent("change"))},c.prototype.updateKeyboardMode=function(n){this.keyboardMode=n},c.prototype.getFocusedMathquill=function(){if(this.model.getFocusedExpressionId())return p.default.getFocusedMathquill()},c.prototype.ensureMathquillIsFocusedAndReturnFocusedMathquill=function(){var n=this.getFocusedMathquill();return n||(this.isLastExpressionEmpty()&&!this.model.isSingleExpression()?this.createAtEnd():this.focusLastExpression(),this.onEventEmitted&&this.onEventEmitted("render"),this.getFocusedMathquill())},c.prototype.typeIntoFocusedMathquill=function(n){n=n.replace(/\r|\n/g,"");var s=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();s&&p.default.canAcceptText(s,this.getCapExpressionSize(),n)&&(s.typedText(n),this.setLatexOfFocusedExpression(s.latex()),this.model.markShouldDebounceUndoRedo())},c.prototype.pressKeyInFocusedMathquill=function(n,s){if(this.getBrailleMode()==="none"){var v=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();if(v)if(n==="Up"||n==="Down"||n==="Left"||n==="Right"){var A=p.default.applyArrowKeyAndReturnIfWasAtBounds(v,n,s);A&&this.moveFocusInDirection(n)}else n==="Enter"?(s&&(s.preventDefault(),s.stopPropagation()),this.handleEnter()):n==="Backspace"?this.attemptToMoveFocusWithBackspace()||(v.keystroke(n,s),this.setLatexOfFocusedExpression(v.latex())):(v.keystroke(n,s),this.setLatexOfFocusedExpression(v.latex()))}},c.prototype.moveFocusInDirection=function(n){var s=this.model.getFocusedExpressionId();s&&(n==="Up"?this.model.focusPrevById(s):n==="Down"&&this.model.focusNextById(s))},c.prototype.handleEnter=function(){if(!this.model.isSingleExpression()){var n=this.model.getFocusedExpressionId();n&&(this.conditionallyCopyPrevious(n),this.createBlankAfterId(n))}},c.prototype.attemptToMoveFocusWithBackspace=function(){var n=this.model.getFocusedExpression();if(!n)return!1;var s=n.latex,v=n.id;return s===""&&(this.backspaceAtFrontOfId(v),!0)},c.prototype.executeCommandInFocusedMathquill=function(n){var s=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();s&&(g.execute(s,n),this.setLatexOfFocusedExpression(s.latex()))},c.prototype.syncPublicSettings=function(){this.settingsProxy.setProperty("language",this.language),this.settingsProxy.setProperty("fontSize",this.fontSize),this.settingsProxy.setProperty("degreeMode",this.model.getDegreeMode()),this.settingsProxy.setProperty("invertedColors",this.invertedColors),this.settingsProxy.setProperty("backgroundColor",this.backgroundColor),this.settingsProxy.setProperty("textColor",this.textColor),this.settingsProxy.setProperty("brailleMode",this.brailleMode),this.settingsProxy.setProperty("sixKeyInput",this.sixKeyInput),this.settingsProxy.setProperty("brailleExpressionDownload",this.brailleExpressionDownload),this.settingsProxy.setProperty("projectorMode",this.projectorMode),this.settingsProxy.setProperty("capExpressionSize",this.capExpressionSize),this.settingsProxy.setProperty("decimalToFraction",this.decimalToFraction),this.settingsProxy.setProperty("qwertyKeyboard",this.options.qwertyKeyboard),this.settingsProxy.setProperty("links",this.options.links),this.settingsProxy.setProperty("settingsMenu",this.settingsMenu),this.settingsProxy.setProperty("functionDefinition",this.model.getFunctionDefinition()),this.settingsProxy.setProperty("replaceCommaWith10Exp",this.replaceCommaWith10Exp),this.settingsProxy.setProperty("replaceRoundWithReciprocal",this.model.getReplaceRoundWithReciprocal()),this.settingsProxy.setProperty("typingAsteriskWritesTimesSymbol",this.typingAsteriskWritesTimesSymbol)},c.prototype.hookUpDispatcher=function(){var n=this;this.dispatcher.register(function(s){n.enqueueEvent("render");var v=!1,A=n.getRestrictedEditing();switch(s.type){case"update-options":n.options=w.__assign(w.__assign({},n.options),s.options);break;case"keypad/shift":var M=void 0;switch(n.keyboardMode){case"qwerty":M="capitalQwerty";break;case"capitalQwerty":M="qwerty";break;case"letters":M="capitalLetters";break;case"capitalLetters":M="letters";break;default:M="qwerty"}n.updateKeyboardMode(M);break;case"undo":A||(n.undo({restoreFocus:s.source==="keyboard-shortcut"}),v=!0);break;case"redo":A||(n.redo({restoreFocus:s.source==="keyboard-shortcut"}),v=!0);break;case"clear-history":n.clearHistory();break;case"set-state-from-api":s.opts.allowUndo||n.clearHistory(),n.model.setStateFromAPI(s.state);break;case"main":n.updateKeyboardMode("main");break;case"ABC":n.options.qwertyKeyboard?n.updateKeyboardMode("qwerty"):n.updateKeyboardMode("letters");break;case"functions":n.updateKeyboardMode("functions");break;case"degrees":n.model.setDegreeMode(!n.model.getDegreeMode());break;case"update-degree-mode":n.model.setDegreeMode(!!s.mode);break;case"update-font-size":var C=s.size;if(typeof C!="number"&&(C=parseInt(C,10)),isNaN(C))return;n.fontSize=C;break;case"update-inverted-colors":n.invertedColors=!!s.mode;break;case"update-background-color":n.backgroundColor=s.color;break;case"update-text-color":n.textColor=s.color;break;case"update-projector-mode":n.setProjectorMode(!!s.mode);break;case"update-cap-expression-size":n.setCapExpressionSize(!!s.mode);break;case"update-decimal-to-fraction":n.setDecimalToFraction(!!s.mode);break;case"update-language":var D=s.language;D!=="en"&&k.supportedLanguages.indexOf(D)===-1?u.warn("Translation for '"+D+"' isn't currently available. Using '"+n.language+"' instead."):n.language=D;break;case"set-blank":s.opts.allowUndo||n.clearHistory(),n.model.clear(),n.focusLastExpression();break;case"clear":n.model.clearFocusedExpression();break;case"set-braille-mode":var S=s.mode;S!=="nemeth"&&S!=="ueb"&&S!=="none"?u.warn("Valid Braille modes are 'nemeth', 'none', and 'ueb'. You passed '"+S+"'."):(n.model.clearCachedBrailleValues(),n.setBrailleMode(s.mode));break;case"set-six-key-input":n.setSixKeyInput(!!s.mode);break;case"set-braille-expression-download":n.setBrailleExpressionDownload(!!s.mode);break;case"set-replace-comma-with-10-exp":n.setReplaceCommaWith10Exp(!!s.replace);break;case"set-replace-round-with-reciprocal":n.setReplaceRoundWithReciprocal(!!s.replace);break;case"set-typing-asterisk-writes-times-symbol":n.setTypingAsteriskWritesTimesSymbol(!!s.mode);break;case"update-latex":n.model.markShouldDebounceUndoRedo(),n.setLatexById(s.id,s.latex);break;case"update-latex-from-braille":n.model.markShouldDebounceUndoRedo(),n.setLatexAndBrailleById(s.id,s.latex,s.braille);break;case"focusin":n.model.setFocusedById(s.id,!0);break;case"focusout":n.model.setFocusedById(s.id,!1);break;case"focus-first-expression":n.model.focusFirstExpression();break;case"focus-prev-expression":n.moveFocusInDirection("Up");break;case"focus-next-expression":n.moveFocusInDirection("Down");break;case"focus-last-expression":n.model.focusLastExpression();break;case"insert-blank-expression":n.handleEnter();break;case"backspace-from-braille":n.attemptToMoveFocusWithBackspace();break;case"keypad/type-text":n.typeIntoFocusedMathquill(s.text);break;case"keypad/press-key":n.pressKeyInFocusedMathquill(s.key,s.evt);break;case"keypad/custom-command":n.executeCommandInFocusedMathquill(s.command);break;case"keypad/123":case"keypad/abc":break;case"enable-settings-menu":n.enableSettingsMenu();break;case"disable-settings-menu":n.disableSettingsMenu();break;case"toggle-settings-menu":n.toggleSettingsMenu();break;case"close-settings-menu":n.closeSettingsMenu();break;case"render":break;case"ui/container-resized":n.containerSize=s.size;break;case"toggle-fraction-evaluation":n.toggleFractionEvaluationById(s.id);break;default:return s}n.runAfterDispatch(function(){return n.syncPublicSettings()}),v||(n.model.getShouldDebounceUndoRedo()?(n.commitUndoRedoDebounced(),n.model.clearShouldDebounceUndoRedo()):n.commitUndoRedoSynchronously())})},c}();o.default=m}),q("basic/dcgview-basic",["require","exports","tslib","dcgview"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=function(i){function l(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(l,i),l.prototype.init=function(){this.controller=this.props.controller(),this.model=this.controller.model,this.dispatch=this.controller.dispatch,this.t=this.controller.t},l}(r.Class);o.DCGViewBasic=d}),q("loadcss!keypad/control-bar",function(){}),q("keypad/control-bar",["require","exports","tslib","dcgview","./dcgview-keypad","loadcss!./control-bar"],function(O,o,w,r,d){Object.defineProperty(o,"__esModule",{value:!0});var i=function(l){function g(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(g,l),g.prototype.template=function(){var y=this;return r.createElement("div",{class:r.const("dcg-keypad-control-bar dcg-do-not-blur"),role:r.const("group"),"aria-label":function(){return y.controller.t("Control Bar")}},r.createElement("div",{class:r.const("dcg-keypad-control-bar-contents")},this.children))},g}(d.default);o.default=i}),q("loadcss!keypad/control-btn",function(){}),q("keypad/control-btn",["require","exports","tslib","dcgview","loadcss!./control-btn"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=function(i){function l(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(l,i),l.prototype.template=function(){var g=this;return r.createElement("div",{class:function(){return{"dcg-keypad-control-btn":!0,"dcg-disabled":g.isDisabled(),"dcg-selected":!g.isDisabled()&&g.isSelected(),"dcg-selectable-btn":!g.isDisabled()&&g.isSelectable(),"dcg-narrow-control-btn":g.props.narrowButton&&g.props.narrowButton()}},didMount:this.bindFn(this.didMount),role:r.const("button"),"aria-disabled":function(){return g.isDisabled()||void 0},"aria-label":function(){return g.getAriaLabel()},"dcg-command":this.props.command,onTap:this.bindFn(this.handleTap),"aria-pressed":function(){return g.hasPopup()||g.isDisabled()||!g.isSelectable()?void 0:g.isSelected()},"aria-expanded":function(){return g.hasPopup()&&!g.isDisabled()?g.isSelected():void 0},tabindex:this.bindFn(this.getTabIndex)},this.children)},l.prototype.getTabIndex=function(){return this.isDisabled()?void 0:this.props.ignoreInTabOrder&&this.props.ignoreInTabOrder()?-1:0},l.prototype.handleTap=function(g){this.isDisabled()||this.props.onTap(g)},l.prototype.getAriaLabel=function(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()},l.prototype.hasPopup=function(){return!!this.props.ariaPopup&&this.props.ariaPopup()},l.prototype.isDisabled=function(){return!!this.props.disabled&&this.props.disabled()},l.prototype.isSelected=function(){return!!this.props.selected&&this.props.selected()},l.prototype.isSelectable=function(){return!!this.props.selectable&&this.props.selectable()},l.prototype.didMount=function(g){this.props.didMount&&this.props.didMount(g)},l}(r.Class);o.default=d}),q("loadcss!dcgview-helpers/download-button",function(){}),q("dcgview-helpers/download-button",["require","exports","tslib","dcgview","browser","loadcss!./download-button"],function(O,o,w,r,d){function i(){if(!d.IS_SAFARI)return!1;var p=navigator.userAgent.match(/Version\/(\d+)/);return!(!p||!p[1])&&parseFloat(p[1])<11}function l(){return!d.IS_IE&&!i()&&document.createElement("a").download!==void 0}function g(){return l()||navigator.msSaveBlob!==void 0}Object.defineProperty(o,"__esModule",{value:!0}),o.canDownload=g;var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.init=function(){this.supportsDirectDownload=l()},u.prototype.template=function(){var f=this;return r.createElement("a",{role:r.const("button"),tabindex:function(){return f.props.enabled()?0:-1},"aria-disabled":function(){return!f.props.enabled()},class:function(){return{"dcg-download-button":!0,"dcg-disabled":!f.props.enabled(),"dcg-braille-equations":f.props.isBraille,"dcg-svg-button":f.props.isSvg}},didMount:this.bindFn(this.didMountDownload),didUnmount:this.bindFn(this.didUnmountDownload),didUpdate:this.bindFn(this.didUpdate),download:function(){return f.supportsDirectDownload?f.props.filename():void 0},onTap:function(b){if(!f.supportsDirectDownload&&navigator.msSaveOrOpenBlob){var m=f.props.data();m&&(navigator.msSaveOrOpenBlob(m,f.props.filename()),b.preventDefault())}}},r.createElement("i",{class:r.const("dcg-icon-download")}),r.createElement("span",null,function(){return f.props.text()}))},u.prototype.didMountDownload=function(f){this.downloadLink=f,this.didUpdate()},u.prototype.didUnmountDownload=function(){this.revokeBlobURL()},u.prototype.didUpdate=function(){this.updateDownloadURL(),this.cachedObjectURL&&(this.downloadLink.href=this.cachedObjectURL)},u.prototype.updateDownloadURL=function(){if(this.revokeBlobURL(),this.supportsDirectDownload){var f=this.props.data();f&&(this.cachedObjectURL=URL.createObjectURL(f))}},u.prototype.revokeBlobURL=function(){this.cachedObjectURL&&URL.revokeObjectURL(this.cachedObjectURL)},u}(r.Class);o.default=y}),q("lib/export-braille-equations",["require","exports","abraham","graphing-calc/models/expression","expressions/regression_view","core/lib/number-to-latex"],function(O,o,w,r,d,i){function l(f,b,m){if(m===void 0&&(m=!1),m&&(f=f.replace(/ /g,"\\ ")),b==="none")return f;var c=b==="nemeth"?w.latexToNemeth(f):w.latexToUeb(f);return c.isError?"":w.UnicodeBraille.toBrailleAscii(c.value)}function g(f,b){if(b==="none")return"";var m=[];m.push(l("Expression List",b,!0)),m.push(""),m.push("");for(var c="",n=f.getItemCount(),s=0;s<n;s++){var v=f.getItemModelByIndex(s);if(v&&!v.secret){c!==""&&v.type!=="folder"&&c!==v.folderId&&(m.push(p(l("End Folder",b,!0))),c="");var A="";switch(v.type){case"expression":if(!v.hidden){var M=u(v.displayIndex,b);A=v.latex;var C=[],D=v.formula;if(D&&!r.isEmpty(v)){if(f.shouldShowEvaluationForItem(v.id)){var S=D.zero_values&&D.zero_values.length?D.zero_values[0].val:D.constant_value;Array.isArray(S)?A+="\\ "+S.length+"\\ element\\ list":A+="="+S}else if(r.shouldShowCDFFooter(v))C.push(l("Min="+r.getCDFMin(v),b,!1)),C.push(l("Max="+r.getCDFMax(v),b,!1)),r.isCDFMaxValid(v)&&r.isCDFMinValid(v)&&C.push(l("CDF="+r.getCDFEvaluation(v),b,!1));else if(r.isTTest(v)){var x=r.getTTestResults(v);x&&(C.push(l("<"+i.numberToStatsConfidenceLatex(x.lessThan,5),b,!1)),C.push(l(">"+i.numberToStatsConfidenceLatex(x.greaterThan,5),b,!1)),C.push(l("\\ne"+i.numberToStatsConfidenceLatex(x.notEqual,5),b,!1)))}else if(D.is_regression&&D.regression){var B=D.regression,Z=B.statistics,X=B.parameters;Z.hasOwnProperty("Rsquared")&&C.push(l("R^2="+d.getRoundedStat(B,"Rsquared"),b,!1)),Z.hasOwnProperty("rsquared")&&C.push(l("r^2="+d.getRoundedStat(B,"rsquared"),b,!1)),Z.hasOwnProperty("r")&&C.push(l("r="+d.getRoundedStat(B,"r"),b,!1)),Z.hasOwnProperty("RMSE")&&C.push(l("\\operatorname{RMSE}="+d.getRoundedStat(B,"RMSE"),b,!1));for(var ee in X)C.push(l(ee+"="+d.getRoundedParam(B,ee),b,!1))}}m.push(M+"  "+l(A,b,!1)),m.push.apply(m,C)}break;case"text":m.push(l(v.text,b,!0));break;case"folder":v.collapsed?A="Collapsed Folder "+v.title:(A="Start Folder "+v.title,c=v.id),m.push(p(l(A,b,!0)));break;case"image":m.push(l("Image",b,!1));break;case"table":m.push(p(l("Start Table",b,!0)));for(var W=0,U=v.rowModels;W<U.length;W++){for(var F=U[W],G=[],ie=0,ne=F.cells;ie<ne.length;ie++){var Y=ne[ie],ge="";if(Y.type==="header")ge=Y.latex||"";else if(Y.type==="cell"){var te=Y.column.index,H=Y.row.index-1,pe=Y.column.disabled;ge=pe?Y.column.computedValues[H]||"":v.columns[te].values[H]||""}G.push(l(ge,b))}var fe=G.join("	");/^\t/.test(fe)||m.push(fe)}m.push(p(l("End Table",b,!0)));break;default:return v}}}return c!==""&&m.push(p(l("End Folder",b,!0))),m.join(`
`)}function y(f,b){if(b==="none")return"";var m=[];m.push(l("Expression List",b,!0)),m.push(""),m.push("");for(var c=0,n=f.getExpressionOrder();c<n.length;c++){var s=n[c],v=u(f.getExpressionIndex(s)+1,b),A=f.getExpressionLatex(s),M=f.getExpressionValue(s);M!==void 0&&(A+="="+M),m.push(v+"  "+l(A,b,!1))}return m.join(`
`)}function p(f){var b="--------------------";return b+`
`+f+`
`+b}function u(f,b){var m=""+f;return b==="nemeth"?l(m,b,!1)+"_4":b==="ueb"?l(m+".",b,!1):""}Object.defineProperty(o,"__esModule",{value:!0}),o.getBrailleEquationsGraphing=g,o.getBrailleEquationsBasic=y}),q("loadcss!basic/settings-menu",function(){}),q("basic/settings-menu",["require","exports","tslib","keys","dcgview","./dcgview-basic","jquery","dcgview-helpers/download-button","lib/export-braille-equations","loadcss!./settings-menu"],function(O,o,w,r,d,i,l,g,y){Object.defineProperty(o,"__esModule",{value:!0});var p=d.Components.If,u=function(f){function b(){return f!==null&&f.apply(this,arguments)||this}return w.__extends(b,f),b.prototype.template=function(){var m=this;return d.createElement("div",{class:function(){return{"dcg-settings-dropdown":!0,"dcg-popover":!0,"dcg-has-background-color":m.controller.hasBackgroundColor(),"dcg-point-left":m.controller.containerSize.height<=420}},role:d.const("complementary"),"aria-label":d.const("Settings Menu"),didMount:this.bindFn(this.didMountSettingsDropdown),didUnmount:this.bindFn(this.didUnmountSettingsDropdown)},d.createElement("div",{class:d.const("dcg-popover-interior"),style:function(){return{background:m.controller.getBackgroundColor()}}},d.createElement("div",{class:function(){return{"dcg-settings-menu-option":!0,"dcg-modern-btn":!0,"dcg-action-projectormode":!0,"dcg-active":m.controller.isProjectorMode()}},role:d.const("button"),onTap:this.bindFn(this.onToggleProjectorMode),tabindex:d.const(0),"aria-label":function(){return m.controller.t("Projector Mode")},"aria-pressed":function(){return m.controller.isProjectorMode()}},function(){return m.controller.t("Projector Mode")}),d.createElement("div",{class:function(){return{"dcg-settings-menu-option":!0,"dcg-braille-container":!0}}},d.createElement("div",{class:d.const("dcg-group-title")},function(){return m.controller.t("Braille Mode")}),d.createElement("div",{role:d.const("group"),"aria-label":function(){return m.controller.t("Braille Mode")},class:d.const("dcg-braille-options-buttons")},d.createElement("span",{class:function(){return{"dcg-braille-option":!0,"dcg-selected":m.isLatex()}},role:d.const("button"),onTap:function(){return m.setBrailleMode("none")},tabindex:d.const(0),"aria-label":function(){return m.controller.t("Off")},"aria-pressed":function(){return m.isLatex()}},function(){return m.controller.t("Off")}),d.createElement("span",{class:function(){return{"dcg-braille-option":!0,"dcg-selected":m.isNemeth()}},role:d.const("button"),onTap:function(){return m.setBrailleMode("nemeth")},tabindex:d.const(0),"aria-label":function(){return m.controller.t("Nemeth")},"aria-pressed":function(){return m.isNemeth()}},function(){return m.controller.t("Nemeth")}),d.createElement("span",{class:function(){return{"dcg-braille-option":!0,"dcg-selected":m.isUEB()}},role:d.const("button"),onTap:function(){return m.setBrailleMode("ueb")},tabindex:d.const(0),"aria-label":function(){return m.controller.t("UEB")},"aria-pressed":function(){return m.isUEB()}},function(){return m.controller.t("UEB")})),d.createElement(p,{predicate:function(){return m.controller.renderAsBraille()}},function(){return d.createElement("div",null,d.createElement("div",{role:d.const("checkbox"),tabindex:d.const(0),onTap:function(){return m.onToggleSixKeyInput()},"aria-checked":function(){return m.controller.getSixKeyInput()},"aria-label":function(){return m.controller.t("Six Key Braille Input")},class:function(){return{"dcg-settings-menu-option":!0,"dcg-do-not-blur":!0,"dcg-six-key-checkbox":!0,"dcg-checked":m.controller.getSixKeyInput(),"dcg-checkbox-container":!0}},handleEvent:d.const(!0)},d.createElement("span",{class:d.const("dcg-checkbox-box")},d.createElement("i",{class:d.const("dcg-icon-check")})),d.createElement("span",{class:d.const("dcg-checkbox-label")},function(){return m.controller.t("Six Key Braille Input")})),d.createElement("a",{href:d.const("https://www.desmos.com/accessibility#braille"),class:d.const("dcg-six-key-info"),target:d.const("_blank")},d.createElement("i",{class:d.const("dcg-icon-question-sign")})),d.createElement(p,{predicate:function(){return g.canDownload()&&m.controller.getBrailleExpressionDownload()}},function(){return d.createElement(g.default,{data:function(){var c=y.getBrailleEquationsBasic(m.model,m.controller.getBrailleMode());return new Blob([c],{type:"text/plain"})},enabled:m.const(!0),filename:m.const("desmos-equations.brl"),text:function(){return m.controller.t("Download Braille Equations")},isBraille:m.const(!0)})}))})),d.createElement("div",{role:d.const("checkbox"),tabindex:d.const(0),onTap:this.bindFn(this.onToggleInvertedColors),"aria-checked":function(){return m.controller.getInvertedColors()},"aria-label":function(){return m.controller.t("Reverse Contrast")},class:function(){return{"dcg-settings-menu-option":!0,"dcg-do-not-blur":!0,"dcg-checked":m.controller.getInvertedColors(),"dcg-checkbox-container":!0,"dcg-reverse-contrast":!0}},handleEvent:d.const(!0)},d.createElement("span",{class:d.const("dcg-checkbox-box")},d.createElement("i",{class:d.const("dcg-icon-check")})),d.createElement("span",{class:d.const("dcg-checkbox-label")},function(){return m.controller.t("Reverse Contrast")})),d.createElement(p,{predicate:function(){return!!m.getVersionNumber()}},function(){return d.createElement("div",{class:d.const("dcg-version-number")},d.const("Version: "),function(){return m.getVersionNumber()})})))},b.prototype.getVersionNumber=function(){var m=window;if(m&&m.AppBridge)return m.AppBridge.versionNumber},b.prototype.didUnmountSettingsDropdown=function(){l(document).off(".dcg-settings-view")},b.prototype.didMountSettingsDropdown=function(m){var c=this;this.settingsGroupNode=m,l(document).on("dcg-tapstart.dcg-settings-view",function(n){l(n.target).closest(".dcg-basic-settings-container").length===0&&c.controller.dispatch({type:"close-settings-menu"})}),l(document).on("keydown.dcg-settings-view",function(n){if(r.lookup(n)==="Esc"&&(c.controller.dispatch({type:"close-settings-menu"}),c.controller.dispatch({type:"focus-last-expression"})),r.lookup(n)==="Tab"&&!n.altKey&&!n.metaKey&&!n.ctrlKey){var s=document.activeElement,v=l(c.props.settingsButtonNode()),A=l(c.settingsGroupNode).find(".dcg-settings-menu-option:last");n.shiftKey||s!==A[0]?n.shiftKey&&s===v[0]&&(A.focus(),n.preventDefault(),n.stopPropagation()):(v.focus(),n.preventDefault(),n.stopPropagation())}})},b.prototype.setBrailleMode=function(m){this.controller.dispatch({type:"set-braille-mode",mode:m})},b.prototype.isNemeth=function(){return this.controller.getBrailleMode()==="nemeth"},b.prototype.isUEB=function(){return this.controller.getBrailleMode()==="ueb"},b.prototype.isLatex=function(){return this.controller.getBrailleMode()==="none"},b.prototype.onToggleSixKeyInput=function(){var m=!this.controller.getSixKeyInput();this.controller.dispatch({type:"set-six-key-input",mode:m})},b.prototype.onToggleInvertedColors=function(){var m=!this.controller.getInvertedColors();this.controller.dispatch({type:"update-inverted-colors",mode:m})},b.prototype.onToggleProjectorMode=function(){this.controller.dispatch({type:"update-projector-mode",mode:!this.controller.isProjectorMode()})},b}(i.DCGViewBasic);o.SettingsMenu=u}),q("loadcss!basic/keypad/settings-control-button",function(){}),q("basic/keypad/settings-control-button",["require","exports","tslib","dcgview","keypad/control-btn","basic/dcgview-basic","basic/settings-menu","loadcss!./settings-control-button"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=r.Components.If,y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){var f=this,b=this.props.controller();return r.createElement("div",{class:r.const("dcg-basic-settings-container")},r.createElement(d.default,{didMount:function(m){return f.settingsButtonNode=m},command:this.const("settings"),ariaLabel:function(){return b.t("settings")},onTap:this.bindFn(this.onToggleSettingsMenu),selected:function(){return f.controller.isSettingsMenuOpen()},ariaPopup:this.const(!0)},r.createElement("i",{class:r.const("dcg-icon-wrench")})),r.createElement(g,{predicate:function(){return f.controller.isSettingsMenuOpen()}},function(){return r.createElement(l.SettingsMenu,{controller:f.props.controller,settingsButtonNode:function(){return f.settingsButtonNode}})}))},u.prototype.onToggleSettingsMenu=function(){this.controller.dispatch({type:"toggle-settings-menu"})},u}(i.DCGViewBasic);o.default=y}),q("basic/keypad/fourfunction-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","./settings-control-button","basic/dcgview-basic"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=r.Components,p=y.If,u=y.IfElse,f=function(b){function m(){return b!==null&&b.apply(this,arguments)||this}return w.__extends(m,b),m.prototype.template=function(){var c=this,n=this.props.controller();return r.createElement(d.default,{controller:this.props.controller},r.createElement(p,{predicate:function(){return!c.controller.getRestrictedEditing()}},function(){return r.createElement(i.default,{command:c.const("undo"),disabled:function(){return!n.canUndo()},ariaLabel:function(){return n.t("undo")},onTap:function(s){return n.dispatch({type:"undo",source:s.device==="keyboard"?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-undo")}))}),r.createElement(p,{predicate:function(){return!c.controller.getRestrictedEditing()}},function(){return r.createElement(i.default,{command:c.const("redo"),disabled:function(){return!n.canRedo()},ariaLabel:function(){return n.t("redo")},onTap:function(s){return n.dispatch({type:"redo",source:s.device==="keyboard"?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-redo")}))}),u(function(){return n.shouldShowClear()},{true:function(){return r.createElement(i.default,{command:c.const("clear"),ariaLabel:function(){return n.t("clear")},onTap:function(){return n.dispatch({type:"clear"})}},function(){return n.t("clear")})},false:function(){return r.createElement(i.default,{command:c.const("clearall"),disabled:function(){return!n.canClear()},ariaLabel:function(){return n.t("clear all")},onTap:function(){return n.dispatch({type:"set-blank",opts:{allowUndo:!0}})}},function(){return n.t("clear all")})}}),r.createElement(p,{predicate:function(){return c.controller.getRestrictedEditing()}},function(){return r.createElement("div",{class:r.const("dcg-spacer-2")})}),r.createElement(p,{predicate:function(){return n.getBrailleMode()==="none"}},function(){return r.createElement(i.default,{command:c.const("backspace"),ariaLabel:function(){return n.t("backspace")},disabled:function(){return!n.canBackspace()},onTap:function(){return n.dispatch({type:"keypad/press-key",key:"Backspace"})}},r.createElement("i",{class:r.const("dcg-icon-delete")}))}),r.createElement(p,{predicate:function(){return c.props.controller().getSettingsMenu()}},function(){return r.createElement(l.default,{controller:c.props.controller})}))},m.prototype.onToggleSettingsMenu=function(){this.controller.dispatch({type:"toggle-settings-menu"})},m}(g.DCGViewBasic);o.default=f}),q("basic/keypad/single-expression-fourfunction-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=r.Components.If,y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){var f=this,b=this.props.controller();return r.createElement(d.default,{controller:this.props.controller},r.createElement(g,{predicate:function(){return!f.controller.getRestrictedEditing()}},function(){return r.createElement(i.default,{command:f.const("undo"),disabled:function(){return!b.canUndo()},ariaLabel:function(){return b.t("undo")},onTap:function(m){return b.dispatch({type:"undo",source:m.device==="keyboard"?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-undo")}))}),r.createElement(g,{predicate:function(){return!f.controller.getRestrictedEditing()}},function(){return r.createElement(i.default,{command:f.const("redo"),disabled:function(){return!b.canRedo()},ariaLabel:function(){return b.t("redo")},onTap:function(m){return b.dispatch({type:"redo",source:m.device==="keyboard"?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-redo")}))}),r.createElement(i.default,{command:this.const("clear"),ariaLabel:function(){return b.t("clear")},onTap:function(){return b.dispatch({type:"clear"})}},function(){return b.t("clear")}),r.createElement(g,{predicate:function(){return f.controller.getRestrictedEditing()}},function(){return r.createElement("div",{class:r.const("dcg-spacer-2")})}),r.createElement(g,{predicate:function(){return b.getBrailleMode()==="none"}},function(){return r.createElement(i.default,{command:f.const("backspace"),ariaLabel:function(){return b.t("backspace")},disabled:function(){return!b.canBackspace()},onTap:function(){return b.dispatch({type:"keypad/press-key",key:"Backspace"})}},r.createElement("i",{class:r.const("dcg-icon-delete")}))}))},u}(l.DCGViewBasic);o.default=y}),q("loadcss!keypad/control-toggle",function(){}),q("keypad/control-toggle",["require","exports","tslib","lib/aria","core/lib/color-helpers","dcgview","./dcgview-keypad","loadcss!./control-toggle"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=function(y){function p(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(p,y),p.prototype.template=function(){var u=this;return i.createElement("div",{class:function(){return{"dcg-keypad-control-toggle":!0,"dcg-toggled":u.props.toggled()}},role:i.const("button"),tabindex:i.const("0"),"aria-label":this.bindFn(this.getAriaLabel),onTap:this.bindFn(this.handleTap)},i.createElement("div",{class:i.const("dcg-ctrl-toggle-option")},this.props.defaultOption),i.createElement("div",{class:i.const("dcg-ctrl-toggle-option")},this.props.toggledOption),i.createElement("div",{class:i.const("dcg-ctrl-toggle-cover"),style:function(){return{background:d.shadeColor(u.controller.getBackgroundColor(),-.1)}}}))},p.prototype.getAriaLabel=function(){var u={toggled:this.props.toggledAriaLabel(),default:this.props.defaultAriaLabel()};return this.props.toggled()?this.controller.t("__toggled__ selected. Press Enter to switch to __default__.",u):this.controller.t("__default__ selected. Press Enter to switch to __toggled__.",u)},p.prototype.handleTap=function(){this.props.toggled()?r.alert(this.props.defaultAriaLabel()):r.alert(this.props.toggledAriaLabel()),this.props.onTap(this.props.command())},p}(l.default);o.default=g}),q("basic/keypad/scientific-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic","keypad/control-toggle","./settings-control-button"],function(O,o,w,r,d,i,l,g,y){Object.defineProperty(o,"__esModule",{value:!0});var p=r.Components,u=p.If,f=p.IfElse,b=function(m){function c(){return m!==null&&m.apply(this,arguments)||this}return w.__extends(c,m),c.prototype.template=function(){var n=this,s=this.props.controller();return r.createElement(d.default,{controller:this.props.controller},r.createElement(i.default,{command:this.const("main"),selected:function(){return s.getKeyboardMode()==="main"},disabled:function(){return n.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return s.dispatch({type:"main"})},ariaLabel:function(){return s.t("main")}},function(){return s.t("main")}),r.createElement(i.default,{command:this.const("ABC"),selected:function(){return["qwerty","capitalQwerty","letters"].indexOf(s.getKeyboardMode())!==-1},disabled:function(){return n.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),ariaLabel:function(){return s.t("A B C")},onTap:function(){return s.dispatch({type:"ABC"})}},function(){return s.t("abc")}),r.createElement(i.default,{command:this.const("functions"),selected:function(){return["functions","restrictedFunctions"].indexOf(s.getKeyboardMode())!==-1},ariaLabel:function(){return s.t("Functions")},disabled:function(){return n.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return s.dispatch({type:"functions"})}},function(){return s.t("func")}),r.createElement(g.default,{command:this.const("degrees"),toggled:function(){return n.model.getDegreeMode()},defaultOption:function(){return s.t("rad")},toggledOption:function(){return s.t("deg")},defaultAriaLabel:function(){return s.t("Radians")},toggledAriaLabel:function(){return s.t("Degrees")},onTap:function(){return s.dispatch({type:"degrees"})},controller:this.props.controller}),r.createElement(u,{predicate:function(){return!n.controller.getRestrictedEditing()}},function(){return r.createElement(i.default,{command:n.const("undo"),disabled:function(){return!s.canUndo()},ariaLabel:function(){return s.t("Undo")},onTap:function(v){return s.dispatch({type:"undo",source:v.device==="keyboard"?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-undo")}))}),r.createElement(u,{predicate:function(){return!n.controller.getRestrictedEditing()}},function(){return r.createElement(i.default,{command:n.const("redo"),disabled:function(){return!s.canRedo()},ariaLabel:function(){return s.t("Redo")},onTap:function(v){return s.dispatch({type:"redo",source:v.device==="keyboard"?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-redo")}))}),f(function(){return s.shouldShowClear()},{true:function(){return r.createElement(i.default,{command:n.const("clear"),ariaLabel:function(){return s.t("clear")},onTap:function(){return s.dispatch({type:"clear"})}},function(){return s.t("clear")})},false:function(){return r.createElement(i.default,{command:n.const("clearall"),disabled:function(){return!s.canClear()},ariaLabel:function(){return s.t("clear all")},onTap:function(){return s.dispatch({type:"set-blank",opts:{allowUndo:!0}})}},function(){return s.t("clear all")})}}),r.createElement(u,{predicate:function(){return n.props.controller().getSettingsMenu()}},function(){return r.createElement(y.default,{controller:n.props.controller})}))},c}(l.DCGViewBasic);o.default=b}),q("basic/keypad/single-expression-scientific-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic","keypad/control-toggle"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=r.Components.If,p=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return w.__extends(f,u),f.prototype.template=function(){var b=this,m=this.props.controller();return r.createElement(d.default,{controller:this.props.controller},r.createElement(g.default,{command:this.const("degrees"),toggled:function(){return b.model.getDegreeMode()},defaultOption:function(){return m.t("rad")},toggledOption:function(){return m.t("deg")},defaultAriaLabel:function(){return m.t("Radians")},toggledAriaLabel:function(){return m.t("Degrees")},onTap:function(){return m.dispatch({type:"degrees"})},controller:this.props.controller}),r.createElement("div",{class:r.const("dcg-spacer")}),r.createElement(y,{predicate:function(){return!b.controller.getRestrictedEditing()}},function(){return r.createElement(i.default,{command:b.const("undo"),disabled:function(){return!m.canUndo()},ariaLabel:function(){return m.t("Undo")},onTap:function(c){return m.dispatch({type:"undo",source:c.device==="keyboard"?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-undo")}))}),r.createElement(y,{predicate:function(){return!b.controller.getRestrictedEditing()}},function(){return r.createElement(i.default,{command:b.const("redo"),disabled:function(){return!m.canRedo()},ariaLabel:function(){return m.t("Redo")},onTap:function(c){return m.dispatch({type:"redo",source:c.device==="keyboard"?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-redo")}))}),r.createElement("div",{class:r.const("dcg-spacer")}),r.createElement(i.default,{narrowButton:this.const(!0),command:this.const("clear"),ariaLabel:function(){return m.t("clear")},onTap:function(){return m.dispatch({type:"clear"})}},function(){return m.t("clear")}),r.createElement(i.default,{narrowButton:this.const(!0),command:this.const("backspace"),ariaLabel:function(){return m.t("backspace")},onTap:function(){return m.dispatch({type:"keypad/press-key",key:"Backspace"})}},r.createElement("i",{class:r.const("dcg-icon-delete")})))},f}(l.DCGViewBasic);o.default=p}),q("basic/keypad/fourfunction-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){var f=this;return r.createElement("div",{role:r.const("group"),"aria-label":function(){return f.t("keypad")}},r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"(",{colspan:this.parenColspan()}),i.view(this,")",{colspan:this.parenColspan()}),this.makeAdditionalFunctionKey(0),this.makeAdditionalFunctionKey(1),i.view(this,"/")),r.createElement(g.default,null,i.view(this,"7",{style:"highlight"}),i.view(this,"8",{style:"highlight"}),i.view(this,"9",{style:"highlight"}),i.view(this,"*")),r.createElement(g.default,null,i.view(this,"4",{style:"highlight"}),i.view(this,"5",{style:"highlight"}),i.view(this,"6",{style:"highlight"}),i.view(this,"-")),r.createElement(g.default,null,i.view(this,"1",{style:"highlight"}),i.view(this,"2",{style:"highlight"}),i.view(this,"3",{style:"highlight"}),i.view(this,"+")),r.createElement(g.default,null,i.view(this,"0",{style:"highlight"}),i.view(this,".",{style:"highlight"}),i.view(this,"ans"),i.view(this,"enter",{style:"blue"}))))},u.prototype.parenColspan=function(){return this.controller.getAdditionalFunctions().length>1?.5:1},u.prototype.makeAdditionalFunctionKey=function(f){var b=this.controller.getAdditionalFunctions()[f];return b==="exponent"?i.view(this,"a^b"):b==="percent"?i.view(this,"%"):b==="sqrt"?i.view(this,"sqrt"):void 0},u}(d.DCGViewBasic);o.default=y}),q("basic/keypad/single-expression-fourfunction-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){var f=this;return r.createElement("div",{role:r.const("group"),"aria-label":function(){return f.t("keypad")}},r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"(",{colspan:this.parenColspan()}),i.view(this,")",{colspan:this.parenColspan()}),this.makeAdditionalFunctionKey(1)),r.createElement(g.default,null,i.view(this,"7",{style:"highlight"}),i.view(this,"8",{style:"highlight"}),i.view(this,"9",{style:"highlight"}),i.view(this,"/")),r.createElement(g.default,null,i.view(this,"4",{style:"highlight"}),i.view(this,"5",{style:"highlight"}),i.view(this,"6",{style:"highlight"}),i.view(this,"*")),r.createElement(g.default,null,i.view(this,"1",{style:"highlight"}),i.view(this,"2",{style:"highlight"}),i.view(this,"3",{style:"highlight"}),i.view(this,"-")),r.createElement(g.default,null,i.view(this,"0",{style:"highlight"}),i.view(this,".",{style:"highlight",colspan:this.dotColspan()}),this.makeAdditionalFunctionKey(0),i.view(this,"+"))))},u.prototype.parenColspan=function(){return this.controller.getAdditionalFunctions().length===2?1.5:2},u.prototype.dotColspan=function(){return this.controller.getAdditionalFunctions().length?1:2},u.prototype.makeAdditionalFunctionKey=function(f){var b=this.controller.getAdditionalFunctions()[f];return b==="exponent"?i.view(this,"a^b"):b==="percent"?i.view(this,"%"):b==="sqrt"?i.view(this,"sqrt"):void 0},u}(d.DCGViewBasic);o.default=y}),q("basic/keypad/single-expression-scientific-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){return r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"("),i.view(this,")"),i.view(this,"x^2"),i.view(this,"sqrt"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"x^3"),i.view(this,"x^y"),i.view(this,"ythroot")),r.createElement(g.default,null,i.view(this,"7",{style:"highlight"}),i.view(this,"8",{style:"highlight"}),i.view(this,"9",{style:"highlight"}),i.view(this,"/"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"pi"),i.view(this,"e^x"),i.view(this,"!")),r.createElement(g.default,null,i.view(this,"4",{style:"highlight"}),i.view(this,"5",{style:"highlight"}),i.view(this,"6",{style:"highlight"}),i.view(this,"*"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"log"),i.view(this,"ln"),i.view(this,"|x|")),r.createElement(g.default,null,i.view(this,"1",{style:"highlight"}),i.view(this,"2",{style:"highlight"}),i.view(this,"3",{style:"highlight"}),i.view(this,"-"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"sin"),i.view(this,"cos"),i.view(this,"tan")),r.createElement(g.default,null,i.view(this,"0",{style:"highlight"}),i.view(this,".",{style:"highlight"}),i.view(this,"x/y"),i.view(this,"+"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"arcsin"),i.view(this,"arccos"),i.view(this,"arctan")))},u}(d.DCGViewBasic);o.default=y}),q("basic/keypad/sci-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=r.Components.IfElse,p=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return w.__extends(f,u),f.prototype.template=function(){var b=this;return r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"a^2"),i.view(this,"a^b"),i.view(this,"|a|"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"7",{style:"highlight"}),i.view(this,"8",{style:"highlight"}),i.view(this,"9",{style:"highlight"}),i.view(this,"/"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"%"),i.view(this,"a/b")),r.createElement(g.default,null,i.view(this,"sqrt"),i.view(this,"nthroot"),i.view(this,"pi"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"4",{style:"highlight"}),i.view(this,"5",{style:"highlight"}),i.view(this,"6",{style:"highlight"}),i.view(this,"*"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"left",{style:"highlight"}),i.view(this,"right",{style:"highlight"})),r.createElement(g.default,null,i.view(this,"sin"),i.view(this,"cos"),i.view(this,"tan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"1",{style:"highlight"}),i.view(this,"2",{style:"highlight"}),i.view(this,"3",{style:"highlight"}),i.view(this,"-"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.spacer(.5),i.view(this,"backspace",{style:"highlight",colspan:1.5})),r.createElement(g.default,null,i.view(this,"("),i.view(this,")"),y(function(){return b.controller.getReplaceCommaWith10Exp()},{true:function(){return i.view(b,"10^n")},false:function(){return i.view(b,",")}}),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"0",{style:"highlight"}),i.view(this,".",{style:"highlight"}),i.view(this,"ans"),i.view(this,"+"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"enter",{style:"blue",colspan:2})))},f}(d.DCGViewBasic);o.default=p}),q("basic/keypad/sci-qwerty-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){return r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"q"),i.view(this,"w"),i.view(this,"e"),i.view(this,"r"),i.view(this,"t"),i.view(this,"y"),i.view(this,"u"),i.view(this,"i"),i.view(this,"o"),i.view(this,"p")),r.createElement(g.default,null,r.createElement("div",{class:r.const("dcg-half-width-placeholder")}),i.view(this,"a"),i.view(this,"s"),i.view(this,"d"),i.view(this,"f"),i.view(this,"g"),i.view(this,"h"),i.view(this,"j"),i.view(this,"k"),i.view(this,"l"),r.createElement("div",{class:r.const("dcg-half-width-placeholder")})),r.createElement(g.default,null,i.view(this,"=",{style:"highlight"}),i.view(this,"z"),i.view(this,"x"),i.view(this,"c"),i.view(this,"v"),i.view(this,"b"),i.view(this,"n"),i.view(this,"m"),i.view(this,","),i.view(this,"backspace",{style:"highlight"})),r.createElement(g.default,null,i.view(this,"shift",{style:"highlight",colspan:1.5}),i.view(this,"("),i.view(this,")"),i.view(this,"["),i.view(this,"]"),i.view(this,"!"),i.view(this,"'"),i.view(this,"pi"),i.view(this,"enter",{style:"blue",colspan:1.5})))},u}(d.DCGViewBasic);o.default=y}),q("basic/keypad/sci-letters-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){return r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"a"),i.view(this,"b"),i.view(this,"c"),i.view(this,"d"),i.view(this,"e"),i.view(this,"f"),i.view(this,"g"),i.view(this,"h"),i.view(this,"i"),i.view(this,"j")),r.createElement(g.default,null,i.view(this,"k"),i.view(this,"l"),i.view(this,"m"),i.view(this,"n"),i.view(this,"o"),i.view(this,"p"),i.view(this,"q"),i.view(this,"r"),i.view(this,"s"),i.view(this,"t")),r.createElement(g.default,null,i.view(this,"=",{style:"highlight"}),i.view(this,","),i.view(this,"u"),i.view(this,"v"),i.view(this,"w"),i.view(this,"x"),i.view(this,"y"),i.view(this,"z"),i.view(this,"pi"),i.view(this,"backspace",{style:"highlight"})),r.createElement(g.default,null,i.view(this,"shift",{style:"highlight",colspan:2}),i.view(this,"("),i.view(this,")"),i.view(this,"["),i.view(this,"]"),i.view(this,"!"),i.view(this,"'"),i.view(this,"enter",{style:"blue",colspan:2})))},u}(d.DCGViewBasic);o.default=y}),q("basic/keypad/sci-capital-qwerty-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){return r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"Q"),i.view(this,"W"),i.view(this,"E"),i.view(this,"R"),i.view(this,"T"),i.view(this,"Y"),i.view(this,"U"),i.view(this,"I"),i.view(this,"O"),i.view(this,"P")),r.createElement(g.default,null,r.createElement("div",{class:r.const("dcg-half-width-placeholder")}),i.view(this,"A"),i.view(this,"S"),i.view(this,"D"),i.view(this,"F"),i.view(this,"G"),i.view(this,"H"),i.view(this,"J"),i.view(this,"K"),i.view(this,"L"),r.createElement("div",{class:r.const("dcg-half-width-placeholder")})),r.createElement(g.default,null,i.view(this,"=",{style:"highlight"}),i.view(this,"Z"),i.view(this,"X"),i.view(this,"C"),i.view(this,"V"),i.view(this,"B"),i.view(this,"N"),i.view(this,"M"),i.view(this,","),i.view(this,"backspace",{style:"highlight"})),r.createElement(g.default,null,i.view(this,"shift",{style:"highlight",colspan:1.5}),i.view(this,"("),i.view(this,")"),i.view(this,"["),i.view(this,"]"),i.view(this,"!"),i.view(this,"'"),i.view(this,"pi"),i.view(this,"enter",{style:"blue",colspan:1.5})))},u}(d.DCGViewBasic);o.default=y}),q("basic/keypad/sci-capital-letters-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){return r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"A"),i.view(this,"B"),i.view(this,"C"),i.view(this,"D"),i.view(this,"E"),i.view(this,"F"),i.view(this,"G"),i.view(this,"H"),i.view(this,"I"),i.view(this,"J")),r.createElement(g.default,null,i.view(this,"K"),i.view(this,"L"),i.view(this,"M"),i.view(this,"N"),i.view(this,"O"),i.view(this,"P"),i.view(this,"Q"),i.view(this,"R"),i.view(this,"S"),i.view(this,"T")),r.createElement(g.default,null,i.view(this,"=",{style:"highlight"}),i.view(this,","),i.view(this,"U"),i.view(this,"V"),i.view(this,"W"),i.view(this,"X"),i.view(this,"Y"),i.view(this,"Z"),i.view(this,"pi"),i.view(this,"backspace",{style:"highlight"})),r.createElement(g.default,null,i.view(this,"shift",{style:"highlight",colspan:2}),i.view(this,"("),i.view(this,")"),i.view(this,"["),i.view(this,"]"),i.view(this,"!"),i.view(this,"'"),i.view(this,"enter",{style:"blue",colspan:2})))},u}(d.DCGViewBasic);o.default=y}),q("basic/keypad/sci-functions-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=r.Components.IfElse,p=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return w.__extends(f,u),f.prototype.template=function(){var b=this;return r.createElement("div",{class:r.const("dcg-sci-func-keypad")},r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"sin"),i.view(this,"cos"),i.view(this,"tan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"a^b"),i.view(this,"sqrt"),i.view(this,"nthroot")),r.createElement(g.default,null,i.view(this,"arcsin"),i.view(this,"arccos"),i.view(this,"arctan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"e^x"),i.view(this,"abs"),y(function(){return b.controller.getReplaceRoundWithReciprocal()},{true:function(){return i.view(b,"a^{-1}")},false:function(){return i.view(b,"round")}})),r.createElement(g.default,null,i.view(this,"mean"),i.view(this,"stdev"),i.view(this,"stdevp"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"ln"),i.view(this,"log"),i.view(this,"backspace",{style:"highlight"})),r.createElement(g.default,null,i.view(this,"nPr"),i.view(this,"nCr"),i.view(this,"!"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"e"),i.view(this,"pi"),i.view(this,"enter",{style:"blue"}))))},f}(d.DCGViewBasic);o.default=p}),q("basic/keypad/scientific-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","./sci-keypad","./sci-qwerty-keypad","./sci-letters-keypad","./sci-capital-qwerty-keypad","./sci-capital-letters-keypad","./sci-functions-keypad"],function(O,o,w,r,d,i,l,g,y,p,u){Object.defineProperty(o,"__esModule",{value:!0});var f=r.Components.SwitchUnion,b=function(m){function c(){return m!==null&&m.apply(this,arguments)||this}return w.__extends(c,m),c.prototype.template=function(){var n=this;return r.createElement("div",{role:r.const("group"),"aria-label":function(){return n.t("keypad")}},f(function(){return n.controller.getKeyboardMode()},{qwerty:function(){return r.createElement(l.default,{controller:n.props.controller})},letters:function(){return r.createElement(g.default,{controller:n.props.controller})},capitalQwerty:function(){return r.createElement(y.default,{controller:n.props.controller})},capitalLetters:function(){return r.createElement(p.default,{controller:n.props.controller})},functions:function(){return r.createElement(u.default,{controller:n.props.controller})},main:function(){return r.createElement(i.default,{controller:n.props.controller})}}))},c}(d.DCGViewBasic);o.default=b}),q("loadcss!basic/keypad/braille-example-row",function(){}),q("basic/keypad/braille-example-row",["require","exports","tslib","dcgview","dcgview-helpers/static-mathquill-view","abraham","loadcss!./braille-example-row"],function(O,o,w,r,d,i){Object.defineProperty(o,"__esModule",{value:!0});var l=r.Components.For,g=function(y){function p(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(p,y),p.prototype.template=function(){var u=this;return r.createElement("tr",null,r.createElement(l,{each:function(){return u.getBrailleAscii(u.props.latex())},key:function(f){return f.key}},r.createElement("td",null,function(f){return r.createElement("span",{class:r.const("dcg-key-press")},function(){return f.char})})),r.createElement("td",{class:r.const("dcg-braille-font")},function(){return u.getBrailleUnicode(u.props.latex())}),r.createElement("td",null,r.createElement(d.default,{latex:function(){return u.props.latex()}})))},p.prototype.getBrailleAscii=function(u){for(var f=i.UnicodeBraille.toExpandedBrailleAscii(this.getBrailleUnicode(u)),b=[],m=0;m<f.length;m++)b.push({char:f[m],key:m+")"+f[m]});return b},p.prototype.getBrailleUnicode=function(u){var f;return this.props.brailleMode()==="nemeth"?f=i.latexToNemeth(u):this.props.brailleMode()==="ueb"&&(f=i.latexToUeb(u)),f&&f.value?f.value:""},p}(r.Class);o.BrailleExampleRow=g}),q("loadcss!basic/keypad/braille-keypad",function(){}),q("basic/keypad/braille-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","./braille-example-row","loadcss!./braille-keypad"],function(O,o,w,r,d,i){Object.defineProperty(o,"__esModule",{value:!0});var l=function(g){function y(){return g!==null&&g.apply(this,arguments)||this}return w.__extends(y,g),y.prototype.template=function(){var p=this;return r.createElement("div",{class:function(){return{"dcg-braille-io-keypad-container":!0,"dcg-has-background-color":p.controller.hasBackgroundColor()}}},r.createElement("div",{class:r.const("dcg-braille-io-keypad")},r.createElement("div",{class:r.const("dcg-braille-description")},r.createElement("div",{class:r.const("dcg-braille-title")},function(){return p.controller.t("__mode__ is on!",{mode:p.brailleType()})}),r.createElement("div",{class:r.const("dcg-braille-info-text")},function(){return p.controller.t("Use a Refreshable Braille display, or just type Braille with a keyboard.")}),r.createElement("div",{class:r.const("dcg-blue-btn"),role:r.const("button"),tabindex:r.const(0),onTap:function(){return p.controller.dispatch({type:"set-braille-mode",mode:"none"})}},function(){return p.controller.t("Turn __mode__ off",{mode:p.brailleType()})})),r.createElement("div",{class:r.const("dcg-braille-examples-table-container")},r.createElement("table",{class:r.const("dcg-braille-examples-table")},r.createElement("tr",null,r.createElement("th",null,function(){return p.controller.t("Type this")}),r.createElement("th",null,function(){return p.brailleType()}),r.createElement("th",null,function(){return p.controller.t("Typeset")})),r.createElement(i.BrailleExampleRow,{brailleMode:function(){return p.controller.getBrailleMode()},latex:this.const("2+2")}),r.createElement(i.BrailleExampleRow,{brailleMode:function(){return p.controller.getBrailleMode()},latex:this.const("\\frac{1}{2}")}),r.createElement(i.BrailleExampleRow,{brailleMode:function(){return p.controller.getBrailleMode()},latex:this.const("\\sqrt{4}")})),r.createElement("div",{class:r.const("dcg-more-examples-link")},r.createElement("a",{href:function(){return"https://www.desmos.com/braille-examples?"+p.controller.getBrailleMode()},target:r.const("_blank")},function(){return p.controller.t("View more examples")})))))},y.prototype.brailleType=function(){return this.controller.getBrailleMode()==="nemeth"?"Nemeth":this.controller.getBrailleMode()==="ueb"?"UEB":""},y}(d.DCGViewBasic);o.default=l}),q("loadcss!basic/expression-view",function(){}),q("basic/expression-view",["require","exports","tslib","keys","core/lib/label","dcgview","lib/i18n","jquery","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","./dcgview-basic","abraham","expressions/braille-input","../lib/tooltip","../lib/abraham-helpers","loadcss!Abraham","loadcss!./expression-view"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c){Object.defineProperty(o,"__esModule",{value:!0});var n=i.Components,s=n.If,v=n.Input,A=n.Textarea,M=function(C){function D(){return C!==null&&C.apply(this,arguments)||this}return w.__extends(D,C),D.prototype.getAriaLabel=function(){var S=this.getIndex()+1+"";return this.t("Expression __index__",{index:S})},D.prototype.didUpdate=function(){this.renderAnsValue()},D.prototype.didMountMQ=function(S){this.$mq=g(S)},D.prototype.getExp=function(){return this.model.getExpressionById(this.props.id())},D.prototype.getAns=function(){return this.model.getExpressionAns(this.props.id())},D.prototype.getAnsId=function(){return this.model.getExpressionAnsId(this.props.id())},D.prototype.getLatex=function(){return this.getExp().latex},D.prototype.getValue=function(){return this.model.getExpressionValue(this.props.id())},D.prototype.getBraille=function(){var S=this.getExp().braille;if(S!=="")return S;var x=c.latexToBraille(this.getLatex(),this.controller.getBrailleMode());return x.isError?"":f.UnicodeBraille.toExpandedBrailleAscii(x.value)},D.prototype.getIndex=function(){return this.model.getExpressionIndex(this.props.id())},D.prototype.getShowEvaluation=function(){return this.model.shouldShowEvaluationForExpression(this.props.id())},D.prototype.isFractionEvaluation=function(){return this.getExp().displayAsFraction},D.prototype.canDisplayEvaluationAsFraction=function(){return this.controller.getDecimalToFraction()&&this.model.canDisplayEvaluationAsFraction(this.props.id())},D.prototype.shouldDisplayEvaluationAsFraction=function(){return this.canDisplayEvaluationAsFraction()&&this.getExp().displayAsFraction},D.prototype.toggleFractionEvaluation=function(){this.dispatch({type:"toggle-fraction-evaluation",id:this.props.id()})},D.prototype.getFractionDisplayAriaLabel=function(){return this.shouldDisplayEvaluationAsFraction()?this.controller.t("Displaying as fraction. Press Enter to display as Decimal"):this.controller.t("Displaying as decimal. Press Enter to display as Fraction")},D.prototype.getError=function(){var S=this.model.getExpressionError(this.props.id());return S&&this.getLatex().length>0?this.t(l.unpack(S)):""},D.prototype.showError=function(){return!!this.getError()},D.prototype.getFractionMessage=function(){return this.shouldDisplayEvaluationAsFraction()?this.t("Convert to decimal."):this.t("Convert to fraction.")},D.prototype.getIsFocused=function(){return!this.controller.isSettingsMenuOpen()&&this.model.isExpressionFocused(this.props.id())},D.prototype.onFocusedChanged=function(S){this.getExp()&&(S?this.dispatch({type:"focusin",id:this.props.id()}):this.dispatch({type:"focusout",id:this.props.id()}))},D.prototype.onMQReflow=function(){this.renderedAnsData=void 0,this.renderAnsValue()},D.prototype.renderAnsValue=function(){var S=this;if(this.$mq){var x=this.getAns(),B=!1,Z=this.getAnsId();if(Z){var X=this.model.getExpressionById(Z);B=X&&X.displayAsFraction}this.renderedAnsData&&this.renderedAnsData.value==x&&this.renderedAnsData.displayAsFraction===B||(this.renderedAnsData={value:x,displayAsFraction:B},this.$mq.find(".dcg-mq-ans").each(function(ee,W){var U,F=g(W);typeof x=="number"?U=d.truncatedHTMLLabel(x,{digits:S.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:B}):typeof x=="string"&&(U=x),U?F.removeClass("dcg-invalid").html(U):F.addClass("dcg-invalid").html('<i class="dcg-icon-error"></i>')}))}},D.prototype.getEvaluationLatex=function(){var S=this.getValue();if(S===void 0&&(S=NaN),this.model.isRationalizableConstant(this.props.id())&&!this.shouldDisplayEvaluationAsFraction())return"";if(!Array.isArray(S)){var x=d.truncatedLatexLabel(S,{digits:this.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:this.shouldDisplayEvaluationAsFraction()});return x==="undefined"?"=\\mathrm{undefined}":"="+x}return"\\mathrm{"+S.length+"\\ element\\ list}"},D.prototype.getEvaluationBraille=function(){var S=this.getEvaluationLatex(),x=c.latexToBraille(S,this.controller.getBrailleMode());return x.isError?"":f.UnicodeBraille.toExpandedBrailleAscii(x.value)},D.prototype.didMountBrailleInput=function(S){this.brailleInputNode=S},D.prototype.didUnmountBrailleInput=function(){this.brailleInputNode=void 0},D.prototype.handleBrailleFocus=function(S){var x=S.target;x&&setTimeout(function(){x.setSelectionRange(0,0)})},D.prototype.handleBrailleKeydown=function(S){S.altKey||S.ctrlKey||S.metaKey||S.shiftKey||(r.lookup(S)===r.UP?(this.forceModelFocus(),this.dispatch({type:"focus-prev-expression"}),S.preventDefault()):r.lookup(S)===r.DOWN?(this.forceModelFocus(),this.dispatch({type:"focus-next-expression"}),S.preventDefault()):r.lookup(S)===r.ENTER?(this.forceModelFocus(),this.dispatch({type:"insert-blank-expression"}),S.preventDefault()):r.lookup(S)===r.BACKSPACE&&document.activeElement===this.brailleInputNode&&this.getBraille()===""&&(this.dispatch({type:"backspace-from-braille"}),S.preventDefault()))},D.prototype.forceModelFocus=function(){document.activeElement!==this.brailleInputNode&&this.onFocusedChanged(!0)},D.prototype.focusBrailleInput=function(){this.brailleInputNode&&document.activeElement!==this.brailleInputNode&&this.brailleInputNode.focus()},D.prototype.getPostLabel=function(){if(this.showError())return this.getError();if(this.getShowEvaluation()){var S=this.getValue();return S===void 0&&(S=NaN),Array.isArray(S)?S.length+" element list":"equals "+d.truncatedAriaLabel(S,{digits:this.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:this.shouldDisplayEvaluationAsFraction()})}return""},D.prototype.onBrailleInput=function(S){this.controller.isSettingsMenuOpen()&&this.controller.dispatch({type:"close-settings-menu"});var x=c.brailleToLatex(f.UnicodeBraille.coerceToSixDotCells(S),this.controller.getBrailleMode());this.dispatch({type:"update-latex-from-braille",latex:x.isError?"":x.value,braille:S,id:this.props.id()})},D.prototype.getIndexSubscript=function(){return"_{"+(this.getIndex()+1)+"}"},D.prototype.getEvaluationDigits=function(){return this.controller.isScientificCalc()?10:7},D.prototype.onMountContainer=function(S){this.containerNode=S},D.prototype.onTapContainer=function(S){S.target!==this.containerNode||this.getShowEvaluation()||this.showError()||this.forceModelFocus()},D.prototype.template=function(){var S=this;return i.createElement("div",{class:function(){return{"dcg-basic-expression":!0,"dcg-focused":S.getIsFocused(),"dcg-braille-io":S.controller.renderAsBraille()}},onTap:this.bindFn(this.onTapContainer),onMount:this.bindFn(this.onMountContainer)},i.createElement(s,{predicate:function(){return S.controller.renderAsBraille()}},function(){return i.createElement("div",{class:i.const("dcg-braille-input")},i.createElement(b.default,{ariaLabel:function(){var x=c.latexToBraille("eq"+S.getIndexSubscript(),S.controller.getBrailleMode());return x.isError?"":f.UnicodeBraille.toExpandedBrailleAscii(x.value)},didMount:S.bindFn(S.didMountBrailleInput),didUnmount:S.bindFn(S.didUnmountBrailleInput),onFocusedChanged:S.bindFn(S.onFocusedChanged),shouldFocus:S.bindFn(S.getIsFocused),onKeydown:S.bindFn(S.handleBrailleKeydown),onInput:S.bindFn(S.onBrailleInput),sixKeyInput:function(){return S.controller.getSixKeyInput()},value:function(){return S.getBraille()},isStatic:S.const(!1)}))}),i.createElement(s,{predicate:function(){return S.controller.renderAsBraille()}},function(){return i.createElement("div",{class:i.const("dcg-braille-evaluation-container")},i.createElement(s,{predicate:function(){return S.getShowEvaluation()}},function(){return i.createElement("div",{class:i.const("dcg-braille-evaluation")},i.createElement(v,{readonly:S.const("true"),class:S.const("dcg-braille-evaluation-inner"),value:function(){return S.getEvaluationBraille()},onFocus:S.bindFn(S.handleBrailleFocus),onKeydown:S.bindFn(S.handleBrailleKeydown),onInput:function(){}}))}),i.createElement(s,{predicate:function(){return S.showError()}},function(){return i.createElement("div",{class:i.const("dcg-braille-error")},i.createElement("div",{class:i.const("dcg-basic-expression-error")},i.createElement("i",{class:i.const("dcg-icon-error")})),i.createElement(A,{readonly:S.const("true"),class:S.const("dcg-braille-error-inner"),value:function(){return S.getError()},onFocus:S.bindFn(S.handleBrailleFocus),onKeydown:S.bindFn(S.handleBrailleKeydown),onInput:function(){}}))}))}),i.createElement(s,{predicate:function(){return S.controller.renderAsBraille()}},function(){return i.createElement("div",{class:i.const("dcg-exp-mathquill-container"),didMount:S.bindFn(S.didMountMQ),onTap:S.bindFn(S.forceModelFocus)},i.createElement(y.default,{latex:function(){return S.getLatex()},onReflow:S.bindFn(S.onMQReflow)}))}),i.createElement(s,{predicate:function(){return!S.controller.renderAsBraille()}},function(){return i.createElement("div",{class:i.const("dcg-exp-mathquill-container"),didMount:S.bindFn(S.didMountMQ)},i.createElement(p.default,{latex:function(){return S.getLatex()},onReflow:S.bindFn(S.onMQReflow),isFocused:S.bindFn(S.getIsFocused),capExpressionSize:function(){return S.controller.getCapExpressionSize()},config:S.const({typingAsteriskWritesTimesSymbol:S.controller.getTypingAsteriskWritesTimesSymbol(),typingSlashWritesDivisionSymbol:S.controller.getTypingSlashWritesDivisionSymbol(),disableCopyPaste:S.controller.getRestrictedEditing()}),getAriaLabel:function(){return S.getAriaLabel()},getAriaPostLabel:function(){return S.getPostLabel()},hasError:function(){return!1},onUserPressedKey:function(x,B){S.controller.isSettingsMenuOpen()&&S.controller.dispatch({type:"close-settings-menu"}),S.dispatch({type:"keypad/press-key",key:x,evt:B})},onUserTypedText:function(x){return S.dispatch({type:"keypad/type-text",text:x})},onUserChangedLatex:function(x){S.dispatch({type:"update-latex",id:S.props.id(),latex:x})},onFocusedChanged:S.bindFn(S.onFocusedChanged),disableSpace:function(){return S.controller.getRestrictedEditing()}}))}),i.createElement("div",{class:i.const("dcg-exp-output-container")},i.createElement(s,{predicate:function(){return S.showError()&&!S.controller.renderAsBraille()}},function(){return i.createElement(m.Tooltip,{tooltip:S.bindFn(S.getError),gravity:S.const("w"),targetClickBehavior:S.const("stick")},i.createElement("div",{class:i.const("dcg-basic-expression-error")},i.createElement("i",{class:i.const("dcg-icon-error")})))}),i.createElement(s,{predicate:function(){return S.getShowEvaluation()}},function(){return i.createElement("div",{class:function(){return{"dcg-basic-expression-value":!0,"dcg-basic-evaluation-gray":Array.isArray(S.getValue())}}},i.createElement(y.default,{latex:function(){return S.getEvaluationLatex()}}),i.createElement(s,{predicate:S.bindFn(S.canDisplayEvaluationAsFraction)},function(){return i.createElement(m.Tooltip,{tooltip:S.bindFn(S.getFractionMessage),gravity:S.const("s")},i.createElement("span",{role:i.const("button"),tabindex:i.const("0"),"aria-label":S.bindFn(S.getFractionDisplayAriaLabel),class:function(){return{"dcg-basic-fraction-toggle":!0,"dcg-selected":S.isFractionEvaluation()}},onTap:S.bindFn(S.toggleFractionEvaluation)},i.createElement("i",{class:i.const("dcg-icon-fraction")})))}))})))},D}(u.DCGViewBasic);o.default=M}),q("loadcss!basic/basic-list-view",function(){}),q("basic/basic-list-view",["require","exports","tslib","scroll_helpers","dcgview","./dcgview-basic","./expression-view","jquery","lib/conditional_blur","loadcss!./basic-list-view"],function(O,o,w,r,d,i,l,g,y){Object.defineProperty(o,"__esModule",{value:!0});var p=d.Components,u=p.For,f=p.If,b=function(m){function c(){var n=m!==null&&m.apply(this,arguments)||this;return n.didShowAnswerHint=!1,n.didHideAnswerHint=!1,n}return w.__extends(c,m),c.prototype.template=function(){var n=this;return d.createElement("div",{class:d.const("dcg-basic-list-container"),role:d.const("complementary"),"aria-label":function(){return n.controller.t("Expression List")},didMount:this.bindFn(this.didMountContainer)},d.createElement("div",{class:d.const("dcg-basic-list-placeholder"),didMount:this.bindFn(this.didMountPlaceholder)},d.createElement(f,{predicate:this.bindFn(this.showAnswerHint)},function(){return d.createElement("div",{class:d.const("dcg-answer-hint")},function(){return n.controller.t("Your answers show up on this side.")})})),d.createElement(u,{each:function(){return n.model.getExpressionOrder()}},d.createElement("div",{class:function(){return{"dcg-basic-list":!0,"dcg-projector-mode":n.controller.isProjectorMode()}}},function(s){return d.createElement(l.default,{controller:n.props.controller,id:n.const(s)})})))},c.prototype.didMountPlaceholder=function(n){g(n).on("dcg-tap",y.default)},c.prototype.showAnswerHint=function(){if(this.didHideAnswerHint)return!1;var n=this.model.getExpressionOrder()[0];return!(!this.model.shouldShowEvaluationForExpression(n)&&!this.didShowAnswerHint)&&(this.didShowAnswerHint=!0,!(this.model.getNumberOfExpressions()>1||this.model.getExpressionLatex(n)==="")||(this.didHideAnswerHint=!0,!1))},c.prototype.didUpdate=function(){if(this.$container){var n=this.$container.find(".dcg-focused");n.length>0&&r.scrollVisible(n,this.$container,50)}},c.prototype.didMountContainer=function(n){this.$container=g(n)},c}(i.DCGViewBasic);o.default=b}),q("loadcss!basic/main",function(){}),q("basic/main",["require","exports","tslib","browser","keys","dcgview","./dcgview-basic","jquery","./keypad/fourfunction-control-bar","./keypad/single-expression-fourfunction-control-bar","./keypad/scientific-control-bar","./keypad/single-expression-scientific-control-bar","./keypad/fourfunction-keypad","./keypad/single-expression-fourfunction-keypad","./keypad/single-expression-scientific-keypad","./keypad/scientific-keypad","./keypad/braille-keypad","./basic-list-view","lib/aria","touchtracking","loadcss!desmos-icons","loadcss!./main","loadcss!dcg-normalize"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n,s,v,A,M){Object.defineProperty(o,"__esModule",{value:!0});var C=i.Components,D=C.If,S=C.IfElse,x=function(B){function Z(){return B!==null&&B.apply(this,arguments)||this}return w.__extends(Z,B),Z.prototype.template=function(){var X=this;return i.createElement(D,{predicate:function(){return X.controller.shouldRender()}},function(){return i.createElement("div",{class:i.const("dcg-calculator-api-container"),style:i.const("width: 100%; height: 100%; position: relative;")},i.createElement("div",{class:function(){return{"dcg-calc-basic-main-wrapper":!0,"dcg-narrow":X.controller.containerSize.width<570,"dcg-short":X.controller.containerSize.height<=540,"dcg-scientific-calculator":X.controller.isScientificCalc(),"dcg-four-function-calculator":X.controller.isFourFunctionCalc(),"dcg-container":!0}},onKeydown:X.bindFn(X.handleRootKeydown),didMount:X.bindFn(X.didMountRoot),"x-ms-format-detection":i.const("none")},i.createElement("div",{role:i.const("application"),"aria-label":function(){return X.controller.isScientificCalc()?X.controller.t("Desmos Scientific Calculator"):X.controller.isFourFunctionCalc()?X.controller.t("Desmos Four-Function Calculator"):""},class:function(){return{"dcg-calc-basic-main":!0,"dcg-inverted-colors":X.controller.getInvertedColors(),"dcg-projector-mode":X.controller.isProjectorMode(),"dcg-ipad":r.IS_IPAD,"dcg-has-background-color":X.controller.hasBackgroundColor(),"dcg-no-hyperlinks":!X.controller.getAllowLinks()}},style:function(){return{"font-size":X.controller.getFontSize()+"px",background:X.controller.getBackgroundColor(),color:X.controller.getTextColor(),filter:X.controller.getInvertedColors()?"invert(100%)":"none"}}},i.createElement(v.default,{controller:X.props.controller}),i.createElement(D,{predicate:function(){return X.controller.isScientificCalc()&&X.model.isSingleExpression()}},function(){return i.createElement("div",null,i.createElement(f.default,{controller:X.props.controller}),i.createElement("div",{class:i.const("dcg-basic-keypad-container")},S(function(){return X.controller.renderAsBraille()},{true:function(){return i.createElement(s.default,{controller:X.props.controller})},false:function(){return i.createElement(c.default,{controller:X.props.controller})}})))}),i.createElement(D,{predicate:function(){return X.controller.isScientificCalc()&&!X.model.isSingleExpression()}},function(){return i.createElement("div",null,i.createElement(u.default,{controller:X.props.controller}),i.createElement("div",{class:i.const("dcg-basic-keypad-container")},S(function(){return X.controller.renderAsBraille()},{true:function(){return i.createElement(s.default,{controller:X.props.controller})},false:function(){return i.createElement(n.default,{controller:X.props.controller})}})))}),i.createElement(D,{predicate:function(){return X.controller.isFourFunctionCalc()&&X.model.isSingleExpression()}},function(){return i.createElement("div",null,i.createElement(p.default,{controller:X.props.controller}),i.createElement("div",{class:i.const("dcg-basic-keypad-container")},S(function(){return X.controller.renderAsBraille()},{true:function(){return i.createElement(s.default,{controller:X.props.controller})},false:function(){return i.createElement(m.default,{controller:X.props.controller})}})))}),i.createElement(D,{predicate:function(){return X.controller.isFourFunctionCalc()&&!X.model.isSingleExpression()}},function(){return i.createElement("div",null,i.createElement(y.default,{controller:X.props.controller}),i.createElement("div",{class:i.const("dcg-basic-keypad-container")},S(function(){return X.controller.renderAsBraille()},{true:function(){return i.createElement(s.default,{controller:X.props.controller})},false:function(){return i.createElement(b.default,{controller:X.props.controller})}})))}))))})},Z.prototype.didMountRoot=function(X){M.monitor(X)},Z.prototype.handleRootKeydown=function(X){if(d.isUndo(X))return this.dispatch({type:"undo",source:"keyboard-shortcut"}),!1;if(d.isRedo(X))return this.dispatch({type:"redo",source:"keyboard-shortcut"}),!1;if(!X.metaKey&&!X.shiftKey){if(X.ctrlKey||X.altKey||d.lookup(X)!==d.BACKSPACE){if(X.ctrlKey===r.IS_APPLE&&X.altKey===!r.IS_APPLE){var ee=d.lookupChar(X);if(ee==="N")return this.dispatch({type:"set-braille-mode",mode:"nemeth"}),A.alert(this.controller.t("Braille mode Nemeth")),!1;if(ee==="U")return this.dispatch({type:"set-braille-mode",mode:"ueb"}),A.alert(this.controller.t("Braille mode UEB")),!1;if(ee==="Q"||ee==="X")return this.dispatch({type:"set-braille-mode",mode:"none"}),A.alert(this.controller.t("Braille mode off")),!1;if(ee==="6"){var W=!this.controller.getSixKeyInput();return this.dispatch({type:"set-six-key-input",mode:W}),A.alert(W?this.controller.t("Six Key Braille Input on"):this.controller.t("Six Key Braille Input off")),!1}}}else if(!document.activeElement||M.elIsFocusable(g(document.activeElement)))return!1}return!0},Z}(l.DCGViewBasic);o.default=x}),q("api/basic",["require","exports","tslib","dcgview","./abstract","main/shared-worker-pool","basic/controller","basic/main","core/lib/color-helpers","underscore_model","core/lib/deepCopy","lib/console"],function(O,o,w,r,d,i,l,g,y,p,u,f){Object.defineProperty(o,"__esModule",{value:!0});var b=function(m){function c(n){return m.call(this,n)||this}return w.__extends(c,m),c.prototype.init=function(n){var s=this;n=u.default(n),n.backgroundColor&&!y.isValidHexColor(n.backgroundColor)&&(f.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)"),delete n.backgroundColor),n.textColor&&!y.isValidHexColor(n.textColor)&&(f.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)"),delete n.textColor);var v=w.__assign({qwertyKeyboard:!0,links:!0,degreeMode:!1,settingsMenu:!0,invertedColors:!1,backgroundColor:"#fff",textColor:"#000",brailleMode:"none",sixKeyInput:!1,brailleExpressionDownload:!0,projectorMode:!1,capExpressionSize:!1,functionDefinition:!0,autosize:!0,evaluationMode:"scientific",restrictedEditing:!1,additionalFunctions:["sqrt"],typingSlashWritesDivisionSymbol:!1,typingAsteriskWritesTimesSymbol:!1,decimalToFraction:!0,replaceCommaWith10Exp:!1,replaceRoundWithReciprocal:!1},n);this.settings=new p.UnderscoreModel;var A={workerPool:i.default,settingsProxy:this.settings};this.controller=new l.default(v,A),this.controller.onEventEmitted=function(M){M==="render"&&s.updateView(),s.triggerEvent(M,void 0)},this.setupDomChangeDetector(v.autosize)},c.prototype.onCreateView=function(){return r.mountToNode(g.default,this.rootElt,{controller:r.const(this.controller)})},c.prototype.setState=function(n,s){s||(s={}),this.controller.dispatch({type:"set-state-from-api",state:n,opts:{allowUndo:!!s.allowUndo}})},c.prototype.getState=function(){return u.default(this.controller.model.getPersistedState())},c.prototype.undo=function(){this.controller.dispatch({type:"undo",source:"api"})},c.prototype.redo=function(){this.controller.dispatch({type:"redo",source:"api"})},c.prototype.clearHistory=function(){this.controller.dispatch({type:"clear-history"})},c.prototype.setBlank=function(n){n||(n={}),this.controller.dispatch({type:"set-blank",opts:{allowUndo:!!n.allowUndo}})},c.prototype.updateSettings=function(n){if(n!=null)for(var s in n)switch(s){case"fontSize":var v=n[s];if(v===void 0)continue;this.controller.dispatch({type:"update-font-size",size:v});break;case"invertedColors":var A=n[s];if(A===void 0)continue;this.controller.dispatch({type:"update-inverted-colors",mode:A});break;case"backgroundColor":var M=n[s];if(M===void 0||!y.isValidHexColor(M)){f.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)");continue}this.controller.dispatch({type:"update-background-color",color:M});break;case"textColor":var C=n[s];if(C===void 0||!y.isValidHexColor(C)){f.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)");continue}this.controller.dispatch({type:"update-text-color",color:C});break;case"degreeMode":var D=n[s];if(D===void 0)continue;this.controller.dispatch({type:"update-degree-mode",mode:D});break;case"brailleMode":var S=n[s];this.controller.dispatch({type:"set-braille-mode",mode:S});break;case"sixKeyInput":var x=n[s];if(x===void 0)continue;this.controller.dispatch({type:"set-six-key-input",mode:x});break;case"brailleExpressionDownload":var B=n[s];if(B===void 0)continue;this.controller.dispatch({type:"set-braille-expression-download",mode:B});break;case"projectorMode":var Z=n[s];if(Z===void 0)continue;this.controller.dispatch({type:"update-projector-mode",mode:Z});break;case"capExpressionSize":var X=n[s];if(X===void 0)continue;this.controller.dispatch({type:"update-cap-expression-size",mode:X});break;case"language":var ee=n[s];if(ee===void 0)continue;this.controller.dispatch({type:"update-language",language:ee});break;case"settingsMenu":n.settingsMenu?this.controller.dispatch({type:"enable-settings-menu"}):this.controller.dispatch({type:"disable-settings-menu"});break;case"qwertyKeyboard":this.controller.dispatch({type:"update-options",options:{qwertyKeyboard:!!n.qwertyKeyboard}});var W=this.controller.getKeyboardMode();W!=="qwerty"&&W!=="letters"||this.controller.dispatch({type:"ABC"});break;case"functionDefinition":n.functionDefinition?this.controller.model.enableFunctionDefinition():this.controller.model.disableFunctionDefinition();break;case"links":this.controller.dispatch({type:"update-options",options:{links:!!n.links}});break;case"decimalToFraction":var U=n[s];if(U===void 0)continue;this.controller.dispatch({type:"update-decimal-to-fraction",mode:U});break;case"replaceCommaWith10Exp":var F=n[s];if(F===void 0)continue;this.controller.dispatch({type:"set-replace-comma-with-10-exp",replace:F});break;case"replaceRoundWithReciprocal":var G=n[s];if(G===void 0)continue;this.controller.dispatch({type:"set-replace-round-with-reciprocal",replace:G});break;case"restrictedEditing":this.controller.dispatch({type:"update-options",options:{restrictedEditing:!!n.restrictedEditing}});break;case"typingAsteriskWritesTimesSymbol":var ie=n[s];if(ie===void 0)continue;this.controller.dispatch({type:"set-typing-asterisk-writes-times-symbol",mode:ie})}},c.prototype.focusFirstExpression=function(){this.controller.dispatch({type:"focus-first-expression"})},c.prototype.onResizeView=function(n){this.controller.dispatch({type:"ui/container-resized",size:n})},c.prototype.onDestroyView=function(){r.unmountFromNode(this.rootElt)},c.prototype.destroy=function(){this.controller.model.destroy(),m.prototype.destroy.call(this)},c}(d.default);o.BasicCalculator=b}),q("api/fourfunction",["require","exports","tslib","./basic","core/lib/deepCopy","lib/console"],function(O,o,w,r,d,i){function l(y){if(y=d.default(y),y.hasOwnProperty("typingSlashWritesDivisionSymbol")||(y.typingSlashWritesDivisionSymbol=!0),y.hasOwnProperty("typingAsteriskWritesTimesSymbol")||(y.typingAsteriskWritesTimesSymbol=!0),y.exponentButtonForSquareRoot&&(i.warn(`As of API version 1.0, the 'exponentButtonForSquareRoot' option is deprecated.Use 'additionalFunctions: "exponent"' instead.`),y.additionalFunctions=["exponent"]),y.additionalFunctions){var p=y.additionalFunctions;typeof p=="string"&&(p=[p]),p.length>2&&(i.warn("additionalFunctions can only take up to 2 new functions. Using the first two."),p=p.slice(0,2));for(var u=!0,f=0;f<p.length;f++)["sqrt","exponent","percent"].indexOf(p[f])===-1&&(i.warn("Unrecognized value: '"+p[f]+`' for 'additionalFunction'. Valid values are 'sqrt', 'percent', or 'exponent'. Using default ("sqrt")`),u=!1);y.additionalFunctions=u?p:["sqrt"]}return y.additionalFunctions&&y.additionalFunctions.length||(y.additionalFunctions=["sqrt"]),y.singleExpression?y.evaluationMode="singleExpressionFourFunction":y.evaluationMode="fourFunction",delete y.singleExpression,y.hasOwnProperty("decimalToFraction")||(y.decimalToFraction=!1),y}Object.defineProperty(o,"__esModule",{value:!0});var g=function(y){function p(u,f){var b=y.call(this,u)||this;return b instanceof p?(b.init(l(f||{})),b):new p(u,f)}return w.__extends(p,y),p}(r.BasicCalculator);o.default=g}),q("api/scientific",["require","exports","tslib","./basic","core/lib/deepCopy"],function(O,o,w,r,d){function i(g){return g=d.default(g),g.singleExpression?g.evaluationMode="singleExpressionScientific":g.evaluationMode="scientific",delete g.singleExpression,g}Object.defineProperty(o,"__esModule",{value:!0});var l=function(g){function y(p,u){var f=g.call(this,p)||this;return f instanceof y?(f.init(i(u||{})),f):new y(p,u)}return w.__extends(y,g),y}(r.BasicCalculator);o.default=l}),q("pillow-keypad/controller",["require","exports","flux","keypad/mq-commands","lib/i18n"],function(O,o,w,r,d){Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function l(){var g=this;this.keyboardMode="main",this.dispatcher=new w.Dispatcher,this.t=function(y,p){return d.t(y,p)},this.dispatch=function(y){g.dispatcher.dispatch(y);for(var p;p=g._queuedCallbacks.shift();)p()},this._queuedCallbacks=[],this.dispatcher=new w.Dispatcher,this.hookUpDispatcher()}return l.prototype.getBackgroundColor=function(){return"does-not-matter"},l.prototype.runAfterDispatch=function(g){this._queuedCallbacks.push(g)},l.prototype.enqueueEvent=function(g){var y=this;this.runAfterDispatch(function(){y.onEventEmitted&&y.onEventEmitted(g)})},l.prototype.getKeyboardMode=function(){return this.keyboardMode},l.prototype.updateKeyboardMode=function(g){this.keyboardMode=g},l.prototype.typeIntoFocusedMathquill=function(g){g=g.replace(/\r|\n/g,"");var y=this.activeMQ;y&&y.typedText(g)},l.prototype.pressKeyInFocusedMathquill=function(g,y){var p=this.activeMQ;if(p)return g==="Enter"?(y&&(y.preventDefault(),y.stopPropagation()),void this.enqueueEvent("enter")):void p.keystroke(g,y)},l.prototype.executeCommandInFocusedMathquill=function(g){var y=this.activeMQ;y&&r.execute(y,g)},l.prototype.hookUpDispatcher=function(){var g=this;this.dispatcher.register(function(y){switch(g.enqueueEvent("render"),y.type){case"hide-keypad":g.enqueueEvent("hide-keypad");break;case"set-active-mq":g.activeMQ=y.mq;break;case"keypad/shift":g.updateKeyboardMode(g.keyboardMode==="capitalQwerty"?"qwerty":"capitalQwerty");break;case"main":g.updateKeyboardMode("main");break;case"ABC":g.updateKeyboardMode("qwerty");break;case"functions":g.updateKeyboardMode("functions");break;case"keypad/type-text":g.typeIntoFocusedMathquill(y.text);break;case"keypad/press-key":g.pressKeyInFocusedMathquill(y.key,y.evt);break;case"keypad/custom-command":g.executeCommandInFocusedMathquill(y.command);break;case"keypad/123":case"keypad/abc":break;default:return y}})},l}();o.default=i}),q("pillow-keypad/dcgview-pillow-keypad",["require","exports","tslib","dcgview"],function(O,o,w,r){Object.defineProperty(o,"__esModule",{value:!0});var d=function(i){function l(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(l,i),l.prototype.init=function(){this.controller=this.props.controller(),this.dispatch=this.controller.dispatch,this.t=this.controller.t},l}(r.Class);o.DCGViewPillowKeypad=d}),q("pillow-keypad/main-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){return r.createElement(i.default,{controller:this.props.controller},r.createElement(l.default,null,d.view(this,"left",{style:"highlight"}),d.view(this,"right",{style:"highlight"}),d.view(this,"x"),d.view(this,"y"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),d.view(this,"7",{style:"highlight"}),d.view(this,"8",{style:"highlight"}),d.view(this,"9",{style:"highlight"}),d.view(this,"/"),d.view(this,"backspace",{style:"highlight"})),r.createElement(l.default,null,d.view(this,"("),d.view(this,")"),d.view(this,"<"),d.view(this,">"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),d.view(this,"4",{style:"highlight"}),d.view(this,"5",{style:"highlight"}),d.view(this,"6",{style:"highlight"}),d.view(this,"*"),d.view(this,"pi")),r.createElement(l.default,null,d.view(this,"sqrt"),d.view(this,","),d.view(this,"<="),d.view(this,">="),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),d.view(this,"1",{style:"highlight"}),d.view(this,"2",{style:"highlight"}),d.view(this,"3",{style:"highlight"}),d.view(this,"-"),d.view(this,"enter",{style:"tall-blue"})),r.createElement(l.default,null,d.view(this,"a^2"),d.view(this,"a^b"),d.view(this,"|a|"),d.view(this,"a/b"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),d.view(this,"0",{style:"highlight"}),d.view(this,".",{style:"highlight"}),d.view(this,"="),d.view(this,"+"),d.spacer(1)))},u}(g.DCGViewPillowKeypad);o.default=y}),q("pillow-keypad/qwerty-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){return r.createElement(i.default,{controller:this.props.controller},r.createElement(l.default,null,d.view(this,"q"),d.view(this,"w"),d.view(this,"e"),d.view(this,"r"),d.view(this,"t"),d.view(this,"y"),d.view(this,"u"),d.view(this,"i"),d.view(this,"o"),d.view(this,"p")),r.createElement(l.default,null,r.createElement("div",{class:r.const("dcg-half-width-placeholder")}),d.view(this,"a"),d.view(this,"s"),d.view(this,"d"),d.view(this,"f"),d.view(this,"g"),d.view(this,"h"),d.view(this,"j"),d.view(this,"k"),d.view(this,"l"),r.createElement("div",{class:r.const("dcg-half-width-placeholder")})),r.createElement(l.default,null,d.view(this,"shift",{style:"highlight"}),d.view(this,"z"),d.view(this,"x"),d.view(this,"c"),d.view(this,"v"),d.view(this,"b"),d.view(this,"n"),d.view(this,"m"),d.view(this,","),d.view(this,"backspace",{style:"highlight"})),r.createElement(l.default,null,d.view(this,"="),d.view(this,"{"),d.view(this,"}"),d.view(this,"["),d.view(this,"]"),d.view(this,"!"),d.view(this,"'"),d.view(this,"pi"),d.view(this,"enter",{style:"blue"})))},u}(g.DCGViewPillowKeypad);o.default=y}),q("pillow-keypad/capital-qwerty-keypad",["require","exports","tslib","dcgview","./dcgview-pillow-keypad","keypad/keys","keypad/keypad","keypad/row"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){return r.createElement(l.default,{controller:this.props.controller},r.createElement(g.default,null,i.view(this,"Q"),i.view(this,"W"),i.view(this,"E"),i.view(this,"R"),i.view(this,"T"),i.view(this,"Y"),i.view(this,"U"),i.view(this,"I"),i.view(this,"O"),i.view(this,"P")),r.createElement(g.default,null,r.createElement("div",{class:r.const("dcg-half-width-placeholder")}),i.view(this,"A"),i.view(this,"S"),i.view(this,"D"),i.view(this,"F"),i.view(this,"G"),i.view(this,"H"),i.view(this,"J"),i.view(this,"K"),i.view(this,"L"),r.createElement("div",{class:r.const("dcg-half-width-placeholder")})),r.createElement(g.default,null,i.view(this,"shift",{style:"highlight"}),i.view(this,"Z"),i.view(this,"X"),i.view(this,"C"),i.view(this,"V"),i.view(this,"B"),i.view(this,"N"),i.view(this,"M"),i.view(this,","),i.view(this,"backspace",{style:"highlight"})),r.createElement(g.default,null,i.view(this,"="),i.view(this,"("),i.view(this,")"),i.view(this,"["),i.view(this,"]"),i.view(this,"!"),i.view(this,"'"),i.view(this,"pi"),i.view(this,"enter",{style:"blue"})))},u}(d.DCGViewPillowKeypad);o.default=y}),q("pillow-keypad/functions-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],function(O,o,w,r,d,i,l,g){Object.defineProperty(o,"__esModule",{value:!0});var y=function(p){function u(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(u,p),u.prototype.template=function(){return r.createElement(i.default,{controller:this.props.controller},r.createElement(l.default,null,d.view(this,"sin"),d.view(this,"cos"),d.view(this,"tan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),d.view(this,"ln"),d.view(this,"log"),d.view(this,"backspace",{style:"highlight"})),r.createElement(l.default,null,d.view(this,"arcsin"),d.view(this,"arccos"),d.view(this,"arctan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),d.view(this,"e^x"),d.view(this,"abs"),d.view(this,"round")),r.createElement(l.default,null,d.view(this,"mean"),d.view(this,"stdev"),d.view(this,"stdevp"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),d.view(this,"a^b"),d.view(this,"sqrt"),d.view(this,"nthroot")),r.createElement(l.default,null,d.view(this,"nPr"),d.view(this,"nCr"),d.view(this,"!"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),d.view(this,"e"),d.view(this,"%"),d.view(this,"enter",{style:"blue"})))},u}(g.DCGViewPillowKeypad);o.default=y}),q("pillow-keypad/control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","./dcgview-pillow-keypad"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=function(y){function p(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(p,y),p.prototype.template=function(){var u=this.props.controller();return r.createElement(d.default,{controller:this.props.controller},r.createElement(i.default,{command:this.const("main"),selected:function(){return u.getKeyboardMode()==="main"},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return u.dispatch({type:"main"})}},function(){return u.t("main")}),r.createElement(i.default,{command:this.const("ABC"),selected:function(){return["qwerty","capitalQwerty"].indexOf(u.getKeyboardMode())!==-1},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),ariaLabel:function(){return u.t("A B C")},onTap:function(){return u.dispatch({type:"ABC"})}},function(){return u.t("abc")}),r.createElement(i.default,{command:this.const("functions"),selected:function(){return["functions","restrictedFunctions"].indexOf(u.getKeyboardMode())!==-1},ariaLabel:function(){return u.t("Functions")},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return u.dispatch({type:"functions"})}},function(){return u.t("func")}),r.createElement("div",{class:r.const("dcg-hide-keypad-button"),"dcg-command":r.const("hide-keypad"),onTap:function(){return u.dispatch({type:"hide-keypad"})}},r.createElement("i",{class:r.const("dcg-icon-hide")})))},p}(l.DCGViewPillowKeypad);o.default=g}),q("loadcss!pillow-keypad/main",function(){}),q("pillow-keypad/main",["require","exports","tslib","dcgview","./dcgview-pillow-keypad","./main-keypad","./qwerty-keypad","./capital-qwerty-keypad","./functions-keypad","./control-bar","touchtracking","loadcss!./main"],function(O,o,w,r,d,i,l,g,y,p,u){Object.defineProperty(o,"__esModule",{value:!0});var f=r.Components.Switch,b=function(m){function c(){return m!==null&&m.apply(this,arguments)||this}return w.__extends(c,m),c.prototype.template=function(){var n=this;return r.createElement("div",{class:r.const("dcg-calculator-api-container"),style:r.const("width: 100%; height: 100%; position: relative;")},r.createElement("div",{class:r.const("dcg-do-not-blur dcg-container dcg-api-shared-keypad-root"),didMount:this.bindFn(this.didMountRoot)},r.createElement(p.default,{controller:this.props.controller}),r.createElement("div",{role:r.const("group"),"aria-label":function(){return n.t("keypad")}},r.createElement(f,{key:function(){return n.controller.getKeyboardMode()}},function(s){switch(s){case"qwerty":return r.createElement(l.default,{controller:n.props.controller});case"capitalQwerty":return r.createElement(g.default,{controller:n.props.controller});case"functions":return r.createElement(y.default,{controller:n.props.controller});default:return r.createElement(i.default,{controller:n.props.controller})}}))))},c.prototype.didMountRoot=function(n){u.monitor(n)},c}(d.DCGViewPillowKeypad);o.default=b}),q("api/pillow-keypad",["require","exports","tslib","dcgview","./abstract","pillow-keypad/controller","pillow-keypad/main"],function(O,o,w,r,d,i,l){Object.defineProperty(o,"__esModule",{value:!0});var g=function(y){function p(u){var f=y.call(this,u)||this;return f instanceof p?(f.init(),f):new p(u)}return w.__extends(p,y),p.prototype.init=function(){var u=this;this.controller=new i.default,this.controller.onEventEmitted=function(f){f==="render"&&u.updateView(),u.triggerEvent(f,void 0)},this.setupDomChangeDetector(!0)},p.prototype.setActiveMathquill=function(u){this.controller.dispatch({type:"set-active-mq",mq:u})},p.prototype.onCreateView=function(){return r.mountToNode(l.default,this.rootElt,{controller:r.const(this.controller)})},p.prototype.onResizeView=function(u){},p.prototype.onDestroyView=function(){r.unmountFromNode(this.rootElt)},p.prototype.destroy=function(){y.prototype.destroy.call(this)},p}(d.default);o.default=g}),q("core/cl-calculator",["require","exports","core/graphing-calc/migrate-state","core/graphing-calc/json/expression","core/graphing-calc/json/table"],function(O,o,w,r,d){function i(l){function g(c){switch(c.type){case void 0:case"expression":var n=r.computeParsableState(r.inflateDefaults(c));p[n.id]=n;break;case"table":var n=d.computeParsableState(d.inflateDefaults(c));p[n.id]=n;break;case"folder":case"text":case"image":break;default:return c}}for(var y=w.migrateToLatest(l),p={},u=y.graph.degreeMode,f=y.randomSeed,b=0,m=y.expressions.list;b<m.length;b++)g(m[b]);return{setExpression:function(c){g(c)},getChangeSet:function(){return{statements:p,isCompleteState:!0,degreeMode:u,globalRandomSeed:f}}}}Object.defineProperty(o,"__esModule",{value:!0}),o.CLCalculator=i}),q("core/math/tree-queries/count-numbers",["require","exports"],function(O,o){function w(r,d){switch(r.type){case"Mul":case"Div":case"Prime":case"Call":case"ImplicitCall":case"Dot":case"Pipes":case"Sqrt":case"Nthroot":case"Frac":case"Derivative":case"Integral":case"EmptyIntegral":case"Sum":case"Product":case"Piecewise":case"Paren":case"Juxt":case"Superscript":case"Bang":case"Index":case"Equals":case"Inequality":case"Tilde":case"Pos":case"Neg":case"Add":case"Sub":case"List":case"Seq":case"Colon":case"Ellipsis":case"PercentOf":for(var g=0,i=0,l=r.args;i<l.length;i++)g+=w(l[i],d);return g;case"Decimal":return d===void 0||parseFloat(r.val)===d?1:0;case"MixedNumber":if(d===void 0)return 3;var g=0;return parseFloat(r.whole)===d&&(g+=1),parseFloat(r.num)===d&&(g+=1),parseFloat(r.den)===d&&(g+=1),g;case"Letter":case"EmptyPiecewise":case"Cmd":return 0;case"Subscript":return w(r.args[0],d);case"InequalityChain":var g=0;g+=w(r.first,d);for(var y=0,p=r.chain;y<p.length;y++)g+=w(p[y].args[0],d);return g;default:throw"Unexpected surface node "+r.type+"."}}Object.defineProperty(o,"__esModule",{value:!0}),o.countNumbers=w}),q("core/mathtools",["require","exports","parser","core/math/context","core/math/builtinframe","core/math/types","parsenodes","core/cl-calculator","core/math/parser/latex-parser","core/math/parser/expression-parser","core/math/tree-queries/count-numbers","core/lib/color-helpers","core/math/policyGraphing","core/math/policyScientific","core/math/policyFourFunction","core/lib/label"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n){function s(A,M){return A!=null||(A=""),w.parse(A,M)}function v(A){if(A!=null)return p.parse(y.parse(A))}Object.defineProperty(o,"__esModule",{value:!0}),o.CLCalculator=g.CLCalculator,o.colorHelpers=f,o.Label=n,o.parser={parse:s},o.expressionParser={parse:v},o.treeQueries={countNumbers:u.countNumbers},o.context=r,o.builtInFrame=d,o.types=i,o.parseNodes=l,o.policies={graphing:b.PolicyGraphing,scientific:m.PolicyScientific,fourFunction:c.PolicyFourFunction}}),q("api/calculator",["require","exports","mathquill","tslib","graphing/clipping","expressions/colors","graphing-calc/api/sanitize-expression","core/graphing-calc/json/graph-settings","main/font_sizes","expressions/image_file_to_data_url","./graphing","./headless","./fourfunction","./scientific","./pillow-keypad","core/mathtools"],function(O,o,w,r,d,i,l,g,y,p,u,f,b,m,c,n){function s(C){var D=A.enabledFeatures;return!D||D[C]}function v(C){o.DesmosAPI[C]=function(){throw new Error("The Desmos "+C+" is not enabled for this API key.")}}Object.defineProperty(o,"__esModule",{value:!0});var A;typeof k<"u"?A=k:(A={},window.Desmos=A),o.GraphingCalculator=u.default,o.HeadlessGraphingCalculator=f.default,o.FourFunctionCalculator=b.default,o.ScientificCalculator=m.default,o.PillowKeypad=c.default,o.DesmosAPI={Colors:{RED:i.RED,BLUE:i.BLUE,GREEN:i.GREEN,ORANGE:i.ORANGE,PURPLE:i.PURPLE,BLACK:i.BLACK},imageFileToDataURL:p.imageFileToDataURL,supportedLanguages:A.locales?Object.keys(A.locales):[],Styles:r.__assign(r.__assign({},l.SanitizedLineStyle),l.SanitizedPointStyle),ColumnModes:l.SanitizedColumnMode,DragModes:l.SanitizedDragMode,AxisArrowModes:g.AxisArrowModes,FontSizes:y,LabelSizes:l.SanitizedLabelSize,LabelOrientations:l.SanitizedLabelOrientation,GraphingCalculator:u.default,Calculator:u.default,FourFunctionCalculator:b.default,ScientificCalculator:m.default,Private:{Mathtools:n,Graphtools:{getClippingGraphType:d.getClippingGraphType,mapSegmentToCanvas:d.mapSegmentToCanvas}},MathQuill:w,PillowKeypad:c.default,HeadlessGraphingCalculator:f.default},s("GraphingCalculator")||(v("GraphingCalculator"),v("Calculator")),s("FourFunctionCalculator")||v("FourFunctionCalculator"),s("ScientificCalculator")||v("ScientificCalculator");for(var M in o.DesmosAPI)o.DesmosAPI.hasOwnProperty(M)&&(A[M]=o.DesmosAPI[M]);o.Calculator=u.default}),q("main/noconflict",["require","jquery","underscore"],function(O){var o=O("jquery"),w=O("underscore");return typeof k>"u"&&(k={}),function(){k.$=o,k._=w,k.$.noConflict(!0),k._.noConflict()}}),typeof k>"u"&&(k={}),k.require=ae,k.requirejs=L,ae.isBrowser||function(){var O=ae("worker_src"),o={define:q,require:ae,requirejs:L};new Function("ALMOND_OVERRIDES",O)(o)}(),q("toplevel/api",["require","api/calculator","main/noconflict"],function(O){O("api/calculator"),O("main/noconflict")()})}(),k.require("toplevel/api")}()})(typeof window!==void 0?window:this||{})})()})(desmos);const Desmos$1=getDefaultExportFromCjs(desmosExports);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vision$1={},fileset_resolver={};let supportsSimd;Object.defineProperty(fileset_resolver,"__esModule",{value:!0}),fileset_resolver.FilesetResolver=void 0;const WASM_SIMD_CHECK=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function isSimdSupported(){if(supportsSimd===void 0)try{await WebAssembly.instantiate(WASM_SIMD_CHECK),supportsSimd=!0}catch{supportsSimd=!1}return supportsSimd}async function createFileset(t,e=""){const h=await isSimdSupported()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${e}/${t}_${h}.js`,wasmBinaryPath:`${e}/${t}_${h}.wasm`}}class FilesetResolver$1{static isSimdSupported(){return isSimdSupported()}static forAudioTasks(e){return createFileset("audio",e)}static forTextTasks(e){return createFileset("text",e)}static forVisionTasks(e){return createFileset("vision",e)}}fileset_resolver.FilesetResolver=FilesetResolver$1;var gesture_recognizer={},calculator_pb={},googleProtobuf={};(function(exports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(t,e,h){t instanceof String&&(t=String(t));for(var I=t.length,E=0;E<I;E++){var _=t[E];if(e.call(h,_,E,t))return{i:E,v:_}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(t,e,h){t!=Array.prototype&&t!=Object.prototype&&(t[e]=h.value)},$jscomp.getGlobal=function(t){return typeof window<"u"&&window===t?t:commonjsGlobal!==void 0&&commonjsGlobal!=null?commonjsGlobal:t},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.polyfill=function(t,e,h,I){if(e){for(h=$jscomp.global,t=t.split("."),I=0;I<t.length-1;I++){var E=t[I];E in h||(h[E]={}),h=h[E]}(e=e(I=h[t=t[t.length-1]]))!=I&&e!=null&&$jscomp.defineProperty(h,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.findIndex",function(t){return t||function(e,h){return $jscomp.findInternal(this,e,h).i}},"es6","es3"),$jscomp.checkStringArgs=function(t,e,h){if(t==null)throw new TypeError("The 'this' value for String.prototype."+h+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+h+" must not be a regular expression");return t+""},$jscomp.polyfill("String.prototype.endsWith",function(t){return t||function(e,h){var I=$jscomp.checkStringArgs(this,e,"endsWith");e+="",h===void 0&&(h=I.length),h=Math.max(0,Math.min(0|h,I.length));for(var E=e.length;0<E&&0<h;)if(I[--h]!=e[--E])return!1;return 0>=E}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(t){return t||function(e,h){return $jscomp.findInternal(this,e,h).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(t){return t||function(e,h){var I=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var E=I.length,_=e.length;h=Math.max(0,Math.min(0|h,I.length));for(var k=0;k<_&&h<E;)if(I[h++]!=e[k++])return!1;return k>=_}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(t){return t||function(e){var h=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var I="";e;)1&e&&(I+=h),(e>>>=1)&&(h+=h);return I}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=commonjsGlobal||self,goog.exportPath_=function(t,e,h){t=t.split("."),h=h||goog.global,t[0]in h||h.execScript===void 0||h.execScript("var "+t[0]);for(var I;t.length&&(I=t.shift());)t.length||e===void 0?h=h[I]&&h[I]!==Object.prototype[I]?h[I]:h[I]={}:h[I]=e},goog.define=function(t,e){return e},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(t){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(t)},goog.constructNamespace_=function(t,e){goog.exportPath_(t,e)},goog.getScriptNonce=function(t){return t&&t!=goog.global?goog.getScriptNonce_(t.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(t)?t:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(t){if(typeof t!="string"||!t||t.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+t+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=t},goog.module.get=function(t){return goog.module.getInternal_(t)},goog.module.getInternal_=function(t){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var t=goog.global.$jscomp;return!!t&&typeof t.getCurrentModulePath=="function"&&!!t.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(t){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=t;else{var e=goog.global.$jscomp;if(!e||typeof e.getCurrentModulePath!="function")throw Error('Module with namespace "'+t+'" has been loaded incorrectly.');e=e.require(e.getCurrentModulePath()),goog.loadedModules_[t]={exports:e,type:goog.ModuleType.ES6,moduleId:t}}},goog.setTestOnly=function(t){if(goog.DISALLOW_TEST_ONLY_CODE)throw t=t||"",Error("Importing test-only code into non-debug environment"+(t?": "+t:"."))},goog.forwardDeclare=function(t){},goog.getObjectByName=function(t,e){t=t.split("."),e=e||goog.global;for(var h=0;h<t.length;h++)if((e=e[t[h]])==null)return null;return e},goog.globalize=function(t,e){for(var h in e=e||goog.global,t)e[h]=t[h]},goog.addDependency=function(t,e,h,I){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(t){goog.global.console&&goog.global.console.error(t)},goog.require=function(t){},goog.requireType=function(t){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(t){t.instance_=void 0,t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(t){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(t){return"(function(){"+t+`
;})();
`},goog.loadModule=function(t){var e=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(t))var h=t.call(void 0,{});else{if(typeof t!="string")throw Error("Invalid module definition");goog.useSafari10Workaround()&&(t=goog.workaroundSafari10EvalBug(t)),h=goog.loadModuleFromSource_.call(void 0,t)}var I=goog.moduleLoaderState_.moduleName;if(typeof I!="string"||!I)throw Error('Invalid module name "'+I+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(I,h):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof h=="object"&&h!=null&&Object.seal(h),goog.loadedModules_[I]={exports:h,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=e}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(t){t=t.split("/");for(var e=0;e<t.length;)t[e]=="."?t.splice(e,1):e&&t[e]==".."&&t[e-1]&&t[e-1]!=".."?t.splice(--e,2):e++;return t.join("/")},goog.loadFileSync_=function(t){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(t);try{var e=new goog.global.XMLHttpRequest;return e.open("get",t,!1),e.send(),e.status==0||e.status==200?e.responseText:null}catch{return null}},goog.transpile_=function(t,e,h){var I=goog.global.$jscomp;I||(goog.global.$jscomp=I={});var E=I.transpile;if(!E){var _=goog.basePath+goog.TRANSPILER,k=goog.loadFileSync_(_);if(k){if(function(){(0,eval)(k+`
//# sourceURL=`+_)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,E=(I=goog.global.$jscomp).transpile}}return E||(E=I.transpile=function(L,ae){return goog.logToConsole_(ae+" requires transpilation but no transpiler was found."),L}),E(t,e,h)},goog.typeOf=function(t){var e=typeof t;if(e=="object"){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var h=Object.prototype.toString.call(t);if(h=="[object Window]")return"object";if(h=="[object Array]"||typeof t.length=="number"&&t.splice!==void 0&&t.propertyIsEnumerable!==void 0&&!t.propertyIsEnumerable("splice"))return"array";if(h=="[object Function]"||t.call!==void 0&&t.propertyIsEnumerable!==void 0&&!t.propertyIsEnumerable("call"))return"function"}else if(e=="function"&&t.call===void 0)return"object";return e},goog.isArray=function(t){return goog.typeOf(t)=="array"},goog.isArrayLike=function(t){var e=goog.typeOf(t);return e=="array"||e=="object"&&typeof t.length=="number"},goog.isDateLike=function(t){return goog.isObject(t)&&typeof t.getFullYear=="function"},goog.isFunction=function(t){return goog.typeOf(t)=="function"},goog.isObject=function(t){var e=typeof t;return e=="object"&&t!=null||e=="function"},goog.getUid=function(t){return Object.prototype.hasOwnProperty.call(t,goog.UID_PROPERTY_)&&t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]},goog.removeUid=function(t){t!==null&&"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_);try{delete t[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(t){var e=goog.typeOf(t);if(e=="object"||e=="array"){if(typeof t.clone=="function")return t.clone();for(var h in e=e=="array"?[]:{},t)e[h]=goog.cloneObject(t[h]);return e}return t},goog.bindNative_=function(t,e,h){return t.call.apply(t.bind,arguments)},goog.bindJs_=function(t,e,h){if(!t)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,I),t.apply(e,E)}}return function(){return t.apply(e,arguments)}},goog.bind=function(t,e,h){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var h=Array.prototype.slice.call(arguments,1);return function(){var I=h.slice();return I.push.apply(I,arguments),t.apply(this,I)}},goog.mixin=function(t,e){for(var h in e)t[h]=e[h]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(t){if(goog.global.execScript)goog.global.execScript(t,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(t);else{var e=goog.global.document,h=e.createElement("script");h.type="text/javascript",h.defer=!1,h.appendChild(e.createTextNode(t)),e.head.appendChild(h),e.head.removeChild(h)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(t,e){if(String(t).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+t);var h=function(E){return goog.cssNameMapping_[E]||E},I=function(E){E=E.split("-");for(var _=[],k=0;k<E.length;k++)_.push(h(E[k]));return _.join("-")};return I=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?h:I:function(E){return E},t=e?t+"-"+I(e):I(t),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(t):t},goog.setCssNameMapping=function(t,e){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=e},goog.getMsg=function(t,e,h){return h&&h.html&&(t=t.replace(/</g,"&lt;")),e&&(t=t.replace(/\{\$([^}]+)}/g,function(I,E){return e!=null&&E in e?e[E]:I})),t},goog.getMsgWithFallback=function(t,e){return t},goog.exportSymbol=function(t,e,h){goog.exportPath_(t,e,h)},goog.exportProperty=function(t,e,h){t[e]=h},goog.inherits=function(t,e){function h(){}h.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new h,t.prototype.constructor=t,t.base=function(I,E,_){for(var k=Array(arguments.length-2),L=2;L<arguments.length;L++)k[L-2]=arguments[L];return e.prototype[E].apply(I,k)}},goog.scope=function(t){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");t.call(goog.global)},goog.defineClass=function(t,e){var h=e.constructor,I=e.statics;return h&&h!=Object.prototype.constructor||(h=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),h=goog.defineClass.createSealingConstructor_(h,t),t&&goog.inherits(h,t),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(h.prototype,e),I!=null&&(I instanceof Function?I(h):goog.defineClass.applyProperties_(h,I)),h},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(t,e){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return t;var h=!goog.defineClass.isUnsealable_(e),I=function(){var E=t.apply(this,arguments)||this;return E[goog.UID_PROPERTY_]=E[goog.UID_PROPERTY_],this.constructor===I&&h&&Object.seal instanceof Function&&Object.seal(E),E};return I},goog.defineClass.isUnsealable_=function(t){return t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(t,e){for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(t[h]=e[h]);for(var I=0;I<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;I++)h=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[I],Object.prototype.hasOwnProperty.call(e,h)&&(t[h]=e[h])},goog.tagUnsealableClass=function(t){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(t){return t},goog.createTrustedTypesPolicy=function(t){var e=null,h=goog.global.trustedTypes||goog.global.TrustedTypes;if(!h||!h.createPolicy)return e;try{e=h.createPolicy(t,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(I){goog.logToConsole_(I.message)}return e},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e},goog.object.forEach=function(t,e,h){for(var I in t)e.call(h,t[I],I,t)},goog.object.filter=function(t,e,h){var I,E={};for(I in t)e.call(h,t[I],I,t)&&(E[I]=t[I]);return E},goog.object.map=function(t,e,h){var I,E={};for(I in t)E[I]=e.call(h,t[I],I,t);return E},goog.object.some=function(t,e,h){for(var I in t)if(e.call(h,t[I],I,t))return!0;return!1},goog.object.every=function(t,e,h){for(var I in t)if(!e.call(h,t[I],I,t))return!1;return!0},goog.object.getCount=function(t){var e,h=0;for(e in t)h++;return h},goog.object.getAnyKey=function(t){for(var e in t)return e},goog.object.getAnyValue=function(t){for(var e in t)return t[e]},goog.object.contains=function(t,e){return goog.object.containsValue(t,e)},goog.object.getValues=function(t){var e,h=[],I=0;for(e in t)h[I++]=t[e];return h},goog.object.getKeys=function(t){var e,h=[],I=0;for(e in t)h[I++]=e;return h},goog.object.getValueByKeys=function(t,e){var h=goog.isArrayLike(e),I=h?e:arguments;for(h=h?0:1;h<I.length;h++){if(t==null)return;t=t[I[h]]}return t},goog.object.containsKey=function(t,e){return t!==null&&e in t},goog.object.containsValue=function(t,e){for(var h in t)if(t[h]==e)return!0;return!1},goog.object.findKey=function(t,e,h){for(var I in t)if(e.call(h,t[I],I,t))return I},goog.object.findValue=function(t,e,h){return(e=goog.object.findKey(t,e,h))&&t[e]},goog.object.isEmpty=function(t){for(var e in t)return!1;return!0},goog.object.clear=function(t){for(var e in t)delete t[e]},goog.object.remove=function(t,e){var h;return(h=e in t)&&delete t[e],h},goog.object.add=function(t,e,h){if(t!==null&&e in t)throw Error('The object already contains the key "'+e+'"');goog.object.set(t,e,h)},goog.object.get=function(t,e,h){return t!==null&&e in t?t[e]:h},goog.object.set=function(t,e,h){t[e]=h},goog.object.setIfUndefined=function(t,e,h){return e in t?t[e]:t[e]=h},goog.object.setWithReturnValueIfNotSet=function(t,e,h){return e in t?t[e]:(h=h(),t[e]=h)},goog.object.equals=function(t,e){for(var h in t)if(!(h in e)||t[h]!==e[h])return!1;for(var I in e)if(!(I in t))return!1;return!0},goog.object.clone=function(t){var e,h={};for(e in t)h[e]=t[e];return h},goog.object.unsafeClone=function(t){var e=goog.typeOf(t);if(e=="object"||e=="array"){if(goog.isFunction(t.clone))return t.clone();for(var h in e=e=="array"?[]:{},t)e[h]=goog.object.unsafeClone(t[h]);return e}return t},goog.object.transpose=function(t){var e,h={};for(e in t)h[t[e]]=e;return h},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(t,e){for(var h,I,E=1;E<arguments.length;E++){for(h in I=arguments[E])t[h]=I[h];for(var _=0;_<goog.object.PROTOTYPE_FIELDS_.length;_++)h=goog.object.PROTOTYPE_FIELDS_[_],Object.prototype.hasOwnProperty.call(I,h)&&(t[h]=I[h])}},goog.object.create=function(t){var e=arguments.length;if(e==1&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var h={},I=0;I<e;I+=2)h[arguments[I]]=arguments[I+1];return h},goog.object.createSet=function(t){var e=arguments.length;if(e==1&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var h={},I=0;I<e;I++)h[arguments[I]]=!0;return h},goog.object.createImmutableView=function(t){var e=t;return Object.isFrozen&&!Object.isFrozen(t)&&(e=Object.create(t),Object.freeze(e)),e},goog.object.isImmutableView=function(t){return!!Object.isFrozen&&Object.isFrozen(t)},goog.object.getAllPropertyNames=function(t,e,h){if(!t)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(t);for(var I={};t&&(t!==Object.prototype||e)&&(t!==Function.prototype||h);){for(var E=Object.getOwnPropertyNames(t),_=0;_<E.length;_++)I[E[_]]=!0;t=Object.getPrototypeOf(t)}return goog.object.getKeys(I)},goog.object.getSuperClass=function(t){return(t=Object.getPrototypeOf(t.prototype))&&t.constructor};var jspb={asserts:{}};jspb.asserts.doAssertFailure=function(t,e,h,I){var E="Assertion failed";if(h){E+=": "+h;var _=I}else t&&(E+=": "+t,_=e);throw Error(""+E,_||[])},jspb.asserts.assert=function(t,e,h){for(var I=[],E=2;E<arguments.length;++E)I[E-2]=arguments[E];return t||jspb.asserts.doAssertFailure("",null,e,I),t},jspb.asserts.assertString=function(t,e,h){for(var I=[],E=2;E<arguments.length;++E)I[E-2]=arguments[E];return typeof t!="string"&&jspb.asserts.doAssertFailure("Expected string but got %s: %s.",[goog.typeOf(t),t],e,I),t},jspb.asserts.assertArray=function(t,e,h){for(var I=[],E=2;E<arguments.length;++E)I[E-2]=arguments[E];return Array.isArray(t)||jspb.asserts.doAssertFailure("Expected array but got %s: %s.",[goog.typeOf(t),t],e,I),t},jspb.asserts.fail=function(t,e){for(var h=[],I=1;I<arguments.length;++I)h[I-1]=arguments[I];throw Error("Failure"+(t?": "+t:""),h)},jspb.asserts.assertInstanceof=function(t,e,h,I){for(var E=[],_=3;_<arguments.length;++_)E[_-3]=arguments[_];return t instanceof e||jspb.asserts.doAssertFailure("Expected instanceof %s but got %s.",[jspb.asserts.getType(e),jspb.asserts.getType(t)],h,E),t},jspb.asserts.getType=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):t===null?"null":typeof t},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(t){var e=jspb.BinaryConstants.FieldType,h=jspb.BinaryConstants.WireType;switch(t){case e.INT32:case e.INT64:case e.UINT32:case e.UINT64:case e.SINT32:case e.SINT64:case e.BOOL:case e.ENUM:case e.VHASH64:return h.VARINT;case e.DOUBLE:case e.FIXED64:case e.SFIXED64:case e.FHASH64:return h.FIXED64;case e.STRING:case e.MESSAGE:case e.BYTES:return h.DELIMITED;case e.FLOAT:case e.FIXED32:case e.SFIXED32:return h.FIXED32;default:return h.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=3402823466385289e23,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.debug={},goog.debug.Error=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(t,e){goog.debug.Error.call(this,goog.asserts.subs_(t,e)),this.messagePattern=t},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(t){throw t},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(t,e){for(var h="",I=(t=t.split("%s")).length-1,E=0;E<I;E++)h+=t[E]+(E<e.length?e[E]:"%s");return h+t[I]},goog.asserts.doAssertFailure_=function(t,e,h,I){var E="Assertion failed";if(h){E+=": "+h;var _=I}else t&&(E+=": "+t,_=e);t=new goog.asserts.AssertionError(""+E,_||[]),goog.asserts.errorHandler_(t)},goog.asserts.setErrorHandler=function(t){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=t)},goog.asserts.assert=function(t,e,h){return goog.asserts.ENABLE_ASSERTS&&!t&&goog.asserts.doAssertFailure_("",null,e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertExists=function(t,e,h){return goog.asserts.ENABLE_ASSERTS&&t==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.fail=function(t,e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(t,e,h){return goog.asserts.ENABLE_ASSERTS&&typeof t!="number"&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertString=function(t,e,h){return goog.asserts.ENABLE_ASSERTS&&typeof t!="string"&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertFunction=function(t,e,h){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(t)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObject=function(t,e,h){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(t)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertArray=function(t,e,h){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(t)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertBoolean=function(t,e,h){return goog.asserts.ENABLE_ASSERTS&&typeof t!="boolean"&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertElement=function(t,e,h){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(t)&&t.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertInstanceof=function(t,e,h,I){return!goog.asserts.ENABLE_ASSERTS||t instanceof e||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(e),goog.asserts.getType_(t)],h,Array.prototype.slice.call(arguments,3)),t},goog.asserts.assertFinite=function(t,e,h){return!goog.asserts.ENABLE_ASSERTS||typeof t=="number"&&isFinite(t)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var t in Object.prototype)goog.asserts.fail(t+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):t===null?"null":typeof t},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(t){return t[t.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(t,e,h){return goog.asserts.assert(t.length!=null),Array.prototype.indexOf.call(t,e,h)}:function(t,e,h){if(h=h==null?0:0>h?Math.max(0,t.length+h):h,typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,h);for(;h<t.length;h++)if(h in t&&t[h]===e)return h;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(t,e,h){return goog.asserts.assert(t.length!=null),Array.prototype.lastIndexOf.call(t,e,h??t.length-1)}:function(t,e,h){if(0>(h=h??t.length-1)&&(h=Math.max(0,t.length+h)),typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.lastIndexOf(e,h);for(;0<=h;h--)if(h in t&&t[h]===e)return h;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(t,e,h){goog.asserts.assert(t.length!=null),Array.prototype.forEach.call(t,e,h)}:function(t,e,h){for(var I=t.length,E=typeof t=="string"?t.split(""):t,_=0;_<I;_++)_ in E&&e.call(h,E[_],_,t)},goog.array.forEachRight=function(t,e,h){var I=t.length,E=typeof t=="string"?t.split(""):t;for(--I;0<=I;--I)I in E&&e.call(h,E[I],I,t)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(t,e,h){return goog.asserts.assert(t.length!=null),Array.prototype.filter.call(t,e,h)}:function(t,e,h){for(var I=t.length,E=[],_=0,k=typeof t=="string"?t.split(""):t,L=0;L<I;L++)if(L in k){var ae=k[L];e.call(h,ae,L,t)&&(E[_++]=ae)}return E},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(t,e,h){return goog.asserts.assert(t.length!=null),Array.prototype.map.call(t,e,h)}:function(t,e,h){for(var I=t.length,E=Array(I),_=typeof t=="string"?t.split(""):t,k=0;k<I;k++)k in _&&(E[k]=e.call(h,_[k],k,t));return E},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(t,e,h,I){return goog.asserts.assert(t.length!=null),I&&(e=goog.bind(e,I)),Array.prototype.reduce.call(t,e,h)}:function(t,e,h,I){var E=h;return goog.array.forEach(t,function(_,k){E=e.call(I,E,_,k,t)}),E},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(t,e,h,I){return goog.asserts.assert(t.length!=null),goog.asserts.assert(e!=null),I&&(e=goog.bind(e,I)),Array.prototype.reduceRight.call(t,e,h)}:function(t,e,h,I){var E=h;return goog.array.forEachRight(t,function(_,k){E=e.call(I,E,_,k,t)}),E},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(t,e,h){return goog.asserts.assert(t.length!=null),Array.prototype.some.call(t,e,h)}:function(t,e,h){for(var I=t.length,E=typeof t=="string"?t.split(""):t,_=0;_<I;_++)if(_ in E&&e.call(h,E[_],_,t))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(t,e,h){return goog.asserts.assert(t.length!=null),Array.prototype.every.call(t,e,h)}:function(t,e,h){for(var I=t.length,E=typeof t=="string"?t.split(""):t,_=0;_<I;_++)if(_ in E&&!e.call(h,E[_],_,t))return!1;return!0},goog.array.count=function(t,e,h){var I=0;return goog.array.forEach(t,function(E,_,k){e.call(h,E,_,k)&&++I},h),I},goog.array.find=function(t,e,h){return 0>(e=goog.array.findIndex(t,e,h))?null:typeof t=="string"?t.charAt(e):t[e]},goog.array.findIndex=function(t,e,h){for(var I=t.length,E=typeof t=="string"?t.split(""):t,_=0;_<I;_++)if(_ in E&&e.call(h,E[_],_,t))return _;return-1},goog.array.findRight=function(t,e,h){return 0>(e=goog.array.findIndexRight(t,e,h))?null:typeof t=="string"?t.charAt(e):t[e]},goog.array.findIndexRight=function(t,e,h){var I=t.length,E=typeof t=="string"?t.split(""):t;for(--I;0<=I;I--)if(I in E&&e.call(h,E[I],I,t))return I;return-1},goog.array.contains=function(t,e){return 0<=goog.array.indexOf(t,e)},goog.array.isEmpty=function(t){return t.length==0},goog.array.clear=function(t){if(!Array.isArray(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0},goog.array.insert=function(t,e){goog.array.contains(t,e)||t.push(e)},goog.array.insertAt=function(t,e,h){goog.array.splice(t,h,0,e)},goog.array.insertArrayAt=function(t,e,h){goog.partial(goog.array.splice,t,h,0).apply(null,e)},goog.array.insertBefore=function(t,e,h){var I;arguments.length==2||0>(I=goog.array.indexOf(t,h))?t.push(e):goog.array.insertAt(t,e,I)},goog.array.remove=function(t,e){var h;return(h=0<=(e=goog.array.indexOf(t,e)))&&goog.array.removeAt(t,e),h},goog.array.removeLast=function(t,e){return 0<=(e=goog.array.lastIndexOf(t,e))&&(goog.array.removeAt(t,e),!0)},goog.array.removeAt=function(t,e){return goog.asserts.assert(t.length!=null),Array.prototype.splice.call(t,e,1).length==1},goog.array.removeIf=function(t,e,h){return 0<=(e=goog.array.findIndex(t,e,h))&&(goog.array.removeAt(t,e),!0)},goog.array.removeAllIf=function(t,e,h){var I=0;return goog.array.forEachRight(t,function(E,_){e.call(h,E,_,t)&&goog.array.removeAt(t,_)&&I++}),I},goog.array.concat=function(t){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(t){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(t){var e=t.length;if(0<e){for(var h=Array(e),I=0;I<e;I++)h[I]=t[I];return h}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(t,e){for(var h=1;h<arguments.length;h++){var I=arguments[h];if(goog.isArrayLike(I)){var E=t.length||0,_=I.length||0;t.length=E+_;for(var k=0;k<_;k++)t[E+k]=I[k]}else t.push(I)}},goog.array.splice=function(t,e,h,I){return goog.asserts.assert(t.length!=null),Array.prototype.splice.apply(t,goog.array.slice(arguments,1))},goog.array.slice=function(t,e,h){return goog.asserts.assert(t.length!=null),2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,h)},goog.array.removeDuplicates=function(t,e,h){e=e||t;var I=function(ae){return goog.isObject(ae)?"o"+goog.getUid(ae):(typeof ae).charAt(0)+ae};h=h||I,I={};for(var E=0,_=0;_<t.length;){var k=t[_++],L=h(k);Object.prototype.hasOwnProperty.call(I,L)||(I[L]=!0,e[E++]=k)}e.length=E},goog.array.binarySearch=function(t,e,h){return goog.array.binarySearch_(t,h||goog.array.defaultCompare,!1,e)},goog.array.binarySelect=function(t,e,h){return goog.array.binarySearch_(t,e,!0,void 0,h)},goog.array.binarySearch_=function(t,e,h,I,E){for(var _,k=0,L=t.length;k<L;){var ae=k+(L-k>>>1),q=h?e.call(E,t[ae],ae,t):e(I,t[ae]);0<q?k=ae+1:(L=ae,_=!q)}return _?k:-k-1},goog.array.sort=function(t,e){t.sort(e||goog.array.defaultCompare)},goog.array.stableSort=function(t,e){for(var h=Array(t.length),I=0;I<t.length;I++)h[I]={index:I,value:t[I]};var E=e||goog.array.defaultCompare;for(goog.array.sort(h,function(_,k){return E(_.value,k.value)||_.index-k.index}),I=0;I<t.length;I++)t[I]=h[I].value},goog.array.sortByKey=function(t,e,h){var I=h||goog.array.defaultCompare;goog.array.sort(t,function(E,_){return I(e(E),e(_))})},goog.array.sortObjectsByKey=function(t,e,h){goog.array.sortByKey(t,function(I){return I[e]},h)},goog.array.isSorted=function(t,e,h){e=e||goog.array.defaultCompare;for(var I=1;I<t.length;I++){var E=e(t[I-1],t[I]);if(0<E||E==0&&h)return!1}return!0},goog.array.equals=function(t,e,h){if(!goog.isArrayLike(t)||!goog.isArrayLike(e)||t.length!=e.length)return!1;var I=t.length;h=h||goog.array.defaultCompareEquality;for(var E=0;E<I;E++)if(!h(t[E],e[E]))return!1;return!0},goog.array.compare3=function(t,e,h){h=h||goog.array.defaultCompare;for(var I=Math.min(t.length,e.length),E=0;E<I;E++){var _=h(t[E],e[E]);if(_!=0)return _}return goog.array.defaultCompare(t.length,e.length)},goog.array.defaultCompare=function(t,e){return t>e?1:t<e?-1:0},goog.array.inverseDefaultCompare=function(t,e){return-goog.array.defaultCompare(t,e)},goog.array.defaultCompareEquality=function(t,e){return t===e},goog.array.binaryInsert=function(t,e,h){return 0>(h=goog.array.binarySearch(t,e,h))&&(goog.array.insertAt(t,e,-(h+1)),!0)},goog.array.binaryRemove=function(t,e,h){return 0<=(e=goog.array.binarySearch(t,e,h))&&goog.array.removeAt(t,e)},goog.array.bucket=function(t,e,h){for(var I={},E=0;E<t.length;E++){var _=t[E],k=e.call(h,_,E,t);k!==void 0&&(I[k]||(I[k]=[])).push(_)}return I},goog.array.toObject=function(t,e,h){var I={};return goog.array.forEach(t,function(E,_){I[e.call(h,E,_,t)]=E}),I},goog.array.range=function(t,e,h){var I=[],E=0,_=t;if(e!==void 0&&(E=t,_=e),0>(h=h||1)*(_-E))return[];if(0<h)for(t=E;t<_;t+=h)I.push(t);else for(t=E;t>_;t+=h)I.push(t);return I},goog.array.repeat=function(t,e){for(var h=[],I=0;I<e;I++)h[I]=t;return h},goog.array.flatten=function(t){for(var e=[],h=0;h<arguments.length;h++){var I=arguments[h];if(Array.isArray(I))for(var E=0;E<I.length;E+=8192){var _=goog.array.slice(I,E,E+8192);_=goog.array.flatten.apply(null,_);for(var k=0;k<_.length;k++)e.push(_[k])}else e.push(I)}return e},goog.array.rotate=function(t,e){return goog.asserts.assert(t.length!=null),t.length&&(0<(e%=t.length)?Array.prototype.unshift.apply(t,t.splice(-e,e)):0>e&&Array.prototype.push.apply(t,t.splice(0,-e))),t},goog.array.moveItem=function(t,e,h){goog.asserts.assert(0<=e&&e<t.length),goog.asserts.assert(0<=h&&h<t.length),e=Array.prototype.splice.call(t,e,1),Array.prototype.splice.call(t,h,0,e[0])},goog.array.zip=function(t){if(!arguments.length)return[];for(var e=[],h=arguments[0].length,I=1;I<arguments.length;I++)arguments[I].length<h&&(h=arguments[I].length);for(I=0;I<h;I++){for(var E=[],_=0;_<arguments.length;_++)E.push(arguments[_][I]);e.push(E)}return e},goog.array.shuffle=function(t,e){e=e||Math.random;for(var h=t.length-1;0<h;h--){var I=Math.floor(e()*(h+1)),E=t[h];t[h]=t[I],t[I]=E}},goog.array.copyByIndex=function(t,e){var h=[];return goog.array.forEach(e,function(I){h.push(t[I])}),h},goog.array.concatMap=function(t,e,h){return goog.array.concat.apply([],goog.array.map(t,e,h))},goog.crypt={},goog.crypt.stringToByteArray=function(t){for(var e=[],h=0,I=0;I<t.length;I++){var E=t.charCodeAt(I);255<E&&(e[h++]=255&E,E>>=8),e[h++]=E}return e},goog.crypt.byteArrayToString=function(t){if(8192>=t.length)return String.fromCharCode.apply(null,t);for(var e="",h=0;h<t.length;h+=8192){var I=goog.array.slice(t,h,h+8192);e+=String.fromCharCode.apply(null,I)}return e},goog.crypt.byteArrayToHex=function(t,e){return goog.array.map(t,function(h){return 1<(h=h.toString(16)).length?h:"0"+h}).join(e||"")},goog.crypt.hexToByteArray=function(t){goog.asserts.assert(t.length%2==0,"Key string length must be multiple of 2");for(var e=[],h=0;h<t.length;h+=2)e.push(parseInt(t.substring(h,h+2),16));return e},goog.crypt.stringToUtf8ByteArray=function(t){for(var e=[],h=0,I=0;I<t.length;I++){var E=t.charCodeAt(I);128>E?e[h++]=E:(2048>E?e[h++]=E>>6|192:((64512&E)==55296&&I+1<t.length&&(64512&t.charCodeAt(I+1))==56320?(E=65536+((1023&E)<<10)+(1023&t.charCodeAt(++I)),e[h++]=E>>18|240,e[h++]=E>>12&63|128):e[h++]=E>>12|224,e[h++]=E>>6&63|128),e[h++]=63&E|128)}return e},goog.crypt.utf8ByteArrayToString=function(t){for(var e=[],h=0,I=0;h<t.length;){var E=t[h++];if(128>E)e[I++]=String.fromCharCode(E);else if(191<E&&224>E){var _=t[h++];e[I++]=String.fromCharCode((31&E)<<6|63&_)}else if(239<E&&365>E){_=t[h++];var k=t[h++];E=((7&E)<<18|(63&_)<<12|(63&k)<<6|63&t[h++])-65536,e[I++]=String.fromCharCode(55296+(E>>10)),e[I++]=String.fromCharCode(56320+(1023&E))}else _=t[h++],k=t[h++],e[I++]=String.fromCharCode((15&E)<<12|(63&_)<<6|63&k)}return e.join("")},goog.crypt.xorByteArray=function(t,e){goog.asserts.assert(t.length==e.length,"XOR array lengths must match");for(var h=[],I=0;I<t.length;I++)h.push(t[I]^e[I]);return h},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(t){if(goog.asserts.ENABLE_ASSERTS){var e=goog.dom.asserts.getWindow_(t);e&&(!t||!(t instanceof e.Location)&&t instanceof e.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(t))}return t},goog.dom.asserts.assertIsElementType_=function(t,e){if(goog.asserts.ENABLE_ASSERTS){var h=goog.dom.asserts.getWindow_(t);h&&h[e]!==void 0&&(t&&(t instanceof h[e]||!(t instanceof h.Location||t instanceof h.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,goog.dom.asserts.debugStringForType_(t)))}return t},goog.dom.asserts.assertIsHTMLAnchorElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(t){if(!goog.isObject(t))return t===void 0?"undefined":t===null?"null":typeof t;try{return t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(t){try{var e=t&&t.ownerDocument,h=e&&(e.defaultView||e.parentWindow);if((h=h||goog.global).Element&&h.Location)return h}catch{}return null},goog.functions={},goog.functions.constant=function(t){return function(){return t}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(t,e){return t},goog.functions.error=function(t){return function(){throw Error(t)}},goog.functions.fail=function(t){return function(){throw t}},goog.functions.lock=function(t,e){return e=e||0,function(){return t.apply(this,Array.prototype.slice.call(arguments,0,e))}},goog.functions.nth=function(t){return function(){return arguments[t]}},goog.functions.partialRight=function(t,e){var h=Array.prototype.slice.call(arguments,1);return function(){var I=Array.prototype.slice.call(arguments);return I.push.apply(I,h),t.apply(this,I)}},goog.functions.withReturnValue=function(t,e){return goog.functions.sequence(t,goog.functions.constant(e))},goog.functions.equalTo=function(t,e){return function(h){return e?t==h:t===h}},goog.functions.compose=function(t,e){var h=arguments,I=h.length;return function(){var E;I&&(E=h[I-1].apply(this,arguments));for(var _=I-2;0<=_;_--)E=h[_].call(this,E);return E}},goog.functions.sequence=function(t){var e=arguments,h=e.length;return function(){for(var I,E=0;E<h;E++)I=e[E].apply(this,arguments);return I}},goog.functions.and=function(t){var e=arguments,h=e.length;return function(){for(var I=0;I<h;I++)if(!e[I].apply(this,arguments))return!1;return!0}},goog.functions.or=function(t){var e=arguments,h=e.length;return function(){for(var I=0;I<h;I++)if(e[I].apply(this,arguments))return!0;return!1}},goog.functions.not=function(t){return function(){return!t.apply(this,arguments)}},goog.functions.create=function(t,e){var h=function(){};return h.prototype=t.prototype,h=new h,t.apply(h,Array.prototype.slice.call(arguments,1)),h},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(t){var e,h=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(h||(e=t(),h=!0),e):t()}},goog.functions.once=function(t){var e=t;return function(){if(e){var h=e;e=null,h()}}},goog.functions.debounce=function(t,e,h){var I=0;return function(E){goog.global.clearTimeout(I);var _=arguments;I=goog.global.setTimeout(function(){t.apply(h,_)},e)}},goog.functions.throttle=function(t,e,h){var I=0,E=!1,_=[],k=function(){I=0,E&&(E=!1,L())},L=function(){I=goog.global.setTimeout(k,e),t.apply(h,_)};return function(ae){_=arguments,I?E=!0:L()}},goog.functions.rateLimit=function(t,e,h){var I=0,E=function(){I=0};return function(_){I||(I=goog.global.setTimeout(E,e),t.apply(h,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(t){this.tagName_=t},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(t){return goog.dom.tags.VOID_TAGS_[t]===!0},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(t,e){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=t===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(t){return t instanceof goog.string.Const&&t.constructor===goog.string.Const&&t.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?t.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+t+"'"),"type_error:Const")},goog.string.Const.from=function(t){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(t){return(t=goog.string.Const.unwrap(t)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeScript.fromConstantAndArgs=function(t,e){for(var h=[],I=1;I<arguments.length;I++)h.push(goog.html.SafeScript.stringify_(arguments[I]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(t)+")("+h.join(", ")+");")},goog.html.SafeScript.fromJson=function(t){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(t))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(t){return goog.html.SafeScript.unwrapTrustedScript(t).toString()},goog.html.SafeScript.unwrapTrustedScript=function(t){return t instanceof goog.html.SafeScript&&t.constructor===goog.html.SafeScript&&t.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(t){return JSON.stringify(t).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(t){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(t):t,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(t){return goog.fs.url.getUrlObject_().createObjectURL(t)},goog.fs.url.revokeObjectUrl=function(t){goog.fs.url.getUrlObject_().revokeObjectURL(t)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(t){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(t){},goog.fs.url.getUrlObject_=function(){var t=goog.fs.url.findUrlObject_();if(t!=null)return t;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.global.URL!==void 0&&goog.global.URL.createObjectURL!==void 0?goog.global.URL:goog.global.webkitURL!==void 0&&goog.global.webkitURL.createObjectURL!==void 0?goog.global.webkitURL:goog.global.createObjectURL!==void 0?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.fs.blob={},goog.fs.blob.getBlob=function(t){var e=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(e!==void 0){e=new e;for(var h=0;h<arguments.length;h++)e.append(arguments[h]);return e.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))},goog.fs.blob.getBlobWithProperties=function(t,e,h){var I=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(I!==void 0){I=new I;for(var E=0;E<t.length;E++)I.append(t[E],h);return I.getBlob(e)}if(goog.global.Blob!==void 0)return I={},e&&(I.type=e),h&&(I.endings=h),new Blob(t,I);throw Error("This browser doesn't seem to support creating Blobs")},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"\u202A",RLE:"\u202B",PDF:"\u202C",LRM:"\u200E",RLM:"\u200F"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(t,e){return typeof t=="number"?0<t?goog.i18n.bidi.Dir.LTR:0>t?goog.i18n.bidi.Dir.RTL:e?null:goog.i18n.bidi.Dir.NEUTRAL:t==null?null:t?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0900-\u1FFF\u200E\u2C00-\uD801\uD804-\uD839\uD83C-\uDBFF\uF900-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",goog.i18n.bidi.rtlChars_="\u0591-\u06EF\u06FA-\u08FF\u200F\uD802-\uD803\uD83A-\uD83B\uFB1D-\uFDFF\uFE70-\uFEFC",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(t,e){return e?t.replace(goog.i18n.bidi.htmlSkipReg_,""):t},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(t,e){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(t,e){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(t){return goog.i18n.bidi.rtlRe_.test(t)},goog.i18n.bidi.isLtrChar=function(t){return goog.i18n.bidi.ltrRe_.test(t)},goog.i18n.bidi.isNeutralChar=function(t){return!goog.i18n.bidi.isLtrChar(t)&&!goog.i18n.bidi.isRtlChar(t)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(t,e){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(t,e){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(t,e){return t=goog.i18n.bidi.stripHtmlIfNeeded_(t,e),goog.i18n.bidi.isRequiredLtrRe_.test(t)||!goog.i18n.bidi.hasAnyLtr(t)&&!goog.i18n.bidi.hasAnyRtl(t)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(t,e){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(t,e){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(t){return goog.i18n.bidi.rtlLocalesRe_.test(t)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(t,e){return e=(e===void 0?goog.i18n.bidi.hasAnyRtl(t):e)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,t.replace(goog.i18n.bidi.bracketGuardTextRe_,e+"$&"+e)},goog.i18n.bidi.enforceRtlInHtml=function(t){return t.charAt(0)=="<"?t.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+t+"</span>"},goog.i18n.bidi.enforceRtlInText=function(t){return goog.i18n.bidi.Format.RLE+t+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(t){return t.charAt(0)=="<"?t.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+t+"</span>"},goog.i18n.bidi.enforceLtrInText=function(t){return goog.i18n.bidi.Format.LRE+t+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(t){return t.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(t){return t.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05F4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05F3")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(t,e){var h=0,I=0,E=!1;for(t=goog.i18n.bidi.stripHtmlIfNeeded_(t,e).split(goog.i18n.bidi.wordSeparatorRe_),e=0;e<t.length;e++){var _=t[e];goog.i18n.bidi.startsWithRtl(_)?(h++,I++):goog.i18n.bidi.isRequiredLtrRe_.test(_)?E=!0:goog.i18n.bidi.hasAnyLtr(_)?I++:goog.i18n.bidi.hasNumeralsRe_.test(_)&&(E=!0)}return I==0?E?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:h/I>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(t,e){return goog.i18n.bidi.estimateDirection(t,e)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(t,e){t&&(e=goog.i18n.bidi.toDir(e))&&(t.style.textAlign=e==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,t.dir=e==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(t,e){switch(goog.i18n.bidi.estimateDirection(e)){case goog.i18n.bidi.Dir.LTR:t.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:t.dir="rtl";break;default:t.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(t,e){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=t===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(t,e){var h=goog.html.TrustedResourceUrl.unwrap(this),I=(h=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(h))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(h[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",h[2]||"",t)+goog.html.TrustedResourceUrl.stringifyParams_("#",I,e))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(t){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(t){return t instanceof goog.html.TrustedResourceUrl&&t.constructor===goog.html.TrustedResourceUrl&&t.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+t+"' of type "+goog.typeOf(t)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(t,e){var h=goog.string.Const.unwrap(t);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(h))throw Error("Invalid TrustedResourceUrl format: "+h);return t=h.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(I,E){if(!Object.prototype.hasOwnProperty.call(e,E))throw Error('Found marker, "'+E+'", in format string, "'+h+'", but no valid label mapping found in args: '+JSON.stringify(e));return(I=e[E])instanceof goog.string.Const?goog.string.Const.unwrap(I):encodeURIComponent(String(I))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(t,e,h,I){return goog.html.TrustedResourceUrl.format(t,e).cloneWithParams(h,I)},goog.html.TrustedResourceUrl.fromConstant=function(t){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(t))},goog.html.TrustedResourceUrl.fromConstants=function(t){for(var e="",h=0;h<t.length;h++)e+=goog.string.Const.unwrap(t[h]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.fromSafeScript=function(t){return t=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(t)],"text/javascript"),t=goog.fs.url.createObjectUrl(t),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(t){return t=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(t):t,new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.html.TrustedResourceUrl.stringifyParams_=function(t,e,h){if(h==null)return e;if(typeof h=="string")return h?t+encodeURIComponent(h):"";for(var I in h){var E=h[I];E=Array.isArray(E)?E:[E];for(var _=0;_<E.length;_++){var k=E[_];k!=null&&(e||(e=t),e+=(e.length>t.length?"&":"")+encodeURIComponent(I)+"="+encodeURIComponent(String(k)))}}return e},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.internal={},goog.string.internal.startsWith=function(t,e){return t.lastIndexOf(e,0)==0},goog.string.internal.endsWith=function(t,e){var h=t.length-e.length;return 0<=h&&t.indexOf(e,h)==h},goog.string.internal.caseInsensitiveStartsWith=function(t,e){return goog.string.internal.caseInsensitiveCompare(e,t.substr(0,e.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(t,e){return goog.string.internal.caseInsensitiveCompare(e,t.substr(t.length-e.length,e.length))==0},goog.string.internal.caseInsensitiveEquals=function(t,e){return t.toLowerCase()==e.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(t){return/^[\s\xa0]*$/.test(t)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},goog.string.internal.caseInsensitiveCompare=function(t,e){return(t=String(t).toLowerCase())<(e=String(e).toLowerCase())?-1:t==e?0:1},goog.string.internal.newLineToBr=function(t,e){return t.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>")},goog.string.internal.htmlEscape=function(t,e){if(e)t=t.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(t))return t;t.indexOf("&")!=-1&&(t=t.replace(goog.string.internal.AMP_RE_,"&amp;")),t.indexOf("<")!=-1&&(t=t.replace(goog.string.internal.LT_RE_,"&lt;")),t.indexOf(">")!=-1&&(t=t.replace(goog.string.internal.GT_RE_,"&gt;")),t.indexOf('"')!=-1&&(t=t.replace(goog.string.internal.QUOT_RE_,"&quot;")),t.indexOf("'")!=-1&&(t=t.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),t.indexOf("\0")!=-1&&(t=t.replace(goog.string.internal.NULL_RE_,"&#0;"))}return t},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(t,e){return goog.string.internal.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.internal.contains=function(t,e){return t.indexOf(e)!=-1},goog.string.internal.caseInsensitiveContains=function(t,e){return goog.string.internal.contains(t.toLowerCase(),e.toLowerCase())},goog.string.internal.compareVersions=function(t,e){var h=0;t=goog.string.internal.trim(String(t)).split("."),e=goog.string.internal.trim(String(e)).split(".");for(var I=Math.max(t.length,e.length),E=0;h==0&&E<I;E++){var _=t[E]||"",k=e[E]||"";do{if(_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],_[0].length==0&&k[0].length==0)break;h=_[1].length==0?0:parseInt(_[1],10);var L=k[1].length==0?0:parseInt(k[1],10);h=goog.string.internal.compareElements_(h,L)||goog.string.internal.compareElements_(_[2].length==0,k[2].length==0)||goog.string.internal.compareElements_(_[2],k[2]),_=_[3],k=k[3]}while(h==0)}return h},goog.string.internal.compareElements_=function(t,e){return t<e?-1:t>e?1:0},goog.html.SafeUrl=function(t,e){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=t===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(t){return t instanceof goog.html.SafeUrl&&t.constructor===goog.html.SafeUrl&&t.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(t){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(t))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(t){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(t)},goog.html.SafeUrl.fromBlob=function(t){return t=goog.html.SafeUrl.isSafeMimeType(t.type)?goog.fs.url.createObjectUrl(t):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromMediaSource=function(t){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),t=t instanceof MediaSource?goog.fs.url.createObjectUrl(t):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(t){var e=(t=t.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return e=e&&goog.html.SafeUrl.isSafeMimeType(e[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e?t:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"tel:")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(t){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(t))||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"fb-messenger://share")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromWhatsAppUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"whatsapp://send")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromSmsUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(t){var e=t.indexOf("#");if(0<e&&(t=t.substring(0,e)),!(e=t.match(/[?&]body=/gi)))return!0;if(1<e.length)return!1;if(!(t=t.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(t)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(t)},goog.html.SafeUrl.fromSshUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"ssh://")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(t,e,h){return(t=t.exec(e))?(t=t[1],(h instanceof goog.string.Const?[goog.string.Const.unwrap(h)]:h.map(function(I){return goog.string.Const.unwrap(I)})).indexOf(t)==-1&&(e=goog.html.SafeUrl.INNOCUOUS_STRING)):e=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromTrustedResourceUrl=function(t){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(t))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(t){return t instanceof goog.html.SafeUrl?t:(t=typeof t=="object"&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),goog.html.SAFE_URL_PATTERN_.test(t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(t,e){return t instanceof goog.html.SafeUrl?t:(t=typeof t=="object"&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),e&&/^data:/i.test(t)&&(e=goog.html.SafeUrl.fromDataUrl(t)).getTypedStringValue()==t?e:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(t),"%s does not match the safe URL pattern",t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(t){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(t){return(t=goog.string.Const.unwrap(t)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(t,";"),"Last character of style string is not ';': "+t),goog.asserts.assert(goog.string.internal.contains(t,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+t),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(t){return t instanceof goog.html.SafeStyle&&t.constructor===goog.html.SafeStyle&&t.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(t){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=t,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(t){var e,h="";for(e in t){if(!/^[-_a-zA-Z0-9]+$/.test(e))throw Error("Name allows only [-_a-zA-Z0-9], got: "+e);var I=t[e];I!=null&&(h+=e+":"+(I=Array.isArray(I)?goog.array.map(I,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(I))+";")}return h?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(h):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(t){if(t instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(t).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(t=t instanceof goog.string.Const?goog.string.Const.unwrap(t):goog.html.SafeStyle.sanitizePropertyValueString_(String(t)),/[{;}]/.test(t))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[t]);return t},goog.html.SafeStyle.sanitizePropertyValueString_=function(t){var e=t.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(e)?goog.html.SafeStyle.COMMENT_RE_.test(t)?(goog.asserts.fail("String value disallows comments, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(t)?goog.html.SafeStyle.hasBalancedSquareBrackets_(t)?goog.html.SafeStyle.sanitizeUrl_(t):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(t){for(var e=!0,h=!0,I=0;I<t.length;I++){var E=t.charAt(I);E=="'"&&h?e=!e:E=='"'&&e&&(h=!h)}return e&&h},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(t){for(var e=!0,h=/^[-_a-zA-Z0-9]$/,I=0;I<t.length;I++){var E=t.charAt(I);if(E=="]"){if(e)return!1;e=!0}else if(E=="["){if(!e)return!1;e=!1}else if(!e&&!h.test(E))return!1}return e},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.ALLOWED_FUNCTIONS_="calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?".split(" "),goog.html.SafeStyle.FUNCTIONS_RE_=new RegExp("\\b("+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join("|")+")\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(t){return t.replace(goog.html.SafeStyle.URL_RE_,function(e,h,I,E){var _="";return I=I.replace(/^(['"])(.*)\1$/,function(k,L,ae){return _=L,ae}),e=goog.html.SafeUrl.sanitize(I).getTypedStringValue(),h+_+e+_+E})},goog.html.SafeStyle.concat=function(t){var e="",h=function(I){Array.isArray(I)?goog.array.forEach(I,h):e+=goog.html.SafeStyle.unwrap(I)};return goog.array.forEach(arguments,h),e?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(t,e){if(goog.string.internal.contains(t,"<"))throw Error("Selector does not allow '<', got: "+t);var h=t.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(h))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+t);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(h))throw Error("() and [] in selector must be balanced, got: "+t);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),t=t+"{"+goog.html.SafeStyle.unwrap(e).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(t){for(var e={"(":")","[":"]"},h=[],I=0;I<t.length;I++){var E=t[I];if(e[E])h.push(e[E]);else if(goog.object.contains(e,E)&&h.pop()!=E)return!1}return h.length==0},goog.html.SafeStyleSheet.concat=function(t){var e="",h=function(I){Array.isArray(I)?goog.array.forEach(I,h):e+=goog.html.SafeStyleSheet.unwrap(I)};return goog.array.forEach(arguments,h),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.fromConstant=function(t){return(t=goog.string.Const.unwrap(t)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(t,"<"),"Forbidden '<' character in style sheet string: "+t),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(t){return t instanceof goog.html.SafeStyleSheet&&t.constructor===goog.html.SafeStyleSheet&&t.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(t){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=t,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var t=goog.labs.userAgent.util.getNavigator_();return t&&(t=t.userAgent)?t:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(t){goog.labs.userAgent.util.userAgent_=t||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(t){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(e,t)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(t){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(e,t)},goog.labs.userAgent.util.extractVersionTuples=function(t){for(var e,h=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,I=[];e=h.exec(t);)I.push([e[1],e[2],e[3]||void 0]);return I},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function t(E){return E=goog.array.find(E,I),h[E]||""}var e=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(e);e=goog.labs.userAgent.util.extractVersionTuples(e);var h={};goog.array.forEach(e,function(E){h[E[0]]=E[1]});var I=goog.partial(goog.object.containsKey,h);return goog.labs.userAgent.browser.isOpera()?t(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?t(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?t(["Edg"]):goog.labs.userAgent.browser.isChrome()?t(["Chrome","CriOS","HeadlessChrome"]):(e=e[2])&&e[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(t){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),t)},goog.labs.userAgent.browser.getIEVersion_=function(t){var e=/rv: *([\d\.]*)/.exec(t);if(e&&e[1])return e[1];e="";var h=/MSIE +([\d\.]+)/.exec(t);if(h&&h[1])if(t=/Trident\/(\d.\d)/.exec(t),h[1]=="7.0")if(t&&t[1])switch(t[1]){case"4.0":e="8.0";break;case"5.0":e="9.0";break;case"6.0":e="10.0";break;case"7.0":e="11.0"}else e="7.0";else e=h[1];return e},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(t){return goog.html.SafeHtml.unwrapTrustedHTML(t).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(t){return t instanceof goog.html.SafeHtml&&t.constructor===goog.html.SafeHtml&&t.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(t){if(t instanceof goog.html.SafeHtml)return t;var e=typeof t=="object",h=null;return e&&t.implementsGoogI18nBidiDirectionalString&&(h=t.getDirection()),t=e&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(t),h)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(t){return t instanceof goog.html.SafeHtml?t:(t=goog.html.SafeHtml.htmlEscape(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(t)),t.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(t){return t instanceof goog.html.SafeHtml?t:(t=goog.html.SafeHtml.htmlEscape(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(t)),t.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.comment=function(t){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!--"+goog.string.internal.htmlEscape(t)+"-->",null)},goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(t,e,h){return goog.html.SafeHtml.verifyTagName(String(t)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(t),e,h)},goog.html.SafeHtml.verifyTagName=function(t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+t+">.":"");if(t.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+t+"> is not allowed for SafeHtml.":"")},goog.html.SafeHtml.createIframe=function(t,e,h,I){t&&goog.html.TrustedResourceUrl.unwrap(t);var E={};return E.src=t||null,E.srcdoc=e&&goog.html.SafeHtml.unwrap(e),t=goog.html.SafeHtml.combineAttributes(E,{sandbox:""},h),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",t,I)},goog.html.SafeHtml.createSandboxIframe=function(t,e,h,I){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var E={};return E.src=t?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(t)):null,E.srcdoc=e||null,E.sandbox="",t=goog.html.SafeHtml.combineAttributes(E,{},h),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",t,I)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(t,e){return goog.html.TrustedResourceUrl.unwrap(t),t=goog.html.SafeHtml.combineAttributes({src:t},{},e),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t)},goog.html.SafeHtml.createScript=function(t,e){for(var h in e){var I=h.toLowerCase();if(I=="language"||I=="src"||I=="text"||I=="type")throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+I+'" attribute':"")}for(h="",t=goog.array.concat(t),I=0;I<t.length;I++)h+=goog.html.SafeScript.unwrap(t[I]);return t=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(h,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e,t)},goog.html.SafeHtml.createStyle=function(t,e){e=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},e);var h="";t=goog.array.concat(t);for(var I=0;I<t.length;I++)h+=goog.html.SafeStyleSheet.unwrap(t[I]);return t=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(h,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",e,t)},goog.html.SafeHtml.createMetaRefresh=function(t,e){return t=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(t)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(e||0)+"; url="+t})},goog.html.SafeHtml.getAttrNameAndValue_=function(t,e,h){if(h instanceof goog.string.Const)h=goog.string.Const.unwrap(h);else if(e.toLowerCase()=="style"){if(!goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");h=goog.html.SafeHtml.getStyleValue_(h)}else{if(/^on/i.test(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+e+'" requires goog.string.Const value, "'+h+'" given.':"");if(e.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(h instanceof goog.html.TrustedResourceUrl)h=goog.html.TrustedResourceUrl.unwrap(h);else if(h instanceof goog.html.SafeUrl)h=goog.html.SafeUrl.unwrap(h);else{if(typeof h!="string")throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+e+'" on tag "'+t+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+h+'" given.':"");h=goog.html.SafeUrl.sanitize(h).getTypedStringValue()}}return h.implementsGoogStringTypedString&&(h=h.getTypedStringValue()),goog.asserts.assert(typeof h=="string"||typeof h=="number","String or number value expected, got "+typeof h+" with value: "+h),e+'="'+goog.string.internal.htmlEscape(String(h))+'"'},goog.html.SafeHtml.getStyleValue_=function(t){if(!goog.isObject(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof t+" given: "+t:"");return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),goog.html.SafeStyle.unwrap(t)},goog.html.SafeHtml.createWithDir=function(t,e,h,I){return(e=goog.html.SafeHtml.create(e,h,I)).dir_=t,e},goog.html.SafeHtml.join=function(t,e){var h=(t=goog.html.SafeHtml.htmlEscape(t)).getDirection(),I=[],E=function(_){Array.isArray(_)?goog.array.forEach(_,E):(_=goog.html.SafeHtml.htmlEscape(_),I.push(goog.html.SafeHtml.unwrap(_)),_=_.getDirection(),h==goog.i18n.bidi.Dir.NEUTRAL?h=_:_!=goog.i18n.bidi.Dir.NEUTRAL&&h!=_&&(h=null))};return goog.array.forEach(e,E),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(I.join(goog.html.SafeHtml.unwrap(t)),h)},goog.html.SafeHtml.concat=function(t){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(t,e){var h=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return h.dir_=t,h},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(t,e){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(t,e)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t,e){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(t):t,this.dir_=e,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(t,e,h){var I=null,E="<"+t+goog.html.SafeHtml.stringifyAttributes(t,e);return h==null?h=[]:Array.isArray(h)||(h=[h]),goog.dom.tags.isVoidTag(t.toLowerCase())?(goog.asserts.assert(!h.length,"Void tag <"+t+"> does not allow content."),E+=">"):(I=goog.html.SafeHtml.concat(h),E+=">"+goog.html.SafeHtml.unwrap(I)+"</"+t+">",I=I.getDirection()),(t=e&&e.dir)&&(I=/^(ltr|rtl|auto)$/i.test(t)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(E,I)},goog.html.SafeHtml.stringifyAttributes=function(t,e){var h="";if(e)for(var I in e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(I))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+I+'".':"");var E=e[I];E!=null&&(h+=" "+goog.html.SafeHtml.getAttrNameAndValue_(t,I,E))}return h},goog.html.SafeHtml.combineAttributes=function(t,e,h){var I,E={};for(I in t)goog.asserts.assert(I.toLowerCase()==I,"Must be lower case"),E[I]=t[I];for(I in e)goog.asserts.assert(I.toLowerCase()==I,"Must be lower case"),E[I]=e[I];if(h)for(I in h){var _=I.toLowerCase();if(_ in t)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+_+'" attribute, got "'+I+'" with value "'+h[I]+'"':"");_ in e&&delete E[_],E[I]=h[I]}return E},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(t,e,h){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,h||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(t,e,h){t.insertAdjacentHTML(e,goog.html.SafeHtml.unwrapTrustedHTML(h))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),!(goog.DEBUG&&!t.firstChild)&&(e=t.firstChild.firstChild,t.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!e.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(t,e){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;t.lastChild;)t.removeChild(t.lastChild);t.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setInnerHtml=function(t,e){if(goog.asserts.ENABLE_ASSERTS){var h=t.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[h])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+t.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(t,e)},goog.dom.safe.setOuterHtml=function(t,e){t.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setFormElementAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLFormElement(t).action=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setButtonFormAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLButtonElement(t).formAction=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setInputFormAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLInputElement(t).formAction=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setStyle=function(t,e){t.style.cssText=goog.html.SafeStyle.unwrap(e)},goog.dom.safe.documentWrite=function(t,e){t.write(goog.html.SafeHtml.unwrapTrustedHTML(e))},goog.dom.safe.setAnchorHref=function(t,e){goog.dom.asserts.assertIsHTMLAnchorElement(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.href=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setImageSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLImageElement(t),!(e instanceof goog.html.SafeUrl)){var h=/^data:image\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,h)}t.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setAudioSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLAudioElement(t),!(e instanceof goog.html.SafeUrl)){var h=/^data:audio\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,h)}t.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setVideoSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLVideoElement(t),!(e instanceof goog.html.SafeUrl)){var h=/^data:video\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,h)}t.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setEmbedSrc=function(t,e){goog.dom.asserts.assertIsHTMLEmbedElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setFrameSrc=function(t,e){goog.dom.asserts.assertIsHTMLFrameElement(t),t.src=goog.html.TrustedResourceUrl.unwrap(e)},goog.dom.safe.setIframeSrc=function(t,e){goog.dom.asserts.assertIsHTMLIFrameElement(t),t.src=goog.html.TrustedResourceUrl.unwrap(e)},goog.dom.safe.setIframeSrcdoc=function(t,e){goog.dom.asserts.assertIsHTMLIFrameElement(t),t.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setLinkHrefAndRel=function(t,e,h){goog.dom.asserts.assertIsHTMLLinkElement(t),t.rel=h,goog.string.internal.caseInsensitiveContains(h,"stylesheet")?(goog.asserts.assert(e instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),t.href=goog.html.TrustedResourceUrl.unwrap(e)):t.href=e instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(e):e instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(e):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(e))},goog.dom.safe.setObjectData=function(t,e){goog.dom.asserts.assertIsHTMLObjectElement(t),t.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setScriptSrc=function(t,e){goog.dom.asserts.assertIsHTMLScriptElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e),(e=goog.getScriptNonce())&&t.setAttribute("nonce",e)},goog.dom.safe.setScriptContent=function(t,e){goog.dom.asserts.assertIsHTMLScriptElement(t),t.text=goog.html.SafeScript.unwrapTrustedScript(e),(e=goog.getScriptNonce())&&t.setAttribute("nonce",e)},goog.dom.safe.setLocationHref=function(t,e){goog.dom.asserts.assertIsLocation(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.href=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.assignLocation=function(t,e){goog.dom.asserts.assertIsLocation(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.assign(goog.html.SafeUrl.unwrap(e))},goog.dom.safe.replaceLocation=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.replace(goog.html.SafeUrl.unwrap(e))},goog.dom.safe.openInWindow=function(t,e,h,I,E){return t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e=e||goog.global,h=h instanceof goog.string.Const?goog.string.Const.unwrap(h):h||"",e.open(goog.html.SafeUrl.unwrap(t),h,I,E)},goog.dom.safe.parseFromStringHtml=function(t,e){return goog.dom.safe.parseFromString(t,e,"text/html")},goog.dom.safe.parseFromString=function(t,e,h){return t.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(e),h)},goog.dom.safe.createImageFromBlob=function(t){if(!/^image\/.*/g.test(t.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var e=goog.global.URL.createObjectURL(t);return(t=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(e)},goog.dom.safe.setImageSrc(t,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),e)),t},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"\xA0"},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(t,e){for(var h=t.split("%s"),I="",E=Array.prototype.slice.call(arguments,1);E.length&&1<h.length;)I+=h.shift()+E.shift();return I+h.join("%s")},goog.string.collapseWhitespace=function(t){return t.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(t){return t.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(t){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(t){return!/[^\t\n\r ]/.test(t)},goog.string.isAlpha=function(t){return!/[^a-zA-Z]/.test(t)},goog.string.isNumeric=function(t){return!/[^0-9]/.test(t)},goog.string.isAlphaNumeric=function(t){return!/[^a-zA-Z0-9]/.test(t)},goog.string.isSpace=function(t){return t==" "},goog.string.isUnicodeChar=function(t){return t.length==1&&" "<=t&&"~">=t||"\x80"<=t&&"\uFFFD">=t},goog.string.stripNewlines=function(t){return t.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(t){return t.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(t){return t.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(t){return t.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(t){return t.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(t){return t.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(t){return t.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(t,e,h){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var I=t.toLowerCase().match(h),E=e.toLowerCase().match(h),_=Math.min(I.length,E.length),k=0;k<_;k++){h=I[k];var L=E[k];if(h!=L)return t=parseInt(h,10),!isNaN(t)&&(e=parseInt(L,10),!isNaN(e)&&t-e)?t-e:h<L?-1:1}return I.length!=E.length?I.length-E.length:t<e?-1:1},goog.string.intAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\D+/g)},goog.string.floatAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(t){return encodeURIComponent(String(t))},goog.string.urlDecode=function(t){return decodeURIComponent(t.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(t,e){return t=goog.string.internal.htmlEscape(t,e),goog.string.DETECT_DOUBLE_ESCAPING&&(t=t.replace(goog.string.E_RE_,"&#101;")),t},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(t){return goog.string.contains(t,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(t):goog.string.unescapePureXmlEntities_(t):t},goog.string.unescapeEntitiesWithDocument=function(t,e){return goog.string.contains(t,"&")?goog.string.unescapeEntitiesUsingDom_(t,e):t},goog.string.unescapeEntitiesUsingDom_=function(t,e){var h={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},I=e?e.createElement("div"):goog.global.document.createElement("div");return t.replace(goog.string.HTML_ENTITY_PATTERN_,function(E,_){var k=h[E];return k||(_.charAt(0)=="#"&&(_=+("0"+_.substr(1)),isNaN(_)||(k=String.fromCharCode(_))),k||(goog.dom.safe.setInnerHtml(I,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),E+" ")),k=I.firstChild.nodeValue.slice(0,-1)),h[E]=k)})},goog.string.unescapePureXmlEntities_=function(t){return t.replace(/&([^;]+);/g,function(e,h){switch(h){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return h.charAt(0)!="#"||(h=+("0"+h.substr(1)),isNaN(h))?e:String.fromCharCode(h)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(t,e){return goog.string.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.preserveSpaces=function(t){return t.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(t,e){for(var h=e.length,I=0;I<h;I++){var E=h==1?e:e.charAt(I);if(t.charAt(0)==E&&t.charAt(t.length-1)==E)return t.substring(1,t.length-1)}return t},goog.string.truncate=function(t,e,h){return h&&(t=goog.string.unescapeEntities(t)),t.length>e&&(t=t.substring(0,e-3)+"..."),h&&(t=goog.string.htmlEscape(t)),t},goog.string.truncateMiddle=function(t,e,h,I){if(h&&(t=goog.string.unescapeEntities(t)),I&&t.length>e){I>e&&(I=e);var E=t.length-I;t=t.substring(0,e-I)+"..."+t.substring(E)}else t.length>e&&(I=Math.floor(e/2),E=t.length-I,t=t.substring(0,I+e%2)+"..."+t.substring(E));return h&&(t=goog.string.htmlEscape(t)),t},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(t){t=String(t);for(var e=['"'],h=0;h<t.length;h++){var I=t.charAt(h),E=I.charCodeAt(0);e[h+1]=goog.string.specialEscapeChars_[I]||(31<E&&127>E?I:goog.string.escapeChar(I))}return e.push('"'),e.join("")},goog.string.escapeString=function(t){for(var e=[],h=0;h<t.length;h++)e[h]=goog.string.escapeChar(t.charAt(h));return e.join("")},goog.string.escapeChar=function(t){if(t in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[t];if(t in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[t]=goog.string.specialEscapeChars_[t];var e=t.charCodeAt(0);if(31<e&&127>e)var h=t;else 256>e?(h="\\x",(16>e||256<e)&&(h+="0")):(h="\\u",4096>e&&(h+="0")),h+=e.toString(16).toUpperCase();return goog.string.jsEscapeCache_[t]=h},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(t,e){return t&&e?t.split(e).length-1:0},goog.string.removeAt=function(t,e,h){var I=t;return 0<=e&&e<t.length&&0<h&&(I=t.substr(0,e)+t.substr(e+h,t.length-e-h)),I},goog.string.remove=function(t,e){return t.replace(e,"")},goog.string.removeAll=function(t,e){return e=new RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,"")},goog.string.replaceAll=function(t,e,h){return e=new RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,h.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(t){return String(t).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(t,e){return t.repeat(e)}:function(t,e){return Array(e+1).join(t)},goog.string.padNumber=function(t,e,h){return(h=(t=h!==void 0?t.toFixed(h):String(t)).indexOf("."))==-1&&(h=t.length),goog.string.repeat("0",Math.max(0,e-h))+t},goog.string.makeSafe=function(t){return t==null?"":String(t)},goog.string.buildString=function(t){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(t){for(var e=0,h=0;h<t.length;++h)e=31*e+t.charCodeAt(h)>>>0;return e},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(t){var e=Number(t);return e==0&&goog.string.isEmptyOrWhitespace(t)?NaN:e},goog.string.isLowerCamelCase=function(t){return/^[a-z]+([A-Z][a-z]*)*$/.test(t)},goog.string.isUpperCamelCase=function(t){return/^([A-Z][a-z]*)+$/.test(t)},goog.string.toCamelCase=function(t){return String(t).replace(/\-([a-z])/g,function(e,h){return h.toUpperCase()})},goog.string.toSelectorCase=function(t){return String(t).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(t,e){return e=typeof e=="string"?goog.string.regExpEscape(e):"\\s",t.replace(new RegExp("(^"+(e?"|["+e+"]+":"")+")([a-z])","g"),function(h,I,E){return I+E.toUpperCase()})},goog.string.capitalize=function(t){return String(t.charAt(0)).toUpperCase()+String(t.substr(1)).toLowerCase()},goog.string.parseInt=function(t){return isFinite(t)&&(t=String(t)),typeof t=="string"?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN},goog.string.splitLimit=function(t,e,h){t=t.split(e);for(var I=[];0<h&&t.length;)I.push(t.shift()),h--;return t.length&&I.push(t.join(e)),I},goog.string.lastComponent=function(t,e){if(!e)return t;typeof e=="string"&&(e=[e]);for(var h=-1,I=0;I<e.length;I++)if(e[I]!=""){var E=t.lastIndexOf(e[I]);E>h&&(h=E)}return h==-1?t:t.slice(h+1)},goog.string.editDistance=function(t,e){var h=[],I=[];if(t==e)return 0;if(!t.length||!e.length)return Math.max(t.length,e.length);for(var E=0;E<e.length+1;E++)h[E]=E;for(E=0;E<t.length;E++){I[0]=E+1;for(var _=0;_<e.length;_++)I[_+1]=Math.min(I[_]+1,h[_+1]+1,h[_]+ +(t[E]!=e[_]));for(_=0;_<h.length;_++)h[_]=I[_]}return I[e.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var t=goog.labs.userAgent.util.getUserAgent();if(t){t=goog.labs.userAgent.util.extractVersionTuples(t);var e,h=goog.labs.userAgent.engine.getEngineTuple_(t);if(h)return h[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(t,"Firefox"):h[1];if((t=t[0])&&(e=t[2])&&(e=/Trident\/([^\s;]+)/.exec(e)))return e[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(t){if(!goog.labs.userAgent.engine.isEdge())return t[1];for(var e=0;e<t.length;e++){var h=t[e];if(h[0]=="Edge")return h}},goog.labs.userAgent.engine.isVersionOrHigher=function(t){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),t)},goog.labs.userAgent.engine.getVersionForKey_=function(t,e){return(t=goog.array.find(t,function(h){return e==h[0]}))&&t[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.getVersion=function(){var t=goog.labs.userAgent.util.getUserAgent(),e="";return goog.labs.userAgent.platform.isWindows()?e=(t=(e=/Windows (?:NT|Phone) ([0-9.]+)/).exec(t))?t[1]:"0.0":goog.labs.userAgent.platform.isIos()?e=(t=(e=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(t))&&t[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?e=(t=(e=/Mac OS X ([0-9_.]+)/).exec(t))?t[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?e=(t=(e=/(?:KaiOS)\/(\S+)/i).exec(t))&&t[1]:goog.labs.userAgent.platform.isAndroid()?e=(t=(e=/Android\s+([^\);]+)(\)|;)/).exec(t))&&t[1]:goog.labs.userAgent.platform.isChromeOS()&&(e=(t=(e=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(t))&&t[1]),e||""},goog.labs.userAgent.platform.isVersionOrHigher=function(t){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),t)},goog.reflect={},goog.reflect.object=function(t,e){return e},goog.reflect.objectProperty=function(t,e){return t},goog.reflect.sinkValue=function(t){return goog.reflect.sinkValue[" "](t),t},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(t,e){try{return goog.reflect.sinkValue(t[e]),!0}catch{}return!1},goog.reflect.cache=function(t,e,h,I){return I=I?I(e):e,Object.prototype.hasOwnProperty.call(t,I)?t[I]:t[I]=h(e)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var t=goog.userAgent.getNavigatorTyped();return t&&t.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var t=goog.userAgent.getNavigatorTyped();return!!t&&goog.string.contains(t.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.determineVersion_=function(){var t="",e=goog.userAgent.getVersionRegexResult_();return e&&(t=e?e[1]:""),goog.userAgent.IE&&(e=goog.userAgent.getDocumentMode_())!=null&&e>parseFloat(t)?String(e):t},goog.userAgent.getVersionRegexResult_=function(){var t=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(t):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(t):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(t):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(t):void 0},goog.userAgent.getDocumentMode_=function(){var t=goog.global.document;return t?t.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(t,e){return goog.string.compareVersions(t,e)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(t){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,t,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,t)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(t){return Number(goog.userAgent.DOCUMENT_MODE)>=t},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE){var t=goog.userAgent.getDocumentMode_();return t||parseInt(goog.userAgent.VERSION,10)||void 0}}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(t){return goog.string.contains(goog.crypt.base64.paddingChars_,t)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(t,e){goog.asserts.assert(goog.isArrayLike(t),"encodeByteArray takes an array as a parameter"),e===void 0&&(e=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),e=goog.crypt.base64.byteToCharMaps_[e];for(var h=[],I=0;I<t.length;I+=3){var E=t[I],_=I+1<t.length,k=_?t[I+1]:0,L=I+2<t.length,ae=L?t[I+2]:0,q=E>>2;E=(3&E)<<4|k>>4,k=(15&k)<<2|ae>>6,ae&=63,L||(ae=64,_||(k=64)),h.push(e[q],e[E],e[k]||"",e[ae]||"")}return h.join("")},goog.crypt.base64.encodeString=function(t,e){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!e?goog.global.btoa(t):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(t),e)},goog.crypt.base64.decodeString=function(t,e){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!e)return goog.global.atob(t);var h="";return goog.crypt.base64.decodeStringInternal_(t,function(I){h+=String.fromCharCode(I)}),h},goog.crypt.base64.decodeStringToByteArray=function(t,e){var h=[];return goog.crypt.base64.decodeStringInternal_(t,function(I){h.push(I)}),h},goog.crypt.base64.decodeStringToUint8Array=function(t){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var e=t.length,h=3*e/4;h%3?h=Math.floor(h):goog.crypt.base64.isPadding_(t[e-1])&&(h=goog.crypt.base64.isPadding_(t[e-2])?h-2:h-1);var I=new Uint8Array(h),E=0;return goog.crypt.base64.decodeStringInternal_(t,function(_){I[E++]=_}),I.subarray(0,E)},goog.crypt.base64.decodeStringInternal_=function(t,e){function h(ae){for(;I<t.length;){var q=t.charAt(I++),O=goog.crypt.base64.charToByteMap_[q];if(O!=null)return O;if(!goog.string.isEmptyOrWhitespace(q))throw Error("Unknown base64 encoding at char: "+q)}return ae}goog.crypt.base64.init_();for(var I=0;;){var E=h(-1),_=h(0),k=h(64),L=h(64);if(L===64&&E===-1)break;e(E<<2|_>>4),k!=64&&(e(_<<4&240|k>>2),L!=64&&e(k<<6&192|L))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var t=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),e=["+/=","+/","-_=","-_.","-_"],h=0;5>h;h++){var I=t.concat(e[h].split(""));goog.crypt.base64.byteToCharMaps_[h]=I;for(var E=0;E<I.length;E++){var _=I[E],k=goog.crypt.base64.charToByteMap_[_];k===void 0?goog.crypt.base64.charToByteMap_[_]=E:goog.asserts.assert(k===E)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(t){var e=t>>>0;t=Math.floor((t-e)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=e,jspb.utils.split64High=t},jspb.utils.splitInt64=function(t){var e=0>t,h=(t=Math.abs(t))>>>0;t=Math.floor((t-h)/jspb.BinaryConstants.TWO_TO_32),t>>>=0,e&&(t=~t>>>0,4294967295<(h=1+(~h>>>0))&&(h=0,4294967295<++t&&(t=0))),jspb.utils.split64Low=h,jspb.utils.split64High=t},jspb.utils.splitZigzag64=function(t){var e=0>t;t=2*Math.abs(t),jspb.utils.splitUint64(t),t=jspb.utils.split64Low;var h=jspb.utils.split64High;e&&(t==0?h==0?h=t=4294967295:(h--,t=4294967295):t--),jspb.utils.split64Low=t,jspb.utils.split64High=h},jspb.utils.splitFloat32=function(t){var e=0>t?1:0;if((t=e?-t:t)===0)0<1/t?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(t))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(t>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|2139095040)>>>0;else if(t<jspb.BinaryConstants.FLOAT32_MIN)t=Math.round(t/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|t)>>>0;else{var h=Math.floor(Math.log(t)/Math.LN2);t*=Math.pow(2,-h),16777216<=(t=Math.round(t*jspb.BinaryConstants.TWO_TO_23))&&++h,jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|h+127<<23|8388607&t)>>>0}},jspb.utils.splitFloat64=function(t){var e=0>t?1:0;if((t=e?-t:t)===0)jspb.utils.split64High=0<1/t?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(t))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(t>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(e<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(t<jspb.BinaryConstants.FLOAT64_MIN){var h=t/Math.pow(2,-1074);t=h/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(e<<31|t)>>>0,jspb.utils.split64Low=h>>>0}else{var I=0;if(2<=(h=t))for(;2<=h&&1023>I;)I++,h/=2;else for(;1>h&&-1022<I;)h*=2,I--;t=(h=t*Math.pow(2,-I))*jspb.BinaryConstants.TWO_TO_20&1048575,h=h*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(e<<31|I+1023<<20|t)>>>0,jspb.utils.split64Low=h}},jspb.utils.splitHash64=function(t){var e=t.charCodeAt(0),h=t.charCodeAt(1),I=t.charCodeAt(2),E=t.charCodeAt(3),_=t.charCodeAt(4),k=t.charCodeAt(5),L=t.charCodeAt(6);t=t.charCodeAt(7),jspb.utils.split64Low=e+(h<<8)+(I<<16)+(E<<24)>>>0,jspb.utils.split64High=_+(k<<8)+(L<<16)+(t<<24)>>>0},jspb.utils.joinUint64=function(t,e){return e*jspb.BinaryConstants.TWO_TO_32+(t>>>0)},jspb.utils.joinInt64=function(t,e){var h=2147483648&e;return h&&(e=~e>>>0,(t=1+~t>>>0)==0&&(e=e+1>>>0)),t=jspb.utils.joinUint64(t,e),h?-t:t},jspb.utils.toZigzag64=function(t,e,h){var I=e>>31;return h(t<<1^I,(e<<1|t>>>31)^I)},jspb.utils.joinZigzag64=function(t,e){return jspb.utils.fromZigzag64(t,e,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(t,e,h){var I=-(1&t);return h((t>>>1|e<<31)^I,e>>>1^I)},jspb.utils.joinFloat32=function(t,e){e=2*(t>>31)+1;var h=t>>>23&255;return t&=8388607,h==255?t?NaN:1/0*e:h==0?e*Math.pow(2,-149)*t:e*Math.pow(2,h-150)*(t+Math.pow(2,23))},jspb.utils.joinFloat64=function(t,e){var h=2*(e>>31)+1,I=e>>>20&2047;return t=jspb.BinaryConstants.TWO_TO_32*(1048575&e)+t,I==2047?t?NaN:1/0*h:I==0?h*Math.pow(2,-1074)*t:h*Math.pow(2,I-1075)*(t+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(t,e){return String.fromCharCode(t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255,e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(t,e){function h(E,_){return E=E?String(E):"",_?"0000000".slice(E.length)+E:E}if(2097151>=e)return""+jspb.utils.joinUint64(t,e);var I=(t>>>24|e<<8)>>>0&16777215;return t=(16777215&t)+6777216*I+6710656*(e=e>>16&65535),I+=8147497*e,e*=2,1e7<=t&&(I+=Math.floor(t/1e7),t%=1e7),1e7<=I&&(e+=Math.floor(I/1e7),I%=1e7),h(e,0)+h(I,e)+h(t,1)},jspb.utils.joinSignedDecimalString=function(t,e){var h=2147483648&e;return h&&(e=~e+((t=1+~t>>>0)==0?1:0)>>>0),t=jspb.utils.joinUnsignedDecimalString(t,e),h?"-"+t:t},jspb.utils.hash64ToDecimalString=function(t,e){jspb.utils.splitHash64(t),t=jspb.utils.split64Low;var h=jspb.utils.split64High;return e?jspb.utils.joinSignedDecimalString(t,h):jspb.utils.joinUnsignedDecimalString(t,h)},jspb.utils.hash64ArrayToDecimalStrings=function(t,e){for(var h=Array(t.length),I=0;I<t.length;I++)h[I]=jspb.utils.hash64ToDecimalString(t[I],e);return h},jspb.utils.decimalStringToHash64=function(t){function e(_,k){for(var L=0;8>L&&(_!==1||0<k);L++)k=_*I[L]+k,I[L]=255&k,k>>>=8}jspb.asserts.assert(0<t.length);var h=!1;t[0]==="-"&&(h=!0,t=t.slice(1));for(var I=[0,0,0,0,0,0,0,0],E=0;E<t.length;E++)e(10,t.charCodeAt(E)-jspb.utils.ZERO_CHAR_CODE_);return h&&(function(){for(var _=0;8>_;_++)I[_]=255&~I[_]}(),e(1,1)),goog.crypt.byteArrayToString(I)},jspb.utils.splitDecimalString=function(t){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(t))},jspb.utils.toHexDigit_=function(t){return String.fromCharCode(10>t?jspb.utils.ZERO_CHAR_CODE_+t:jspb.utils.A_CHAR_CODE_-10+t)},jspb.utils.fromHexCharCode_=function(t){return t>=jspb.utils.A_CHAR_CODE_?t-jspb.utils.A_CHAR_CODE_+10:t-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(t){var e=Array(18);e[0]="0",e[1]="x";for(var h=0;8>h;h++){var I=t.charCodeAt(7-h);e[2*h+2]=jspb.utils.toHexDigit_(I>>4),e[2*h+3]=jspb.utils.toHexDigit_(15&I)}return e.join("")},jspb.utils.hexStringToHash64=function(t){t=t.toLowerCase(),jspb.asserts.assert(t.length==18),jspb.asserts.assert(t[0]=="0"),jspb.asserts.assert(t[1]=="x");for(var e="",h=0;8>h;h++){var I=jspb.utils.fromHexCharCode_(t.charCodeAt(2*h+2)),E=jspb.utils.fromHexCharCode_(t.charCodeAt(2*h+3));e=String.fromCharCode(16*I+E)+e}return e},jspb.utils.hash64ToNumber=function(t,e){jspb.utils.splitHash64(t),t=jspb.utils.split64Low;var h=jspb.utils.split64High;return e?jspb.utils.joinInt64(t,h):jspb.utils.joinUint64(t,h)},jspb.utils.numberToHash64=function(t){return jspb.utils.splitInt64(t),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(t,e,h){for(var I=0,E=e;E<h;E++)I+=t[E]>>7;return h-e-I},jspb.utils.countVarintFields=function(t,e,h,I){var E=0;if(128>(I=8*I+jspb.BinaryConstants.WireType.VARINT))for(;e<h&&t[e++]==I;)for(E++;;){var _=t[e++];if(!(128&_))break}else for(;e<h;){for(_=I;128<_;){if(t[e]!=(127&_|128))return E;e++,_>>=7}if(t[e++]!=_)break;for(E++;128&(_=t[e++]););}return E},jspb.utils.countFixedFields_=function(t,e,h,I,E){var _=0;if(128>I)for(;e<h&&t[e++]==I;)_++,e+=E;else for(;e<h;){for(var k=I;128<k;){if(t[e++]!=(127&k|128))return _;k>>=7}if(t[e++]!=k)break;_++,e+=E}return _},jspb.utils.countFixed32Fields=function(t,e,h,I){return jspb.utils.countFixedFields_(t,e,h,8*I+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(t,e,h,I){return jspb.utils.countFixedFields_(t,e,h,8*I+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(t,e,h,I){var E=0;for(I=8*I+jspb.BinaryConstants.WireType.DELIMITED;e<h;){for(var _=I;128<_;){if(t[e++]!=(127&_|128))return E;_>>=7}if(t[e++]!=_)break;E++;for(var k=0,L=1;k+=(127&(_=t[e++]))*L,L*=128,(128&_)!=0;);e+=k}return E},jspb.utils.debugBytesToTextFormat=function(t){var e='"';if(t){t=jspb.utils.byteSourceToUint8Array(t);for(var h=0;h<t.length;h++)e+="\\x",16>t[h]&&(e+="0"),e+=t[h].toString(16)}return e+'"'},jspb.utils.debugScalarToTextFormat=function(t){return typeof t=="string"?goog.string.quote(t):t.toString()},jspb.utils.stringToByteArray=function(t){for(var e=new Uint8Array(t.length),h=0;h<t.length;h++){var I=t.charCodeAt(h);if(255<I)throw Error("Conversion error: string contains codepoint outside of byte range");e[h]=I}return e},jspb.utils.byteSourceToUint8Array=function(t){return t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?goog.crypt.base64.decodeStringToUint8Array(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):(jspb.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(t,e,h){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,t&&this.setBlock(t,e,h)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(t,e,h){if(jspb.BinaryDecoder.instanceCache_.length){var I=jspb.BinaryDecoder.instanceCache_.pop();return t&&I.setBlock(t,e,h),I}return new jspb.BinaryDecoder(t,e,h)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(t,e,h){this.bytes_=jspb.utils.byteSourceToUint8Array(t),this.start_=e!==void 0?e:0,this.end_=h!==void 0?this.start_+h:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(t){this.end_=t},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(t){this.cursor_=t},jspb.BinaryDecoder.prototype.advance=function(t){this.cursor_+=t,jspb.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(t){for(var e=128,h=0,I=0,E=0;4>E&&128<=e;E++)h|=(127&(e=this.bytes_[this.cursor_++]))<<7*E;if(128<=e&&(h|=(127&(e=this.bytes_[this.cursor_++]))<<28,I|=(127&e)>>4),128<=e)for(E=0;5>E&&128<=e;E++)I|=(127&(e=this.bytes_[this.cursor_++]))<<7*E+3;if(128>e)return t(h>>>0,I>>>0);jspb.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(t){return this.readSplitVarint64(function(e,h){return jspb.utils.fromZigzag64(e,h,t)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(t){var e=this.bytes_,h=this.cursor_;this.cursor_+=8;for(var I=0,E=0,_=h+7;_>=h;_--)I=I<<8|e[_],E=E<<8|e[_+4];return t(I,E)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(t){for(;128<t;)this.cursor_--,t>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var t=this.bytes_,e=t[this.cursor_+0],h=127&e;return 128>e?(this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),h):(h|=(127&(e=t[this.cursor_+1]))<<7,128>e?(this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),h):(h|=(127&(e=t[this.cursor_+2]))<<14,128>e?(this.cursor_+=3,jspb.asserts.assert(this.cursor_<=this.end_),h):(h|=(127&(e=t[this.cursor_+3]))<<21,128>e?(this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),h):(h|=(15&(e=t[this.cursor_+4]))<<28,128>e?(this.cursor_+=5,jspb.asserts.assert(this.cursor_<=this.end_),h>>>0):(this.cursor_+=5,128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&jspb.asserts.assert(!1),jspb.asserts.assert(this.cursor_<=this.end_),h)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=function(){return~~this.readUnsignedVarint32()},jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var t=this.readUnsignedVarint32();return t>>>1^-(1&t)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var t=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readUint16=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),t<<0|e<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],h=this.bytes_[this.cursor_+2],I=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),(t<<0|e<<8|h<<16|I<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinUint64(t,e)},jspb.BinaryDecoder.prototype.readUint64String=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinUnsignedDecimalString(t,e)},jspb.BinaryDecoder.prototype.readInt8=function(){var t=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),t<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),(t<<0|e<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],h=this.bytes_[this.cursor_+2],I=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),t<<0|e<<8|h<<16|I<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinInt64(t,e)},jspb.BinaryDecoder.prototype.readInt64String=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinSignedDecimalString(t,e)},jspb.BinaryDecoder.prototype.readFloat=function(){var t=this.readUint32();return jspb.utils.joinFloat32(t,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinFloat64(t,e)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(t){var e=this.bytes_,h=this.cursor_;t=h+t;for(var I=[],E="";h<t;){var _=e[h++];if(128>_)I.push(_);else{if(192>_)continue;if(224>_){var k=e[h++];I.push((31&_)<<6|63&k)}else if(240>_){k=e[h++];var L=e[h++];I.push((15&_)<<12|(63&k)<<6|63&L)}else 248>_&&(_=(7&_)<<18|(63&(k=e[h++]))<<12|(63&(L=e[h++]))<<6|63&e[h++],_-=65536,I.push(55296+(_>>10&1023),56320+(1023&_)))}8192<=I.length&&(E+=String.fromCharCode.apply(null,I),I.length=0)}return E+=goog.crypt.byteArrayToString(I),this.cursor_=h,E},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var t=this.readUnsignedVarint32();return this.readString(t)},jspb.BinaryDecoder.prototype.readBytes=function(t){if(0>t||this.cursor_+t>this.bytes_.length)return this.error_=!0,jspb.asserts.fail("Invalid byte length!"),new Uint8Array(0);var e=this.bytes_.subarray(this.cursor_,this.cursor_+t);return this.cursor_+=t,jspb.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var t=this.bytes_,e=this.cursor_,h=t[e+0],I=t[e+1],E=t[e+2],_=t[e+3],k=t[e+4],L=t[e+5],ae=t[e+6];return t=t[e+7],this.cursor_+=8,String.fromCharCode(h,I,E,_,k,L,ae,t)},jspb.BinaryReader=function(t,e,h){this.decoder_=jspb.BinaryDecoder.alloc(t,e,h),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(t,e,h){if(jspb.BinaryReader.instanceCache_.length){var I=jspb.BinaryReader.instanceCache_.pop();return t&&I.decoder_.setBlock(t,e,h),I}return new jspb.BinaryReader(t,e,h)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},goog.exportProperty(jspb.BinaryReader.prototype,"getFieldNumber",jspb.BinaryReader.prototype.getFieldNumber),jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},goog.exportProperty(jspb.BinaryReader.prototype,"isDelimited",jspb.BinaryReader.prototype.isDelimited),jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},goog.exportProperty(jspb.BinaryReader.prototype,"isEndGroup",jspb.BinaryReader.prototype.isEndGroup),jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(t,e,h){this.decoder_.setBlock(t,e,h),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(t){this.decoder_.advance(t)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return jspb.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var t=this.decoder_.readUnsignedVarint32(),e=t>>>3;return(t&=7)!=jspb.BinaryConstants.WireType.VARINT&&t!=jspb.BinaryConstants.WireType.FIXED32&&t!=jspb.BinaryConstants.WireType.FIXED64&&t!=jspb.BinaryConstants.WireType.DELIMITED&&t!=jspb.BinaryConstants.WireType.START_GROUP&&t!=jspb.BinaryConstants.WireType.END_GROUP?(jspb.asserts.fail("Invalid wire type: %s (at position %s)",t,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=e,this.nextWireType_=t,!0)},goog.exportProperty(jspb.BinaryReader.prototype,"nextField",jspb.BinaryReader.prototype.nextField),jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var t=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==t;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(jspb.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)jspb.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var t=this.decoder_.readUnsignedVarint32();this.decoder_.advance(t)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(jspb.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(jspb.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var t=this.nextField_;;){if(!this.nextField()){jspb.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=t&&(jspb.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:jspb.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(t,e){this.readCallbacks_===null&&(this.readCallbacks_={}),jspb.asserts.assert(!this.readCallbacks_[t]),this.readCallbacks_[t]=e},jspb.BinaryReader.prototype.runReadCallback=function(t){return jspb.asserts.assert(this.readCallbacks_!==null),t=this.readCallbacks_[t],jspb.asserts.assert(t),t(this)},jspb.BinaryReader.prototype.readAny=function(t){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(t);var e=jspb.BinaryConstants.FieldType;switch(t){case e.DOUBLE:return this.readDouble();case e.FLOAT:return this.readFloat();case e.INT64:return this.readInt64();case e.UINT64:return this.readUint64();case e.INT32:return this.readInt32();case e.FIXED64:return this.readFixed64();case e.FIXED32:return this.readFixed32();case e.BOOL:return this.readBool();case e.STRING:return this.readString();case e.GROUP:jspb.asserts.fail("Group field type not supported in readAny()");case e.MESSAGE:jspb.asserts.fail("Message field type not supported in readAny()");case e.BYTES:return this.readBytes();case e.UINT32:return this.readUint32();case e.ENUM:return this.readEnum();case e.SFIXED32:return this.readSfixed32();case e.SFIXED64:return this.readSfixed64();case e.SINT32:return this.readSint32();case e.SINT64:return this.readSint64();case e.FHASH64:return this.readFixedHash64();case e.VHASH64:return this.readVarintHash64();default:jspb.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(t,e){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var h=this.decoder_.getEnd(),I=this.decoder_.readUnsignedVarint32();I=this.decoder_.getCursor()+I,this.decoder_.setEnd(I),e(t,this),this.decoder_.setCursor(I),this.decoder_.setEnd(h)},goog.exportProperty(jspb.BinaryReader.prototype,"readMessage",jspb.BinaryReader.prototype.readMessage),jspb.BinaryReader.prototype.readGroup=function(t,e,h){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),jspb.asserts.assert(this.nextField_==t),h(e,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(jspb.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},goog.exportProperty(jspb.BinaryReader.prototype,"readGroup",jspb.BinaryReader.prototype.readGroup),jspb.BinaryReader.prototype.getFieldDecoder=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32(),e=this.decoder_.getCursor(),h=e+t;return t=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),e,t),this.decoder_.setCursor(h),t},jspb.BinaryReader.prototype.readInt32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt32",jspb.BinaryReader.prototype.readInt32),jspb.BinaryReader.prototype.readInt32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt64",jspb.BinaryReader.prototype.readInt64),jspb.BinaryReader.prototype.readInt64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint32",jspb.BinaryReader.prototype.readUint32),jspb.BinaryReader.prototype.readUint32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint64",jspb.BinaryReader.prototype.readUint64),jspb.BinaryReader.prototype.readUint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint32",jspb.BinaryReader.prototype.readSint32),jspb.BinaryReader.prototype.readSint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint64",jspb.BinaryReader.prototype.readSint64),jspb.BinaryReader.prototype.readSint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed32",jspb.BinaryReader.prototype.readFixed32),jspb.BinaryReader.prototype.readFixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed64",jspb.BinaryReader.prototype.readFixed64),jspb.BinaryReader.prototype.readFixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed32",jspb.BinaryReader.prototype.readSfixed32),jspb.BinaryReader.prototype.readSfixed32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed64",jspb.BinaryReader.prototype.readSfixed64),jspb.BinaryReader.prototype.readSfixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},goog.exportProperty(jspb.BinaryReader.prototype,"readFloat",jspb.BinaryReader.prototype.readFloat),jspb.BinaryReader.prototype.readDouble=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},goog.exportProperty(jspb.BinaryReader.prototype,"readDouble",jspb.BinaryReader.prototype.readDouble),jspb.BinaryReader.prototype.readBool=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readBool",jspb.BinaryReader.prototype.readBool),jspb.BinaryReader.prototype.readEnum=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readEnum",jspb.BinaryReader.prototype.readEnum),jspb.BinaryReader.prototype.readString=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(t)},goog.exportProperty(jspb.BinaryReader.prototype,"readString",jspb.BinaryReader.prototype.readString),jspb.BinaryReader.prototype.readBytes=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(t)},goog.exportProperty(jspb.BinaryReader.prototype,"readBytes",jspb.BinaryReader.prototype.readBytes),jspb.BinaryReader.prototype.readVarintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(t){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(t)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(t){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(e,h){return jspb.utils.fromZigzag64(e,h,t)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(t){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(t)},jspb.BinaryReader.prototype.readPackedField_=function(t){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();e=this.decoder_.getCursor()+e;for(var h=[];this.decoder_.getCursor()<e;)h.push(t.call(this.decoder_));return h},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt32",jspb.BinaryReader.prototype.readPackedInt32),jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt64",jspb.BinaryReader.prototype.readPackedInt64),jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint32",jspb.BinaryReader.prototype.readPackedUint32),jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint64",jspb.BinaryReader.prototype.readPackedUint64),jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint32",jspb.BinaryReader.prototype.readPackedSint32),jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint64",jspb.BinaryReader.prototype.readPackedSint64),jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed32",jspb.BinaryReader.prototype.readPackedFixed32),jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed64",jspb.BinaryReader.prototype.readPackedFixed64),jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed32",jspb.BinaryReader.prototype.readPackedSfixed32),jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed64",jspb.BinaryReader.prototype.readPackedSfixed64),jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFloat",jspb.BinaryReader.prototype.readPackedFloat),jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedDouble",jspb.BinaryReader.prototype.readPackedDouble),jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedBool",jspb.BinaryReader.prototype.readPackedBool),jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedEnum",jspb.BinaryReader.prototype.readPackedEnum),jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var t=this.buffer_;return this.buffer_=[],t},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(t,e){for(jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);0<e||127<t;)this.buffer_.push(127&t|128),t=(t>>>7|e<<25)>>>0,e>>>=7;this.buffer_.push(t)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(t,e){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(t),this.writeUint32(e)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(t){for(jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);127<t;)this.buffer_.push(127&t|128),t>>>=7;this.buffer_.push(t)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(t){if(jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),0<=t)this.writeUnsignedVarint32(t);else{for(var e=0;9>e;e++)this.buffer_.push(127&t|128),t>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((t<<1^t>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(t){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(t){var e=this;jspb.utils.splitHash64(t),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(h,I){e.writeSplitVarint64(h>>>0,I>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&256>t),this.buffer_.push(t>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&65536>t),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255),this.buffer_.push(t>>>16&255),this.buffer_.push(t>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(-128<=t&&128>t),this.buffer_.push(t>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(-32768<=t&&32768>t),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255),this.buffer_.push(t>>>16&255),this.buffer_.push(t>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(t),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(+t>=-jspb.BinaryConstants.TWO_TO_63&&+t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(t)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(t){jspb.asserts.assert(1/0===t||-1/0===t||isNaN(t)||t>=-jspb.BinaryConstants.FLOAT32_MAX&&t<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(t),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(t){jspb.asserts.assert(1/0===t||-1/0===t||isNaN(t)||t>=-jspb.BinaryConstants.FLOAT64_MAX&&t<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(t){jspb.asserts.assert(typeof t=="boolean"||typeof t=="number"),this.buffer_.push(t?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(t)},jspb.BinaryEncoder.prototype.writeBytes=function(t){this.buffer_.push.apply(this.buffer_,t)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(t){jspb.utils.splitHash64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(t){jspb.utils.splitHash64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(t){var e=this.buffer_.length;jspb.asserts.assertString(t);for(var h=0;h<t.length;h++){var I=t.charCodeAt(h);if(128>I)this.buffer_.push(I);else if(2048>I)this.buffer_.push(I>>6|192),this.buffer_.push(63&I|128);else if(65536>I)if(55296<=I&&56319>=I&&h+1<t.length){var E=t.charCodeAt(h+1);56320<=E&&57343>=E&&(I=1024*(I-55296)+E-56320+65536,this.buffer_.push(I>>18|240),this.buffer_.push(I>>12&63|128),this.buffer_.push(I>>6&63|128),this.buffer_.push(63&I|128),h++)}else this.buffer_.push(I>>12|224),this.buffer_.push(I>>6&63|128),this.buffer_.push(63&I|128)}return this.buffer_.length-e},jspb.arith={},jspb.arith.UInt64=function(t,e){this.lo=t,this.hi=e},jspb.arith.UInt64.prototype.cmp=function(t){return this.hi<t.hi||this.hi==t.hi&&this.lo<t.lo?-1:this.hi==t.hi&&this.lo==t.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(t){return new jspb.arith.UInt64((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(t){return new jspb.arith.UInt64((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(t,e){var h=65535&t,I=65535&e,E=e>>>16;for(e=h*I+65536*(h*E&65535)+65536*((t>>>=16)*I&65535),h=t*E+(h*E>>>16)+(t*I>>>16);4294967296<=e;)e-=4294967296,h+=1;return new jspb.arith.UInt64(e>>>0,h>>>0)},jspb.arith.UInt64.prototype.mul=function(t){var e=jspb.arith.UInt64.mul32x32(this.lo,t);return(t=jspb.arith.UInt64.mul32x32(this.hi,t)).hi=t.lo,t.lo=0,e.add(t)},jspb.arith.UInt64.prototype.div=function(t){if(t==0)return[];var e=new jspb.arith.UInt64(0,0),h=new jspb.arith.UInt64(this.lo,this.hi);t=new jspb.arith.UInt64(t,0);for(var I=new jspb.arith.UInt64(1,0);!t.msb();)t=t.leftShift(),I=I.leftShift();for(;!I.zero();)0>=t.cmp(h)&&(e=e.add(I),h=h.sub(t)),t=t.rightShift(),I=I.rightShift();return[e,h]},jspb.arith.UInt64.prototype.toString=function(){for(var t="",e=this;!e.zero();){var h=(e=e.div(10))[0];t=e[1].lo+t,e=h}return t==""&&(t="0"),t},jspb.arith.UInt64.fromString=function(t){for(var e=new jspb.arith.UInt64(0,0),h=new jspb.arith.UInt64(0,0),I=0;I<t.length;I++){if("0">t[I]||"9"<t[I])return null;var E=parseInt(t[I],10);h.lo=E,e=e.mul(10).add(h)}return e},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(t,e){this.lo=t,this.hi=e},jspb.arith.Int64.prototype.add=function(t){return new jspb.arith.Int64((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(t){return new jspb.arith.Int64((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var t=(2147483648&this.hi)!=0,e=new jspb.arith.UInt64(this.lo,this.hi);return t&&(e=new jspb.arith.UInt64(0,0).sub(e)),(t?"-":"")+e.toString()},jspb.arith.Int64.fromString=function(t){var e=0<t.length&&t[0]=="-";return e&&(t=t.substring(1)),(t=jspb.arith.UInt64.fromString(t))===null?null:(e&&(t=new jspb.arith.UInt64(0,0).sub(t)),new jspb.arith.Int64(t.lo,t.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(t){var e=this.encoder_.end();this.blocks_.push(e),this.blocks_.push(t),this.totalLength_+=e.length+t.length},jspb.BinaryWriter.prototype.beginDelimited_=function(t){return this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),t=this.encoder_.end(),this.blocks_.push(t),this.totalLength_+=t.length,t.push(this.totalLength_),t},jspb.BinaryWriter.prototype.endDelimited_=function(t){var e=t.pop();for(e=this.totalLength_+this.encoder_.length()-e,jspb.asserts.assert(0<=e);127<e;)t.push(127&e|128),e>>>=7,this.totalLength_++;t.push(e),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(t,e,h){this.appendUint8Array_(t.subarray(e,h))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(t,e,h){t!=null&&e!=null&&h!=null&&this.writeSerializedMessage(t,e,h)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){jspb.asserts.assert(this.bookmarks_.length==0);for(var t=new Uint8Array(this.totalLength_+this.encoder_.length()),e=this.blocks_,h=e.length,I=0,E=0;E<h;E++){var _=e[E];t.set(_,I),I+=_.length}return e=this.encoder_.end(),t.set(e,I),I+=e.length,jspb.asserts.assert(I==t.length),this.blocks_=[t],t},goog.exportProperty(jspb.BinaryWriter.prototype,"getResultBuffer",jspb.BinaryWriter.prototype.getResultBuffer),jspb.BinaryWriter.prototype.getResultBase64String=function(t){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),t)},jspb.BinaryWriter.prototype.beginSubMessage=function(t){this.bookmarks_.push(this.beginDelimited_(t))},jspb.BinaryWriter.prototype.endSubMessage=function(){jspb.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(t,e){jspb.asserts.assert(1<=t&&t==Math.floor(t)),this.encoder_.writeUnsignedVarint32(8*t+e)},jspb.BinaryWriter.prototype.writeAny=function(t,e,h){var I=jspb.BinaryConstants.FieldType;switch(t){case I.DOUBLE:this.writeDouble(e,h);break;case I.FLOAT:this.writeFloat(e,h);break;case I.INT64:this.writeInt64(e,h);break;case I.UINT64:this.writeUint64(e,h);break;case I.INT32:this.writeInt32(e,h);break;case I.FIXED64:this.writeFixed64(e,h);break;case I.FIXED32:this.writeFixed32(e,h);break;case I.BOOL:this.writeBool(e,h);break;case I.STRING:this.writeString(e,h);break;case I.GROUP:jspb.asserts.fail("Group field type not supported in writeAny()");break;case I.MESSAGE:jspb.asserts.fail("Message field type not supported in writeAny()");break;case I.BYTES:this.writeBytes(e,h);break;case I.UINT32:this.writeUint32(e,h);break;case I.ENUM:this.writeEnum(e,h);break;case I.SFIXED32:this.writeSfixed32(e,h);break;case I.SFIXED64:this.writeSfixed64(e,h);break;case I.SINT32:this.writeSint32(e,h);break;case I.SINT64:this.writeSint64(e,h);break;case I.FHASH64:this.writeFixedHash64(e,h);break;case I.VHASH64:this.writeVarintHash64(e,h);break;default:jspb.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(e))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(e))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(e))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(e))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(e))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(e))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(e))},jspb.BinaryWriter.prototype.writeInt32=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt32",jspb.BinaryWriter.prototype.writeInt32),jspb.BinaryWriter.prototype.writeInt32String=function(t,e){e!=null&&(e=parseInt(e,10),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(t,e))},jspb.BinaryWriter.prototype.writeInt64=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt64",jspb.BinaryWriter.prototype.writeInt64),jspb.BinaryWriter.prototype.writeInt64String=function(t,e){e!=null&&(e=jspb.arith.Int64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeUint32=function(t,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint32",jspb.BinaryWriter.prototype.writeUint32),jspb.BinaryWriter.prototype.writeUint32String=function(t,e){e!=null&&(e=parseInt(e,10),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(t,e))},jspb.BinaryWriter.prototype.writeUint64=function(t,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint64",jspb.BinaryWriter.prototype.writeUint64),jspb.BinaryWriter.prototype.writeUint64String=function(t,e){e!=null&&(e=jspb.arith.UInt64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeSint32=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint32",jspb.BinaryWriter.prototype.writeSint32),jspb.BinaryWriter.prototype.writeSint64=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint64",jspb.BinaryWriter.prototype.writeSint64),jspb.BinaryWriter.prototype.writeSintHash64=function(t,e){e!=null&&this.writeZigzagVarintHash64_(t,e)},jspb.BinaryWriter.prototype.writeSint64String=function(t,e){e!=null&&this.writeZigzagVarint64String_(t,e)},jspb.BinaryWriter.prototype.writeFixed32=function(t,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed32",jspb.BinaryWriter.prototype.writeFixed32),jspb.BinaryWriter.prototype.writeFixed64=function(t,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed64",jspb.BinaryWriter.prototype.writeFixed64),jspb.BinaryWriter.prototype.writeFixed64String=function(t,e){e!=null&&(e=jspb.arith.UInt64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed32",jspb.BinaryWriter.prototype.writeSfixed32),jspb.BinaryWriter.prototype.writeSfixed64=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed64",jspb.BinaryWriter.prototype.writeSfixed64),jspb.BinaryWriter.prototype.writeSfixed64String=function(t,e){e!=null&&(e=jspb.arith.Int64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeFloat=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFloat",jspb.BinaryWriter.prototype.writeFloat),jspb.BinaryWriter.prototype.writeDouble=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeDouble",jspb.BinaryWriter.prototype.writeDouble),jspb.BinaryWriter.prototype.writeBool=function(t,e){e!=null&&(jspb.asserts.assert(typeof e=="boolean"||typeof e=="number"),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBool",jspb.BinaryWriter.prototype.writeBool),jspb.BinaryWriter.prototype.writeEnum=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeEnum",jspb.BinaryWriter.prototype.writeEnum),jspb.BinaryWriter.prototype.writeString=function(t,e){e!=null&&(t=this.beginDelimited_(t),this.encoder_.writeString(e),this.endDelimited_(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeString",jspb.BinaryWriter.prototype.writeString),jspb.BinaryWriter.prototype.writeBytes=function(t,e){e!=null&&(e=jspb.utils.byteSourceToUint8Array(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(e.length),this.appendUint8Array_(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBytes",jspb.BinaryWriter.prototype.writeBytes),jspb.BinaryWriter.prototype.writeMessage=function(t,e,h){e!=null&&(t=this.beginDelimited_(t),h(e,this),this.endDelimited_(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeMessage",jspb.BinaryWriter.prototype.writeMessage),jspb.BinaryWriter.prototype.writeMessageSet=function(t,e,h){e!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t),t=this.beginDelimited_(3),h(e,this),this.endDelimited_(t),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(t,e,h){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.START_GROUP),h(e,this),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.END_GROUP))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeGroup",jspb.BinaryWriter.prototype.writeGroup),jspb.BinaryWriter.prototype.writeFixedHash64=function(t,e){e!=null&&(jspb.asserts.assert(e.length==8),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(e))},jspb.BinaryWriter.prototype.writeVarintHash64=function(t,e){e!=null&&(jspb.asserts.assert(e.length==8),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(e))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(t,e,h){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e,h)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(t,e,h){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e,h)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(t,e,h){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT);var I=this.encoder_;jspb.utils.toZigzag64(e,h,function(E,_){I.writeSplitVarint64(E>>>0,_>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeSignedVarint32_(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt32",jspb.BinaryWriter.prototype.writeRepeatedInt32),jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeInt32String(t,e[h])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeSignedVarint64_(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt64",jspb.BinaryWriter.prototype.writeRepeatedInt64),jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(t,e,h,I){if(e!=null)for(var E=0;E<e.length;E++)this.writeSplitFixed64(t,h(e[E]),I(e[E]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(t,e,h,I){if(e!=null)for(var E=0;E<e.length;E++)this.writeSplitVarint64(t,h(e[E]),I(e[E]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(t,e,h,I){if(e!=null)for(var E=0;E<e.length;E++)this.writeSplitZigzagVarint64(t,h(e[E]),I(e[E]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeInt64String(t,e[h])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeUnsignedVarint32_(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint32",jspb.BinaryWriter.prototype.writeRepeatedUint32),jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeUint32String(t,e[h])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeUnsignedVarint64_(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint64",jspb.BinaryWriter.prototype.writeRepeatedUint64),jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeUint64String(t,e[h])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeZigzagVarint32_(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint32",jspb.BinaryWriter.prototype.writeRepeatedSint32),jspb.BinaryWriter.prototype.writeRepeatedSint64=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeZigzagVarint64_(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint64",jspb.BinaryWriter.prototype.writeRepeatedSint64),jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeZigzagVarint64String_(t,e[h])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeZigzagVarintHash64_(t,e[h])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeFixed32(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed32",jspb.BinaryWriter.prototype.writeRepeatedFixed32),jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeFixed64(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64",jspb.BinaryWriter.prototype.writeRepeatedFixed64),jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeFixed64String(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64String",jspb.BinaryWriter.prototype.writeRepeatedFixed64String),jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeSfixed32(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed32",jspb.BinaryWriter.prototype.writeRepeatedSfixed32),jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeSfixed64(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed64",jspb.BinaryWriter.prototype.writeRepeatedSfixed64),jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeSfixed64String(t,e[h])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeFloat(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFloat",jspb.BinaryWriter.prototype.writeRepeatedFloat),jspb.BinaryWriter.prototype.writeRepeatedDouble=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeDouble(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedDouble",jspb.BinaryWriter.prototype.writeRepeatedDouble),jspb.BinaryWriter.prototype.writeRepeatedBool=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeBool(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBool",jspb.BinaryWriter.prototype.writeRepeatedBool),jspb.BinaryWriter.prototype.writeRepeatedEnum=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeEnum(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedEnum",jspb.BinaryWriter.prototype.writeRepeatedEnum),jspb.BinaryWriter.prototype.writeRepeatedString=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeString(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedString",jspb.BinaryWriter.prototype.writeRepeatedString),jspb.BinaryWriter.prototype.writeRepeatedBytes=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeBytes(t,e[h])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBytes",jspb.BinaryWriter.prototype.writeRepeatedBytes),jspb.BinaryWriter.prototype.writeRepeatedMessage=function(t,e,h){if(e!=null)for(var I=0;I<e.length;I++){var E=this.beginDelimited_(t);h(e[I],this),this.endDelimited_(E)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedMessage",jspb.BinaryWriter.prototype.writeRepeatedMessage),jspb.BinaryWriter.prototype.writeRepeatedGroup=function(t,e,h){if(e!=null)for(var I=0;I<e.length;I++)this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.START_GROUP),h(e[I],this),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.END_GROUP)},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedGroup",jspb.BinaryWriter.prototype.writeRepeatedGroup),jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeFixedHash64(t,e[h])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(t,e){if(e!=null)for(var h=0;h<e.length;h++)this.writeVarintHash64(t,e[h])},jspb.BinaryWriter.prototype.writePackedInt32=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++)this.encoder_.writeSignedVarint32(e[h]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt32",jspb.BinaryWriter.prototype.writePackedInt32),jspb.BinaryWriter.prototype.writePackedInt32String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++)this.encoder_.writeSignedVarint32(parseInt(e[h],10));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedInt64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++)this.encoder_.writeSignedVarint64(e[h]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt64",jspb.BinaryWriter.prototype.writePackedInt64),jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(t,e,h,I){if(e!=null){t=this.beginDelimited_(t);for(var E=0;E<e.length;E++)this.encoder_.writeSplitFixed64(h(e[E]),I(e[E]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(t,e,h,I){if(e!=null){t=this.beginDelimited_(t);for(var E=0;E<e.length;E++)this.encoder_.writeSplitVarint64(h(e[E]),I(e[E]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(t,e,h,I){if(e!=null){t=this.beginDelimited_(t);for(var E=this.encoder_,_=0;_<e.length;_++)jspb.utils.toZigzag64(h(e[_]),I(e[_]),function(k,L){E.writeSplitVarint64(k>>>0,L>>>0)});this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++){var I=jspb.arith.Int64.fromString(e[h]);this.encoder_.writeSplitVarint64(I.lo,I.hi)}this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedUint32=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++)this.encoder_.writeUnsignedVarint32(e[h]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint32",jspb.BinaryWriter.prototype.writePackedUint32),jspb.BinaryWriter.prototype.writePackedUint32String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++)this.encoder_.writeUnsignedVarint32(parseInt(e[h],10));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedUint64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++)this.encoder_.writeUnsignedVarint64(e[h]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint64",jspb.BinaryWriter.prototype.writePackedUint64),jspb.BinaryWriter.prototype.writePackedUint64String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++){var I=jspb.arith.UInt64.fromString(e[h]);this.encoder_.writeSplitVarint64(I.lo,I.hi)}this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSint32=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++)this.encoder_.writeZigzagVarint32(e[h]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint32",jspb.BinaryWriter.prototype.writePackedSint32),jspb.BinaryWriter.prototype.writePackedSint64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++)this.encoder_.writeZigzagVarint64(e[h]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint64",jspb.BinaryWriter.prototype.writePackedSint64),jspb.BinaryWriter.prototype.writePackedSint64String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e[h]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++)this.encoder_.writeZigzagVarintHash64(e[h]);this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeUint32(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed32",jspb.BinaryWriter.prototype.writePackedFixed32),jspb.BinaryWriter.prototype.writePackedFixed64=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeUint64(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed64",jspb.BinaryWriter.prototype.writePackedFixed64),jspb.BinaryWriter.prototype.writePackedFixed64String=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++){var h=jspb.arith.UInt64.fromString(e[t]);this.encoder_.writeSplitFixed64(h.lo,h.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeInt32(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed32",jspb.BinaryWriter.prototype.writePackedSfixed32),jspb.BinaryWriter.prototype.writePackedSfixed64=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeInt64(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed64",jspb.BinaryWriter.prototype.writePackedSfixed64),jspb.BinaryWriter.prototype.writePackedSfixed64String=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeInt64String(e[t])},jspb.BinaryWriter.prototype.writePackedFloat=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeFloat(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFloat",jspb.BinaryWriter.prototype.writePackedFloat),jspb.BinaryWriter.prototype.writePackedDouble=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeDouble(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedDouble",jspb.BinaryWriter.prototype.writePackedDouble),jspb.BinaryWriter.prototype.writePackedBool=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(e.length),t=0;t<e.length;t++)this.encoder_.writeBool(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedBool",jspb.BinaryWriter.prototype.writePackedBool),jspb.BinaryWriter.prototype.writePackedEnum=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++)this.encoder_.writeEnum(e[h]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedEnum",jspb.BinaryWriter.prototype.writePackedEnum),jspb.BinaryWriter.prototype.writePackedFixedHash64=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeFixedHash64(e[t])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var h=0;h<e.length;h++)this.encoder_.writeVarintHash64(e[h]);this.endDelimited_(t)}},jspb.Map=function(t,e){this.arr_=t,this.valueCtor_=e,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},goog.exportSymbol("jspb.Map",jspb.Map),jspb.Map.prototype.loadFromArray_=function(){for(var t=0;t<this.arr_.length;t++){var e=this.arr_[t],h=e[0];this.map_[h.toString()]=new jspb.Map.Entry_(h,e[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var t,e=this.map_;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var h=e[t].valueWrapper;h&&h.toArray()}}}else{for(this.arr_.length=0,(e=this.stringKeys_()).sort(),t=0;t<e.length;t++){var I=this.map_[e[t]];(h=I.valueWrapper)&&h.toArray(),this.arr_.push([I.key,I.value])}this.arrClean=!0}return this.arr_},goog.exportProperty(jspb.Map.prototype,"toArray",jspb.Map.prototype.toArray),jspb.Map.prototype.toObject=function(t,e){for(var h=this.toArray(),I=[],E=0;E<h.length;E++){var _=this.map_[h[E][0].toString()];this.wrapEntry_(_);var k=_.valueWrapper;k?(jspb.asserts.assert(e),I.push([_.key,e(t,k)])):I.push([_.key,_.value])}return I},goog.exportProperty(jspb.Map.prototype,"toObject",jspb.Map.prototype.toObject),jspb.Map.fromObject=function(t,e,h){e=new jspb.Map([],e);for(var I=0;I<t.length;I++){var E=t[I][0],_=h(t[I][1]);e.set(E,_)}return e},goog.exportProperty(jspb.Map,"fromObject",jspb.Map.fromObject),jspb.Map.ArrayIteratorIterable_=function(t){this.idx_=0,this.arr_=t},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},goog.exportProperty(jspb.Map.prototype,"getLength",jspb.Map.prototype.getLength),jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},goog.exportProperty(jspb.Map.prototype,"clear",jspb.Map.prototype.clear),jspb.Map.prototype.del=function(t){t=t.toString();var e=this.map_.hasOwnProperty(t);return delete this.map_[t],this.arrClean=!1,e},goog.exportProperty(jspb.Map.prototype,"del",jspb.Map.prototype.del),jspb.Map.prototype.getEntryList=function(){var t=[],e=this.stringKeys_();e.sort();for(var h=0;h<e.length;h++){var I=this.map_[e[h]];t.push([I.key,I.value])}return t},goog.exportProperty(jspb.Map.prototype,"getEntryList",jspb.Map.prototype.getEntryList),jspb.Map.prototype.entries=function(){var t=[],e=this.stringKeys_();e.sort();for(var h=0;h<e.length;h++){var I=this.map_[e[h]];t.push([I.key,this.wrapEntry_(I)])}return new jspb.Map.ArrayIteratorIterable_(t)},goog.exportProperty(jspb.Map.prototype,"entries",jspb.Map.prototype.entries),jspb.Map.prototype.keys=function(){var t=[],e=this.stringKeys_();e.sort();for(var h=0;h<e.length;h++)t.push(this.map_[e[h]].key);return new jspb.Map.ArrayIteratorIterable_(t)},goog.exportProperty(jspb.Map.prototype,"keys",jspb.Map.prototype.keys),jspb.Map.prototype.values=function(){var t=[],e=this.stringKeys_();e.sort();for(var h=0;h<e.length;h++)t.push(this.wrapEntry_(this.map_[e[h]]));return new jspb.Map.ArrayIteratorIterable_(t)},goog.exportProperty(jspb.Map.prototype,"values",jspb.Map.prototype.values),jspb.Map.prototype.forEach=function(t,e){var h=this.stringKeys_();h.sort();for(var I=0;I<h.length;I++){var E=this.map_[h[I]];t.call(e,this.wrapEntry_(E),E.key,this)}},goog.exportProperty(jspb.Map.prototype,"forEach",jspb.Map.prototype.forEach),jspb.Map.prototype.set=function(t,e){var h=new jspb.Map.Entry_(t);return this.valueCtor_?(h.valueWrapper=e,h.value=e.toArray()):h.value=e,this.map_[t.toString()]=h,this.arrClean=!1,this},goog.exportProperty(jspb.Map.prototype,"set",jspb.Map.prototype.set),jspb.Map.prototype.wrapEntry_=function(t){return this.valueCtor_?(t.valueWrapper||(t.valueWrapper=new this.valueCtor_(t.value)),t.valueWrapper):t.value},jspb.Map.prototype.get=function(t){if(t=this.map_[t.toString()])return this.wrapEntry_(t)},goog.exportProperty(jspb.Map.prototype,"get",jspb.Map.prototype.get),jspb.Map.prototype.has=function(t){return t.toString()in this.map_},goog.exportProperty(jspb.Map.prototype,"has",jspb.Map.prototype.has),jspb.Map.prototype.serializeBinary=function(t,e,h,I,E){var _=this.stringKeys_();_.sort();for(var k=0;k<_.length;k++){var L=this.map_[_[k]];e.beginSubMessage(t),h.call(e,1,L.key),this.valueCtor_?I.call(e,2,this.wrapEntry_(L),E):I.call(e,2,L.value),e.endSubMessage()}},goog.exportProperty(jspb.Map.prototype,"serializeBinary",jspb.Map.prototype.serializeBinary),jspb.Map.deserializeBinary=function(t,e,h,I,E,_,k){for(;e.nextField()&&!e.isEndGroup();){var L=e.getFieldNumber();L==1?_=h.call(e):L==2&&(t.valueCtor_?(jspb.asserts.assert(E),k||(k=new t.valueCtor_),I.call(e,k,E)):k=I.call(e))}jspb.asserts.assert(_!=null),jspb.asserts.assert(k!=null),t.set(_,k)},goog.exportProperty(jspb.Map,"deserializeBinary",jspb.Map.deserializeBinary),jspb.Map.prototype.stringKeys_=function(){var t,e=this.map_,h=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&h.push(t);return h},jspb.Map.Entry_=function(t,e){this.key=t,this.value=e,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(t,e,h,I,E){this.fieldIndex=t,this.fieldName=e,this.ctor=h,this.toObjectFn=I,this.isRepeated=E},goog.exportSymbol("jspb.ExtensionFieldInfo",jspb.ExtensionFieldInfo),jspb.ExtensionFieldBinaryInfo=function(t,e,h,I,E,_){this.fieldInfo=t,this.binaryReaderFn=e,this.binaryWriterFn=h,this.binaryMessageSerializeFn=I,this.binaryMessageDeserializeFn=E,this.isPacked=_},goog.exportSymbol("jspb.ExtensionFieldBinaryInfo",jspb.ExtensionFieldBinaryInfo),jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},goog.exportProperty(jspb.ExtensionFieldInfo.prototype,"isMessageType",jspb.ExtensionFieldInfo.prototype.isMessageType),jspb.Message=function(){},goog.exportSymbol("jspb.Message",jspb.Message),jspb.Message.GENERATE_TO_OBJECT=!0,goog.exportProperty(jspb.Message,"GENERATE_TO_OBJECT",jspb.Message.GENERATE_TO_OBJECT),jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,goog.exportProperty(jspb.Message,"GENERATE_FROM_OBJECT",jspb.Message.GENERATE_FROM_OBJECT),jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},goog.exportProperty(jspb.Message.prototype,"getJsPbMessageId",jspb.Message.prototype.getJsPbMessageId),jspb.Message.getIndex_=function(t,e){return e+t.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(t,e){return e-t.arrayIndexOffset_},jspb.Message.initialize=function(t,e,h,I,E,_){if(t.wrappers_=null,e||(e=h?[h]:[]),t.messageId_=h?String(h):void 0,t.arrayIndexOffset_=h===0?-1:0,t.array=e,jspb.Message.initPivotAndExtensionObject_(t,I),t.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(t.repeatedFields=E),E)for(e=0;e<E.length;e++)(h=E[e])<t.pivot_?(h=jspb.Message.getIndex_(t,h),t.array[h]=t.array[h]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(t),t.extensionObject_[h]=t.extensionObject_[h]||jspb.Message.EMPTY_LIST_SENTINEL_);if(_&&_.length)for(e=0;e<_.length;e++)jspb.Message.computeOneofCase(t,_[e])},goog.exportProperty(jspb.Message,"initialize",jspb.Message.initialize),jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(t){return jspb.Message.ASSUME_LOCAL_ARRAYS?t instanceof Array:Array.isArray(t)},jspb.Message.isExtensionObject_=function(t){return!(t===null||typeof t!="object"||jspb.Message.isArray_(t)||jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(t,e){var h=t.array.length,I=-1;if(h&&(I=h-1,h=t.array[I],jspb.Message.isExtensionObject_(h)))return t.pivot_=jspb.Message.getFieldNumber_(t,I),void(t.extensionObject_=h);-1<e?(t.pivot_=Math.max(e,jspb.Message.getFieldNumber_(t,I+1)),t.extensionObject_=null):t.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(t){var e=jspb.Message.getIndex_(t,t.pivot_);t.array[e]||(t.extensionObject_=t.array[e]={})},jspb.Message.toObjectList=function(t,e,h){for(var I=[],E=0;E<t.length;E++)I[E]=e.call(t[E],h,t[E]);return I},goog.exportProperty(jspb.Message,"toObjectList",jspb.Message.toObjectList),jspb.Message.toObjectExtension=function(t,e,h,I,E){for(var _ in h){var k=h[_],L=I.call(t,k);if(L!=null){for(var ae in k.fieldName)if(k.fieldName.hasOwnProperty(ae))break;e[ae]=k.toObjectFn?k.isRepeated?jspb.Message.toObjectList(L,k.toObjectFn,E):k.toObjectFn(E,L):L}}},goog.exportProperty(jspb.Message,"toObjectExtension",jspb.Message.toObjectExtension),jspb.Message.serializeBinaryExtensions=function(t,e,h,I){for(var E in h){var _=h[E],k=_.fieldInfo;if(!_.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var L=I.call(t,k);if(L!=null)if(k.isMessageType()){if(!_.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");_.binaryWriterFn.call(e,k.fieldIndex,L,_.binaryMessageSerializeFn)}else _.binaryWriterFn.call(e,k.fieldIndex,L)}},goog.exportProperty(jspb.Message,"serializeBinaryExtensions",jspb.Message.serializeBinaryExtensions),jspb.Message.readBinaryExtension=function(t,e,h,I,E){var _=h[e.getFieldNumber()];if(_){if(h=_.fieldInfo,!_.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(h.isMessageType()){var k=new h.ctor;_.binaryReaderFn.call(e,k,_.binaryMessageDeserializeFn)}else k=_.binaryReaderFn.call(e);h.isRepeated&&!_.isPacked?(e=I.call(t,h))?e.push(k):E.call(t,h,[k]):E.call(t,h,k)}else e.skipField()},goog.exportProperty(jspb.Message,"readBinaryExtension",jspb.Message.readBinaryExtension),jspb.Message.getField=function(t,e){if(e<t.pivot_){e=jspb.Message.getIndex_(t,e);var h=t.array[e];return h===jspb.Message.EMPTY_LIST_SENTINEL_?t.array[e]=[]:h}if(t.extensionObject_)return(h=t.extensionObject_[e])===jspb.Message.EMPTY_LIST_SENTINEL_?t.extensionObject_[e]=[]:h},goog.exportProperty(jspb.Message,"getField",jspb.Message.getField),jspb.Message.getRepeatedField=function(t,e){return jspb.Message.getField(t,e)},goog.exportProperty(jspb.Message,"getRepeatedField",jspb.Message.getRepeatedField),jspb.Message.getOptionalFloatingPointField=function(t,e){return(t=jspb.Message.getField(t,e))==null?t:+t},goog.exportProperty(jspb.Message,"getOptionalFloatingPointField",jspb.Message.getOptionalFloatingPointField),jspb.Message.getBooleanField=function(t,e){return(t=jspb.Message.getField(t,e))==null?t:!!t},goog.exportProperty(jspb.Message,"getBooleanField",jspb.Message.getBooleanField),jspb.Message.getRepeatedFloatingPointField=function(t,e){var h=jspb.Message.getRepeatedField(t,e);if(t.convertedPrimitiveFields_||(t.convertedPrimitiveFields_={}),!t.convertedPrimitiveFields_[e]){for(var I=0;I<h.length;I++)h[I]=+h[I];t.convertedPrimitiveFields_[e]=!0}return h},goog.exportProperty(jspb.Message,"getRepeatedFloatingPointField",jspb.Message.getRepeatedFloatingPointField),jspb.Message.getRepeatedBooleanField=function(t,e){var h=jspb.Message.getRepeatedField(t,e);if(t.convertedPrimitiveFields_||(t.convertedPrimitiveFields_={}),!t.convertedPrimitiveFields_[e]){for(var I=0;I<h.length;I++)h[I]=!!h[I];t.convertedPrimitiveFields_[e]=!0}return h},goog.exportProperty(jspb.Message,"getRepeatedBooleanField",jspb.Message.getRepeatedBooleanField),jspb.Message.bytesAsB64=function(t){return t==null||typeof t=="string"?t:jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array?goog.crypt.base64.encodeByteArray(t):(jspb.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(t)),null)},goog.exportProperty(jspb.Message,"bytesAsB64",jspb.Message.bytesAsB64),jspb.Message.bytesAsU8=function(t){return t==null||t instanceof Uint8Array?t:typeof t=="string"?goog.crypt.base64.decodeStringToUint8Array(t):(jspb.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(t)),null)},goog.exportProperty(jspb.Message,"bytesAsU8",jspb.Message.bytesAsU8),jspb.Message.bytesListAsB64=function(t){return jspb.Message.assertConsistentTypes_(t),t.length&&typeof t[0]!="string"?goog.array.map(t,jspb.Message.bytesAsB64):t},goog.exportProperty(jspb.Message,"bytesListAsB64",jspb.Message.bytesListAsB64),jspb.Message.bytesListAsU8=function(t){return jspb.Message.assertConsistentTypes_(t),!t.length||t[0]instanceof Uint8Array?t:goog.array.map(t,jspb.Message.bytesAsU8)},goog.exportProperty(jspb.Message,"bytesListAsU8",jspb.Message.bytesListAsU8),jspb.Message.assertConsistentTypes_=function(t){if(goog.DEBUG&&t&&1<t.length){var e=goog.typeOf(t[0]);goog.array.forEach(t,function(h){goog.typeOf(h)!=e&&jspb.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(h)+" expected "+e)})}},jspb.Message.getFieldWithDefault=function(t,e,h){return(t=jspb.Message.getField(t,e))==null?h:t},goog.exportProperty(jspb.Message,"getFieldWithDefault",jspb.Message.getFieldWithDefault),jspb.Message.getBooleanFieldWithDefault=function(t,e,h){return(t=jspb.Message.getBooleanField(t,e))==null?h:t},goog.exportProperty(jspb.Message,"getBooleanFieldWithDefault",jspb.Message.getBooleanFieldWithDefault),jspb.Message.getFloatingPointFieldWithDefault=function(t,e,h){return(t=jspb.Message.getOptionalFloatingPointField(t,e))==null?h:t},goog.exportProperty(jspb.Message,"getFloatingPointFieldWithDefault",jspb.Message.getFloatingPointFieldWithDefault),jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,goog.exportProperty(jspb.Message,"getFieldProto3",jspb.Message.getFieldProto3),jspb.Message.getMapField=function(t,e,h,I){if(t.wrappers_||(t.wrappers_={}),e in t.wrappers_)return t.wrappers_[e];var E=jspb.Message.getField(t,e);if(!E){if(h)return;E=[],jspb.Message.setField(t,e,E)}return t.wrappers_[e]=new jspb.Map(E,I)},goog.exportProperty(jspb.Message,"getMapField",jspb.Message.getMapField),jspb.Message.setField=function(t,e,h){return jspb.asserts.assertInstanceof(t,jspb.Message),e<t.pivot_?t.array[jspb.Message.getIndex_(t,e)]=h:(jspb.Message.maybeInitEmptyExtensionObject_(t),t.extensionObject_[e]=h),t},goog.exportProperty(jspb.Message,"setField",jspb.Message.setField),jspb.Message.setProto3IntField=function(t,e,h){return jspb.Message.setFieldIgnoringDefault_(t,e,h,0)},goog.exportProperty(jspb.Message,"setProto3IntField",jspb.Message.setProto3IntField),jspb.Message.setProto3FloatField=function(t,e,h){return jspb.Message.setFieldIgnoringDefault_(t,e,h,0)},goog.exportProperty(jspb.Message,"setProto3FloatField",jspb.Message.setProto3FloatField),jspb.Message.setProto3BooleanField=function(t,e,h){return jspb.Message.setFieldIgnoringDefault_(t,e,h,!1)},goog.exportProperty(jspb.Message,"setProto3BooleanField",jspb.Message.setProto3BooleanField),jspb.Message.setProto3StringField=function(t,e,h){return jspb.Message.setFieldIgnoringDefault_(t,e,h,"")},goog.exportProperty(jspb.Message,"setProto3StringField",jspb.Message.setProto3StringField),jspb.Message.setProto3BytesField=function(t,e,h){return jspb.Message.setFieldIgnoringDefault_(t,e,h,"")},goog.exportProperty(jspb.Message,"setProto3BytesField",jspb.Message.setProto3BytesField),jspb.Message.setProto3EnumField=function(t,e,h){return jspb.Message.setFieldIgnoringDefault_(t,e,h,0)},goog.exportProperty(jspb.Message,"setProto3EnumField",jspb.Message.setProto3EnumField),jspb.Message.setProto3StringIntField=function(t,e,h){return jspb.Message.setFieldIgnoringDefault_(t,e,h,"0")},goog.exportProperty(jspb.Message,"setProto3StringIntField",jspb.Message.setProto3StringIntField),jspb.Message.setFieldIgnoringDefault_=function(t,e,h,I){return jspb.asserts.assertInstanceof(t,jspb.Message),h!==I?jspb.Message.setField(t,e,h):e<t.pivot_?t.array[jspb.Message.getIndex_(t,e)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(t),delete t.extensionObject_[e]),t},jspb.Message.addToRepeatedField=function(t,e,h,I){return jspb.asserts.assertInstanceof(t,jspb.Message),e=jspb.Message.getRepeatedField(t,e),I!=null?e.splice(I,0,h):e.push(h),t},goog.exportProperty(jspb.Message,"addToRepeatedField",jspb.Message.addToRepeatedField),jspb.Message.setOneofField=function(t,e,h,I){return jspb.asserts.assertInstanceof(t,jspb.Message),(h=jspb.Message.computeOneofCase(t,h))&&h!==e&&I!==void 0&&(t.wrappers_&&h in t.wrappers_&&(t.wrappers_[h]=void 0),jspb.Message.setField(t,h,void 0)),jspb.Message.setField(t,e,I)},goog.exportProperty(jspb.Message,"setOneofField",jspb.Message.setOneofField),jspb.Message.computeOneofCase=function(t,e){for(var h,I,E=0;E<e.length;E++){var _=e[E],k=jspb.Message.getField(t,_);k!=null&&(h=_,I=k,jspb.Message.setField(t,_,void 0))}return h?(jspb.Message.setField(t,h,I),h):0},goog.exportProperty(jspb.Message,"computeOneofCase",jspb.Message.computeOneofCase),jspb.Message.getWrapperField=function(t,e,h,I){if(t.wrappers_||(t.wrappers_={}),!t.wrappers_[h]){var E=jspb.Message.getField(t,h);(I||E)&&(t.wrappers_[h]=new e(E))}return t.wrappers_[h]},goog.exportProperty(jspb.Message,"getWrapperField",jspb.Message.getWrapperField),jspb.Message.getRepeatedWrapperField=function(t,e,h){return jspb.Message.wrapRepeatedField_(t,e,h),(e=t.wrappers_[h])==jspb.Message.EMPTY_LIST_SENTINEL_&&(e=t.wrappers_[h]=[]),e},goog.exportProperty(jspb.Message,"getRepeatedWrapperField",jspb.Message.getRepeatedWrapperField),jspb.Message.wrapRepeatedField_=function(t,e,h){if(t.wrappers_||(t.wrappers_={}),!t.wrappers_[h]){for(var I=jspb.Message.getRepeatedField(t,h),E=[],_=0;_<I.length;_++)E[_]=new e(I[_]);t.wrappers_[h]=E}},jspb.Message.setWrapperField=function(t,e,h){jspb.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={});var I=h&&h.toArray();return t.wrappers_[e]=h,jspb.Message.setField(t,e,I)},goog.exportProperty(jspb.Message,"setWrapperField",jspb.Message.setWrapperField),jspb.Message.setOneofWrapperField=function(t,e,h,I){jspb.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={});var E=I&&I.toArray();return t.wrappers_[e]=I,jspb.Message.setOneofField(t,e,h,E)},goog.exportProperty(jspb.Message,"setOneofWrapperField",jspb.Message.setOneofWrapperField),jspb.Message.setRepeatedWrapperField=function(t,e,h){jspb.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={}),h=h||[];for(var I=[],E=0;E<h.length;E++)I[E]=h[E].toArray();return t.wrappers_[e]=h,jspb.Message.setField(t,e,I)},goog.exportProperty(jspb.Message,"setRepeatedWrapperField",jspb.Message.setRepeatedWrapperField),jspb.Message.addToRepeatedWrapperField=function(t,e,h,I,E){jspb.Message.wrapRepeatedField_(t,I,e);var _=t.wrappers_[e];return _||(_=t.wrappers_[e]=[]),h=h||new I,t=jspb.Message.getRepeatedField(t,e),E!=null?(_.splice(E,0,h),t.splice(E,0,h.toArray())):(_.push(h),t.push(h.toArray())),h},goog.exportProperty(jspb.Message,"addToRepeatedWrapperField",jspb.Message.addToRepeatedWrapperField),jspb.Message.toMap=function(t,e,h,I){for(var E={},_=0;_<t.length;_++)E[e.call(t[_])]=h?h.call(t[_],I,t[_]):t[_];return E},goog.exportProperty(jspb.Message,"toMap",jspb.Message.toMap),jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var t in this.wrappers_){var e=this.wrappers_[t];if(Array.isArray(e))for(var h=0;h<e.length;h++)e[h]&&e[h].toArray();else e&&e.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},goog.exportProperty(jspb.Message.prototype,"toArray",jspb.Message.prototype.toArray),jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(t){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var e=t.fieldIndex;if(t.isRepeated){if(t.isMessageType())return this.wrappers_[e]||(this.wrappers_[e]=goog.array.map(this.extensionObject_[e]||[],function(h){return new t.ctor(h)})),this.wrappers_[e]}else if(t.isMessageType())return!this.wrappers_[e]&&this.extensionObject_[e]&&(this.wrappers_[e]=new t.ctor(this.extensionObject_[e])),this.wrappers_[e];return this.extensionObject_[e]}},goog.exportProperty(jspb.Message.prototype,"getExtension",jspb.Message.prototype.getExtension),jspb.Message.prototype.setExtension=function(t,e){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var h=t.fieldIndex;return t.isRepeated?(e=e||[],t.isMessageType()?(this.wrappers_[h]=e,this.extensionObject_[h]=goog.array.map(e,function(I){return I.toArray()})):this.extensionObject_[h]=e):t.isMessageType()?(this.wrappers_[h]=e,this.extensionObject_[h]=e&&e.toArray()):this.extensionObject_[h]=e,this},goog.exportProperty(jspb.Message.prototype,"setExtension",jspb.Message.prototype.setExtension),jspb.Message.difference=function(t,e){if(!(t instanceof e.constructor))throw Error("Messages have different types.");var h=t.toArray();e=e.toArray();var I=[],E=0,_=h.length>e.length?h.length:e.length;for(t.getJsPbMessageId()&&(I[0]=t.getJsPbMessageId(),E=1);E<_;E++)jspb.Message.compareFields(h[E],e[E])||(I[E]=e[E]);return new t.constructor(I)},goog.exportProperty(jspb.Message,"difference",jspb.Message.difference),jspb.Message.equals=function(t,e){return t==e||!(!t||!e)&&t instanceof e.constructor&&jspb.Message.compareFields(t.toArray(),e.toArray())},goog.exportProperty(jspb.Message,"equals",jspb.Message.equals),jspb.Message.compareExtensions=function(t,e){t=t||{},e=e||{};var h,I={};for(h in t)I[h]=0;for(h in e)I[h]=0;for(h in I)if(!jspb.Message.compareFields(t[h],e[h]))return!1;return!0},goog.exportProperty(jspb.Message,"compareExtensions",jspb.Message.compareExtensions),jspb.Message.compareFields=function(t,e){if(t==e)return!0;if(!goog.isObject(t)||!goog.isObject(e))return!!(typeof t=="number"&&isNaN(t)||typeof e=="number"&&isNaN(e))&&String(t)==String(e);if(t.constructor!=e.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&t.constructor===Uint8Array){if(t.length!=e.length)return!1;for(var h=0;h<t.length;h++)if(t[h]!=e[h])return!1;return!0}if(t.constructor===Array){var I=void 0,E=void 0,_=Math.max(t.length,e.length);for(h=0;h<_;h++){var k=t[h],L=e[h];if(k&&k.constructor==Object&&(jspb.asserts.assert(I===void 0),jspb.asserts.assert(h===t.length-1),I=k,k=void 0),L&&L.constructor==Object&&(jspb.asserts.assert(E===void 0),jspb.asserts.assert(h===e.length-1),E=L,L=void 0),!jspb.Message.compareFields(k,L))return!1}return!I&&!E||(I=I||{},E=E||{},jspb.Message.compareExtensions(I,E))}if(t.constructor===Object)return jspb.Message.compareExtensions(t,e);throw Error("Invalid type in JSPB array")},goog.exportProperty(jspb.Message,"compareFields",jspb.Message.compareFields),jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"cloneMessage",jspb.Message.prototype.cloneMessage),jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"clone",jspb.Message.prototype.clone),jspb.Message.clone=function(t){return jspb.Message.cloneMessage(t)},goog.exportProperty(jspb.Message,"clone",jspb.Message.clone),jspb.Message.cloneMessage=function(t){return new t.constructor(jspb.Message.clone_(t.toArray()))},jspb.Message.copyInto=function(t,e){jspb.asserts.assertInstanceof(t,jspb.Message),jspb.asserts.assertInstanceof(e,jspb.Message),jspb.asserts.assert(t.constructor==e.constructor,"Copy source and target message should have the same type."),t=jspb.Message.clone(t);for(var h=e.toArray(),I=t.toArray(),E=h.length=0;E<I.length;E++)h[E]=I[E];e.wrappers_=t.wrappers_,e.extensionObject_=t.extensionObject_},goog.exportProperty(jspb.Message,"copyInto",jspb.Message.copyInto),jspb.Message.clone_=function(t){if(Array.isArray(t)){for(var e=Array(t.length),h=0;h<t.length;h++){var I=t[h];I!=null&&(e[h]=typeof I=="object"?jspb.Message.clone_(jspb.asserts.assert(I)):I)}return e}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array)return new Uint8Array(t);for(h in e={},t)(I=t[h])!=null&&(e[h]=typeof I=="object"?jspb.Message.clone_(jspb.asserts.assert(I)):I);return e},jspb.Message.registerMessageType=function(t,e){e.messageId=t},goog.exportProperty(jspb.Message,"registerMessageType",jspb.Message.registerMessageType),jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf})(googleProtobuf);var calculator_options_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.mediapipe.CalculatorOptions",null,I),proto.mediapipe.CalculatorOptions=function(E){e.Message.initialize(this,E,0,2,null,null)},h.inherits(proto.mediapipe.CalculatorOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorOptions.displayName="proto.mediapipe.CalculatorOptions"),proto.mediapipe.CalculatorOptions.extensions={},proto.mediapipe.CalculatorOptions.extensionsBinary={},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorOptions.prototype.toObject=function(E){return proto.mediapipe.CalculatorOptions.toObject(E,this)},proto.mediapipe.CalculatorOptions.toObject=function(E,_){var k,L={mergeFields:(k=e.Message.getBooleanField(_,1))==null?void 0:k};return e.Message.toObjectExtension(_,L,proto.mediapipe.CalculatorOptions.extensions,proto.mediapipe.CalculatorOptions.prototype.getExtension,E),E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.CalculatorOptions.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.CalculatorOptions;return proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader(k,_)},proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)if(_.getFieldNumber()===1){var k=_.readBool();E.setMergeFields(k)}else e.Message.readBinaryExtension(E,_,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension,proto.mediapipe.CalculatorOptions.prototype.setExtension);return E},proto.mediapipe.CalculatorOptions.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.CalculatorOptions.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.CalculatorOptions.serializeBinaryToWriter=function(E,_){var k;(k=e.Message.getField(E,1))!=null&&_.writeBool(1,k),e.Message.serializeBinaryExtensions(E,_,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension)},proto.mediapipe.CalculatorOptions.prototype.getMergeFields=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.CalculatorOptions.prototype.setMergeFields=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.CalculatorOptions.prototype.clearMergeFields=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.CalculatorOptions.prototype.hasMergeFields=function(){return e.Message.getField(this,1)!=null},h.object.extend(t,proto.mediapipe)})(calculator_options_pb);var any_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.google.protobuf.Any",null,I),proto.google.protobuf.Any=function(E){e.Message.initialize(this,E,0,-1,null,null)},h.inherits(proto.google.protobuf.Any,e.Message),h.DEBUG&&!COMPILED&&(proto.google.protobuf.Any.displayName="proto.google.protobuf.Any"),e.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Any.prototype.toObject=function(E){return proto.google.protobuf.Any.toObject(E,this)},proto.google.protobuf.Any.toObject=function(E,_){var k={typeUrl:e.Message.getFieldWithDefault(_,1,""),value:_.getValue_asB64()};return E&&(k.$jspbMessageInstance=_),k}),proto.google.protobuf.Any.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.google.protobuf.Any;return proto.google.protobuf.Any.deserializeBinaryFromReader(k,_)},proto.google.protobuf.Any.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readString();E.setTypeUrl(k);break;case 2:k=_.readBytes(),E.setValue(k);break;default:_.skipField()}return E},proto.google.protobuf.Any.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.google.protobuf.Any.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.google.protobuf.Any.serializeBinaryToWriter=function(E,_){var k=void 0;(k=E.getTypeUrl()).length>0&&_.writeString(1,k),(k=E.getValue_asU8()).length>0&&_.writeBytes(2,k)},proto.google.protobuf.Any.prototype.getTypeUrl=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.Any.prototype.setTypeUrl=function(E){return e.Message.setProto3StringField(this,1,E)},proto.google.protobuf.Any.prototype.getValue=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.google.protobuf.Any.prototype.getValue_asB64=function(){return e.Message.bytesAsB64(this.getValue())},proto.google.protobuf.Any.prototype.getValue_asU8=function(){return e.Message.bytesAsU8(this.getValue())},proto.google.protobuf.Any.prototype.setValue=function(E){return e.Message.setProto3BytesField(this,2,E)},h.object.extend(t,proto.google.protobuf),proto.google.protobuf.Any.prototype.getTypeName=function(){return this.getTypeUrl().split("/").pop()},proto.google.protobuf.Any.prototype.pack=function(E,_,k){k||(k="type.googleapis.com/"),k.substr(-1)!="/"?this.setTypeUrl(k+"/"+_):this.setTypeUrl(k+_),this.setValue(E)},proto.google.protobuf.Any.prototype.unpack=function(E,_){return this.getTypeName()==_?E(this.getValue_asU8()):null}})(any_pb);var mediapipe_options_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.mediapipe.MediaPipeOptions",null,I),proto.mediapipe.MediaPipeOptions=function(E){e.Message.initialize(this,E,0,1,null,null)},h.inherits(proto.mediapipe.MediaPipeOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.MediaPipeOptions.displayName="proto.mediapipe.MediaPipeOptions"),proto.mediapipe.MediaPipeOptions.extensions={},proto.mediapipe.MediaPipeOptions.extensionsBinary={},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.MediaPipeOptions.prototype.toObject=function(E){return proto.mediapipe.MediaPipeOptions.toObject(E,this)},proto.mediapipe.MediaPipeOptions.toObject=function(E,_){var k={};return e.Message.toObjectExtension(_,k,proto.mediapipe.MediaPipeOptions.extensions,proto.mediapipe.MediaPipeOptions.prototype.getExtension,E),E&&(k.$jspbMessageInstance=_),k}),proto.mediapipe.MediaPipeOptions.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.MediaPipeOptions;return proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader(k,_)},proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)_.getFieldNumber(),e.Message.readBinaryExtension(E,_,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension,proto.mediapipe.MediaPipeOptions.prototype.setExtension);return E},proto.mediapipe.MediaPipeOptions.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter=function(E,_){e.Message.serializeBinaryExtensions(E,_,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension)},h.object.extend(t,proto.mediapipe)})(mediapipe_options_pb);var packet_factory_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.mediapipe.PacketFactoryConfig",null,I),h.exportSymbol("proto.mediapipe.PacketFactoryOptions",null,I),h.exportSymbol("proto.mediapipe.PacketManagerConfig",null,I),proto.mediapipe.PacketFactoryOptions=function(E){e.Message.initialize(this,E,0,1,null,null)},h.inherits(proto.mediapipe.PacketFactoryOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryOptions.displayName="proto.mediapipe.PacketFactoryOptions"),proto.mediapipe.PacketFactoryOptions.extensions={},proto.mediapipe.PacketFactoryOptions.extensionsBinary={},proto.mediapipe.PacketFactoryConfig=function(E){e.Message.initialize(this,E,0,500,null,null)},h.inherits(proto.mediapipe.PacketFactoryConfig,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryConfig.displayName="proto.mediapipe.PacketFactoryConfig"),proto.mediapipe.PacketManagerConfig=function(E){e.Message.initialize(this,E,0,-1,proto.mediapipe.PacketManagerConfig.repeatedFields_,null)},h.inherits(proto.mediapipe.PacketManagerConfig,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.PacketManagerConfig.displayName="proto.mediapipe.PacketManagerConfig"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryOptions.prototype.toObject=function(E){return proto.mediapipe.PacketFactoryOptions.toObject(E,this)},proto.mediapipe.PacketFactoryOptions.toObject=function(E,_){var k={};return e.Message.toObjectExtension(_,k,proto.mediapipe.PacketFactoryOptions.extensions,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,E),E&&(k.$jspbMessageInstance=_),k}),proto.mediapipe.PacketFactoryOptions.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.PacketFactoryOptions;return proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader(k,_)},proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)_.getFieldNumber(),e.Message.readBinaryExtension(E,_,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,proto.mediapipe.PacketFactoryOptions.prototype.setExtension);return E},proto.mediapipe.PacketFactoryOptions.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter=function(E,_){e.Message.serializeBinaryExtensions(E,_,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryConfig.prototype.toObject=function(E){return proto.mediapipe.PacketFactoryConfig.toObject(E,this)},proto.mediapipe.PacketFactoryConfig.toObject=function(E,_){var k,L={packetFactory:(k=e.Message.getField(_,1))==null?void 0:k,outputSidePacket:(k=e.Message.getField(_,2))==null?void 0:k,externalOutput:(k=e.Message.getField(_,1002))==null?void 0:k,options:(k=_.getOptions())&&proto.mediapipe.PacketFactoryOptions.toObject(E,k)};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.PacketFactoryConfig.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.PacketFactoryConfig;return proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader(k,_)},proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readString();E.setPacketFactory(k);break;case 2:k=_.readString(),E.setOutputSidePacket(k);break;case 1002:k=_.readString(),E.setExternalOutput(k);break;case 3:k=new proto.mediapipe.PacketFactoryOptions,_.readMessage(k,proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader),E.setOptions(k);break;default:_.skipField()}return E},proto.mediapipe.PacketFactoryConfig.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeString(1,k),(k=e.Message.getField(E,2))!=null&&_.writeString(2,k),(k=e.Message.getField(E,1002))!=null&&_.writeString(1002,k),(k=E.getOptions())!=null&&_.writeMessage(3,k,proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter)},proto.mediapipe.PacketFactoryConfig.prototype.getPacketFactory=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketFactoryConfig.prototype.setPacketFactory=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.PacketFactoryConfig.prototype.clearPacketFactory=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasPacketFactory=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getOutputSidePacket=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.PacketFactoryConfig.prototype.setOutputSidePacket=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.PacketFactoryConfig.prototype.clearOutputSidePacket=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOutputSidePacket=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getExternalOutput=function(){return e.Message.getFieldWithDefault(this,1002,"")},proto.mediapipe.PacketFactoryConfig.prototype.setExternalOutput=function(E){return e.Message.setField(this,1002,E)},proto.mediapipe.PacketFactoryConfig.prototype.clearExternalOutput=function(){return e.Message.setField(this,1002,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasExternalOutput=function(){return e.Message.getField(this,1002)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,proto.mediapipe.PacketFactoryOptions,3)},proto.mediapipe.PacketFactoryConfig.prototype.setOptions=function(E){return e.Message.setWrapperField(this,3,E)},proto.mediapipe.PacketFactoryConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.PacketManagerConfig.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketManagerConfig.prototype.toObject=function(E){return proto.mediapipe.PacketManagerConfig.toObject(E,this)},proto.mediapipe.PacketManagerConfig.toObject=function(E,_){var k={packetList:e.Message.toObjectList(_.getPacketList(),proto.mediapipe.PacketFactoryConfig.toObject,E)};return E&&(k.$jspbMessageInstance=_),k}),proto.mediapipe.PacketManagerConfig.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.PacketManagerConfig;return proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader(k,_)},proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)if(_.getFieldNumber()===1){var k=new proto.mediapipe.PacketFactoryConfig;_.readMessage(k,proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader),E.addPacket(k)}else _.skipField();return E},proto.mediapipe.PacketManagerConfig.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter=function(E,_){var k;(k=E.getPacketList()).length>0&&_.writeRepeatedMessage(1,k,proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter)},proto.mediapipe.PacketManagerConfig.prototype.getPacketList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.PacketFactoryConfig,1)},proto.mediapipe.PacketManagerConfig.prototype.setPacketList=function(E){return e.Message.setRepeatedWrapperField(this,1,E)},proto.mediapipe.PacketManagerConfig.prototype.addPacket=function(E,_){return e.Message.addToRepeatedWrapperField(this,1,E,proto.mediapipe.PacketFactoryConfig,_)},proto.mediapipe.PacketManagerConfig.prototype.clearPacketList=function(){return this.setPacketList([])},h.object.extend(t,proto.mediapipe)})(packet_factory_pb);var packet_generator_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.mediapipe.PacketGeneratorConfig",null,I),h.exportSymbol("proto.mediapipe.PacketGeneratorOptions",null,I),proto.mediapipe.PacketGeneratorOptions=function(E){e.Message.initialize(this,E,0,2,null,null)},h.inherits(proto.mediapipe.PacketGeneratorOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorOptions.displayName="proto.mediapipe.PacketGeneratorOptions"),proto.mediapipe.PacketGeneratorOptions.extensions={},proto.mediapipe.PacketGeneratorOptions.extensionsBinary={},proto.mediapipe.PacketGeneratorConfig=function(E){e.Message.initialize(this,E,0,500,proto.mediapipe.PacketGeneratorConfig.repeatedFields_,null)},h.inherits(proto.mediapipe.PacketGeneratorConfig,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorConfig.displayName="proto.mediapipe.PacketGeneratorConfig"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorOptions.prototype.toObject=function(E){return proto.mediapipe.PacketGeneratorOptions.toObject(E,this)},proto.mediapipe.PacketGeneratorOptions.toObject=function(E,_){var k={mergeFields:e.Message.getBooleanFieldWithDefault(_,1,!0)};return e.Message.toObjectExtension(_,k,proto.mediapipe.PacketGeneratorOptions.extensions,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,E),E&&(k.$jspbMessageInstance=_),k}),proto.mediapipe.PacketGeneratorOptions.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.PacketGeneratorOptions;return proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader(k,_)},proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)if(_.getFieldNumber()===1){var k=_.readBool();E.setMergeFields(k)}else e.Message.readBinaryExtension(E,_,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,proto.mediapipe.PacketGeneratorOptions.prototype.setExtension);return E},proto.mediapipe.PacketGeneratorOptions.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter=function(E,_){var k;(k=e.Message.getField(E,1))!=null&&_.writeBool(1,k),e.Message.serializeBinaryExtensions(E,_,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension)},proto.mediapipe.PacketGeneratorOptions.prototype.getMergeFields=function(){return e.Message.getBooleanFieldWithDefault(this,1,!0)},proto.mediapipe.PacketGeneratorOptions.prototype.setMergeFields=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.PacketGeneratorOptions.prototype.clearMergeFields=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorOptions.prototype.hasMergeFields=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.PacketGeneratorConfig.repeatedFields_=[2,1002,3,1003],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorConfig.prototype.toObject=function(E){return proto.mediapipe.PacketGeneratorConfig.toObject(E,this)},proto.mediapipe.PacketGeneratorConfig.toObject=function(E,_){var k,L={packetGenerator:(k=e.Message.getField(_,1))==null?void 0:k,inputSidePacketList:(k=e.Message.getRepeatedField(_,2))==null?void 0:k,externalInputList:(k=e.Message.getRepeatedField(_,1002))==null?void 0:k,outputSidePacketList:(k=e.Message.getRepeatedField(_,3))==null?void 0:k,externalOutputList:(k=e.Message.getRepeatedField(_,1003))==null?void 0:k,options:(k=_.getOptions())&&proto.mediapipe.PacketGeneratorOptions.toObject(E,k)};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.PacketGeneratorConfig.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.PacketGeneratorConfig;return proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader(k,_)},proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readString();E.setPacketGenerator(k);break;case 2:k=_.readString(),E.addInputSidePacket(k);break;case 1002:k=_.readString(),E.addExternalInput(k);break;case 3:k=_.readString(),E.addOutputSidePacket(k);break;case 1003:k=_.readString(),E.addExternalOutput(k);break;case 4:k=new proto.mediapipe.PacketGeneratorOptions,_.readMessage(k,proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader),E.setOptions(k);break;default:_.skipField()}return E},proto.mediapipe.PacketGeneratorConfig.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeString(1,k),(k=E.getInputSidePacketList()).length>0&&_.writeRepeatedString(2,k),(k=E.getExternalInputList()).length>0&&_.writeRepeatedString(1002,k),(k=E.getOutputSidePacketList()).length>0&&_.writeRepeatedString(3,k),(k=E.getExternalOutputList()).length>0&&_.writeRepeatedString(1003,k),(k=E.getOptions())!=null&&_.writeMessage(4,k,proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter)},proto.mediapipe.PacketGeneratorConfig.prototype.getPacketGenerator=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketGeneratorConfig.prototype.setPacketGenerator=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.PacketGeneratorConfig.prototype.clearPacketGenerator=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasPacketGenerator=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.PacketGeneratorConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.PacketGeneratorConfig.prototype.setInputSidePacketList=function(E){return e.Message.setField(this,2,E||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addInputSidePacket=function(E,_){return e.Message.addToRepeatedField(this,2,E,_)},proto.mediapipe.PacketGeneratorConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalInputList=function(){return e.Message.getRepeatedField(this,1002)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalInputList=function(E){return e.Message.setField(this,1002,E||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalInput=function(E,_){return e.Message.addToRepeatedField(this,1002,E,_)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOutputSidePacketList=function(){return e.Message.getRepeatedField(this,3)},proto.mediapipe.PacketGeneratorConfig.prototype.setOutputSidePacketList=function(E){return e.Message.setField(this,3,E||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addOutputSidePacket=function(E,_){return e.Message.addToRepeatedField(this,3,E,_)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalOutputList=function(){return e.Message.getRepeatedField(this,1003)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalOutputList=function(E){return e.Message.setField(this,1003,E||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalOutput=function(E,_){return e.Message.addToRepeatedField(this,1003,E,_)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalOutputList=function(){return this.setExternalOutputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,proto.mediapipe.PacketGeneratorOptions,4)},proto.mediapipe.PacketGeneratorConfig.prototype.setOptions=function(E){return e.Message.setWrapperField(this,4,E)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasOptions=function(){return e.Message.getField(this,4)!=null},h.object.extend(t,proto.mediapipe)})(packet_generator_pb);var status_handler_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=mediapipe_options_pb;h.object.extend(proto,E),h.exportSymbol("proto.mediapipe.StatusHandlerConfig",null,I),proto.mediapipe.StatusHandlerConfig=function(_){e.Message.initialize(this,_,0,500,proto.mediapipe.StatusHandlerConfig.repeatedFields_,null)},h.inherits(proto.mediapipe.StatusHandlerConfig,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.StatusHandlerConfig.displayName="proto.mediapipe.StatusHandlerConfig"),proto.mediapipe.StatusHandlerConfig.repeatedFields_=[2,1002],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.StatusHandlerConfig.prototype.toObject=function(_){return proto.mediapipe.StatusHandlerConfig.toObject(_,this)},proto.mediapipe.StatusHandlerConfig.toObject=function(_,k){var L,ae={statusHandler:(L=e.Message.getField(k,1))==null?void 0:L,inputSidePacketList:(L=e.Message.getRepeatedField(k,2))==null?void 0:L,externalInputList:(L=e.Message.getRepeatedField(k,1002))==null?void 0:L,options:(L=k.getOptions())&&E.MediaPipeOptions.toObject(_,L)};return _&&(ae.$jspbMessageInstance=k),ae}),proto.mediapipe.StatusHandlerConfig.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.StatusHandlerConfig;return proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader(L,k)},proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)switch(k.getFieldNumber()){case 1:var L=k.readString();_.setStatusHandler(L);break;case 2:L=k.readString(),_.addInputSidePacket(L);break;case 1002:L=k.readString(),_.addExternalInput(L);break;case 3:L=new E.MediaPipeOptions,k.readMessage(L,E.MediaPipeOptions.deserializeBinaryFromReader),_.setOptions(L);break;default:k.skipField()}return _},proto.mediapipe.StatusHandlerConfig.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter=function(_,k){var L=void 0;(L=e.Message.getField(_,1))!=null&&k.writeString(1,L),(L=_.getInputSidePacketList()).length>0&&k.writeRepeatedString(2,L),(L=_.getExternalInputList()).length>0&&k.writeRepeatedString(1002,L),(L=_.getOptions())!=null&&k.writeMessage(3,L,E.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.StatusHandlerConfig.prototype.getStatusHandler=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.StatusHandlerConfig.prototype.setStatusHandler=function(_){return e.Message.setField(this,1,_)},proto.mediapipe.StatusHandlerConfig.prototype.clearStatusHandler=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasStatusHandler=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.StatusHandlerConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.StatusHandlerConfig.prototype.setInputSidePacketList=function(_){return e.Message.setField(this,2,_||[])},proto.mediapipe.StatusHandlerConfig.prototype.addInputSidePacket=function(_,k){return e.Message.addToRepeatedField(this,2,_,k)},proto.mediapipe.StatusHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.StatusHandlerConfig.prototype.getExternalInputList=function(){return e.Message.getRepeatedField(this,1002)},proto.mediapipe.StatusHandlerConfig.prototype.setExternalInputList=function(_){return e.Message.setField(this,1002,_||[])},proto.mediapipe.StatusHandlerConfig.prototype.addExternalInput=function(_,k){return e.Message.addToRepeatedField(this,1002,_,k)},proto.mediapipe.StatusHandlerConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.StatusHandlerConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,E.MediaPipeOptions,3)},proto.mediapipe.StatusHandlerConfig.prototype.setOptions=function(_){return e.Message.setWrapperField(this,3,_)},proto.mediapipe.StatusHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},h.object.extend(t,proto.mediapipe)})(status_handler_pb);var stream_handler_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=mediapipe_options_pb;h.object.extend(proto,E),h.exportSymbol("proto.mediapipe.InputStreamHandlerConfig",null,I),h.exportSymbol("proto.mediapipe.OutputStreamHandlerConfig",null,I),proto.mediapipe.InputStreamHandlerConfig=function(_){e.Message.initialize(this,_,0,-1,null,null)},h.inherits(proto.mediapipe.InputStreamHandlerConfig,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamHandlerConfig.displayName="proto.mediapipe.InputStreamHandlerConfig"),proto.mediapipe.OutputStreamHandlerConfig=function(_){e.Message.initialize(this,_,0,-1,proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_,null)},h.inherits(proto.mediapipe.OutputStreamHandlerConfig,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.OutputStreamHandlerConfig.displayName="proto.mediapipe.OutputStreamHandlerConfig"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamHandlerConfig.prototype.toObject=function(_){return proto.mediapipe.InputStreamHandlerConfig.toObject(_,this)},proto.mediapipe.InputStreamHandlerConfig.toObject=function(_,k){var L,ae={inputStreamHandler:e.Message.getFieldWithDefault(k,1,"DefaultInputStreamHandler"),options:(L=k.getOptions())&&E.MediaPipeOptions.toObject(_,L)};return _&&(ae.$jspbMessageInstance=k),ae}),proto.mediapipe.InputStreamHandlerConfig.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.InputStreamHandlerConfig;return proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader(L,k)},proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)switch(k.getFieldNumber()){case 1:var L=k.readString();_.setInputStreamHandler(L);break;case 3:L=new E.MediaPipeOptions,k.readMessage(L,E.MediaPipeOptions.deserializeBinaryFromReader),_.setOptions(L);break;default:k.skipField()}return _},proto.mediapipe.InputStreamHandlerConfig.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter=function(_,k){var L=void 0;(L=e.Message.getField(_,1))!=null&&k.writeString(1,L),(L=_.getOptions())!=null&&k.writeMessage(3,L,E.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.InputStreamHandlerConfig.prototype.getInputStreamHandler=function(){return e.Message.getFieldWithDefault(this,1,"DefaultInputStreamHandler")},proto.mediapipe.InputStreamHandlerConfig.prototype.setInputStreamHandler=function(_){return e.Message.setField(this,1,_)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearInputStreamHandler=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasInputStreamHandler=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InputStreamHandlerConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,E.MediaPipeOptions,3)},proto.mediapipe.InputStreamHandlerConfig.prototype.setOptions=function(_){return e.Message.setWrapperField(this,3,_)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_=[2],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.OutputStreamHandlerConfig.prototype.toObject=function(_){return proto.mediapipe.OutputStreamHandlerConfig.toObject(_,this)},proto.mediapipe.OutputStreamHandlerConfig.toObject=function(_,k){var L,ae={outputStreamHandler:e.Message.getFieldWithDefault(k,1,"InOrderOutputStreamHandler"),inputSidePacketList:(L=e.Message.getRepeatedField(k,2))==null?void 0:L,options:(L=k.getOptions())&&E.MediaPipeOptions.toObject(_,L)};return _&&(ae.$jspbMessageInstance=k),ae}),proto.mediapipe.OutputStreamHandlerConfig.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.OutputStreamHandlerConfig;return proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader(L,k)},proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)switch(k.getFieldNumber()){case 1:var L=k.readString();_.setOutputStreamHandler(L);break;case 2:L=k.readString(),_.addInputSidePacket(L);break;case 3:L=new E.MediaPipeOptions,k.readMessage(L,E.MediaPipeOptions.deserializeBinaryFromReader),_.setOptions(L);break;default:k.skipField()}return _},proto.mediapipe.OutputStreamHandlerConfig.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter=function(_,k){var L=void 0;(L=e.Message.getField(_,1))!=null&&k.writeString(1,L),(L=_.getInputSidePacketList()).length>0&&k.writeRepeatedString(2,L),(L=_.getOptions())!=null&&k.writeMessage(3,L,E.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOutputStreamHandler=function(){return e.Message.getFieldWithDefault(this,1,"InOrderOutputStreamHandler")},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOutputStreamHandler=function(_){return e.Message.setField(this,1,_)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOutputStreamHandler=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOutputStreamHandler=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.OutputStreamHandlerConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setInputSidePacketList=function(_){return e.Message.setField(this,2,_||[])},proto.mediapipe.OutputStreamHandlerConfig.prototype.addInputSidePacket=function(_,k){return e.Message.addToRepeatedField(this,2,_,k)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,E.MediaPipeOptions,3)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOptions=function(_){return e.Message.setWrapperField(this,3,_)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},h.object.extend(t,proto.mediapipe)})(stream_handler_pb),function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=calculator_options_pb;h.object.extend(proto,E);var _=any_pb;h.object.extend(proto,_);var k=mediapipe_options_pb;h.object.extend(proto,k);var L=packet_factory_pb;h.object.extend(proto,L);var ae=packet_generator_pb;h.object.extend(proto,ae);var q=status_handler_pb;h.object.extend(proto,q);var O=stream_handler_pb;h.object.extend(proto,O),h.exportSymbol("proto.mediapipe.CalculatorGraphConfig",null,I),h.exportSymbol("proto.mediapipe.CalculatorGraphConfig.Node",null,I),h.exportSymbol("proto.mediapipe.ExecutorConfig",null,I),h.exportSymbol("proto.mediapipe.InputCollection",null,I),h.exportSymbol("proto.mediapipe.InputCollection.InputType",null,I),h.exportSymbol("proto.mediapipe.InputCollectionSet",null,I),h.exportSymbol("proto.mediapipe.InputStreamInfo",null,I),h.exportSymbol("proto.mediapipe.ProfilerConfig",null,I),proto.mediapipe.ExecutorConfig=function(o){e.Message.initialize(this,o,0,-1,null,null)},h.inherits(proto.mediapipe.ExecutorConfig,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.ExecutorConfig.displayName="proto.mediapipe.ExecutorConfig"),proto.mediapipe.InputCollection=function(o){e.Message.initialize(this,o,0,500,proto.mediapipe.InputCollection.repeatedFields_,null)},h.inherits(proto.mediapipe.InputCollection,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollection.displayName="proto.mediapipe.InputCollection"),proto.mediapipe.InputCollectionSet=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.InputCollectionSet.repeatedFields_,null)},h.inherits(proto.mediapipe.InputCollectionSet,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollectionSet.displayName="proto.mediapipe.InputCollectionSet"),proto.mediapipe.InputStreamInfo=function(o){e.Message.initialize(this,o,0,-1,null,null)},h.inherits(proto.mediapipe.InputStreamInfo,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamInfo.displayName="proto.mediapipe.InputStreamInfo"),proto.mediapipe.ProfilerConfig=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.ProfilerConfig.repeatedFields_,null)},h.inherits(proto.mediapipe.ProfilerConfig,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.ProfilerConfig.displayName="proto.mediapipe.ProfilerConfig"),proto.mediapipe.CalculatorGraphConfig=function(o){e.Message.initialize(this,o,0,500,proto.mediapipe.CalculatorGraphConfig.repeatedFields_,null)},h.inherits(proto.mediapipe.CalculatorGraphConfig,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.displayName="proto.mediapipe.CalculatorGraphConfig"),proto.mediapipe.CalculatorGraphConfig.Node=function(o){e.Message.initialize(this,o,0,500,proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_,null)},h.inherits(proto.mediapipe.CalculatorGraphConfig.Node,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.Node.displayName="proto.mediapipe.CalculatorGraphConfig.Node"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ExecutorConfig.prototype.toObject=function(o){return proto.mediapipe.ExecutorConfig.toObject(o,this)},proto.mediapipe.ExecutorConfig.toObject=function(o,w){var r,d={name:e.Message.getFieldWithDefault(w,1,""),type:e.Message.getFieldWithDefault(w,2,""),options:(r=w.getOptions())&&k.MediaPipeOptions.toObject(o,r)};return o&&(d.$jspbMessageInstance=w),d}),proto.mediapipe.ExecutorConfig.deserializeBinary=function(o){var w=new e.BinaryReader(o),r=new proto.mediapipe.ExecutorConfig;return proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader(r,w)},proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader=function(o,w){for(;w.nextField()&&!w.isEndGroup();)switch(w.getFieldNumber()){case 1:var r=w.readString();o.setName(r);break;case 2:r=w.readString(),o.setType(r);break;case 3:r=new k.MediaPipeOptions,w.readMessage(r,k.MediaPipeOptions.deserializeBinaryFromReader),o.setOptions(r);break;default:w.skipField()}return o},proto.mediapipe.ExecutorConfig.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.ExecutorConfig.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.ExecutorConfig.serializeBinaryToWriter=function(o,w){var r=void 0;(r=o.getName()).length>0&&w.writeString(1,r),(r=o.getType()).length>0&&w.writeString(2,r),(r=o.getOptions())!=null&&w.writeMessage(3,r,k.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.ExecutorConfig.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.ExecutorConfig.prototype.setName=function(o){return e.Message.setProto3StringField(this,1,o)},proto.mediapipe.ExecutorConfig.prototype.getType=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.ExecutorConfig.prototype.setType=function(o){return e.Message.setProto3StringField(this,2,o)},proto.mediapipe.ExecutorConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,k.MediaPipeOptions,3)},proto.mediapipe.ExecutorConfig.prototype.setOptions=function(o){return e.Message.setWrapperField(this,3,o)},proto.mediapipe.ExecutorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.ExecutorConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InputCollection.repeatedFields_=[2,1002],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollection.prototype.toObject=function(o){return proto.mediapipe.InputCollection.toObject(o,this)},proto.mediapipe.InputCollection.toObject=function(o,w){var r,d={name:e.Message.getFieldWithDefault(w,1,""),sidePacketNameList:(r=e.Message.getRepeatedField(w,2))==null?void 0:r,externalInputNameList:(r=e.Message.getRepeatedField(w,1002))==null?void 0:r,inputType:e.Message.getFieldWithDefault(w,3,0),fileName:e.Message.getFieldWithDefault(w,4,"")};return o&&(d.$jspbMessageInstance=w),d}),proto.mediapipe.InputCollection.deserializeBinary=function(o){var w=new e.BinaryReader(o),r=new proto.mediapipe.InputCollection;return proto.mediapipe.InputCollection.deserializeBinaryFromReader(r,w)},proto.mediapipe.InputCollection.deserializeBinaryFromReader=function(o,w){for(;w.nextField()&&!w.isEndGroup();)switch(w.getFieldNumber()){case 1:var r=w.readString();o.setName(r);break;case 2:r=w.readString(),o.addSidePacketName(r);break;case 1002:r=w.readString(),o.addExternalInputName(r);break;case 3:r=w.readEnum(),o.setInputType(r);break;case 4:r=w.readString(),o.setFileName(r);break;default:w.skipField()}return o},proto.mediapipe.InputCollection.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.InputCollection.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.InputCollection.serializeBinaryToWriter=function(o,w){var r=void 0;(r=o.getName()).length>0&&w.writeString(1,r),(r=o.getSidePacketNameList()).length>0&&w.writeRepeatedString(2,r),(r=o.getExternalInputNameList()).length>0&&w.writeRepeatedString(1002,r),(r=o.getInputType())!==0&&w.writeEnum(3,r),(r=o.getFileName()).length>0&&w.writeString(4,r)},proto.mediapipe.InputCollection.InputType={UNKNOWN:0,RECORDIO:1,FOREIGN_RECORDIO:2,FOREIGN_CSV_TEXT:3,INVALID_UPPER_BOUND:4},proto.mediapipe.InputCollection.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputCollection.prototype.setName=function(o){return e.Message.setProto3StringField(this,1,o)},proto.mediapipe.InputCollection.prototype.getSidePacketNameList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.InputCollection.prototype.setSidePacketNameList=function(o){return e.Message.setField(this,2,o||[])},proto.mediapipe.InputCollection.prototype.addSidePacketName=function(o,w){return e.Message.addToRepeatedField(this,2,o,w)},proto.mediapipe.InputCollection.prototype.clearSidePacketNameList=function(){return this.setSidePacketNameList([])},proto.mediapipe.InputCollection.prototype.getExternalInputNameList=function(){return e.Message.getRepeatedField(this,1002)},proto.mediapipe.InputCollection.prototype.setExternalInputNameList=function(o){return e.Message.setField(this,1002,o||[])},proto.mediapipe.InputCollection.prototype.addExternalInputName=function(o,w){return e.Message.addToRepeatedField(this,1002,o,w)},proto.mediapipe.InputCollection.prototype.clearExternalInputNameList=function(){return this.setExternalInputNameList([])},proto.mediapipe.InputCollection.prototype.getInputType=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.InputCollection.prototype.setInputType=function(o){return e.Message.setProto3EnumField(this,3,o)},proto.mediapipe.InputCollection.prototype.getFileName=function(){return e.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.InputCollection.prototype.setFileName=function(o){return e.Message.setProto3StringField(this,4,o)},proto.mediapipe.InputCollectionSet.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollectionSet.prototype.toObject=function(o){return proto.mediapipe.InputCollectionSet.toObject(o,this)},proto.mediapipe.InputCollectionSet.toObject=function(o,w){var r={inputCollectionList:e.Message.toObjectList(w.getInputCollectionList(),proto.mediapipe.InputCollection.toObject,o)};return o&&(r.$jspbMessageInstance=w),r}),proto.mediapipe.InputCollectionSet.deserializeBinary=function(o){var w=new e.BinaryReader(o),r=new proto.mediapipe.InputCollectionSet;return proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader(r,w)},proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader=function(o,w){for(;w.nextField()&&!w.isEndGroup();)if(w.getFieldNumber()===1){var r=new proto.mediapipe.InputCollection;w.readMessage(r,proto.mediapipe.InputCollection.deserializeBinaryFromReader),o.addInputCollection(r)}else w.skipField();return o},proto.mediapipe.InputCollectionSet.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.InputCollectionSet.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.InputCollectionSet.serializeBinaryToWriter=function(o,w){var r;(r=o.getInputCollectionList()).length>0&&w.writeRepeatedMessage(1,r,proto.mediapipe.InputCollection.serializeBinaryToWriter)},proto.mediapipe.InputCollectionSet.prototype.getInputCollectionList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.InputCollection,1)},proto.mediapipe.InputCollectionSet.prototype.setInputCollectionList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.InputCollectionSet.prototype.addInputCollection=function(o,w){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.InputCollection,w)},proto.mediapipe.InputCollectionSet.prototype.clearInputCollectionList=function(){return this.setInputCollectionList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamInfo.prototype.toObject=function(o){return proto.mediapipe.InputStreamInfo.toObject(o,this)},proto.mediapipe.InputStreamInfo.toObject=function(o,w){var r={tagIndex:e.Message.getFieldWithDefault(w,1,""),backEdge:e.Message.getBooleanFieldWithDefault(w,2,!1)};return o&&(r.$jspbMessageInstance=w),r}),proto.mediapipe.InputStreamInfo.deserializeBinary=function(o){var w=new e.BinaryReader(o),r=new proto.mediapipe.InputStreamInfo;return proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader(r,w)},proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader=function(o,w){for(;w.nextField()&&!w.isEndGroup();)switch(w.getFieldNumber()){case 1:var r=w.readString();o.setTagIndex(r);break;case 2:r=w.readBool(),o.setBackEdge(r);break;default:w.skipField()}return o},proto.mediapipe.InputStreamInfo.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.InputStreamInfo.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.InputStreamInfo.serializeBinaryToWriter=function(o,w){var r=void 0;(r=o.getTagIndex()).length>0&&w.writeString(1,r),(r=o.getBackEdge())&&w.writeBool(2,r)},proto.mediapipe.InputStreamInfo.prototype.getTagIndex=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputStreamInfo.prototype.setTagIndex=function(o){return e.Message.setProto3StringField(this,1,o)},proto.mediapipe.InputStreamInfo.prototype.getBackEdge=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InputStreamInfo.prototype.setBackEdge=function(o){return e.Message.setProto3BooleanField(this,2,o)},proto.mediapipe.ProfilerConfig.repeatedFields_=[8],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ProfilerConfig.prototype.toObject=function(o){return proto.mediapipe.ProfilerConfig.toObject(o,this)},proto.mediapipe.ProfilerConfig.toObject=function(o,w){var r,d={histogramIntervalSizeUsec:e.Message.getFieldWithDefault(w,1,0),numHistogramIntervals:e.Message.getFieldWithDefault(w,2,0),enableInputOutputLatency:e.Message.getBooleanFieldWithDefault(w,3,!1),enableProfiler:e.Message.getBooleanFieldWithDefault(w,4,!1),enableStreamLatency:e.Message.getBooleanFieldWithDefault(w,5,!1),usePacketTimestampForAddedPacket:e.Message.getBooleanFieldWithDefault(w,6,!1),traceLogCapacity:e.Message.getFieldWithDefault(w,7,0),traceEventTypesDisabledList:(r=e.Message.getRepeatedField(w,8))==null?void 0:r,traceLogPath:e.Message.getFieldWithDefault(w,9,""),traceLogCount:e.Message.getFieldWithDefault(w,10,0),traceLogIntervalUsec:e.Message.getFieldWithDefault(w,11,0),traceLogMarginUsec:e.Message.getFieldWithDefault(w,12,0),traceLogDurationEvents:e.Message.getBooleanFieldWithDefault(w,13,!1),traceLogIntervalCount:e.Message.getFieldWithDefault(w,14,0),traceLogDisabled:e.Message.getBooleanFieldWithDefault(w,15,!1),traceEnabled:e.Message.getBooleanFieldWithDefault(w,16,!1),traceLogInstantEvents:e.Message.getBooleanFieldWithDefault(w,17,!1),calculatorFilter:e.Message.getFieldWithDefault(w,18,"")};return o&&(d.$jspbMessageInstance=w),d}),proto.mediapipe.ProfilerConfig.deserializeBinary=function(o){var w=new e.BinaryReader(o),r=new proto.mediapipe.ProfilerConfig;return proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader(r,w)},proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader=function(o,w){for(;w.nextField()&&!w.isEndGroup();)switch(w.getFieldNumber()){case 1:var r=w.readInt64();o.setHistogramIntervalSizeUsec(r);break;case 2:r=w.readInt64(),o.setNumHistogramIntervals(r);break;case 3:r=w.readBool(),o.setEnableInputOutputLatency(r);break;case 4:r=w.readBool(),o.setEnableProfiler(r);break;case 5:r=w.readBool(),o.setEnableStreamLatency(r);break;case 6:r=w.readBool(),o.setUsePacketTimestampForAddedPacket(r);break;case 7:r=w.readInt64(),o.setTraceLogCapacity(r);break;case 8:for(var d=w.isDelimited()?w.readPackedInt32():[w.readInt32()],i=0;i<d.length;i++)o.addTraceEventTypesDisabled(d[i]);break;case 9:r=w.readString(),o.setTraceLogPath(r);break;case 10:r=w.readInt32(),o.setTraceLogCount(r);break;case 11:r=w.readInt64(),o.setTraceLogIntervalUsec(r);break;case 12:r=w.readInt64(),o.setTraceLogMarginUsec(r);break;case 13:r=w.readBool(),o.setTraceLogDurationEvents(r);break;case 14:r=w.readInt32(),o.setTraceLogIntervalCount(r);break;case 15:r=w.readBool(),o.setTraceLogDisabled(r);break;case 16:r=w.readBool(),o.setTraceEnabled(r);break;case 17:r=w.readBool(),o.setTraceLogInstantEvents(r);break;case 18:r=w.readString(),o.setCalculatorFilter(r);break;default:w.skipField()}return o},proto.mediapipe.ProfilerConfig.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.ProfilerConfig.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.ProfilerConfig.serializeBinaryToWriter=function(o,w){var r=void 0;(r=o.getHistogramIntervalSizeUsec())!==0&&w.writeInt64(1,r),(r=o.getNumHistogramIntervals())!==0&&w.writeInt64(2,r),(r=o.getEnableInputOutputLatency())&&w.writeBool(3,r),(r=o.getEnableProfiler())&&w.writeBool(4,r),(r=o.getEnableStreamLatency())&&w.writeBool(5,r),(r=o.getUsePacketTimestampForAddedPacket())&&w.writeBool(6,r),(r=o.getTraceLogCapacity())!==0&&w.writeInt64(7,r),(r=o.getTraceEventTypesDisabledList()).length>0&&w.writePackedInt32(8,r),(r=o.getTraceLogPath()).length>0&&w.writeString(9,r),(r=o.getTraceLogCount())!==0&&w.writeInt32(10,r),(r=o.getTraceLogIntervalUsec())!==0&&w.writeInt64(11,r),(r=o.getTraceLogMarginUsec())!==0&&w.writeInt64(12,r),(r=o.getTraceLogDurationEvents())&&w.writeBool(13,r),(r=o.getTraceLogIntervalCount())!==0&&w.writeInt32(14,r),(r=o.getTraceLogDisabled())&&w.writeBool(15,r),(r=o.getTraceEnabled())&&w.writeBool(16,r),(r=o.getTraceLogInstantEvents())&&w.writeBool(17,r),(r=o.getCalculatorFilter()).length>0&&w.writeString(18,r)},proto.mediapipe.ProfilerConfig.prototype.getHistogramIntervalSizeUsec=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.ProfilerConfig.prototype.setHistogramIntervalSizeUsec=function(o){return e.Message.setProto3IntField(this,1,o)},proto.mediapipe.ProfilerConfig.prototype.getNumHistogramIntervals=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.ProfilerConfig.prototype.setNumHistogramIntervals=function(o){return e.Message.setProto3IntField(this,2,o)},proto.mediapipe.ProfilerConfig.prototype.getEnableInputOutputLatency=function(){return e.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableInputOutputLatency=function(o){return e.Message.setProto3BooleanField(this,3,o)},proto.mediapipe.ProfilerConfig.prototype.getEnableProfiler=function(){return e.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableProfiler=function(o){return e.Message.setProto3BooleanField(this,4,o)},proto.mediapipe.ProfilerConfig.prototype.getEnableStreamLatency=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableStreamLatency=function(o){return e.Message.setProto3BooleanField(this,5,o)},proto.mediapipe.ProfilerConfig.prototype.getUsePacketTimestampForAddedPacket=function(){return e.Message.getBooleanFieldWithDefault(this,6,!1)},proto.mediapipe.ProfilerConfig.prototype.setUsePacketTimestampForAddedPacket=function(o){return e.Message.setProto3BooleanField(this,6,o)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCapacity=function(){return e.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCapacity=function(o){return e.Message.setProto3IntField(this,7,o)},proto.mediapipe.ProfilerConfig.prototype.getTraceEventTypesDisabledList=function(){return e.Message.getRepeatedField(this,8)},proto.mediapipe.ProfilerConfig.prototype.setTraceEventTypesDisabledList=function(o){return e.Message.setField(this,8,o||[])},proto.mediapipe.ProfilerConfig.prototype.addTraceEventTypesDisabled=function(o,w){return e.Message.addToRepeatedField(this,8,o,w)},proto.mediapipe.ProfilerConfig.prototype.clearTraceEventTypesDisabledList=function(){return this.setTraceEventTypesDisabledList([])},proto.mediapipe.ProfilerConfig.prototype.getTraceLogPath=function(){return e.Message.getFieldWithDefault(this,9,"")},proto.mediapipe.ProfilerConfig.prototype.setTraceLogPath=function(o){return e.Message.setProto3StringField(this,9,o)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCount=function(){return e.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCount=function(o){return e.Message.setProto3IntField(this,10,o)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalUsec=function(){return e.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalUsec=function(o){return e.Message.setProto3IntField(this,11,o)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogMarginUsec=function(){return e.Message.getFieldWithDefault(this,12,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogMarginUsec=function(o){return e.Message.setProto3IntField(this,12,o)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDurationEvents=function(){return e.Message.getBooleanFieldWithDefault(this,13,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDurationEvents=function(o){return e.Message.setProto3BooleanField(this,13,o)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalCount=function(){return e.Message.getFieldWithDefault(this,14,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalCount=function(o){return e.Message.setProto3IntField(this,14,o)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDisabled=function(){return e.Message.getBooleanFieldWithDefault(this,15,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDisabled=function(o){return e.Message.setProto3BooleanField(this,15,o)},proto.mediapipe.ProfilerConfig.prototype.getTraceEnabled=function(){return e.Message.getBooleanFieldWithDefault(this,16,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceEnabled=function(o){return e.Message.setProto3BooleanField(this,16,o)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogInstantEvents=function(){return e.Message.getBooleanFieldWithDefault(this,17,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogInstantEvents=function(o){return e.Message.setProto3BooleanField(this,17,o)},proto.mediapipe.ProfilerConfig.prototype.getCalculatorFilter=function(){return e.Message.getFieldWithDefault(this,18,"")},proto.mediapipe.ProfilerConfig.prototype.setCalculatorFilter=function(o){return e.Message.setProto3StringField(this,18,o)},proto.mediapipe.CalculatorGraphConfig.repeatedFields_=[1,6,7,9,10,15,16,17,14,1002],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.prototype.toObject=function(o){return proto.mediapipe.CalculatorGraphConfig.toObject(o,this)},proto.mediapipe.CalculatorGraphConfig.toObject=function(o,w){var r,d={nodeList:e.Message.toObjectList(w.getNodeList(),proto.mediapipe.CalculatorGraphConfig.Node.toObject,o),packetFactoryList:e.Message.toObjectList(w.getPacketFactoryList(),L.PacketFactoryConfig.toObject,o),packetGeneratorList:e.Message.toObjectList(w.getPacketGeneratorList(),ae.PacketGeneratorConfig.toObject,o),numThreads:e.Message.getFieldWithDefault(w,8,0),statusHandlerList:e.Message.toObjectList(w.getStatusHandlerList(),q.StatusHandlerConfig.toObject,o),inputStreamList:(r=e.Message.getRepeatedField(w,10))==null?void 0:r,outputStreamList:(r=e.Message.getRepeatedField(w,15))==null?void 0:r,inputSidePacketList:(r=e.Message.getRepeatedField(w,16))==null?void 0:r,outputSidePacketList:(r=e.Message.getRepeatedField(w,17))==null?void 0:r,maxQueueSize:e.Message.getFieldWithDefault(w,11,0),reportDeadlock:e.Message.getBooleanFieldWithDefault(w,21,!1),inputStreamHandler:(r=w.getInputStreamHandler())&&O.InputStreamHandlerConfig.toObject(o,r),outputStreamHandler:(r=w.getOutputStreamHandler())&&O.OutputStreamHandlerConfig.toObject(o,r),executorList:e.Message.toObjectList(w.getExecutorList(),proto.mediapipe.ExecutorConfig.toObject,o),profilerConfig:(r=w.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(o,r),pb_package:e.Message.getFieldWithDefault(w,19,""),type:e.Message.getFieldWithDefault(w,20,""),options:(r=w.getOptions())&&k.MediaPipeOptions.toObject(o,r),graphOptionsList:e.Message.toObjectList(w.getGraphOptionsList(),_.Any.toObject,o)};return o&&(d.$jspbMessageInstance=w),d}),proto.mediapipe.CalculatorGraphConfig.deserializeBinary=function(o){var w=new e.BinaryReader(o),r=new proto.mediapipe.CalculatorGraphConfig;return proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader(r,w)},proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader=function(o,w){for(;w.nextField()&&!w.isEndGroup();)switch(w.getFieldNumber()){case 1:var r=new proto.mediapipe.CalculatorGraphConfig.Node;w.readMessage(r,proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader),o.addNode(r);break;case 6:r=new L.PacketFactoryConfig,w.readMessage(r,L.PacketFactoryConfig.deserializeBinaryFromReader),o.addPacketFactory(r);break;case 7:r=new ae.PacketGeneratorConfig,w.readMessage(r,ae.PacketGeneratorConfig.deserializeBinaryFromReader),o.addPacketGenerator(r);break;case 8:r=w.readInt32(),o.setNumThreads(r);break;case 9:r=new q.StatusHandlerConfig,w.readMessage(r,q.StatusHandlerConfig.deserializeBinaryFromReader),o.addStatusHandler(r);break;case 10:r=w.readString(),o.addInputStream(r);break;case 15:r=w.readString(),o.addOutputStream(r);break;case 16:r=w.readString(),o.addInputSidePacket(r);break;case 17:r=w.readString(),o.addOutputSidePacket(r);break;case 11:r=w.readInt32(),o.setMaxQueueSize(r);break;case 21:r=w.readBool(),o.setReportDeadlock(r);break;case 12:r=new O.InputStreamHandlerConfig,w.readMessage(r,O.InputStreamHandlerConfig.deserializeBinaryFromReader),o.setInputStreamHandler(r);break;case 13:r=new O.OutputStreamHandlerConfig,w.readMessage(r,O.OutputStreamHandlerConfig.deserializeBinaryFromReader),o.setOutputStreamHandler(r);break;case 14:r=new proto.mediapipe.ExecutorConfig,w.readMessage(r,proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader),o.addExecutor(r);break;case 18:r=new proto.mediapipe.ProfilerConfig,w.readMessage(r,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),o.setProfilerConfig(r);break;case 19:r=w.readString(),o.setPackage(r);break;case 20:r=w.readString(),o.setType(r);break;case 1001:r=new k.MediaPipeOptions,w.readMessage(r,k.MediaPipeOptions.deserializeBinaryFromReader),o.setOptions(r);break;case 1002:r=new _.Any,w.readMessage(r,_.Any.deserializeBinaryFromReader),o.addGraphOptions(r);break;default:w.skipField()}return o},proto.mediapipe.CalculatorGraphConfig.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter=function(o,w){var r=void 0;(r=o.getNodeList()).length>0&&w.writeRepeatedMessage(1,r,proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter),(r=o.getPacketFactoryList()).length>0&&w.writeRepeatedMessage(6,r,L.PacketFactoryConfig.serializeBinaryToWriter),(r=o.getPacketGeneratorList()).length>0&&w.writeRepeatedMessage(7,r,ae.PacketGeneratorConfig.serializeBinaryToWriter),(r=o.getNumThreads())!==0&&w.writeInt32(8,r),(r=o.getStatusHandlerList()).length>0&&w.writeRepeatedMessage(9,r,q.StatusHandlerConfig.serializeBinaryToWriter),(r=o.getInputStreamList()).length>0&&w.writeRepeatedString(10,r),(r=o.getOutputStreamList()).length>0&&w.writeRepeatedString(15,r),(r=o.getInputSidePacketList()).length>0&&w.writeRepeatedString(16,r),(r=o.getOutputSidePacketList()).length>0&&w.writeRepeatedString(17,r),(r=o.getMaxQueueSize())!==0&&w.writeInt32(11,r),(r=o.getReportDeadlock())&&w.writeBool(21,r),(r=o.getInputStreamHandler())!=null&&w.writeMessage(12,r,O.InputStreamHandlerConfig.serializeBinaryToWriter),(r=o.getOutputStreamHandler())!=null&&w.writeMessage(13,r,O.OutputStreamHandlerConfig.serializeBinaryToWriter),(r=o.getExecutorList()).length>0&&w.writeRepeatedMessage(14,r,proto.mediapipe.ExecutorConfig.serializeBinaryToWriter),(r=o.getProfilerConfig())!=null&&w.writeMessage(18,r,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),(r=o.getPackage()).length>0&&w.writeString(19,r),(r=o.getType()).length>0&&w.writeString(20,r),(r=o.getOptions())!=null&&w.writeMessage(1001,r,k.MediaPipeOptions.serializeBinaryToWriter),(r=o.getGraphOptionsList()).length>0&&w.writeRepeatedMessage(1002,r,_.Any.serializeBinaryToWriter)},proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_=[3,4,5,6,8,13,17,1005],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.Node.prototype.toObject=function(o){return proto.mediapipe.CalculatorGraphConfig.Node.toObject(o,this)},proto.mediapipe.CalculatorGraphConfig.Node.toObject=function(o,w){var r,d={name:e.Message.getFieldWithDefault(w,1,""),calculator:e.Message.getFieldWithDefault(w,2,""),inputStreamList:(r=e.Message.getRepeatedField(w,3))==null?void 0:r,outputStreamList:(r=e.Message.getRepeatedField(w,4))==null?void 0:r,inputSidePacketList:(r=e.Message.getRepeatedField(w,5))==null?void 0:r,outputSidePacketList:(r=e.Message.getRepeatedField(w,6))==null?void 0:r,options:(r=w.getOptions())&&E.CalculatorOptions.toObject(o,r),nodeOptionsList:e.Message.toObjectList(w.getNodeOptionsList(),_.Any.toObject,o),sourceLayer:e.Message.getFieldWithDefault(w,9,0),bufferSizeHint:e.Message.getFieldWithDefault(w,10,0),inputStreamHandler:(r=w.getInputStreamHandler())&&O.InputStreamHandlerConfig.toObject(o,r),outputStreamHandler:(r=w.getOutputStreamHandler())&&O.OutputStreamHandlerConfig.toObject(o,r),inputStreamInfoList:e.Message.toObjectList(w.getInputStreamInfoList(),proto.mediapipe.InputStreamInfo.toObject,o),executor:e.Message.getFieldWithDefault(w,14,""),profilerConfig:(r=w.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(o,r),maxInFlight:e.Message.getFieldWithDefault(w,16,0),optionValueList:(r=e.Message.getRepeatedField(w,17))==null?void 0:r,externalInputList:(r=e.Message.getRepeatedField(w,1005))==null?void 0:r};return o&&(d.$jspbMessageInstance=w),d}),proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinary=function(o){var w=new e.BinaryReader(o),r=new proto.mediapipe.CalculatorGraphConfig.Node;return proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader(r,w)},proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader=function(o,w){for(;w.nextField()&&!w.isEndGroup();)switch(w.getFieldNumber()){case 1:var r=w.readString();o.setName(r);break;case 2:r=w.readString(),o.setCalculator(r);break;case 3:r=w.readString(),o.addInputStream(r);break;case 4:r=w.readString(),o.addOutputStream(r);break;case 5:r=w.readString(),o.addInputSidePacket(r);break;case 6:r=w.readString(),o.addOutputSidePacket(r);break;case 7:r=new E.CalculatorOptions,w.readMessage(r,E.CalculatorOptions.deserializeBinaryFromReader),o.setOptions(r);break;case 8:r=new _.Any,w.readMessage(r,_.Any.deserializeBinaryFromReader),o.addNodeOptions(r);break;case 9:r=w.readInt32(),o.setSourceLayer(r);break;case 10:r=w.readInt32(),o.setBufferSizeHint(r);break;case 11:r=new O.InputStreamHandlerConfig,w.readMessage(r,O.InputStreamHandlerConfig.deserializeBinaryFromReader),o.setInputStreamHandler(r);break;case 12:r=new O.OutputStreamHandlerConfig,w.readMessage(r,O.OutputStreamHandlerConfig.deserializeBinaryFromReader),o.setOutputStreamHandler(r);break;case 13:r=new proto.mediapipe.InputStreamInfo,w.readMessage(r,proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader),o.addInputStreamInfo(r);break;case 14:r=w.readString(),o.setExecutor(r);break;case 15:r=new proto.mediapipe.ProfilerConfig,w.readMessage(r,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),o.setProfilerConfig(r);break;case 16:r=w.readInt32(),o.setMaxInFlight(r);break;case 17:r=w.readString(),o.addOptionValue(r);break;case 1005:r=w.readString(),o.addExternalInput(r);break;default:w.skipField()}return o},proto.mediapipe.CalculatorGraphConfig.Node.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter=function(o,w){var r=void 0;(r=o.getName()).length>0&&w.writeString(1,r),(r=o.getCalculator()).length>0&&w.writeString(2,r),(r=o.getInputStreamList()).length>0&&w.writeRepeatedString(3,r),(r=o.getOutputStreamList()).length>0&&w.writeRepeatedString(4,r),(r=o.getInputSidePacketList()).length>0&&w.writeRepeatedString(5,r),(r=o.getOutputSidePacketList()).length>0&&w.writeRepeatedString(6,r),(r=o.getOptions())!=null&&w.writeMessage(7,r,E.CalculatorOptions.serializeBinaryToWriter),(r=o.getNodeOptionsList()).length>0&&w.writeRepeatedMessage(8,r,_.Any.serializeBinaryToWriter),(r=o.getSourceLayer())!==0&&w.writeInt32(9,r),(r=o.getBufferSizeHint())!==0&&w.writeInt32(10,r),(r=o.getInputStreamHandler())!=null&&w.writeMessage(11,r,O.InputStreamHandlerConfig.serializeBinaryToWriter),(r=o.getOutputStreamHandler())!=null&&w.writeMessage(12,r,O.OutputStreamHandlerConfig.serializeBinaryToWriter),(r=o.getInputStreamInfoList()).length>0&&w.writeRepeatedMessage(13,r,proto.mediapipe.InputStreamInfo.serializeBinaryToWriter),(r=o.getExecutor()).length>0&&w.writeString(14,r),(r=o.getProfilerConfig())!=null&&w.writeMessage(15,r,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),(r=o.getMaxInFlight())!==0&&w.writeInt32(16,r),(r=o.getOptionValueList()).length>0&&w.writeRepeatedString(17,r),(r=o.getExternalInputList()).length>0&&w.writeRepeatedString(1005,r)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setName=function(o){return e.Message.setProto3StringField(this,1,o)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getCalculator=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setCalculator=function(o){return e.Message.setProto3StringField(this,2,o)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamList=function(){return e.Message.getRepeatedField(this,3)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamList=function(o){return e.Message.setField(this,3,o||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStream=function(o,w){return e.Message.addToRepeatedField(this,3,o,w)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamList=function(){return e.Message.getRepeatedField(this,4)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamList=function(o){return e.Message.setField(this,4,o||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputStream=function(o,w){return e.Message.addToRepeatedField(this,4,o,w)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,5)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputSidePacketList=function(o){return e.Message.setField(this,5,o||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputSidePacket=function(o,w){return e.Message.addToRepeatedField(this,5,o,w)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputSidePacketList=function(){return e.Message.getRepeatedField(this,6)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputSidePacketList=function(o){return e.Message.setField(this,6,o||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputSidePacket=function(o,w){return e.Message.addToRepeatedField(this,6,o,w)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptions=function(){return e.Message.getWrapperField(this,E.CalculatorOptions,7)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptions=function(o){return e.Message.setWrapperField(this,7,o)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOptions=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getNodeOptionsList=function(){return e.Message.getRepeatedWrapperField(this,_.Any,8)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setNodeOptionsList=function(o){return e.Message.setRepeatedWrapperField(this,8,o)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addNodeOptions=function(o,w){return e.Message.addToRepeatedWrapperField(this,8,o,proto.google.protobuf.Any,w)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearNodeOptionsList=function(){return this.setNodeOptionsList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getSourceLayer=function(){return e.Message.getFieldWithDefault(this,9,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setSourceLayer=function(o){return e.Message.setProto3IntField(this,9,o)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getBufferSizeHint=function(){return e.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setBufferSizeHint=function(o){return e.Message.setProto3IntField(this,10,o)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamHandler=function(){return e.Message.getWrapperField(this,O.InputStreamHandlerConfig,11)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamHandler=function(o){return e.Message.setWrapperField(this,11,o)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasInputStreamHandler=function(){return e.Message.getField(this,11)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamHandler=function(){return e.Message.getWrapperField(this,O.OutputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamHandler=function(o){return e.Message.setWrapperField(this,12,o)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOutputStreamHandler=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamInfoList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.InputStreamInfo,13)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamInfoList=function(o){return e.Message.setRepeatedWrapperField(this,13,o)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStreamInfo=function(o,w){return e.Message.addToRepeatedWrapperField(this,13,o,proto.mediapipe.InputStreamInfo,w)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamInfoList=function(){return this.setInputStreamInfoList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExecutor=function(){return e.Message.getFieldWithDefault(this,14,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExecutor=function(o){return e.Message.setProto3StringField(this,14,o)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getProfilerConfig=function(){return e.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,15)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setProfilerConfig=function(o){return e.Message.setWrapperField(this,15,o)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasProfilerConfig=function(){return e.Message.getField(this,15)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getMaxInFlight=function(){return e.Message.getFieldWithDefault(this,16,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setMaxInFlight=function(o){return e.Message.setProto3IntField(this,16,o)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptionValueList=function(){return e.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptionValueList=function(o){return e.Message.setField(this,17,o||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOptionValue=function(o,w){return e.Message.addToRepeatedField(this,17,o,w)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptionValueList=function(){return this.setOptionValueList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExternalInputList=function(){return e.Message.getRepeatedField(this,1005)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExternalInputList=function(o){return e.Message.setField(this,1005,o||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addExternalInput=function(o,w){return e.Message.addToRepeatedField(this,1005,o,w)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNodeList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.CalculatorGraphConfig.Node,1)},proto.mediapipe.CalculatorGraphConfig.prototype.setNodeList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.CalculatorGraphConfig.prototype.addNode=function(o,w){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.CalculatorGraphConfig.Node,w)},proto.mediapipe.CalculatorGraphConfig.prototype.clearNodeList=function(){return this.setNodeList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketFactoryList=function(){return e.Message.getRepeatedWrapperField(this,L.PacketFactoryConfig,6)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketFactoryList=function(o){return e.Message.setRepeatedWrapperField(this,6,o)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketFactory=function(o,w){return e.Message.addToRepeatedWrapperField(this,6,o,proto.mediapipe.PacketFactoryConfig,w)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketFactoryList=function(){return this.setPacketFactoryList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketGeneratorList=function(){return e.Message.getRepeatedWrapperField(this,ae.PacketGeneratorConfig,7)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketGeneratorList=function(o){return e.Message.setRepeatedWrapperField(this,7,o)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketGenerator=function(o,w){return e.Message.addToRepeatedWrapperField(this,7,o,proto.mediapipe.PacketGeneratorConfig,w)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketGeneratorList=function(){return this.setPacketGeneratorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNumThreads=function(){return e.Message.getFieldWithDefault(this,8,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setNumThreads=function(o){return e.Message.setProto3IntField(this,8,o)},proto.mediapipe.CalculatorGraphConfig.prototype.getStatusHandlerList=function(){return e.Message.getRepeatedWrapperField(this,q.StatusHandlerConfig,9)},proto.mediapipe.CalculatorGraphConfig.prototype.setStatusHandlerList=function(o){return e.Message.setRepeatedWrapperField(this,9,o)},proto.mediapipe.CalculatorGraphConfig.prototype.addStatusHandler=function(o,w){return e.Message.addToRepeatedWrapperField(this,9,o,proto.mediapipe.StatusHandlerConfig,w)},proto.mediapipe.CalculatorGraphConfig.prototype.clearStatusHandlerList=function(){return this.setStatusHandlerList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamList=function(){return e.Message.getRepeatedField(this,10)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamList=function(o){return e.Message.setField(this,10,o||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputStream=function(o,w){return e.Message.addToRepeatedField(this,10,o,w)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamList=function(){return e.Message.getRepeatedField(this,15)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamList=function(o){return e.Message.setField(this,15,o||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputStream=function(o,w){return e.Message.addToRepeatedField(this,15,o,w)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,16)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputSidePacketList=function(o){return e.Message.setField(this,16,o||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputSidePacket=function(o,w){return e.Message.addToRepeatedField(this,16,o,w)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputSidePacketList=function(){return e.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputSidePacketList=function(o){return e.Message.setField(this,17,o||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputSidePacket=function(o,w){return e.Message.addToRepeatedField(this,17,o,w)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getMaxQueueSize=function(){return e.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setMaxQueueSize=function(o){return e.Message.setProto3IntField(this,11,o)},proto.mediapipe.CalculatorGraphConfig.prototype.getReportDeadlock=function(){return e.Message.getBooleanFieldWithDefault(this,21,!1)},proto.mediapipe.CalculatorGraphConfig.prototype.setReportDeadlock=function(o){return e.Message.setProto3BooleanField(this,21,o)},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamHandler=function(){return e.Message.getWrapperField(this,O.InputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamHandler=function(o){return e.Message.setWrapperField(this,12,o)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasInputStreamHandler=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamHandler=function(){return e.Message.getWrapperField(this,O.OutputStreamHandlerConfig,13)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamHandler=function(o){return e.Message.setWrapperField(this,13,o)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOutputStreamHandler=function(){return e.Message.getField(this,13)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getExecutorList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.ExecutorConfig,14)},proto.mediapipe.CalculatorGraphConfig.prototype.setExecutorList=function(o){return e.Message.setRepeatedWrapperField(this,14,o)},proto.mediapipe.CalculatorGraphConfig.prototype.addExecutor=function(o,w){return e.Message.addToRepeatedWrapperField(this,14,o,proto.mediapipe.ExecutorConfig,w)},proto.mediapipe.CalculatorGraphConfig.prototype.clearExecutorList=function(){return this.setExecutorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getProfilerConfig=function(){return e.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,18)},proto.mediapipe.CalculatorGraphConfig.prototype.setProfilerConfig=function(o){return e.Message.setWrapperField(this,18,o)},proto.mediapipe.CalculatorGraphConfig.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasProfilerConfig=function(){return e.Message.getField(this,18)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getPackage=function(){return e.Message.getFieldWithDefault(this,19,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setPackage=function(o){return e.Message.setProto3StringField(this,19,o)},proto.mediapipe.CalculatorGraphConfig.prototype.getType=function(){return e.Message.getFieldWithDefault(this,20,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setType=function(o){return e.Message.setProto3StringField(this,20,o)},proto.mediapipe.CalculatorGraphConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,k.MediaPipeOptions,1001)},proto.mediapipe.CalculatorGraphConfig.prototype.setOptions=function(o){return e.Message.setWrapperField(this,1001,o)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOptions=function(){return e.Message.getField(this,1001)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getGraphOptionsList=function(){return e.Message.getRepeatedWrapperField(this,_.Any,1002)},proto.mediapipe.CalculatorGraphConfig.prototype.setGraphOptionsList=function(o){return e.Message.setRepeatedWrapperField(this,1002,o)},proto.mediapipe.CalculatorGraphConfig.prototype.addGraphOptions=function(o,w){return e.Message.addToRepeatedWrapperField(this,1002,o,proto.google.protobuf.Any,w)},proto.mediapipe.CalculatorGraphConfig.prototype.clearGraphOptionsList=function(){return this.setGraphOptionsList([])},h.object.extend(t,proto.mediapipe)}(calculator_pb);var classification_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.mediapipe.Classification",null,I),h.exportSymbol("proto.mediapipe.ClassificationList",null,I),h.exportSymbol("proto.mediapipe.ClassificationListCollection",null,I),proto.mediapipe.Classification=function(E){e.Message.initialize(this,E,0,-1,null,null)},h.inherits(proto.mediapipe.Classification,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.Classification.displayName="proto.mediapipe.Classification"),proto.mediapipe.ClassificationList=function(E){e.Message.initialize(this,E,0,-1,proto.mediapipe.ClassificationList.repeatedFields_,null)},h.inherits(proto.mediapipe.ClassificationList,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationList.displayName="proto.mediapipe.ClassificationList"),proto.mediapipe.ClassificationListCollection=function(E){e.Message.initialize(this,E,0,-1,proto.mediapipe.ClassificationListCollection.repeatedFields_,null)},h.inherits(proto.mediapipe.ClassificationListCollection,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationListCollection.displayName="proto.mediapipe.ClassificationListCollection"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Classification.prototype.toObject=function(E){return proto.mediapipe.Classification.toObject(E,this)},proto.mediapipe.Classification.toObject=function(E,_){var k,L={index:(k=e.Message.getField(_,1))==null?void 0:k,score:(k=e.Message.getOptionalFloatingPointField(_,2))==null?void 0:k,label:(k=e.Message.getField(_,3))==null?void 0:k,displayName:(k=e.Message.getField(_,4))==null?void 0:k};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.Classification.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.Classification;return proto.mediapipe.Classification.deserializeBinaryFromReader(k,_)},proto.mediapipe.Classification.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readInt32();E.setIndex(k);break;case 2:k=_.readFloat(),E.setScore(k);break;case 3:k=_.readString(),E.setLabel(k);break;case 4:k=_.readString(),E.setDisplayName(k);break;default:_.skipField()}return E},proto.mediapipe.Classification.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.Classification.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.Classification.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeInt32(1,k),(k=e.Message.getField(E,2))!=null&&_.writeFloat(2,k),(k=e.Message.getField(E,3))!=null&&_.writeString(3,k),(k=e.Message.getField(E,4))!=null&&_.writeString(4,k)},proto.mediapipe.Classification.prototype.getIndex=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Classification.prototype.setIndex=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.Classification.prototype.clearIndex=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Classification.prototype.hasIndex=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Classification.prototype.getScore=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Classification.prototype.setScore=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.Classification.prototype.clearScore=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Classification.prototype.hasScore=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Classification.prototype.getLabel=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.Classification.prototype.setLabel=function(E){return e.Message.setField(this,3,E)},proto.mediapipe.Classification.prototype.clearLabel=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Classification.prototype.hasLabel=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Classification.prototype.getDisplayName=function(){return e.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.Classification.prototype.setDisplayName=function(E){return e.Message.setField(this,4,E)},proto.mediapipe.Classification.prototype.clearDisplayName=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.Classification.prototype.hasDisplayName=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.ClassificationList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationList.prototype.toObject=function(E){return proto.mediapipe.ClassificationList.toObject(E,this)},proto.mediapipe.ClassificationList.toObject=function(E,_){var k={classificationList:e.Message.toObjectList(_.getClassificationList(),proto.mediapipe.Classification.toObject,E)};return E&&(k.$jspbMessageInstance=_),k}),proto.mediapipe.ClassificationList.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.ClassificationList;return proto.mediapipe.ClassificationList.deserializeBinaryFromReader(k,_)},proto.mediapipe.ClassificationList.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)if(_.getFieldNumber()===1){var k=new proto.mediapipe.Classification;_.readMessage(k,proto.mediapipe.Classification.deserializeBinaryFromReader),E.addClassification(k)}else _.skipField();return E},proto.mediapipe.ClassificationList.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.ClassificationList.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.ClassificationList.serializeBinaryToWriter=function(E,_){var k;(k=E.getClassificationList()).length>0&&_.writeRepeatedMessage(1,k,proto.mediapipe.Classification.serializeBinaryToWriter)},proto.mediapipe.ClassificationList.prototype.getClassificationList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Classification,1)},proto.mediapipe.ClassificationList.prototype.setClassificationList=function(E){return e.Message.setRepeatedWrapperField(this,1,E)},proto.mediapipe.ClassificationList.prototype.addClassification=function(E,_){return e.Message.addToRepeatedWrapperField(this,1,E,proto.mediapipe.Classification,_)},proto.mediapipe.ClassificationList.prototype.clearClassificationList=function(){return this.setClassificationList([])},proto.mediapipe.ClassificationListCollection.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationListCollection.prototype.toObject=function(E){return proto.mediapipe.ClassificationListCollection.toObject(E,this)},proto.mediapipe.ClassificationListCollection.toObject=function(E,_){var k={classificationListList:e.Message.toObjectList(_.getClassificationListList(),proto.mediapipe.ClassificationList.toObject,E)};return E&&(k.$jspbMessageInstance=_),k}),proto.mediapipe.ClassificationListCollection.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.ClassificationListCollection;return proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader(k,_)},proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)if(_.getFieldNumber()===1){var k=new proto.mediapipe.ClassificationList;_.readMessage(k,proto.mediapipe.ClassificationList.deserializeBinaryFromReader),E.addClassificationList(k)}else _.skipField();return E},proto.mediapipe.ClassificationListCollection.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter=function(E,_){var k;(k=E.getClassificationListList()).length>0&&_.writeRepeatedMessage(1,k,proto.mediapipe.ClassificationList.serializeBinaryToWriter)},proto.mediapipe.ClassificationListCollection.prototype.getClassificationListList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.ClassificationList,1)},proto.mediapipe.ClassificationListCollection.prototype.setClassificationListList=function(E){return e.Message.setRepeatedWrapperField(this,1,E)},proto.mediapipe.ClassificationListCollection.prototype.addClassificationList=function(E,_){return e.Message.addToRepeatedWrapperField(this,1,E,proto.mediapipe.ClassificationList,_)},proto.mediapipe.ClassificationListCollection.prototype.clearClassificationListList=function(){return this.setClassificationListList([])},h.object.extend(t,proto.mediapipe)})(classification_pb);var landmark_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.mediapipe.Landmark",null,I),h.exportSymbol("proto.mediapipe.LandmarkList",null,I),h.exportSymbol("proto.mediapipe.LandmarkListCollection",null,I),h.exportSymbol("proto.mediapipe.NormalizedLandmark",null,I),h.exportSymbol("proto.mediapipe.NormalizedLandmarkList",null,I),h.exportSymbol("proto.mediapipe.NormalizedLandmarkListCollection",null,I),proto.mediapipe.Landmark=function(E){e.Message.initialize(this,E,0,-1,null,null)},h.inherits(proto.mediapipe.Landmark,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.Landmark.displayName="proto.mediapipe.Landmark"),proto.mediapipe.LandmarkList=function(E){e.Message.initialize(this,E,0,-1,proto.mediapipe.LandmarkList.repeatedFields_,null)},h.inherits(proto.mediapipe.LandmarkList,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkList.displayName="proto.mediapipe.LandmarkList"),proto.mediapipe.LandmarkListCollection=function(E){e.Message.initialize(this,E,0,-1,proto.mediapipe.LandmarkListCollection.repeatedFields_,null)},h.inherits(proto.mediapipe.LandmarkListCollection,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkListCollection.displayName="proto.mediapipe.LandmarkListCollection"),proto.mediapipe.NormalizedLandmark=function(E){e.Message.initialize(this,E,0,-1,null,null)},h.inherits(proto.mediapipe.NormalizedLandmark,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmark.displayName="proto.mediapipe.NormalizedLandmark"),proto.mediapipe.NormalizedLandmarkList=function(E){e.Message.initialize(this,E,0,-1,proto.mediapipe.NormalizedLandmarkList.repeatedFields_,null)},h.inherits(proto.mediapipe.NormalizedLandmarkList,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkList.displayName="proto.mediapipe.NormalizedLandmarkList"),proto.mediapipe.NormalizedLandmarkListCollection=function(E){e.Message.initialize(this,E,0,-1,proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_,null)},h.inherits(proto.mediapipe.NormalizedLandmarkListCollection,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkListCollection.displayName="proto.mediapipe.NormalizedLandmarkListCollection"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Landmark.prototype.toObject=function(E){return proto.mediapipe.Landmark.toObject(E,this)},proto.mediapipe.Landmark.toObject=function(E,_){var k,L={x:(k=e.Message.getOptionalFloatingPointField(_,1))==null?void 0:k,y:(k=e.Message.getOptionalFloatingPointField(_,2))==null?void 0:k,z:(k=e.Message.getOptionalFloatingPointField(_,3))==null?void 0:k,visibility:(k=e.Message.getOptionalFloatingPointField(_,4))==null?void 0:k,presence:(k=e.Message.getOptionalFloatingPointField(_,5))==null?void 0:k};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.Landmark.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.Landmark;return proto.mediapipe.Landmark.deserializeBinaryFromReader(k,_)},proto.mediapipe.Landmark.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readFloat();E.setX(k);break;case 2:k=_.readFloat(),E.setY(k);break;case 3:k=_.readFloat(),E.setZ(k);break;case 4:k=_.readFloat(),E.setVisibility(k);break;case 5:k=_.readFloat(),E.setPresence(k);break;default:_.skipField()}return E},proto.mediapipe.Landmark.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.Landmark.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.Landmark.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeFloat(1,k),(k=e.Message.getField(E,2))!=null&&_.writeFloat(2,k),(k=e.Message.getField(E,3))!=null&&_.writeFloat(3,k),(k=e.Message.getField(E,4))!=null&&_.writeFloat(4,k),(k=e.Message.getField(E,5))!=null&&_.writeFloat(5,k)},proto.mediapipe.Landmark.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.Landmark.prototype.setX=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.Landmark.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Landmark.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Landmark.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Landmark.prototype.setY=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.Landmark.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Landmark.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Landmark.prototype.getZ=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.Landmark.prototype.setZ=function(E){return e.Message.setField(this,3,E)},proto.mediapipe.Landmark.prototype.clearZ=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Landmark.prototype.hasZ=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Landmark.prototype.getVisibility=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.Landmark.prototype.setVisibility=function(E){return e.Message.setField(this,4,E)},proto.mediapipe.Landmark.prototype.clearVisibility=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.Landmark.prototype.hasVisibility=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.Landmark.prototype.getPresence=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Landmark.prototype.setPresence=function(E){return e.Message.setField(this,5,E)},proto.mediapipe.Landmark.prototype.clearPresence=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.Landmark.prototype.hasPresence=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.LandmarkList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkList.prototype.toObject=function(E){return proto.mediapipe.LandmarkList.toObject(E,this)},proto.mediapipe.LandmarkList.toObject=function(E,_){var k={landmarkList:e.Message.toObjectList(_.getLandmarkList(),proto.mediapipe.Landmark.toObject,E)};return E&&(k.$jspbMessageInstance=_),k}),proto.mediapipe.LandmarkList.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.LandmarkList;return proto.mediapipe.LandmarkList.deserializeBinaryFromReader(k,_)},proto.mediapipe.LandmarkList.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)if(_.getFieldNumber()===1){var k=new proto.mediapipe.Landmark;_.readMessage(k,proto.mediapipe.Landmark.deserializeBinaryFromReader),E.addLandmark(k)}else _.skipField();return E},proto.mediapipe.LandmarkList.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.LandmarkList.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.LandmarkList.serializeBinaryToWriter=function(E,_){var k;(k=E.getLandmarkList()).length>0&&_.writeRepeatedMessage(1,k,proto.mediapipe.Landmark.serializeBinaryToWriter)},proto.mediapipe.LandmarkList.prototype.getLandmarkList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Landmark,1)},proto.mediapipe.LandmarkList.prototype.setLandmarkList=function(E){return e.Message.setRepeatedWrapperField(this,1,E)},proto.mediapipe.LandmarkList.prototype.addLandmark=function(E,_){return e.Message.addToRepeatedWrapperField(this,1,E,proto.mediapipe.Landmark,_)},proto.mediapipe.LandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.LandmarkListCollection.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkListCollection.prototype.toObject=function(E){return proto.mediapipe.LandmarkListCollection.toObject(E,this)},proto.mediapipe.LandmarkListCollection.toObject=function(E,_){var k={landmarkListList:e.Message.toObjectList(_.getLandmarkListList(),proto.mediapipe.LandmarkList.toObject,E)};return E&&(k.$jspbMessageInstance=_),k}),proto.mediapipe.LandmarkListCollection.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.LandmarkListCollection;return proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader(k,_)},proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)if(_.getFieldNumber()===1){var k=new proto.mediapipe.LandmarkList;_.readMessage(k,proto.mediapipe.LandmarkList.deserializeBinaryFromReader),E.addLandmarkList(k)}else _.skipField();return E},proto.mediapipe.LandmarkListCollection.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter=function(E,_){var k;(k=E.getLandmarkListList()).length>0&&_.writeRepeatedMessage(1,k,proto.mediapipe.LandmarkList.serializeBinaryToWriter)},proto.mediapipe.LandmarkListCollection.prototype.getLandmarkListList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.LandmarkList,1)},proto.mediapipe.LandmarkListCollection.prototype.setLandmarkListList=function(E){return e.Message.setRepeatedWrapperField(this,1,E)},proto.mediapipe.LandmarkListCollection.prototype.addLandmarkList=function(E,_){return e.Message.addToRepeatedWrapperField(this,1,E,proto.mediapipe.LandmarkList,_)},proto.mediapipe.LandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmark.prototype.toObject=function(E){return proto.mediapipe.NormalizedLandmark.toObject(E,this)},proto.mediapipe.NormalizedLandmark.toObject=function(E,_){var k,L={x:(k=e.Message.getOptionalFloatingPointField(_,1))==null?void 0:k,y:(k=e.Message.getOptionalFloatingPointField(_,2))==null?void 0:k,z:(k=e.Message.getOptionalFloatingPointField(_,3))==null?void 0:k,visibility:(k=e.Message.getOptionalFloatingPointField(_,4))==null?void 0:k,presence:(k=e.Message.getOptionalFloatingPointField(_,5))==null?void 0:k};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.NormalizedLandmark.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.NormalizedLandmark;return proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader(k,_)},proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readFloat();E.setX(k);break;case 2:k=_.readFloat(),E.setY(k);break;case 3:k=_.readFloat(),E.setZ(k);break;case 4:k=_.readFloat(),E.setVisibility(k);break;case 5:k=_.readFloat(),E.setPresence(k);break;default:_.skipField()}return E},proto.mediapipe.NormalizedLandmark.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeFloat(1,k),(k=e.Message.getField(E,2))!=null&&_.writeFloat(2,k),(k=e.Message.getField(E,3))!=null&&_.writeFloat(3,k),(k=e.Message.getField(E,4))!=null&&_.writeFloat(4,k),(k=e.Message.getField(E,5))!=null&&_.writeFloat(5,k)},proto.mediapipe.NormalizedLandmark.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedLandmark.prototype.setX=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.NormalizedLandmark.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.NormalizedLandmark.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedLandmark.prototype.setY=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.NormalizedLandmark.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.NormalizedLandmark.prototype.getZ=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedLandmark.prototype.setZ=function(E){return e.Message.setField(this,3,E)},proto.mediapipe.NormalizedLandmark.prototype.clearZ=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasZ=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.NormalizedLandmark.prototype.getVisibility=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedLandmark.prototype.setVisibility=function(E){return e.Message.setField(this,4,E)},proto.mediapipe.NormalizedLandmark.prototype.clearVisibility=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasVisibility=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.NormalizedLandmark.prototype.getPresence=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedLandmark.prototype.setPresence=function(E){return e.Message.setField(this,5,E)},proto.mediapipe.NormalizedLandmark.prototype.clearPresence=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasPresence=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.NormalizedLandmarkList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkList.prototype.toObject=function(E){return proto.mediapipe.NormalizedLandmarkList.toObject(E,this)},proto.mediapipe.NormalizedLandmarkList.toObject=function(E,_){var k={landmarkList:e.Message.toObjectList(_.getLandmarkList(),proto.mediapipe.NormalizedLandmark.toObject,E)};return E&&(k.$jspbMessageInstance=_),k}),proto.mediapipe.NormalizedLandmarkList.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.NormalizedLandmarkList;return proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader(k,_)},proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)if(_.getFieldNumber()===1){var k=new proto.mediapipe.NormalizedLandmark;_.readMessage(k,proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader),E.addLandmark(k)}else _.skipField();return E},proto.mediapipe.NormalizedLandmarkList.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter=function(E,_){var k;(k=E.getLandmarkList()).length>0&&_.writeRepeatedMessage(1,k,proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkList.prototype.getLandmarkList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmark,1)},proto.mediapipe.NormalizedLandmarkList.prototype.setLandmarkList=function(E){return e.Message.setRepeatedWrapperField(this,1,E)},proto.mediapipe.NormalizedLandmarkList.prototype.addLandmark=function(E,_){return e.Message.addToRepeatedWrapperField(this,1,E,proto.mediapipe.NormalizedLandmark,_)},proto.mediapipe.NormalizedLandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkListCollection.prototype.toObject=function(E){return proto.mediapipe.NormalizedLandmarkListCollection.toObject(E,this)},proto.mediapipe.NormalizedLandmarkListCollection.toObject=function(E,_){var k={landmarkListList:e.Message.toObjectList(_.getLandmarkListList(),proto.mediapipe.NormalizedLandmarkList.toObject,E)};return E&&(k.$jspbMessageInstance=_),k}),proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.NormalizedLandmarkListCollection;return proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader(k,_)},proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)if(_.getFieldNumber()===1){var k=new proto.mediapipe.NormalizedLandmarkList;_.readMessage(k,proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader),E.addLandmarkList(k)}else _.skipField();return E},proto.mediapipe.NormalizedLandmarkListCollection.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter=function(E,_){var k;(k=E.getLandmarkListList()).length>0&&_.writeRepeatedMessage(1,k,proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.getLandmarkListList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmarkList,1)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.setLandmarkListList=function(E){return e.Message.setRepeatedWrapperField(this,1,E)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.addLandmarkList=function(E,_){return e.Message.addToRepeatedWrapperField(this,1,E,proto.mediapipe.NormalizedLandmarkList,_)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},h.object.extend(t,proto.mediapipe)})(landmark_pb);var base_options_pb={},acceleration_pb={},inference_calculator_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=calculator_pb;h.object.extend(proto,E);var _=calculator_options_pb;h.object.extend(proto,_),h.exportSymbol("proto.mediapipe.InferenceCalculatorOptions",null,I),h.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate",null,I),h.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase",null,I),h.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu",null,I),h.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api",null,I),h.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage",null,I),h.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi",null,I),h.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite",null,I),h.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack",null,I),proto.mediapipe.InferenceCalculatorOptions=function(k){e.Message.initialize(this,k,0,-1,null,null)},h.inherits(proto.mediapipe.InferenceCalculatorOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.displayName="proto.mediapipe.InferenceCalculatorOptions"),proto.mediapipe.InferenceCalculatorOptions.Delegate=function(k){e.Message.initialize(this,k,0,-1,null,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_)},h.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate"),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite=function(k){e.Message.initialize(this,k,0,-1,null,null)},h.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu=function(k){e.Message.initialize(this,k,0,-1,null,null)},h.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi=function(k){e.Message.initialize(this,k,0,-1,null,null)},h.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack=function(k){e.Message.initialize(this,k,0,-1,null,null)},h.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.prototype.toObject=function(k){return proto.mediapipe.InferenceCalculatorOptions.toObject(k,this)},proto.mediapipe.InferenceCalculatorOptions.toObject=function(k,L){var ae,q={modelPath:(ae=e.Message.getField(L,1))==null?void 0:ae,useGpu:e.Message.getBooleanFieldWithDefault(L,2,!1),useNnapi:e.Message.getBooleanFieldWithDefault(L,3,!1),cpuNumThread:e.Message.getFieldWithDefault(L,4,-1),delegate:(ae=L.getDelegate())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(k,ae)};return k&&(q.$jspbMessageInstance=L),q}),proto.mediapipe.InferenceCalculatorOptions.deserializeBinary=function(k){var L=new e.BinaryReader(k),ae=new proto.mediapipe.InferenceCalculatorOptions;return proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader(ae,L)},proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader=function(k,L){for(;L.nextField()&&!L.isEndGroup();)switch(L.getFieldNumber()){case 1:var ae=L.readString();k.setModelPath(ae);break;case 2:ae=L.readBool(),k.setUseGpu(ae);break;case 3:ae=L.readBool(),k.setUseNnapi(ae);break;case 4:ae=L.readInt32(),k.setCpuNumThread(ae);break;case 5:ae=new proto.mediapipe.InferenceCalculatorOptions.Delegate,L.readMessage(ae,proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader),k.setDelegate(ae);break;default:L.skipField()}return k},proto.mediapipe.InferenceCalculatorOptions.prototype.serializeBinary=function(){var k=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter(this,k),k.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter=function(k,L){var ae=void 0;(ae=e.Message.getField(k,1))!=null&&L.writeString(1,ae),(ae=e.Message.getField(k,2))!=null&&L.writeBool(2,ae),(ae=e.Message.getField(k,3))!=null&&L.writeBool(3,ae),(ae=e.Message.getField(k,4))!=null&&L.writeInt32(4,ae),(ae=k.getDelegate())!=null&&L.writeMessage(5,ae,proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter)},proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_=[[1,2,3,4]],proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase={DELEGATE_NOT_SET:0,TFLITE:1,GPU:2,NNAPI:3,XNNPACK:4},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getDelegateCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.toObject=function(k){return proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(k,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject=function(k,L){var ae,q={tflite:(ae=L.getTflite())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(k,ae),gpu:(ae=L.getGpu())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(k,ae),nnapi:(ae=L.getNnapi())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(k,ae),xnnpack:(ae=L.getXnnpack())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(k,ae)};return k&&(q.$jspbMessageInstance=L),q}),proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinary=function(k){var L=new e.BinaryReader(k),ae=new proto.mediapipe.InferenceCalculatorOptions.Delegate;return proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader(ae,L)},proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader=function(k,L){for(;L.nextField()&&!L.isEndGroup();)switch(L.getFieldNumber()){case 1:var ae=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;L.readMessage(ae,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),k.setTflite(ae);break;case 2:ae=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,L.readMessage(ae,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),k.setGpu(ae);break;case 3:ae=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,L.readMessage(ae,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader),k.setNnapi(ae);break;case 4:ae=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,L.readMessage(ae,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),k.setXnnpack(ae);break;default:L.skipField()}return k},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.serializeBinary=function(){var k=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter(this,k),k.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter=function(k,L){var ae=void 0;(ae=k.getTflite())!=null&&L.writeMessage(1,ae,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter),(ae=k.getGpu())!=null&&L.writeMessage(2,ae,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),(ae=k.getNnapi())!=null&&L.writeMessage(3,ae,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter),(ae=k.getXnnpack())!=null&&L.writeMessage(4,ae,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.toObject=function(k){return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(k,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject=function(k,L){var ae={};return k&&(ae.$jspbMessageInstance=L),ae}),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinary=function(k){var L=new e.BinaryReader(k),ae=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader(ae,L)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader=function(k,L){for(;L.nextField()&&!L.isEndGroup();)L.getFieldNumber(),L.skipField();return k},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.serializeBinary=function(){var k=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter(this,k),k.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter=function(k,L){},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.toObject=function(k){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(k,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject=function(k,L){var ae,q={useAdvancedGpuApi:e.Message.getBooleanFieldWithDefault(L,1,!1),api:e.Message.getFieldWithDefault(L,4,0),allowPrecisionLoss:e.Message.getBooleanFieldWithDefault(L,3,!0),cachedKernelPath:(ae=e.Message.getField(L,2))==null?void 0:ae,serializedModelDir:(ae=e.Message.getField(L,7))==null?void 0:ae,modelToken:(ae=e.Message.getField(L,8))==null?void 0:ae,usage:e.Message.getFieldWithDefault(L,5,2)};return k&&(q.$jspbMessageInstance=L),q}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinary=function(k){var L=new e.BinaryReader(k),ae=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader(ae,L)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader=function(k,L){for(;L.nextField()&&!L.isEndGroup();)switch(L.getFieldNumber()){case 1:var ae=L.readBool();k.setUseAdvancedGpuApi(ae);break;case 4:ae=L.readEnum(),k.setApi(ae);break;case 3:ae=L.readBool(),k.setAllowPrecisionLoss(ae);break;case 2:ae=L.readString(),k.setCachedKernelPath(ae);break;case 7:ae=L.readString(),k.setSerializedModelDir(ae);break;case 8:ae=L.readString(),k.setModelToken(ae);break;case 5:ae=L.readEnum(),k.setUsage(ae);break;default:L.skipField()}return k},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.serializeBinary=function(){var k=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter(this,k),k.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter=function(k,L){var ae=void 0;(ae=e.Message.getField(k,1))!=null&&L.writeBool(1,ae),(ae=e.Message.getField(k,4))!=null&&L.writeEnum(4,ae),(ae=e.Message.getField(k,3))!=null&&L.writeBool(3,ae),(ae=e.Message.getField(k,2))!=null&&L.writeString(2,ae),(ae=e.Message.getField(k,7))!=null&&L.writeString(7,ae),(ae=e.Message.getField(k,8))!=null&&L.writeString(8,ae),(ae=e.Message.getField(k,5))!=null&&L.writeEnum(5,ae)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api={ANY:0,OPENGL:1,OPENCL:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage={UNSPECIFIED:0,FAST_SINGLE_ANSWER:1,SUSTAINED_SPEED:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUseAdvancedGpuApi=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUseAdvancedGpuApi=function(k){return e.Message.setField(this,1,k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUseAdvancedGpuApi=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUseAdvancedGpuApi=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getApi=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setApi=function(k){return e.Message.setField(this,4,k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearApi=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasApi=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getAllowPrecisionLoss=function(){return e.Message.getBooleanFieldWithDefault(this,3,!0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setAllowPrecisionLoss=function(k){return e.Message.setField(this,3,k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearAllowPrecisionLoss=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasAllowPrecisionLoss=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getCachedKernelPath=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setCachedKernelPath=function(k){return e.Message.setField(this,2,k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearCachedKernelPath=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasCachedKernelPath=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getSerializedModelDir=function(){return e.Message.getFieldWithDefault(this,7,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setSerializedModelDir=function(k){return e.Message.setField(this,7,k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearSerializedModelDir=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasSerializedModelDir=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getModelToken=function(){return e.Message.getFieldWithDefault(this,8,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setModelToken=function(k){return e.Message.setField(this,8,k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearModelToken=function(){return e.Message.setField(this,8,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasModelToken=function(){return e.Message.getField(this,8)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUsage=function(){return e.Message.getFieldWithDefault(this,5,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUsage=function(k){return e.Message.setField(this,5,k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUsage=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUsage=function(){return e.Message.getField(this,5)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.toObject=function(k){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(k,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject=function(k,L){var ae,q={cacheDir:(ae=e.Message.getField(L,1))==null?void 0:ae,modelToken:(ae=e.Message.getField(L,2))==null?void 0:ae,acceleratorName:(ae=e.Message.getField(L,3))==null?void 0:ae};return k&&(q.$jspbMessageInstance=L),q}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinary=function(k){var L=new e.BinaryReader(k),ae=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader(ae,L)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader=function(k,L){for(;L.nextField()&&!L.isEndGroup();)switch(L.getFieldNumber()){case 1:var ae=L.readString();k.setCacheDir(ae);break;case 2:ae=L.readString(),k.setModelToken(ae);break;case 3:ae=L.readString(),k.setAcceleratorName(ae);break;default:L.skipField()}return k},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.serializeBinary=function(){var k=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter(this,k),k.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter=function(k,L){var ae=void 0;(ae=e.Message.getField(k,1))!=null&&L.writeString(1,ae),(ae=e.Message.getField(k,2))!=null&&L.writeString(2,ae),(ae=e.Message.getField(k,3))!=null&&L.writeString(3,ae)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getCacheDir=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setCacheDir=function(k){return e.Message.setField(this,1,k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearCacheDir=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasCacheDir=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getModelToken=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setModelToken=function(k){return e.Message.setField(this,2,k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearModelToken=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasModelToken=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getAcceleratorName=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setAcceleratorName=function(k){return e.Message.setField(this,3,k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearAcceleratorName=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasAcceleratorName=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.toObject=function(k){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(k,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject=function(k,L){var ae={numThreads:e.Message.getFieldWithDefault(L,1,-1)};return k&&(ae.$jspbMessageInstance=L),ae}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinary=function(k){var L=new e.BinaryReader(k),ae=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader(ae,L)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader=function(k,L){for(;L.nextField()&&!L.isEndGroup();)if(L.getFieldNumber()===1){var ae=L.readInt32();k.setNumThreads(ae)}else L.skipField();return k},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.serializeBinary=function(){var k=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter(this,k),k.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter=function(k,L){var ae;(ae=e.Message.getField(k,1))!=null&&L.writeInt32(1,ae)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.getNumThreads=function(){return e.Message.getFieldWithDefault(this,1,-1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.setNumThreads=function(k){return e.Message.setField(this,1,k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.clearNumThreads=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.hasNumThreads=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getTflite=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setTflite=function(k){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasTflite=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getGpu=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setGpu=function(k){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasGpu=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getNnapi=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,3)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setNnapi=function(k){return e.Message.setOneofWrapperField(this,3,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearNnapi=function(){return this.setNnapi(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasNnapi=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getXnnpack=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,4)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setXnnpack=function(k){return e.Message.setOneofWrapperField(this,4,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],k)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasXnnpack=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.ext=new e.ExtensionFieldInfo(336783863,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),_.CalculatorOptions.extensionsBinary[336783863]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[336783863]=proto.mediapipe.InferenceCalculatorOptions.ext,proto.mediapipe.InferenceCalculatorOptions.prototype.getModelPath=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.prototype.setModelPath=function(k){return e.Message.setField(this,1,k)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearModelPath=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasModelPath=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseGpu=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseGpu=function(k){return e.Message.setField(this,2,k)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseGpu=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseGpu=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseNnapi=function(){return e.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseNnapi=function(k){return e.Message.setField(this,3,k)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseNnapi=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseNnapi=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getCpuNumThread=function(){return e.Message.getFieldWithDefault(this,4,-1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setCpuNumThread=function(k){return e.Message.setField(this,4,k)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearCpuNumThread=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasCpuNumThread=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getDelegate=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate,5)},proto.mediapipe.InferenceCalculatorOptions.prototype.setDelegate=function(k){return e.Message.setWrapperField(this,5,k)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearDelegate=function(){return this.setDelegate(void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasDelegate=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.InferenceCalculatorOptions.ext=new e.ExtensionFieldInfo(336783863,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),_.CalculatorOptions.extensionsBinary[336783863]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[336783863]=proto.mediapipe.InferenceCalculatorOptions.ext,h.object.extend(t,proto.mediapipe)})(inference_calculator_pb),function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=inference_calculator_pb;h.object.extend(proto,E),h.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration",null,I),h.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase",null,I),proto.mediapipe.tasks.core.proto.Acceleration=function(_){e.Message.initialize(this,_,0,-1,null,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_)},h.inherits(proto.mediapipe.tasks.core.proto.Acceleration,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.Acceleration.displayName="proto.mediapipe.tasks.core.proto.Acceleration"),proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_=[[1,2,4]],proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase={DELEGATE_NOT_SET:0,XNNPACK:1,GPU:2,TFLITE:4},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getDelegateCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.Acceleration.prototype.toObject=function(_){return proto.mediapipe.tasks.core.proto.Acceleration.toObject(_,this)},proto.mediapipe.tasks.core.proto.Acceleration.toObject=function(_,k){var L,ae={xnnpack:(L=k.getXnnpack())&&E.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(_,L),gpu:(L=k.getGpu())&&E.InferenceCalculatorOptions.Delegate.Gpu.toObject(_,L),tflite:(L=k.getTflite())&&E.InferenceCalculatorOptions.Delegate.TfLite.toObject(_,L)};return _&&(ae.$jspbMessageInstance=k),ae}),proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.tasks.core.proto.Acceleration;return proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader(L,k)},proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)switch(k.getFieldNumber()){case 1:var L=new E.InferenceCalculatorOptions.Delegate.Xnnpack;k.readMessage(L,E.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),_.setXnnpack(L);break;case 2:L=new E.InferenceCalculatorOptions.Delegate.Gpu,k.readMessage(L,E.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),_.setGpu(L);break;case 4:L=new E.InferenceCalculatorOptions.Delegate.TfLite,k.readMessage(L,E.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),_.setTflite(L);break;default:k.skipField()}return _},proto.mediapipe.tasks.core.proto.Acceleration.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter=function(_,k){var L=void 0;(L=_.getXnnpack())!=null&&k.writeMessage(1,L,E.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter),(L=_.getGpu())!=null&&k.writeMessage(2,L,E.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),(L=_.getTflite())!=null&&k.writeMessage(4,L,E.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getXnnpack=function(){return e.Message.getWrapperField(this,E.InferenceCalculatorOptions.Delegate.Xnnpack,1)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setXnnpack=function(_){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],_)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasXnnpack=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getGpu=function(){return e.Message.getWrapperField(this,E.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setGpu=function(_){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],_)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasGpu=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getTflite=function(){return e.Message.getWrapperField(this,E.InferenceCalculatorOptions.Delegate.TfLite,4)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setTflite=function(_){return e.Message.setOneofWrapperField(this,4,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],_)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasTflite=function(){return e.Message.getField(this,4)!=null},h.object.extend(t,proto.mediapipe.tasks.core.proto)}(acceleration_pb);var external_file_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.mediapipe.tasks.core.proto.ExternalFile",null,I),h.exportSymbol("proto.mediapipe.tasks.core.proto.FileDescriptorMeta",null,I),h.exportSymbol("proto.mediapipe.tasks.core.proto.FilePointerMeta",null,I),proto.mediapipe.tasks.core.proto.ExternalFile=function(E){e.Message.initialize(this,E,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.core.proto.ExternalFile,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.ExternalFile.displayName="proto.mediapipe.tasks.core.proto.ExternalFile"),proto.mediapipe.tasks.core.proto.FileDescriptorMeta=function(E){e.Message.initialize(this,E,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.core.proto.FileDescriptorMeta,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.displayName="proto.mediapipe.tasks.core.proto.FileDescriptorMeta"),proto.mediapipe.tasks.core.proto.FilePointerMeta=function(E){e.Message.initialize(this,E,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.core.proto.FilePointerMeta,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.displayName="proto.mediapipe.tasks.core.proto.FilePointerMeta"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.ExternalFile.prototype.toObject=function(E){return proto.mediapipe.tasks.core.proto.ExternalFile.toObject(E,this)},proto.mediapipe.tasks.core.proto.ExternalFile.toObject=function(E,_){var k,L={fileContent:_.getFileContent_asB64(),fileName:(k=e.Message.getField(_,2))==null?void 0:k,fileDescriptorMeta:(k=_.getFileDescriptorMeta())&&proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(E,k),filePointerMeta:(k=_.getFilePointerMeta())&&proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(E,k)};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.tasks.core.proto.ExternalFile;return proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader(k,_)},proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readBytes();E.setFileContent(k);break;case 2:k=_.readString(),E.setFileName(k);break;case 3:k=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta,_.readMessage(k,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader),E.setFileDescriptorMeta(k);break;case 4:k=new proto.mediapipe.tasks.core.proto.FilePointerMeta,_.readMessage(k,proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader),E.setFilePointerMeta(k);break;default:_.skipField()}return E},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeBytes(1,k),(k=e.Message.getField(E,2))!=null&&_.writeString(2,k),(k=E.getFileDescriptorMeta())!=null&&_.writeMessage(3,k,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter),(k=E.getFilePointerMeta())!=null&&_.writeMessage(4,k,proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asB64=function(){return e.Message.bytesAsB64(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asU8=function(){return e.Message.bytesAsU8(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileContent=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileContent=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileContent=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileName=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileName=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileName=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileName=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileDescriptorMeta=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FileDescriptorMeta,3)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileDescriptorMeta=function(E){return e.Message.setWrapperField(this,3,E)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileDescriptorMeta=function(){return this.setFileDescriptorMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileDescriptorMeta=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFilePointerMeta=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FilePointerMeta,4)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFilePointerMeta=function(E){return e.Message.setWrapperField(this,4,E)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFilePointerMeta=function(){return this.setFilePointerMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFilePointerMeta=function(){return e.Message.getField(this,4)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.toObject=function(E){return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(E,this)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject=function(E,_){var k,L={fd:(k=e.Message.getField(_,1))==null?void 0:k,length:(k=e.Message.getField(_,2))==null?void 0:k,offset:(k=e.Message.getField(_,3))==null?void 0:k};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader(k,_)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readInt32();E.setFd(k);break;case 2:k=_.readInt64(),E.setLength(k);break;case 3:k=_.readInt64(),E.setOffset(k);break;default:_.skipField()}return E},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeInt32(1,k),(k=e.Message.getField(E,2))!=null&&_.writeInt64(2,k),(k=e.Message.getField(E,3))!=null&&_.writeInt64(3,k)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getFd=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setFd=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearFd=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasFd=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getLength=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setLength=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearLength=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasLength=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getOffset=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setOffset=function(E){return e.Message.setField(this,3,E)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearOffset=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasOffset=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.toObject=function(E){return proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(E,this)},proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject=function(E,_){var k,L={pointer:(k=e.Message.getField(_,1))==null?void 0:k,length:(k=e.Message.getField(_,2))==null?void 0:k};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.tasks.core.proto.FilePointerMeta;return proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader(k,_)},proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readUint64();E.setPointer(k);break;case 2:k=_.readInt64(),E.setLength(k);break;default:_.skipField()}return E},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeUint64(1,k),(k=e.Message.getField(E,2))!=null&&_.writeInt64(2,k)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getPointer=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setPointer=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearPointer=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasPointer=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getLength=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setLength=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearLength=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasLength=function(){return e.Message.getField(this,2)!=null},h.object.extend(t,proto.mediapipe.tasks.core.proto)})(external_file_pb),function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=acceleration_pb;h.object.extend(proto,E);var _=external_file_pb;h.object.extend(proto,_),h.exportSymbol("proto.mediapipe.tasks.core.proto.BaseOptions",null,I),proto.mediapipe.tasks.core.proto.BaseOptions=function(k){e.Message.initialize(this,k,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.core.proto.BaseOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.BaseOptions.displayName="proto.mediapipe.tasks.core.proto.BaseOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.BaseOptions.prototype.toObject=function(k){return proto.mediapipe.tasks.core.proto.BaseOptions.toObject(k,this)},proto.mediapipe.tasks.core.proto.BaseOptions.toObject=function(k,L){var ae,q={modelAsset:(ae=L.getModelAsset())&&_.ExternalFile.toObject(k,ae),useStreamMode:e.Message.getBooleanFieldWithDefault(L,2,!1),acceleration:(ae=L.getAcceleration())&&E.Acceleration.toObject(k,ae)};return k&&(q.$jspbMessageInstance=L),q}),proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinary=function(k){var L=new e.BinaryReader(k),ae=new proto.mediapipe.tasks.core.proto.BaseOptions;return proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader(ae,L)},proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader=function(k,L){for(;L.nextField()&&!L.isEndGroup();)switch(L.getFieldNumber()){case 1:var ae=new _.ExternalFile;L.readMessage(ae,_.ExternalFile.deserializeBinaryFromReader),k.setModelAsset(ae);break;case 2:ae=L.readBool(),k.setUseStreamMode(ae);break;case 3:ae=new E.Acceleration,L.readMessage(ae,E.Acceleration.deserializeBinaryFromReader),k.setAcceleration(ae);break;default:L.skipField()}return k},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.serializeBinary=function(){var k=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter(this,k),k.getResultBuffer()},proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter=function(k,L){var ae=void 0;(ae=k.getModelAsset())!=null&&L.writeMessage(1,ae,_.ExternalFile.serializeBinaryToWriter),(ae=e.Message.getField(k,2))!=null&&L.writeBool(2,ae),(ae=k.getAcceleration())!=null&&L.writeMessage(3,ae,E.Acceleration.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getModelAsset=function(){return e.Message.getWrapperField(this,_.ExternalFile,1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setModelAsset=function(k){return e.Message.setWrapperField(this,1,k)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearModelAsset=function(){return this.setModelAsset(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasModelAsset=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getUseStreamMode=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setUseStreamMode=function(k){return e.Message.setField(this,2,k)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearUseStreamMode=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasUseStreamMode=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getAcceleration=function(){return e.Message.getWrapperField(this,E.Acceleration,3)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setAcceleration=function(k){return e.Message.setWrapperField(this,3,k)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearAcceleration=function(){return this.setAcceleration(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasAcceleration=function(){return e.Message.getField(this,3)!=null},h.object.extend(t,proto.mediapipe.tasks.core.proto)}(base_options_pb);var gesture_classifier_graph_options_pb={},classifier_options_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.mediapipe.tasks.components.processors.proto.ClassifierOptions",null,I),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions=function(E){e.Message.initialize(this,E,0,-1,proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_,null)},h.inherits(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.displayName="proto.mediapipe.tasks.components.processors.proto.ClassifierOptions"),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_=[4,5],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.toObject=function(E){return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject(E,this)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject=function(E,_){var k,L={displayNamesLocale:e.Message.getFieldWithDefault(_,1,"en"),maxResults:e.Message.getFieldWithDefault(_,2,-1),scoreThreshold:(k=e.Message.getOptionalFloatingPointField(_,3))==null?void 0:k,categoryAllowlistList:(k=e.Message.getRepeatedField(_,4))==null?void 0:k,categoryDenylistList:(k=e.Message.getRepeatedField(_,5))==null?void 0:k};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.tasks.components.processors.proto.ClassifierOptions;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader(k,_)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readString();E.setDisplayNamesLocale(k);break;case 2:k=_.readInt32(),E.setMaxResults(k);break;case 3:k=_.readFloat(),E.setScoreThreshold(k);break;case 4:k=_.readString(),E.addCategoryAllowlist(k);break;case 5:k=_.readString(),E.addCategoryDenylist(k);break;default:_.skipField()}return E},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeString(1,k),(k=e.Message.getField(E,2))!=null&&_.writeInt32(2,k),(k=e.Message.getField(E,3))!=null&&_.writeFloat(3,k),(k=E.getCategoryAllowlistList()).length>0&&_.writeRepeatedString(4,k),(k=E.getCategoryDenylistList()).length>0&&_.writeRepeatedString(5,k)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getDisplayNamesLocale=function(){return e.Message.getFieldWithDefault(this,1,"en")},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setDisplayNamesLocale=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearDisplayNamesLocale=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasDisplayNamesLocale=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getMaxResults=function(){return e.Message.getFieldWithDefault(this,2,-1)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setMaxResults=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearMaxResults=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasMaxResults=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getScoreThreshold=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setScoreThreshold=function(E){return e.Message.setField(this,3,E)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearScoreThreshold=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasScoreThreshold=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryAllowlistList=function(){return e.Message.getRepeatedField(this,4)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryAllowlistList=function(E){return e.Message.setField(this,4,E||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryAllowlist=function(E,_){return e.Message.addToRepeatedField(this,4,E,_)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryDenylistList=function(){return e.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryDenylistList=function(E){return e.Message.setField(this,5,E||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryDenylist=function(E,_){return e.Message.addToRepeatedField(this,5,E,_)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},h.object.extend(t,proto.mediapipe.tasks.components.processors.proto)})(classifier_options_pb),function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=calculator_pb;h.object.extend(proto,E);var _=calculator_options_pb;h.object.extend(proto,_);var k=classifier_options_pb;h.object.extend(proto,k);var L=base_options_pb;h.object.extend(proto,L),h.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions",null,I),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions=function(ae){e.Message.initialize(this,ae,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.toObject=function(ae){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject(ae,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject=function(ae,q){var O,o={baseOptions:(O=q.getBaseOptions())&&L.BaseOptions.toObject(ae,O),classifierOptions:(O=q.getClassifierOptions())&&k.ClassifierOptions.toObject(ae,O)};return ae&&(o.$jspbMessageInstance=q),o}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinary=function(ae){var q=new e.BinaryReader(ae),O=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader(O,q)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader=function(ae,q){for(;q.nextField()&&!q.isEndGroup();)switch(q.getFieldNumber()){case 1:var O=new L.BaseOptions;q.readMessage(O,L.BaseOptions.deserializeBinaryFromReader),ae.setBaseOptions(O);break;case 2:O=new k.ClassifierOptions,q.readMessage(O,k.ClassifierOptions.deserializeBinaryFromReader),ae.setClassifierOptions(O);break;default:q.skipField()}return ae},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.serializeBinary=function(){var ae=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter(this,ae),ae.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter=function(ae,q){var O=void 0;(O=ae.getBaseOptions())!=null&&q.writeMessage(1,O,L.BaseOptions.serializeBinaryToWriter),(O=ae.getClassifierOptions())!=null&&q.writeMessage(2,O,k.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new e.ExtensionFieldInfo(478825465,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[478825465]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[478825465]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,L.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setBaseOptions=function(ae){return e.Message.setWrapperField(this,1,ae)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getClassifierOptions=function(){return e.Message.getWrapperField(this,k.ClassifierOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setClassifierOptions=function(ae){return e.Message.setWrapperField(this,2,ae)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasClassifierOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new e.ExtensionFieldInfo(478825465,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[478825465]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[478825465]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,h.object.extend(t,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_classifier_graph_options_pb);var gesture_recognizer_graph_options_pb={},hand_gesture_recognizer_graph_options_pb={},gesture_embedder_graph_options_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=calculator_pb;h.object.extend(proto,E);var _=calculator_options_pb;h.object.extend(proto,_);var k=base_options_pb;h.object.extend(proto,k),h.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions",null,I),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions=function(L){e.Message.initialize(this,L,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.toObject=function(L){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject(L,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject=function(L,ae){var q,O={baseOptions:(q=ae.getBaseOptions())&&k.BaseOptions.toObject(L,q)};return L&&(O.$jspbMessageInstance=ae),O}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinary=function(L){var ae=new e.BinaryReader(L),q=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader(q,ae)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader=function(L,ae){for(;ae.nextField()&&!ae.isEndGroup();)if(ae.getFieldNumber()===1){var q=new k.BaseOptions;ae.readMessage(q,k.BaseOptions.deserializeBinaryFromReader),L.setBaseOptions(q)}else ae.skipField();return L},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.serializeBinary=function(){var L=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter(this,L),L.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter=function(L,ae){var q;(q=L.getBaseOptions())!=null&&ae.writeMessage(1,q,k.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(478825422,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[478825422]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[478825422]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,k.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.setBaseOptions=function(L){return e.Message.setWrapperField(this,1,L)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(478825422,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[478825422]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[478825422]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,h.object.extend(t,proto.mediapipe.tasks.vision.gesture_recognizer.proto)})(gesture_embedder_graph_options_pb),function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=calculator_pb;h.object.extend(proto,E);var _=calculator_options_pb;h.object.extend(proto,_);var k=base_options_pb;h.object.extend(proto,k);var L=gesture_classifier_graph_options_pb;h.object.extend(proto,L);var ae=gesture_embedder_graph_options_pb;h.object.extend(proto,ae),h.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions",null,I),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions=function(q){e.Message.initialize(this,q,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.toObject=function(q){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject(q,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject=function(q,O){var o,w={baseOptions:(o=O.getBaseOptions())&&k.BaseOptions.toObject(q,o),gestureEmbedderGraphOptions:(o=O.getGestureEmbedderGraphOptions())&&ae.GestureEmbedderGraphOptions.toObject(q,o),cannedGestureClassifierGraphOptions:(o=O.getCannedGestureClassifierGraphOptions())&&L.GestureClassifierGraphOptions.toObject(q,o),customGestureClassifierGraphOptions:(o=O.getCustomGestureClassifierGraphOptions())&&L.GestureClassifierGraphOptions.toObject(q,o)};return q&&(w.$jspbMessageInstance=O),w}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinary=function(q){var O=new e.BinaryReader(q),o=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader(o,O)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader=function(q,O){for(;O.nextField()&&!O.isEndGroup();)switch(O.getFieldNumber()){case 1:var o=new k.BaseOptions;O.readMessage(o,k.BaseOptions.deserializeBinaryFromReader),q.setBaseOptions(o);break;case 2:o=new ae.GestureEmbedderGraphOptions,O.readMessage(o,ae.GestureEmbedderGraphOptions.deserializeBinaryFromReader),q.setGestureEmbedderGraphOptions(o);break;case 3:o=new L.GestureClassifierGraphOptions,O.readMessage(o,L.GestureClassifierGraphOptions.deserializeBinaryFromReader),q.setCannedGestureClassifierGraphOptions(o);break;case 4:o=new L.GestureClassifierGraphOptions,O.readMessage(o,L.GestureClassifierGraphOptions.deserializeBinaryFromReader),q.setCustomGestureClassifierGraphOptions(o);break;default:O.skipField()}return q},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.serializeBinary=function(){var q=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter(this,q),q.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter=function(q,O){var o=void 0;(o=q.getBaseOptions())!=null&&O.writeMessage(1,o,k.BaseOptions.serializeBinaryToWriter),(o=q.getGestureEmbedderGraphOptions())!=null&&O.writeMessage(2,o,ae.GestureEmbedderGraphOptions.serializeBinaryToWriter),(o=q.getCannedGestureClassifierGraphOptions())!=null&&O.writeMessage(3,o,L.GestureClassifierGraphOptions.serializeBinaryToWriter),(o=q.getCustomGestureClassifierGraphOptions())!=null&&O.writeMessage(4,o,L.GestureClassifierGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(463370452,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[463370452]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[463370452]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,k.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setBaseOptions=function(q){return e.Message.setWrapperField(this,1,q)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getGestureEmbedderGraphOptions=function(){return e.Message.getWrapperField(this,ae.GestureEmbedderGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setGestureEmbedderGraphOptions=function(q){return e.Message.setWrapperField(this,2,q)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearGestureEmbedderGraphOptions=function(){return this.setGestureEmbedderGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasGestureEmbedderGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCannedGestureClassifierGraphOptions=function(){return e.Message.getWrapperField(this,L.GestureClassifierGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCannedGestureClassifierGraphOptions=function(q){return e.Message.setWrapperField(this,3,q)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCannedGestureClassifierGraphOptions=function(){return this.setCannedGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCannedGestureClassifierGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCustomGestureClassifierGraphOptions=function(){return e.Message.getWrapperField(this,L.GestureClassifierGraphOptions,4)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCustomGestureClassifierGraphOptions=function(q){return e.Message.setWrapperField(this,4,q)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCustomGestureClassifierGraphOptions=function(){return this.setCustomGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCustomGestureClassifierGraphOptions=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(463370452,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[463370452]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[463370452]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,h.object.extend(t,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(hand_gesture_recognizer_graph_options_pb);var hand_landmarker_graph_options_pb={},hand_detector_graph_options_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=calculator_pb;h.object.extend(proto,E);var _=calculator_options_pb;h.object.extend(proto,_);var k=base_options_pb;h.object.extend(proto,k),h.exportSymbol("proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions",null,I),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions=function(L){e.Message.initialize(this,L,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.toObject=function(L){return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject(L,this)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject=function(L,ae){var q,O={baseOptions:(q=ae.getBaseOptions())&&k.BaseOptions.toObject(L,q),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(ae,2,.5),numHands:(q=e.Message.getField(ae,3))==null?void 0:q};return L&&(O.$jspbMessageInstance=ae),O}),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinary=function(L){var ae=new e.BinaryReader(L),q=new proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader(q,ae)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader=function(L,ae){for(;ae.nextField()&&!ae.isEndGroup();)switch(ae.getFieldNumber()){case 1:var q=new k.BaseOptions;ae.readMessage(q,k.BaseOptions.deserializeBinaryFromReader),L.setBaseOptions(q);break;case 2:q=ae.readFloat(),L.setMinDetectionConfidence(q);break;case 3:q=ae.readInt32(),L.setNumHands(q);break;default:ae.skipField()}return L},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.serializeBinary=function(){var L=new e.BinaryWriter;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter(this,L),L.getResultBuffer()},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter=function(L,ae){var q=void 0;(q=L.getBaseOptions())!=null&&ae.writeMessage(1,q,k.BaseOptions.serializeBinaryToWriter),(q=e.Message.getField(L,2))!=null&&ae.writeFloat(2,q),(q=e.Message.getField(L,3))!=null&&ae.writeInt32(3,q)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new e.ExtensionFieldInfo(464864288,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[464864288]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[464864288]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,k.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setBaseOptions=function(L){return e.Message.setWrapperField(this,1,L)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setMinDetectionConfidence=function(L){return e.Message.setField(this,2,L)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getNumHands=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setNumHands=function(L){return e.Message.setField(this,3,L)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearNumHands=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasNumHands=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new e.ExtensionFieldInfo(464864288,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[464864288]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[464864288]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,h.object.extend(t,proto.mediapipe.tasks.vision.hand_detector.proto)})(hand_detector_graph_options_pb);var hand_landmarks_detector_graph_options_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=calculator_pb;h.object.extend(proto,E);var _=calculator_options_pb;h.object.extend(proto,_);var k=base_options_pb;h.object.extend(proto,k),h.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions",null,I),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions=function(L){e.Message.initialize(this,L,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.toObject=function(L){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject(L,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject=function(L,ae){var q,O={baseOptions:(q=ae.getBaseOptions())&&k.BaseOptions.toObject(L,q),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(ae,2,.5)};return L&&(O.$jspbMessageInstance=ae),O}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinary=function(L){var ae=new e.BinaryReader(L),q=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader(q,ae)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(L,ae){for(;ae.nextField()&&!ae.isEndGroup();)switch(ae.getFieldNumber()){case 1:var q=new k.BaseOptions;ae.readMessage(q,k.BaseOptions.deserializeBinaryFromReader),L.setBaseOptions(q);break;case 2:q=ae.readFloat(),L.setMinDetectionConfidence(q);break;default:ae.skipField()}return L},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var L=new e.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,L),L.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(L,ae){var q=void 0;(q=L.getBaseOptions())!=null&&ae.writeMessage(1,q,k.BaseOptions.serializeBinaryToWriter),(q=e.Message.getField(L,2))!=null&&ae.writeFloat(2,q)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(474472470,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[474472470]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[474472470]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,k.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(L){return e.Message.setWrapperField(this,1,L)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(L){return e.Message.setField(this,2,L)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(474472470,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[474472470]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[474472470]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,h.object.extend(t,proto.mediapipe.tasks.vision.hand_landmarker.proto)})(hand_landmarks_detector_graph_options_pb),function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=calculator_pb;h.object.extend(proto,E);var _=calculator_options_pb;h.object.extend(proto,_);var k=base_options_pb;h.object.extend(proto,k);var L=hand_detector_graph_options_pb;h.object.extend(proto,L);var ae=hand_landmarks_detector_graph_options_pb;h.object.extend(proto,ae),h.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions",null,I),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions=function(q){e.Message.initialize(this,q,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.toObject=function(q){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject(q,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject=function(q,O){var o,w={baseOptions:(o=O.getBaseOptions())&&k.BaseOptions.toObject(q,o),handDetectorGraphOptions:(o=O.getHandDetectorGraphOptions())&&L.HandDetectorGraphOptions.toObject(q,o),handLandmarksDetectorGraphOptions:(o=O.getHandLandmarksDetectorGraphOptions())&&ae.HandLandmarksDetectorGraphOptions.toObject(q,o),minTrackingConfidence:e.Message.getFloatingPointFieldWithDefault(O,4,.5)};return q&&(w.$jspbMessageInstance=O),w}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinary=function(q){var O=new e.BinaryReader(q),o=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader(o,O)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader=function(q,O){for(;O.nextField()&&!O.isEndGroup();)switch(O.getFieldNumber()){case 1:var o=new k.BaseOptions;O.readMessage(o,k.BaseOptions.deserializeBinaryFromReader),q.setBaseOptions(o);break;case 2:o=new L.HandDetectorGraphOptions,O.readMessage(o,L.HandDetectorGraphOptions.deserializeBinaryFromReader),q.setHandDetectorGraphOptions(o);break;case 3:o=new ae.HandLandmarksDetectorGraphOptions,O.readMessage(o,ae.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader),q.setHandLandmarksDetectorGraphOptions(o);break;case 4:o=O.readFloat(),q.setMinTrackingConfidence(o);break;default:O.skipField()}return q},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.serializeBinary=function(){var q=new e.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter(this,q),q.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter=function(q,O){var o=void 0;(o=q.getBaseOptions())!=null&&O.writeMessage(1,o,k.BaseOptions.serializeBinaryToWriter),(o=q.getHandDetectorGraphOptions())!=null&&O.writeMessage(2,o,L.HandDetectorGraphOptions.serializeBinaryToWriter),(o=q.getHandLandmarksDetectorGraphOptions())!=null&&O.writeMessage(3,o,ae.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter),(o=e.Message.getField(q,4))!=null&&O.writeFloat(4,o)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(462713202,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[462713202]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[462713202]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,k.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setBaseOptions=function(q){return e.Message.setWrapperField(this,1,q)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandDetectorGraphOptions=function(){return e.Message.getWrapperField(this,L.HandDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandDetectorGraphOptions=function(q){return e.Message.setWrapperField(this,2,q)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandDetectorGraphOptions=function(){return this.setHandDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandDetectorGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandLandmarksDetectorGraphOptions=function(){return e.Message.getWrapperField(this,ae.HandLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandLandmarksDetectorGraphOptions=function(q){return e.Message.setWrapperField(this,3,q)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandLandmarksDetectorGraphOptions=function(){return this.setHandLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandLandmarksDetectorGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(q){return e.Message.setField(this,4,q)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(462713202,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[462713202]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[462713202]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,h.object.extend(t,proto.mediapipe.tasks.vision.hand_landmarker.proto)}(hand_landmarker_graph_options_pb),function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=calculator_pb;h.object.extend(proto,E);var _=calculator_options_pb;h.object.extend(proto,_);var k=base_options_pb;h.object.extend(proto,k);var L=hand_gesture_recognizer_graph_options_pb;h.object.extend(proto,L);var ae=hand_landmarker_graph_options_pb;h.object.extend(proto,ae),h.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions",null,I),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions=function(q){e.Message.initialize(this,q,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.toObject=function(q){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject(q,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject=function(q,O){var o,w={baseOptions:(o=O.getBaseOptions())&&k.BaseOptions.toObject(q,o),handLandmarkerGraphOptions:(o=O.getHandLandmarkerGraphOptions())&&ae.HandLandmarkerGraphOptions.toObject(q,o),handGestureRecognizerGraphOptions:(o=O.getHandGestureRecognizerGraphOptions())&&L.HandGestureRecognizerGraphOptions.toObject(q,o)};return q&&(w.$jspbMessageInstance=O),w}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinary=function(q){var O=new e.BinaryReader(q),o=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader(o,O)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader=function(q,O){for(;O.nextField()&&!O.isEndGroup();)switch(O.getFieldNumber()){case 1:var o=new k.BaseOptions;O.readMessage(o,k.BaseOptions.deserializeBinaryFromReader),q.setBaseOptions(o);break;case 2:o=new ae.HandLandmarkerGraphOptions,O.readMessage(o,ae.HandLandmarkerGraphOptions.deserializeBinaryFromReader),q.setHandLandmarkerGraphOptions(o);break;case 3:o=new L.HandGestureRecognizerGraphOptions,O.readMessage(o,L.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader),q.setHandGestureRecognizerGraphOptions(o);break;default:O.skipField()}return q},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.serializeBinary=function(){var q=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter(this,q),q.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter=function(q,O){var o=void 0;(o=q.getBaseOptions())!=null&&O.writeMessage(1,o,k.BaseOptions.serializeBinaryToWriter),(o=q.getHandLandmarkerGraphOptions())!=null&&O.writeMessage(2,o,ae.HandLandmarkerGraphOptions.serializeBinaryToWriter),(o=q.getHandGestureRecognizerGraphOptions())!=null&&O.writeMessage(3,o,L.HandGestureRecognizerGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(479097054,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[479097054]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[479097054]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,k.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setBaseOptions=function(q){return e.Message.setWrapperField(this,1,q)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandLandmarkerGraphOptions=function(){return e.Message.getWrapperField(this,ae.HandLandmarkerGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandLandmarkerGraphOptions=function(q){return e.Message.setWrapperField(this,2,q)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandLandmarkerGraphOptions=function(){return this.setHandLandmarkerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandLandmarkerGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandGestureRecognizerGraphOptions=function(){return e.Message.getWrapperField(this,L.HandGestureRecognizerGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandGestureRecognizerGraphOptions=function(q){return e.Message.setWrapperField(this,3,q)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandGestureRecognizerGraphOptions=function(){return this.setHandGestureRecognizerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandGestureRecognizerGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(479097054,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[479097054]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[479097054]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,h.object.extend(t,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_recognizer_graph_options_pb);var classifier_options={};Object.defineProperty(classifier_options,"__esModule",{value:!0}),classifier_options.convertClassifierOptionsToProto=void 0;const classifier_options_pb_1=classifier_options_pb;function convertClassifierOptionsToProto(t,e){const h=e?e.clone():new classifier_options_pb_1.ClassifierOptions;return t.displayNamesLocale!==void 0?h.setDisplayNamesLocale(t.displayNamesLocale):t.displayNamesLocale===void 0&&h.clearDisplayNamesLocale(),t.maxResults!==void 0?h.setMaxResults(t.maxResults):"maxResults"in t&&h.clearMaxResults(),t.scoreThreshold!==void 0?h.setScoreThreshold(t.scoreThreshold):"scoreThreshold"in t&&h.clearScoreThreshold(),t.categoryAllowlist!==void 0?h.setCategoryAllowlistList(t.categoryAllowlist):"categoryAllowlist"in t&&h.clearCategoryAllowlistList(),t.categoryDenylist!==void 0?h.setCategoryDenylistList(t.categoryDenylist):"categoryDenylist"in t&&h.clearCategoryDenylistList(),h}classifier_options.convertClassifierOptionsToProto=convertClassifierOptionsToProto;var vision_task_runner={},rect_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.mediapipe.NormalizedRect",null,I),h.exportSymbol("proto.mediapipe.Rect",null,I),proto.mediapipe.Rect=function(E){e.Message.initialize(this,E,0,-1,null,null)},h.inherits(proto.mediapipe.Rect,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.Rect.displayName="proto.mediapipe.Rect"),proto.mediapipe.NormalizedRect=function(E){e.Message.initialize(this,E,0,-1,null,null)},h.inherits(proto.mediapipe.NormalizedRect,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedRect.displayName="proto.mediapipe.NormalizedRect"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rect.prototype.toObject=function(E){return proto.mediapipe.Rect.toObject(E,this)},proto.mediapipe.Rect.toObject=function(E,_){var k,L={xCenter:(k=e.Message.getField(_,1))==null?void 0:k,yCenter:(k=e.Message.getField(_,2))==null?void 0:k,height:(k=e.Message.getField(_,3))==null?void 0:k,width:(k=e.Message.getField(_,4))==null?void 0:k,rotation:e.Message.getFloatingPointFieldWithDefault(_,5,0),rectId:(k=e.Message.getField(_,6))==null?void 0:k};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.Rect.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.Rect;return proto.mediapipe.Rect.deserializeBinaryFromReader(k,_)},proto.mediapipe.Rect.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readInt32();E.setXCenter(k);break;case 2:k=_.readInt32(),E.setYCenter(k);break;case 3:k=_.readInt32(),E.setHeight(k);break;case 4:k=_.readInt32(),E.setWidth(k);break;case 5:k=_.readFloat(),E.setRotation(k);break;case 6:k=_.readInt64(),E.setRectId(k);break;default:_.skipField()}return E},proto.mediapipe.Rect.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.Rect.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.Rect.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeInt32(1,k),(k=e.Message.getField(E,2))!=null&&_.writeInt32(2,k),(k=e.Message.getField(E,3))!=null&&_.writeInt32(3,k),(k=e.Message.getField(E,4))!=null&&_.writeInt32(4,k),(k=e.Message.getField(E,5))!=null&&_.writeFloat(5,k),(k=e.Message.getField(E,6))!=null&&_.writeInt64(6,k)},proto.mediapipe.Rect.prototype.getXCenter=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rect.prototype.setXCenter=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.Rect.prototype.clearXCenter=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Rect.prototype.hasXCenter=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Rect.prototype.getYCenter=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rect.prototype.setYCenter=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.Rect.prototype.clearYCenter=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Rect.prototype.hasYCenter=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Rect.prototype.getHeight=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rect.prototype.setHeight=function(E){return e.Message.setField(this,3,E)},proto.mediapipe.Rect.prototype.clearHeight=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Rect.prototype.hasHeight=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Rect.prototype.getWidth=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.Rect.prototype.setWidth=function(E){return e.Message.setField(this,4,E)},proto.mediapipe.Rect.prototype.clearWidth=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.Rect.prototype.hasWidth=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.Rect.prototype.getRotation=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Rect.prototype.setRotation=function(E){return e.Message.setField(this,5,E)},proto.mediapipe.Rect.prototype.clearRotation=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.Rect.prototype.hasRotation=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.Rect.prototype.getRectId=function(){return e.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.Rect.prototype.setRectId=function(E){return e.Message.setField(this,6,E)},proto.mediapipe.Rect.prototype.clearRectId=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.Rect.prototype.hasRectId=function(){return e.Message.getField(this,6)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedRect.prototype.toObject=function(E){return proto.mediapipe.NormalizedRect.toObject(E,this)},proto.mediapipe.NormalizedRect.toObject=function(E,_){var k,L={xCenter:(k=e.Message.getOptionalFloatingPointField(_,1))==null?void 0:k,yCenter:(k=e.Message.getOptionalFloatingPointField(_,2))==null?void 0:k,height:(k=e.Message.getOptionalFloatingPointField(_,3))==null?void 0:k,width:(k=e.Message.getOptionalFloatingPointField(_,4))==null?void 0:k,rotation:e.Message.getFloatingPointFieldWithDefault(_,5,0),rectId:(k=e.Message.getField(_,6))==null?void 0:k};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.NormalizedRect.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.NormalizedRect;return proto.mediapipe.NormalizedRect.deserializeBinaryFromReader(k,_)},proto.mediapipe.NormalizedRect.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readFloat();E.setXCenter(k);break;case 2:k=_.readFloat(),E.setYCenter(k);break;case 3:k=_.readFloat(),E.setHeight(k);break;case 4:k=_.readFloat(),E.setWidth(k);break;case 5:k=_.readFloat(),E.setRotation(k);break;case 6:k=_.readInt64(),E.setRectId(k);break;default:_.skipField()}return E},proto.mediapipe.NormalizedRect.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.NormalizedRect.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.NormalizedRect.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeFloat(1,k),(k=e.Message.getField(E,2))!=null&&_.writeFloat(2,k),(k=e.Message.getField(E,3))!=null&&_.writeFloat(3,k),(k=e.Message.getField(E,4))!=null&&_.writeFloat(4,k),(k=e.Message.getField(E,5))!=null&&_.writeFloat(5,k),(k=e.Message.getField(E,6))!=null&&_.writeInt64(6,k)},proto.mediapipe.NormalizedRect.prototype.getXCenter=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedRect.prototype.setXCenter=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.NormalizedRect.prototype.clearXCenter=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedRect.prototype.hasXCenter=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.NormalizedRect.prototype.getYCenter=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedRect.prototype.setYCenter=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.NormalizedRect.prototype.clearYCenter=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedRect.prototype.hasYCenter=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.NormalizedRect.prototype.getHeight=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedRect.prototype.setHeight=function(E){return e.Message.setField(this,3,E)},proto.mediapipe.NormalizedRect.prototype.clearHeight=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedRect.prototype.hasHeight=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.NormalizedRect.prototype.getWidth=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedRect.prototype.setWidth=function(E){return e.Message.setField(this,4,E)},proto.mediapipe.NormalizedRect.prototype.clearWidth=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedRect.prototype.hasWidth=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.NormalizedRect.prototype.getRotation=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedRect.prototype.setRotation=function(E){return e.Message.setField(this,5,E)},proto.mediapipe.NormalizedRect.prototype.clearRotation=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRotation=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.NormalizedRect.prototype.getRectId=function(){return e.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.NormalizedRect.prototype.setRectId=function(E){return e.Message.setField(this,6,E)},proto.mediapipe.NormalizedRect.prototype.clearRectId=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRectId=function(){return e.Message.getField(this,6)!=null},h.object.extend(t,proto.mediapipe)})(rect_pb);var task_runner={},graph_runner={};Object.defineProperty(graph_runner,"__esModule",{value:!0}),graph_runner.createGraphRunner=graph_runner.createMediaPipeLib=graph_runner.GraphRunner=void 0;class GraphRunner{constructor(e,h){this.autoResizeCanvas=!0,this.wasmModule=e,this.audioPtr=null,this.audioSize=0,this.hasMultiStreamSupport=typeof this.wasmModule._addIntToInputStream=="function",h!==void 0?this.wasmModule.canvas=h:typeof OffscreenCanvas<"u"?this.wasmModule.canvas=new OffscreenCanvas(1,1):(console.warn("OffscreenCanvas not detected and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.wasmModule.canvas=document.createElement("canvas"))}async initializeGraph(e){const h=await fetch(e),I=await h.arrayBuffer(),E=!(e.endsWith(".pbtxt")||e.endsWith(".textproto"));this.setGraph(new Uint8Array(I),E)}setGraphFromString(e){this.setGraph(new TextEncoder().encode(e),!1)}setGraph(e,h){const I=e.length,E=this.wasmModule._malloc(I);this.wasmModule.HEAPU8.set(e,E),h?this.wasmModule._changeBinaryGraph(I,E):this.wasmModule._changeTextGraph(I,E),this.wasmModule._free(E)}configureAudio(e,h,I,E,_){this.wasmModule._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),E=E||"input_audio",this.wrapStringPtr(E,k=>{_=_||"audio_header",this.wrapStringPtr(_,L=>{this.wasmModule._configureAudio(k,L,e,h,I)})})}setAutoResizeCanvas(e){this.autoResizeCanvas=e}setAutoRenderToScreen(e){this.wasmModule._setAutoRenderToScreen(e)}bindTextureToStream(e,h){if(!this.wasmModule.canvas)throw new Error("No OpenGL canvas configured.");h?this.wasmModule._bindTextureToStream(h):console.assert(this.wasmModule._bindTextureToCanvas());const I=this.wasmModule.canvas.getContext("webgl2")||this.wasmModule.canvas.getContext("webgl");let E,_;return console.assert(I),I.texImage2D(I.TEXTURE_2D,0,I.RGBA,I.RGBA,I.UNSIGNED_BYTE,e),e.videoWidth?(E=e.videoWidth,_=e.videoHeight):e.naturalWidth?(E=e.naturalWidth,_=e.naturalHeight):(E=e.width,_=e.height),!this.autoResizeCanvas||E===this.wasmModule.canvas.width&&_===this.wasmModule.canvas.height||(this.wasmModule.canvas.width=E,this.wasmModule.canvas.height=_),[E,_]}processGl(e,h){const[I,E]=this.bindTextureToStream(e),_=this.wasmModule._malloc(16);this.wasmModule.HEAPU32[_/4]=I,this.wasmModule.HEAPU32[_/4+1]=E,this.wasmModule.HEAPF64[_/8+1]=h,this.wasmModule._processGl(_),this.wasmModule._free(_)}wrapStringPtr(e,h){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const I=this.wasmModule.stringToNewUTF8(e);h(I),this.wasmModule._free(I)}wrapStringPtrPtr(e,h){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const I=new Uint32Array(e.length);for(let _=0;_<e.length;_++)I[_]=this.wasmModule.stringToNewUTF8(e[_]);const E=this.wasmModule._malloc(4*I.length);this.wasmModule.HEAPU32.set(I,E>>2),h(E);for(const _ of I)this.wasmModule._free(_);this.wasmModule._free(E)}setListener(e,h){this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[e]=h}setVectorListener(e,h){let I=[];this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[e]=(E,_,k,L)=>{I[_]=E,_===k-1&&(h(I,L),I=[])}}attachErrorListener(e){this.wasmModule.errorListener=e}attachEmptyPacketListener(e,h){this.wasmModule.emptyPacketListeners=this.wasmModule.emptyPacketListeners||{},this.wasmModule.emptyPacketListeners[e]=h}addAudioToStream(e,h,I){this.addAudioToStreamWithShape(e,0,0,h,I)}addAudioToStreamWithShape(e,h,I,E,_){const k=4*e.length;this.audioSize!==k&&(this.audioPtr&&this.wasmModule._free(this.audioPtr),this.audioPtr=this.wasmModule._malloc(k),this.audioSize=k),this.wasmModule.HEAPF32.set(e,this.audioPtr/4),this.wrapStringPtr(E,L=>{this.wasmModule._addAudioToInputStream(this.audioPtr,h,I,L,_)})}addGpuBufferToStream(e,h,I){this.wrapStringPtr(h,E=>{const[_,k]=this.bindTextureToStream(e,E);this.wasmModule._addBoundTextureToStream(E,_,k,I)})}addBoolToStream(e,h,I){this.wrapStringPtr(h,E=>{this.wasmModule._addBoolToInputStream(e,E,I)})}addDoubleToStream(e,h,I){this.wrapStringPtr(h,E=>{this.wasmModule._addDoubleToInputStream(e,E,I)})}addFloatToStream(e,h,I){this.wrapStringPtr(h,E=>{this.wasmModule._addFloatToInputStream(e,E,I)})}addIntToStream(e,h,I){this.wrapStringPtr(h,E=>{this.wasmModule._addIntToInputStream(e,E,I)})}addStringToStream(e,h,I){this.wrapStringPtr(h,E=>{this.wrapStringPtr(e,_=>{this.wasmModule._addStringToInputStream(_,E,I)})})}addStringRecordToStream(e,h,I){this.wrapStringPtr(h,E=>{this.wrapStringPtrPtr(Object.keys(e),_=>{this.wrapStringPtrPtr(Object.values(e),k=>{this.wasmModule._addFlatHashMapToInputStream(_,k,Object.keys(e).length,E,I)})})})}addProtoToStream(e,h,I,E){this.wrapStringPtr(I,_=>{this.wrapStringPtr(h,k=>{const L=this.wasmModule._malloc(e.length);this.wasmModule.HEAPU8.set(e,L),this.wasmModule._addProtoToInputStream(L,e.length,k,_,E),this.wasmModule._free(L)})})}addBoolToInputSidePacket(e,h){this.wrapStringPtr(h,I=>{this.wasmModule._addBoolToInputSidePacket(e,I)})}addDoubleToInputSidePacket(e,h){this.wrapStringPtr(h,I=>{this.wasmModule._addDoubleToInputSidePacket(e,I)})}addFloatToInputSidePacket(e,h){this.wrapStringPtr(h,I=>{this.wasmModule._addFloatToInputSidePacket(e,I)})}addIntToInputSidePacket(e,h){this.wrapStringPtr(h,I=>{this.wasmModule._addIntToInputSidePacket(e,I)})}addStringToInputSidePacket(e,h){this.wrapStringPtr(h,I=>{this.wrapStringPtr(e,E=>{this.wasmModule._addStringToInputSidePacket(E,I)})})}addProtoToInputSidePacket(e,h,I){this.wrapStringPtr(I,E=>{this.wrapStringPtr(h,_=>{const k=this.wasmModule._malloc(e.length);this.wasmModule.HEAPU8.set(e,k),this.wasmModule._addProtoToInputSidePacket(k,e.length,_,E),this.wasmModule._free(k)})})}attachBoolListener(e,h){this.setListener(e,h),this.wrapStringPtr(e,I=>{this.wasmModule._attachBoolListener(I)})}attachBoolVectorListener(e,h){this.setVectorListener(e,h),this.wrapStringPtr(e,I=>{this.wasmModule._attachBoolVectorListener(I)})}attachIntListener(e,h){this.setListener(e,h),this.wrapStringPtr(e,I=>{this.wasmModule._attachIntListener(I)})}attachIntVectorListener(e,h){this.setVectorListener(e,h),this.wrapStringPtr(e,I=>{this.wasmModule._attachIntVectorListener(I)})}attachDoubleListener(e,h){this.setListener(e,h),this.wrapStringPtr(e,I=>{this.wasmModule._attachDoubleListener(I)})}attachDoubleVectorListener(e,h){this.setVectorListener(e,h),this.wrapStringPtr(e,I=>{this.wasmModule._attachDoubleVectorListener(I)})}attachFloatListener(e,h){this.setListener(e,h),this.wrapStringPtr(e,I=>{this.wasmModule._attachFloatListener(I)})}attachFloatVectorListener(e,h){this.setVectorListener(e,h),this.wrapStringPtr(e,I=>{this.wasmModule._attachFloatVectorListener(I)})}attachStringListener(e,h){this.setListener(e,h),this.wrapStringPtr(e,I=>{this.wasmModule._attachStringListener(I)})}attachStringVectorListener(e,h){this.setVectorListener(e,h),this.wrapStringPtr(e,I=>{this.wasmModule._attachStringVectorListener(I)})}attachProtoListener(e,h,I){this.setListener(e,h),this.wrapStringPtr(e,E=>{this.wasmModule._attachProtoListener(E,I||!1)})}attachProtoVectorListener(e,h,I){this.setVectorListener(e,h),this.wrapStringPtr(e,E=>{this.wasmModule._attachProtoVectorListener(E,I||!1)})}attachAudioListener(e,h,I){this.wasmModule._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),this.setListener(e,(E,_)=>{const k=new Float32Array(E.buffer,E.byteOffset,E.length/4);h(k,_)}),this.wrapStringPtr(e,E=>{this.wasmModule._attachAudioListener(E,I||!1)})}finishProcessing(){this.wasmModule._waitUntilIdle()}}async function runScript(t){if(typeof importScripts!="function"){const e=document.createElement("script");return e.setAttribute("src",t),e.setAttribute("crossorigin","anonymous"),new Promise(h=>{e.addEventListener("load",()=>{h()},!1),e.addEventListener("error",()=>{h()},!1),document.body.appendChild(e)})}importScripts(t.toString())}async function createMediaPipeLib(t,e,h,I,E){const _=[];if(e&&_.push(e),h&&_.push(h),_.length&&await Promise.all(_.map(runScript)),!self.ModuleFactory)throw new Error("ModuleFactory not set.");const k=await self.ModuleFactory(E||self.Module);return self.ModuleFactory=self.Module=void 0,new t(k,I)}async function createGraphRunner(t,e,h,I){return createMediaPipeLib(GraphRunner,t,e,h,I)}graph_runner.GraphRunner=GraphRunner,graph_runner.createMediaPipeLib=createMediaPipeLib,graph_runner.createGraphRunner=createGraphRunner;var register_model_resources_graph_service={};function SupportModelResourcesGraphService(t){return class extends t{registerModelResourcesGraphService(){this.wasmModule._registerModelResourcesGraphService()}}}Object.defineProperty(register_model_resources_graph_service,"__esModule",{value:!0}),register_model_resources_graph_service.SupportModelResourcesGraphService=void 0,register_model_resources_graph_service.SupportModelResourcesGraphService=SupportModelResourcesGraphService,Object.defineProperty(task_runner,"__esModule",{value:!0}),task_runner.TaskRunner=task_runner.createTaskRunner=task_runner.CachedGraphRunner=void 0;const inference_calculator_pb_1=inference_calculator_pb,acceleration_pb_1=acceleration_pb,external_file_pb_1=external_file_pb,graph_runner_1$1=graph_runner,register_model_resources_graph_service_1$1=register_model_resources_graph_service,NO_ASSETS=void 0,CachedGraphRunnerType=(0,register_model_resources_graph_service_1$1.SupportModelResourcesGraphService)(graph_runner_1$1.GraphRunner);class CachedGraphRunner extends CachedGraphRunnerType{}async function createTaskRunner(t,e,h,I){const E={locateFile:()=>h.wasmBinaryPath.toString()},_=e?typeof OffscreenCanvas>"u"?document.createElement("canvas"):void 0:null,k=await(0,graph_runner_1$1.createMediaPipeLib)(t,h.wasmLoaderPath,NO_ASSETS,_,E);return await k.setOptions(I),k}task_runner.CachedGraphRunner=CachedGraphRunner,task_runner.createTaskRunner=createTaskRunner;class TaskRunner{static async createInstance(e,h,I,E){return createTaskRunner(e,h,I,E)}constructor(e){this.graphRunner=e,this.processingErrors=[],this.latestOutputTimestamp=0,this.graphRunner.setAutoRenderToScreen(!1),this.graphRunner.registerModelResourcesGraphService()}applyOptions(e){var h,I,E,_,k;const L=e.baseOptions||{};if(!((h=e.baseOptions)===null||h===void 0)&&h.modelAssetBuffer&&!((I=e.baseOptions)===null||I===void 0)&&I.modelAssetPath)throw new Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!(!((E=this.baseOptions.getModelAsset())===null||E===void 0)&&E.hasFileContent()||!((_=e.baseOptions)===null||_===void 0)&&_.modelAssetBuffer||!((k=e.baseOptions)===null||k===void 0)&&k.modelAssetPath))throw new Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");return this.setAcceleration(L),L.modelAssetPath?fetch(L.modelAssetPath.toString()).then(ae=>ae.arrayBuffer()).then(ae=>{this.setExternalFile(new Uint8Array(ae)),this.refreshGraph()}):(this.setExternalFile(L.modelAssetBuffer),this.refreshGraph(),Promise.resolve())}setGraph(e,h){this.graphRunner.attachErrorListener((I,E)=>{this.processingErrors.push(new Error(E))}),this.graphRunner.setGraph(e,h),this.handleErrors()}finishProcessing(){this.graphRunner.finishProcessing(),this.handleErrors()}setLatestOutputTimestamp(e){this.latestOutputTimestamp=Math.max(this.latestOutputTimestamp,e)}getLatestOutputTimestamp(){return this.latestOutputTimestamp}handleErrors(){try{const e=this.processingErrors.length;if(e===1)throw new Error(this.processingErrors[0].message);if(e>1)throw new Error("Encountered multiple errors: "+this.processingErrors.map(h=>h.message).join(", "))}finally{this.processingErrors=[]}}setExternalFile(e){const h=this.baseOptions.getModelAsset()||new external_file_pb_1.ExternalFile;e&&h.setFileContent(e),this.baseOptions.setModelAsset(h)}setAcceleration(e){var h;const I=(h=this.baseOptions.getAcceleration())!==null&&h!==void 0?h:new acceleration_pb_1.Acceleration;e.delegate==="GPU"?I.setGpu(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.Gpu):I.setTflite(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.TfLite),this.baseOptions.setAcceleration(I)}}task_runner.TaskRunner=TaskRunner;var graph_runner_image_lib={};function SupportImage(t){return class extends t{get wasmImageModule(){return this.wasmModule}addGpuBufferAsImageToStream(e,h,I){this.wrapStringPtr(h,E=>{const[_,k]=this.bindTextureToStream(e,E);this.wasmImageModule._addBoundTextureAsImageToStream(E,_,k,I)})}attachImageListener(e,h){this.setListener(e,h),this.wrapStringPtr(e,I=>{this.wasmImageModule._attachImageListener(I)})}attachImageVectorListener(e,h){this.setVectorListener(e,h),this.wrapStringPtr(e,I=>{this.wasmImageModule._attachImageVectorListener(I)})}}}Object.defineProperty(graph_runner_image_lib,"__esModule",{value:!0}),graph_runner_image_lib.SupportImage=void 0,graph_runner_image_lib.SupportImage=SupportImage,Object.defineProperty(vision_task_runner,"__esModule",{value:!0}),vision_task_runner.VisionTaskRunner=vision_task_runner.VisionGraphRunner=void 0;const rect_pb_1=rect_pb,task_runner_1=task_runner,graph_runner_1=graph_runner,graph_runner_image_lib_1=graph_runner_image_lib,register_model_resources_graph_service_1=register_model_resources_graph_service,GraphRunnerVisionType=(0,register_model_resources_graph_service_1.SupportModelResourcesGraphService)((0,graph_runner_image_lib_1.SupportImage)(graph_runner_1.GraphRunner));class VisionGraphRunner extends GraphRunnerVisionType{}vision_task_runner.VisionGraphRunner=VisionGraphRunner;class VisionTaskRunner extends task_runner_1.TaskRunner{constructor(e,h,I,E){super(e),this.graphRunner=e,this.imageStreamName=h,this.normRectStreamName=I,this.roiAllowed=E}applyOptions(e){if("runningMode"in e){const h=!!e.runningMode&&e.runningMode!=="IMAGE";this.baseOptions.setUseStreamMode(h)}return super.applyOptions(e)}processImageData(e,h){var I;if(!((I=this.baseOptions)===null||I===void 0)&&I.getUseStreamMode())throw new Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");const E=this.getLatestOutputTimestamp()+1;this.process(e,h,E)}processVideoData(e,h,I){var E;if(!(!((E=this.baseOptions)===null||E===void 0)&&E.getUseStreamMode()))throw new Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");this.process(e,h,I)}convertToNormalizedRect(e){const h=new rect_pb_1.NormalizedRect;if(e!=null&&e.regionOfInterest){if(!this.roiAllowed)throw new Error("This task doesn't support region-of-interest.");const I=e.regionOfInterest;if(I.left>=I.right||I.top>=I.bottom)throw new Error("Expected RectF with left < right and top < bottom.");if(I.left<0||I.top<0||I.right>1||I.bottom>1)throw new Error("Expected RectF values to be in [0,1].");return h.setXCenter((I.left+I.right)/2),h.setYCenter((I.top+I.bottom)/2),h.setWidth(I.right-I.left),h.setHeight(I.bottom-I.top),h}if(h.setXCenter(.5),h.setYCenter(.5),h.setWidth(1),h.setHeight(1),e==null?void 0:e.rotationDegrees){if((e==null?void 0:e.rotationDegrees)%90!=0)throw new Error("Expected rotation to be a multiple of 90\xB0.");h.setRotation(-Math.PI*e.rotationDegrees/180)}return h}process(e,h,I){const E=this.convertToNormalizedRect(h);this.graphRunner.addProtoToStream(E.serializeBinary(),"mediapipe.NormalizedRect",this.normRectStreamName,I),this.graphRunner.addGpuBufferAsImageToStream(e,this.imageStreamName,I??performance.now()),this.finishProcessing()}}vision_task_runner.VisionTaskRunner=VisionTaskRunner;var gesture_recognizer_options={};Object.defineProperty(gesture_recognizer_options,"__esModule",{value:!0});var gesture_recognizer_result={};Object.defineProperty(gesture_recognizer_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(m,c,n,s){s===void 0&&(s=n);var v=Object.getOwnPropertyDescriptor(c,n);v&&!("get"in v?!c.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return c[n]}}),Object.defineProperty(m,s,v)}:function(m,c,n,s){s===void 0&&(s=n),m[s]=c[n]}),h=commonjsGlobal&&commonjsGlobal.__exportStar||function(m,c){for(var n in m)n==="default"||Object.prototype.hasOwnProperty.call(c,n)||e(c,m,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.GestureRecognizer=void 0;const I=calculator_pb,E=calculator_options_pb,_=classification_pb,k=landmark_pb,L=base_options_pb,ae=gesture_classifier_graph_options_pb,q=gesture_recognizer_graph_options_pb,O=hand_gesture_recognizer_graph_options_pb,o=hand_detector_graph_options_pb,w=hand_landmarker_graph_options_pb,r=hand_landmarks_detector_graph_options_pb,d=classifier_options,i=vision_task_runner;h(gesture_recognizer_options,t),h(gesture_recognizer_result,t);const l="image_in",g="norm_rect",y="hand_gestures",p="hand_landmarks",u="world_hand_landmarks",f="handedness";class b extends i.VisionTaskRunner{static createFromOptions(c,n){return i.VisionTaskRunner.createInstance(b,!0,c,n)}static createFromModelBuffer(c,n){return i.VisionTaskRunner.createInstance(b,!0,c,{baseOptions:{modelAssetBuffer:n}})}static createFromModelPath(c,n){return i.VisionTaskRunner.createInstance(b,!0,c,{baseOptions:{modelAssetPath:n}})}constructor(c,n){super(new i.VisionGraphRunner(c,n),l,g,!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new q.GestureRecognizerGraphOptions,this.options.setBaseOptions(new L.BaseOptions),this.handLandmarkerGraphOptions=new w.HandLandmarkerGraphOptions,this.options.setHandLandmarkerGraphOptions(this.handLandmarkerGraphOptions),this.handLandmarksDetectorGraphOptions=new r.HandLandmarksDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new o.HandDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.handGestureRecognizerGraphOptions=new O.HandGestureRecognizerGraphOptions,this.options.setHandGestureRecognizerGraphOptions(this.handGestureRecognizerGraphOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(c){this.options.setBaseOptions(c)}setOptions(c){var n,s,v,A,M,C,D,S;if(this.handDetectorGraphOptions.setNumHands((n=c.numHands)!==null&&n!==void 0?n:1),this.handDetectorGraphOptions.setMinDetectionConfidence((s=c.minHandDetectionConfidence)!==null&&s!==void 0?s:.5),this.handLandmarkerGraphOptions.setMinTrackingConfidence((v=c.minTrackingConfidence)!==null&&v!==void 0?v:.5),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence((A=c.minHandPresenceConfidence)!==null&&A!==void 0?A:.5),c.cannedGesturesClassifierOptions){const x=new ae.GestureClassifierGraphOptions;x.setClassifierOptions((0,d.convertClassifierOptionsToProto)(c.cannedGesturesClassifierOptions,(M=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())===null||M===void 0?void 0:M.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCannedGestureClassifierGraphOptions(x)}else c.cannedGesturesClassifierOptions===void 0&&((C=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())===null||C===void 0||C.clearClassifierOptions());if(c.customGesturesClassifierOptions){const x=new ae.GestureClassifierGraphOptions;x.setClassifierOptions((0,d.convertClassifierOptionsToProto)(c.customGesturesClassifierOptions,(D=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())===null||D===void 0?void 0:D.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCustomGestureClassifierGraphOptions(x)}else c.customGesturesClassifierOptions===void 0&&((S=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())===null||S===void 0||S.clearClassifierOptions());return this.applyOptions(c)}recognize(c,n){return this.resetResults(),this.processImageData(c,n),this.processResults()}recognizeForVideo(c,n,s){return this.resetResults(),this.processVideoData(c,s,n),this.processResults()}resetResults(){this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return this.gestures.length===0?{gestures:[],landmarks:[],worldLandmarks:[],handednesses:[]}:{gestures:this.gestures,landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}toJsCategories(c,n=!0){var s,v,A;const M=[];for(const C of c){const D=_.ClassificationList.deserializeBinary(C),S=[];for(const x of D.getClassificationList()){const B=n&&x.hasIndex()?x.getIndex():-1;S.push({score:(s=x.getScore())!==null&&s!==void 0?s:0,index:B,categoryName:(v=x.getLabel())!==null&&v!==void 0?v:"",displayName:(A=x.getDisplayName())!==null&&A!==void 0?A:""})}M.push(S)}return M}addJsLandmarks(c){var n,s,v;for(const A of c){const M=k.NormalizedLandmarkList.deserializeBinary(A),C=[];for(const D of M.getLandmarkList())C.push({x:(n=D.getX())!==null&&n!==void 0?n:0,y:(s=D.getY())!==null&&s!==void 0?s:0,z:(v=D.getZ())!==null&&v!==void 0?v:0});this.landmarks.push(C)}}adddJsWorldLandmarks(c){var n,s,v;for(const A of c){const M=k.LandmarkList.deserializeBinary(A),C=[];for(const D of M.getLandmarkList())C.push({x:(n=D.getX())!==null&&n!==void 0?n:0,y:(s=D.getY())!==null&&s!==void 0?s:0,z:(v=D.getZ())!==null&&v!==void 0?v:0});this.worldLandmarks.push(C)}}refreshGraph(){const c=new I.CalculatorGraphConfig;c.addInputStream(l),c.addInputStream(g),c.addOutputStream(y),c.addOutputStream(p),c.addOutputStream(u),c.addOutputStream(f);const n=new E.CalculatorOptions;n.setExtension(q.GestureRecognizerGraphOptions.ext,this.options);const s=new I.CalculatorGraphConfig.Node;s.setCalculator("mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),s.addInputStream("IMAGE:"+l),s.addInputStream("NORM_RECT:"+g),s.addOutputStream("HAND_GESTURES:"+y),s.addOutputStream("LANDMARKS:"+p),s.addOutputStream("WORLD_LANDMARKS:"+u),s.addOutputStream("HANDEDNESS:"+f),s.setOptions(n),c.addNode(s),this.graphRunner.attachProtoVectorListener(p,(A,M)=>{this.addJsLandmarks(A),this.setLatestOutputTimestamp(M)}),this.graphRunner.attachEmptyPacketListener(p,A=>{this.setLatestOutputTimestamp(A)}),this.graphRunner.attachProtoVectorListener(u,(A,M)=>{this.adddJsWorldLandmarks(A),this.setLatestOutputTimestamp(M)}),this.graphRunner.attachEmptyPacketListener(u,A=>{this.setLatestOutputTimestamp(A)}),this.graphRunner.attachProtoVectorListener(y,(A,M)=>{this.gestures.push(...this.toJsCategories(A,!1)),this.setLatestOutputTimestamp(M)}),this.graphRunner.attachEmptyPacketListener(y,A=>{this.setLatestOutputTimestamp(A)}),this.graphRunner.attachProtoVectorListener(f,(A,M)=>{this.handednesses.push(...this.toJsCategories(A)),this.setLatestOutputTimestamp(M)}),this.graphRunner.attachEmptyPacketListener(f,A=>{this.setLatestOutputTimestamp(A)});const v=c.serializeBinary();this.setGraph(new Uint8Array(v),!0)}}t.GestureRecognizer=b}(gesture_recognizer);var hand_landmarker={},hand_landmarker_options={};Object.defineProperty(hand_landmarker_options,"__esModule",{value:!0});var hand_landmarker_result={};Object.defineProperty(hand_landmarker_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(p,u,f,b){b===void 0&&(b=f);var m=Object.getOwnPropertyDescriptor(u,f);m&&!("get"in m?!u.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(p,b,m)}:function(p,u,f,b){b===void 0&&(b=f),p[b]=u[f]}),h=commonjsGlobal&&commonjsGlobal.__exportStar||function(p,u){for(var f in p)f==="default"||Object.prototype.hasOwnProperty.call(u,f)||e(u,p,f)};Object.defineProperty(t,"__esModule",{value:!0}),t.HandLandmarker=void 0;const I=calculator_pb,E=calculator_options_pb,_=classification_pb,k=landmark_pb,L=base_options_pb,ae=hand_detector_graph_options_pb,q=hand_landmarker_graph_options_pb,O=hand_landmarks_detector_graph_options_pb,o=vision_task_runner;h(hand_landmarker_options,t),h(hand_landmarker_result,t);const w="image_in",r="norm_rect",d="hand_landmarks",i="world_hand_landmarks",l="handedness",g=.5;class y extends o.VisionTaskRunner{static createFromOptions(u,f){return o.VisionTaskRunner.createInstance(y,!0,u,f)}static createFromModelBuffer(u,f){return o.VisionTaskRunner.createInstance(y,!0,u,{baseOptions:{modelAssetBuffer:f}})}static createFromModelPath(u,f){return o.VisionTaskRunner.createInstance(y,!0,u,{baseOptions:{modelAssetPath:f}})}constructor(u,f){super(new o.VisionGraphRunner(u,f),w,r,!1),this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new q.HandLandmarkerGraphOptions,this.options.setBaseOptions(new L.BaseOptions),this.handLandmarksDetectorGraphOptions=new O.HandLandmarksDetectorGraphOptions,this.options.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new ae.HandDetectorGraphOptions,this.options.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(u){this.options.setBaseOptions(u)}setOptions(u){var f,b,m,c;return"numHands"in u&&this.handDetectorGraphOptions.setNumHands((f=u.numHands)!==null&&f!==void 0?f:1),"minHandDetectionConfidence"in u&&this.handDetectorGraphOptions.setMinDetectionConfidence((b=u.minHandDetectionConfidence)!==null&&b!==void 0?b:g),"minTrackingConfidence"in u&&this.options.setMinTrackingConfidence((m=u.minTrackingConfidence)!==null&&m!==void 0?m:g),"minHandPresenceConfidence"in u&&this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence((c=u.minHandPresenceConfidence)!==null&&c!==void 0?c:g),this.applyOptions(u)}detect(u,f){return this.resetResults(),this.processImageData(u,f),this.processResults()}detectForVideo(u,f,b){return this.resetResults(),this.processVideoData(u,b,f),this.processResults()}resetResults(){this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return{landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}initDefaults(){this.handDetectorGraphOptions.setNumHands(1),this.handDetectorGraphOptions.setMinDetectionConfidence(g),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(g),this.options.setMinTrackingConfidence(g)}toJsCategories(u){var f,b,m,c;const n=[];for(const s of u){const v=_.ClassificationList.deserializeBinary(s),A=[];for(const M of v.getClassificationList())A.push({score:(f=M.getScore())!==null&&f!==void 0?f:0,index:(b=M.getIndex())!==null&&b!==void 0?b:-1,categoryName:(m=M.getLabel())!==null&&m!==void 0?m:"",displayName:(c=M.getDisplayName())!==null&&c!==void 0?c:""});n.push(A)}return n}addJsLandmarks(u){var f,b,m;for(const c of u){const n=k.NormalizedLandmarkList.deserializeBinary(c),s=[];for(const v of n.getLandmarkList())s.push({x:(f=v.getX())!==null&&f!==void 0?f:0,y:(b=v.getY())!==null&&b!==void 0?b:0,z:(m=v.getZ())!==null&&m!==void 0?m:0});this.landmarks.push(s)}}adddJsWorldLandmarks(u){var f,b,m;for(const c of u){const n=k.LandmarkList.deserializeBinary(c),s=[];for(const v of n.getLandmarkList())s.push({x:(f=v.getX())!==null&&f!==void 0?f:0,y:(b=v.getY())!==null&&b!==void 0?b:0,z:(m=v.getZ())!==null&&m!==void 0?m:0});this.worldLandmarks.push(s)}}refreshGraph(){const u=new I.CalculatorGraphConfig;u.addInputStream(w),u.addInputStream(r),u.addOutputStream(d),u.addOutputStream(i),u.addOutputStream(l);const f=new E.CalculatorOptions;f.setExtension(q.HandLandmarkerGraphOptions.ext,this.options);const b=new I.CalculatorGraphConfig.Node;b.setCalculator("mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),b.addInputStream("IMAGE:"+w),b.addInputStream("NORM_RECT:"+r),b.addOutputStream("LANDMARKS:"+d),b.addOutputStream("WORLD_LANDMARKS:"+i),b.addOutputStream("HANDEDNESS:"+l),b.setOptions(f),u.addNode(b),this.graphRunner.attachProtoVectorListener(d,(c,n)=>{this.addJsLandmarks(c),this.setLatestOutputTimestamp(n)}),this.graphRunner.attachEmptyPacketListener(d,c=>{this.setLatestOutputTimestamp(c)}),this.graphRunner.attachProtoVectorListener(i,(c,n)=>{this.adddJsWorldLandmarks(c),this.setLatestOutputTimestamp(n)}),this.graphRunner.attachEmptyPacketListener(i,c=>{this.setLatestOutputTimestamp(c)}),this.graphRunner.attachProtoVectorListener(l,(c,n)=>{this.handednesses.push(...this.toJsCategories(c)),this.setLatestOutputTimestamp(n)}),this.graphRunner.attachEmptyPacketListener(l,c=>{this.setLatestOutputTimestamp(c)});const m=u.serializeBinary();this.setGraph(new Uint8Array(m),!0)}}t.HandLandmarker=y}(hand_landmarker);var image_classifier={},classifications_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=classification_pb;h.object.extend(proto,E),h.exportSymbol("proto.mediapipe.tasks.components.containers.proto.ClassificationResult",null,I),h.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Classifications",null,I),proto.mediapipe.tasks.components.containers.proto.Classifications=function(_){e.Message.initialize(this,_,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.components.containers.proto.Classifications,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Classifications.displayName="proto.mediapipe.tasks.components.containers.proto.Classifications"),proto.mediapipe.tasks.components.containers.proto.ClassificationResult=function(_){e.Message.initialize(this,_,0,-1,proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_,null)},h.inherits(proto.mediapipe.tasks.components.containers.proto.ClassificationResult,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.displayName="proto.mediapipe.tasks.components.containers.proto.ClassificationResult"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.toObject=function(_){return proto.mediapipe.tasks.components.containers.proto.Classifications.toObject(_,this)},proto.mediapipe.tasks.components.containers.proto.Classifications.toObject=function(_,k){var L,ae={classificationList:(L=k.getClassificationList())&&E.ClassificationList.toObject(_,L),headIndex:(L=e.Message.getField(k,2))==null?void 0:L,headName:(L=e.Message.getField(k,3))==null?void 0:L};return _&&(ae.$jspbMessageInstance=k),ae}),proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.tasks.components.containers.proto.Classifications;return proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader(L,k)},proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)switch(k.getFieldNumber()){case 4:var L=new E.ClassificationList;k.readMessage(L,E.ClassificationList.deserializeBinaryFromReader),_.setClassificationList(L);break;case 2:L=k.readInt32(),_.setHeadIndex(L);break;case 3:L=k.readString(),_.setHeadName(L);break;default:k.skipField()}return _},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter=function(_,k){var L=void 0;(L=_.getClassificationList())!=null&&k.writeMessage(4,L,E.ClassificationList.serializeBinaryToWriter),(L=e.Message.getField(_,2))!=null&&k.writeInt32(2,L),(L=e.Message.getField(_,3))!=null&&k.writeString(3,L)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getClassificationList=function(){return e.Message.getWrapperField(this,E.ClassificationList,4)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setClassificationList=function(_){return e.Message.setWrapperField(this,4,_)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearClassificationList=function(){return this.setClassificationList(void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasClassificationList=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadIndex=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadIndex=function(_){return e.Message.setField(this,2,_)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadIndex=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadIndex=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadName=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadName=function(_){return e.Message.setField(this,3,_)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadName=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadName=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.toObject=function(_){return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject(_,this)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject=function(_,k){var L,ae={classificationsList:e.Message.toObjectList(k.getClassificationsList(),proto.mediapipe.tasks.components.containers.proto.Classifications.toObject,_),timestampMs:(L=e.Message.getField(k,2))==null?void 0:L};return _&&(ae.$jspbMessageInstance=k),ae}),proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.tasks.components.containers.proto.ClassificationResult;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader(L,k)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)switch(k.getFieldNumber()){case 1:var L=new proto.mediapipe.tasks.components.containers.proto.Classifications;k.readMessage(L,proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader),_.addClassifications(L);break;case 2:L=k.readInt64(),_.setTimestampMs(L);break;default:k.skipField()}return _},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter=function(_,k){var L=void 0;(L=_.getClassificationsList()).length>0&&k.writeRepeatedMessage(1,L,proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter),(L=e.Message.getField(_,2))!=null&&k.writeInt64(2,L)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getClassificationsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Classifications,1)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setClassificationsList=function(_){return e.Message.setRepeatedWrapperField(this,1,_)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.addClassifications=function(_,k){return e.Message.addToRepeatedWrapperField(this,1,_,proto.mediapipe.tasks.components.containers.proto.Classifications,k)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearClassificationsList=function(){return this.setClassificationsList([])},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getTimestampMs=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setTimestampMs=function(_){return e.Message.setField(this,2,_)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearTimestampMs=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.hasTimestampMs=function(){return e.Message.getField(this,2)!=null},h.object.extend(t,proto.mediapipe.tasks.components.containers.proto)})(classifications_pb);var image_classifier_graph_options_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=calculator_pb;h.object.extend(proto,E);var _=calculator_options_pb;h.object.extend(proto,_);var k=classifier_options_pb;h.object.extend(proto,k);var L=base_options_pb;h.object.extend(proto,L),h.exportSymbol("proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions",null,I),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions=function(ae){e.Message.initialize(this,ae,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.toObject=function(ae){return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject(ae,this)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject=function(ae,q){var O,o={baseOptions:(O=q.getBaseOptions())&&L.BaseOptions.toObject(ae,O),classifierOptions:(O=q.getClassifierOptions())&&k.ClassifierOptions.toObject(ae,O)};return ae&&(o.$jspbMessageInstance=q),o}),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinary=function(ae){var q=new e.BinaryReader(ae),O=new proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader(O,q)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader=function(ae,q){for(;q.nextField()&&!q.isEndGroup();)switch(q.getFieldNumber()){case 1:var O=new L.BaseOptions;q.readMessage(O,L.BaseOptions.deserializeBinaryFromReader),ae.setBaseOptions(O);break;case 2:O=new k.ClassifierOptions,q.readMessage(O,k.ClassifierOptions.deserializeBinaryFromReader),ae.setClassifierOptions(O);break;default:q.skipField()}return ae},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.serializeBinary=function(){var ae=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter(this,ae),ae.getResultBuffer()},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter=function(ae,q){var O=void 0;(O=ae.getBaseOptions())!=null&&q.writeMessage(1,O,L.BaseOptions.serializeBinaryToWriter),(O=ae.getClassifierOptions())!=null&&q.writeMessage(2,O,k.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new e.ExtensionFieldInfo(456383383,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[456383383]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[456383383]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,L.BaseOptions,1)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setBaseOptions=function(ae){return e.Message.setWrapperField(this,1,ae)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getClassifierOptions=function(){return e.Message.getWrapperField(this,k.ClassifierOptions,2)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setClassifierOptions=function(ae){return e.Message.setWrapperField(this,2,ae)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasClassifierOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new e.ExtensionFieldInfo(456383383,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[456383383]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[456383383]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,h.object.extend(t,proto.mediapipe.tasks.vision.image_classifier.proto)})(image_classifier_graph_options_pb);var classifier_result={};Object.defineProperty(classifier_result,"__esModule",{value:!0}),classifier_result.convertFromClassificationResultProto=void 0;const DEFAULT_INDEX$1=-1,DEFAULT_SCORE=0;function convertFromClassificationsProto(t){var e,h,I,E;return{categories:(h=(e=t.getClassificationList())===null||e===void 0?void 0:e.getClassificationList().map(_=>{var k,L,ae,q;return{index:(k=_.getIndex())!==null&&k!==void 0?k:DEFAULT_INDEX$1,score:(L=_.getScore())!==null&&L!==void 0?L:DEFAULT_SCORE,categoryName:(ae=_.getLabel())!==null&&ae!==void 0?ae:"",displayName:(q=_.getDisplayName())!==null&&q!==void 0?q:""}}))!==null&&h!==void 0?h:[],headIndex:(I=t.getHeadIndex())!==null&&I!==void 0?I:DEFAULT_INDEX$1,headName:(E=t.getHeadName())!==null&&E!==void 0?E:""}}function convertFromClassificationResultProto(t){const e={classifications:t.getClassificationsList().map(h=>convertFromClassificationsProto(h))};return t.hasTimestampMs()&&(e.timestampMs=t.getTimestampMs()),e}classifier_result.convertFromClassificationResultProto=convertFromClassificationResultProto;var image_classifier_options={};Object.defineProperty(image_classifier_options,"__esModule",{value:!0});var image_classifier_result={};Object.defineProperty(image_classifier_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,l,g,y){y===void 0&&(y=g);var p=Object.getOwnPropertyDescriptor(l,g);p&&!("get"in p?!l.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return l[g]}}),Object.defineProperty(i,y,p)}:function(i,l,g,y){y===void 0&&(y=g),i[y]=l[g]}),h=commonjsGlobal&&commonjsGlobal.__exportStar||function(i,l){for(var g in i)g==="default"||Object.prototype.hasOwnProperty.call(l,g)||e(l,i,g)};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageClassifier=void 0;const I=calculator_pb,E=calculator_options_pb,_=classifications_pb,k=base_options_pb,L=image_classifier_graph_options_pb,ae=classifier_options,q=classifier_result,O=vision_task_runner,o="input_image",w="norm_rect",r="classifications";h(image_classifier_options,t),h(image_classifier_result,t);class d extends O.VisionTaskRunner{static createFromOptions(l,g){return O.VisionTaskRunner.createInstance(d,!0,l,g)}static createFromModelBuffer(l,g){return O.VisionTaskRunner.createInstance(d,!0,l,{baseOptions:{modelAssetBuffer:g}})}static createFromModelPath(l,g){return O.VisionTaskRunner.createInstance(d,!0,l,{baseOptions:{modelAssetPath:g}})}constructor(l,g){super(new O.VisionGraphRunner(l,g),o,w,!0),this.classificationResult={classifications:[]},this.options=new L.ImageClassifierGraphOptions,this.options.setBaseOptions(new k.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(l){this.options.setBaseOptions(l)}setOptions(l){return this.options.setClassifierOptions((0,ae.convertClassifierOptionsToProto)(l,this.options.getClassifierOptions())),this.applyOptions(l)}classify(l,g){return this.classificationResult={classifications:[]},this.processImageData(l,g),this.classificationResult}classifyForVideo(l,g,y){return this.classificationResult={classifications:[]},this.processVideoData(l,y,g),this.classificationResult}refreshGraph(){const l=new I.CalculatorGraphConfig;l.addInputStream(o),l.addInputStream(w),l.addOutputStream(r);const g=new E.CalculatorOptions;g.setExtension(L.ImageClassifierGraphOptions.ext,this.options);const y=new I.CalculatorGraphConfig.Node;y.setCalculator("mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),y.addInputStream("IMAGE:"+o),y.addInputStream("NORM_RECT:"+w),y.addOutputStream("CLASSIFICATIONS:"+r),y.setOptions(g),l.addNode(y),this.graphRunner.attachProtoListener(r,(u,f)=>{this.classificationResult=(0,q.convertFromClassificationResultProto)(_.ClassificationResult.deserializeBinary(u)),this.setLatestOutputTimestamp(f)}),this.graphRunner.attachEmptyPacketListener(r,u=>{this.setLatestOutputTimestamp(u)});const p=l.serializeBinary();this.setGraph(new Uint8Array(p),!0)}}t.ImageClassifier=d}(image_classifier);var image_embedder={},embeddings_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding",null,I),h.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase",null,I),h.exportSymbol("proto.mediapipe.tasks.components.containers.proto.EmbeddingResult",null,I),h.exportSymbol("proto.mediapipe.tasks.components.containers.proto.FloatEmbedding",null,I),h.exportSymbol("proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding",null,I),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding=function(E){e.Message.initialize(this,E,0,-1,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_,null)},h.inherits(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.FloatEmbedding"),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding=function(E){e.Message.initialize(this,E,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding"),proto.mediapipe.tasks.components.containers.proto.Embedding=function(E){e.Message.initialize(this,E,0,-1,null,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_)},h.inherits(proto.mediapipe.tasks.components.containers.proto.Embedding,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Embedding.displayName="proto.mediapipe.tasks.components.containers.proto.Embedding"),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult=function(E){e.Message.initialize(this,E,0,-1,proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_,null)},h.inherits(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.displayName="proto.mediapipe.tasks.components.containers.proto.EmbeddingResult"),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.toObject=function(E){return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(E,this)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject=function(E,_){var k,L={valuesList:(k=e.Message.getRepeatedFloatingPointField(_,1))==null?void 0:k};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader(k,_)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)if(_.getFieldNumber()===1)for(var k=_.isDelimited()?_.readPackedFloat():[_.readFloat()],L=0;L<k.length;L++)E.addValues(k[L]);else _.skipField();return E},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter=function(E,_){var k;(k=E.getValuesList()).length>0&&_.writePackedFloat(1,k)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.getValuesList=function(){return e.Message.getRepeatedFloatingPointField(this,1)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.setValuesList=function(E){return e.Message.setField(this,1,E||[])},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.addValues=function(E,_){return e.Message.addToRepeatedField(this,1,E,_)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.clearValuesList=function(){return this.setValuesList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.toObject=function(E){return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(E,this)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject=function(E,_){var k={values:_.getValues_asB64()};return E&&(k.$jspbMessageInstance=_),k}),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader(k,_)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)if(_.getFieldNumber()===1){var k=_.readBytes();E.setValues(k)}else _.skipField();return E},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter=function(E,_){var k;(k=e.Message.getField(E,1))!=null&&_.writeBytes(1,k)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asB64=function(){return e.Message.bytesAsB64(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asU8=function(){return e.Message.bytesAsU8(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.setValues=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.clearValues=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.hasValues=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_=[[1,2]],proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase={EMBEDDING_NOT_SET:0,FLOAT_EMBEDDING:1,QUANTIZED_EMBEDDING:2},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getEmbeddingCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.toObject=function(E){return proto.mediapipe.tasks.components.containers.proto.Embedding.toObject(E,this)},proto.mediapipe.tasks.components.containers.proto.Embedding.toObject=function(E,_){var k,L={floatEmbedding:(k=_.getFloatEmbedding())&&proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(E,k),quantizedEmbedding:(k=_.getQuantizedEmbedding())&&proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(E,k),headIndex:(k=e.Message.getField(_,3))==null?void 0:k,headName:(k=e.Message.getField(_,4))==null?void 0:k};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.tasks.components.containers.proto.Embedding;return proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader(k,_)},proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;_.readMessage(k,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader),E.setFloatEmbedding(k);break;case 2:k=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,_.readMessage(k,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader),E.setQuantizedEmbedding(k);break;case 3:k=_.readInt32(),E.setHeadIndex(k);break;case 4:k=_.readString(),E.setHeadName(k);break;default:_.skipField()}return E},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter=function(E,_){var k=void 0;(k=E.getFloatEmbedding())!=null&&_.writeMessage(1,k,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter),(k=E.getQuantizedEmbedding())!=null&&_.writeMessage(2,k,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter),(k=e.Message.getField(E,3))!=null&&_.writeInt32(3,k),(k=e.Message.getField(E,4))!=null&&_.writeString(4,k)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getFloatEmbedding=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,1)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setFloatEmbedding=function(E){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],E)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearFloatEmbedding=function(){return this.setFloatEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasFloatEmbedding=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getQuantizedEmbedding=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,2)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setQuantizedEmbedding=function(E){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],E)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearQuantizedEmbedding=function(){return this.setQuantizedEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasQuantizedEmbedding=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadIndex=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadIndex=function(E){return e.Message.setField(this,3,E)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadIndex=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadIndex=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadName=function(){return e.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadName=function(E){return e.Message.setField(this,4,E)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadName=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadName=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.toObject=function(E){return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject(E,this)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject=function(E,_){var k,L={embeddingsList:e.Message.toObjectList(_.getEmbeddingsList(),proto.mediapipe.tasks.components.containers.proto.Embedding.toObject,E),timestampMs:(k=e.Message.getField(_,2))==null?void 0:k};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.tasks.components.containers.proto.EmbeddingResult;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader(k,_)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=new proto.mediapipe.tasks.components.containers.proto.Embedding;_.readMessage(k,proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader),E.addEmbeddings(k);break;case 2:k=_.readInt64(),E.setTimestampMs(k);break;default:_.skipField()}return E},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter=function(E,_){var k=void 0;(k=E.getEmbeddingsList()).length>0&&_.writeRepeatedMessage(1,k,proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter),(k=e.Message.getField(E,2))!=null&&_.writeInt64(2,k)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getEmbeddingsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Embedding,1)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setEmbeddingsList=function(E){return e.Message.setRepeatedWrapperField(this,1,E)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.addEmbeddings=function(E,_){return e.Message.addToRepeatedWrapperField(this,1,E,proto.mediapipe.tasks.components.containers.proto.Embedding,_)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearEmbeddingsList=function(){return this.setEmbeddingsList([])},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getTimestampMs=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setTimestampMs=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearTimestampMs=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.hasTimestampMs=function(){return e.Message.getField(this,2)!=null},h.object.extend(t,proto.mediapipe.tasks.components.containers.proto)})(embeddings_pb);var image_embedder_graph_options_pb={},embedder_options_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.mediapipe.tasks.components.processors.proto.EmbedderOptions",null,I),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions=function(E){e.Message.initialize(this,E,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.displayName="proto.mediapipe.tasks.components.processors.proto.EmbedderOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.toObject=function(E){return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject(E,this)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject=function(E,_){var k,L={l2Normalize:(k=e.Message.getBooleanField(_,1))==null?void 0:k,quantize:(k=e.Message.getBooleanField(_,2))==null?void 0:k};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.tasks.components.processors.proto.EmbedderOptions;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader(k,_)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readBool();E.setL2Normalize(k);break;case 2:k=_.readBool(),E.setQuantize(k);break;default:_.skipField()}return E},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeBool(1,k),(k=e.Message.getField(E,2))!=null&&_.writeBool(2,k)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getL2Normalize=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setL2Normalize=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearL2Normalize=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasL2Normalize=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getQuantize=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setQuantize=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearQuantize=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasQuantize=function(){return e.Message.getField(this,2)!=null},h.object.extend(t,proto.mediapipe.tasks.components.processors.proto)})(embedder_options_pb),function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=calculator_pb;h.object.extend(proto,E);var _=calculator_options_pb;h.object.extend(proto,_);var k=embedder_options_pb;h.object.extend(proto,k);var L=base_options_pb;h.object.extend(proto,L),h.exportSymbol("proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions",null,I),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions=function(ae){e.Message.initialize(this,ae,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.toObject=function(ae){return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject(ae,this)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject=function(ae,q){var O,o={baseOptions:(O=q.getBaseOptions())&&L.BaseOptions.toObject(ae,O),embedderOptions:(O=q.getEmbedderOptions())&&k.EmbedderOptions.toObject(ae,O)};return ae&&(o.$jspbMessageInstance=q),o}),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinary=function(ae){var q=new e.BinaryReader(ae),O=new proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader(O,q)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader=function(ae,q){for(;q.nextField()&&!q.isEndGroup();)switch(q.getFieldNumber()){case 1:var O=new L.BaseOptions;q.readMessage(O,L.BaseOptions.deserializeBinaryFromReader),ae.setBaseOptions(O);break;case 2:O=new k.EmbedderOptions,q.readMessage(O,k.EmbedderOptions.deserializeBinaryFromReader),ae.setEmbedderOptions(O);break;default:q.skipField()}return ae},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.serializeBinary=function(){var ae=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter(this,ae),ae.getResultBuffer()},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter=function(ae,q){var O=void 0;(O=ae.getBaseOptions())!=null&&q.writeMessage(1,O,L.BaseOptions.serializeBinaryToWriter),(O=ae.getEmbedderOptions())!=null&&q.writeMessage(2,O,k.EmbedderOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(476348187,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[476348187]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[476348187]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,L.BaseOptions,1)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setBaseOptions=function(ae){return e.Message.setWrapperField(this,1,ae)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getEmbedderOptions=function(){return e.Message.getWrapperField(this,k.EmbedderOptions,2)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setEmbedderOptions=function(ae){return e.Message.setWrapperField(this,2,ae)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearEmbedderOptions=function(){return this.setEmbedderOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasEmbedderOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(476348187,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[476348187]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[476348187]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,h.object.extend(t,proto.mediapipe.tasks.vision.image_embedder.proto)}(image_embedder_graph_options_pb);var embedder_options={};Object.defineProperty(embedder_options,"__esModule",{value:!0}),embedder_options.convertEmbedderOptionsToProto=void 0;const embedder_options_pb_1=embedder_options_pb;function convertEmbedderOptionsToProto(t,e){const h=e?e.clone():new embedder_options_pb_1.EmbedderOptions;return t.l2Normalize!==void 0?h.setL2Normalize(t.l2Normalize):"l2Normalize"in t&&h.clearL2Normalize(),t.quantize!==void 0?h.setQuantize(t.quantize):"quantize"in t&&h.clearQuantize(),h}embedder_options.convertEmbedderOptionsToProto=convertEmbedderOptionsToProto;var embedder_result={};Object.defineProperty(embedder_result,"__esModule",{value:!0}),embedder_result.convertFromEmbeddingResultProto=void 0;const DEFAULT_INDEX=-1;function convertFromEmbeddingsProto(t){var e,h,I,E;const _={headIndex:(e=t.getHeadIndex())!==null&&e!==void 0?e:DEFAULT_INDEX,headName:(h=t.getHeadName())!==null&&h!==void 0?h:""};if(t.hasFloatEmbedding())_.floatEmbedding=t.getFloatEmbedding().getValuesList();else{const k=(E=(I=t.getQuantizedEmbedding())===null||I===void 0?void 0:I.getValues())!==null&&E!==void 0?E:"";_.quantizedEmbedding=typeof k=="string"?Uint8Array.from(atob(k),L=>L.charCodeAt(0)):k}return _}function convertFromEmbeddingResultProto(t){return{embeddings:t.getEmbeddingsList().map(e=>convertFromEmbeddingsProto(e)),timestampMs:t.getTimestampMs()}}embedder_result.convertFromEmbeddingResultProto=convertFromEmbeddingResultProto;var cosine_similarity={};function computeCosineSimilarity(t,e){if(t.floatEmbedding&&e.floatEmbedding)return compute(t.floatEmbedding,e.floatEmbedding);if(t.quantizedEmbedding&&e.quantizedEmbedding)return compute(convertToBytes(t.quantizedEmbedding),convertToBytes(e.quantizedEmbedding));throw new Error("Cannot compute cosine similarity between quantized and float embeddings.")}function convertToBytes(t){return Array.from(t,e=>e>127?e-256:e)}function compute(t,e){if(t.length!==e.length)throw new Error(`Cannot compute cosine similarity between embeddings of different sizes (${t.length} vs. ${e.length}).`);let h=0,I=0,E=0;for(let _=0;_<t.length;_++)h+=t[_]*e[_],I+=t[_]*t[_],E+=e[_]*e[_];if(I<=0||E<=0)throw new Error("Cannot compute cosine similarity on embedding with 0 norm.");return h/Math.sqrt(I*E)}Object.defineProperty(cosine_similarity,"__esModule",{value:!0}),cosine_similarity.computeCosineSimilarity=void 0,cosine_similarity.computeCosineSimilarity=computeCosineSimilarity;var image_embedder_options={};Object.defineProperty(image_embedder_options,"__esModule",{value:!0});var image_embedder_result={};Object.defineProperty(image_embedder_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(l,g,y,p){p===void 0&&(p=y);var u=Object.getOwnPropertyDescriptor(g,y);u&&!("get"in u?!g.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(l,p,u)}:function(l,g,y,p){p===void 0&&(p=y),l[p]=g[y]}),h=commonjsGlobal&&commonjsGlobal.__exportStar||function(l,g){for(var y in l)y==="default"||Object.prototype.hasOwnProperty.call(g,y)||e(g,l,y)};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageEmbedder=void 0;const I=calculator_pb,E=calculator_options_pb,_=embeddings_pb,k=base_options_pb,L=image_embedder_graph_options_pb,ae=embedder_options,q=embedder_result,O=cosine_similarity,o=vision_task_runner,w="image_in",r="norm_rect",d="embeddings_out";h(image_embedder_options,t),h(image_embedder_result,t);class i extends o.VisionTaskRunner{static createFromOptions(g,y){return o.VisionTaskRunner.createInstance(i,!0,g,y)}static createFromModelBuffer(g,y){return o.VisionTaskRunner.createInstance(i,!0,g,{baseOptions:{modelAssetBuffer:y}})}static createFromModelPath(g,y){return o.VisionTaskRunner.createInstance(i,!0,g,{baseOptions:{modelAssetPath:y}})}constructor(g,y){super(new o.VisionGraphRunner(g,y),w,r,!0),this.options=new L.ImageEmbedderGraphOptions,this.embeddings={embeddings:[]},this.options.setBaseOptions(new k.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(g){this.options.setBaseOptions(g)}setOptions(g){return this.options.setEmbedderOptions((0,ae.convertEmbedderOptionsToProto)(g,this.options.getEmbedderOptions())),this.applyOptions(g)}embed(g,y){return this.processImageData(g,y),this.embeddings}embedForVideo(g,y,p){return this.processVideoData(g,p,y),this.embeddings}static cosineSimilarity(g,y){return(0,O.computeCosineSimilarity)(g,y)}addJsImageEmdedding(g){const y=_.EmbeddingResult.deserializeBinary(g);this.embeddings=(0,q.convertFromEmbeddingResultProto)(y)}refreshGraph(){const g=new I.CalculatorGraphConfig;g.addInputStream(w),g.addInputStream(r),g.addOutputStream(d);const y=new E.CalculatorOptions;y.setExtension(L.ImageEmbedderGraphOptions.ext,this.options);const p=new I.CalculatorGraphConfig.Node;p.setCalculator("mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),p.addInputStream("IMAGE:"+w),p.addInputStream("NORM_RECT:"+r),p.addOutputStream("EMBEDDINGS:"+d),p.setOptions(y),g.addNode(p),this.graphRunner.attachProtoListener(d,(f,b)=>{this.addJsImageEmdedding(f),this.setLatestOutputTimestamp(b)}),this.graphRunner.attachEmptyPacketListener(d,f=>{this.setLatestOutputTimestamp(f)});const u=g.serializeBinary();this.setGraph(new Uint8Array(u),!0)}}t.ImageEmbedder=i}(image_embedder);var image_segmenter={},image_segmenter_graph_options_pb={},segmenter_options_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions",null,I),h.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation",null,I),h.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType",null,I),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions=function(E){e.Message.initialize(this,E,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.toObject=function(E){return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject(E,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject=function(E,_){var k={outputType:e.Message.getFieldWithDefault(_,1,1),activation:e.Message.getFieldWithDefault(_,2,0)};return E&&(k.$jspbMessageInstance=_),k}),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader(k,_)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readEnum();E.setOutputType(k);break;case 2:k=_.readEnum(),E.setActivation(k);break;default:_.skipField()}return E},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeEnum(1,k),(k=e.Message.getField(E,2))!=null&&_.writeEnum(2,k)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType={UNSPECIFIED:0,CATEGORY_MASK:1,CONFIDENCE_MASK:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation={NONE:0,SIGMOID:1,SOFTMAX:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getOutputType=function(){return e.Message.getFieldWithDefault(this,1,1)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setOutputType=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearOutputType=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasOutputType=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getActivation=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setActivation=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearActivation=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasActivation=function(){return e.Message.getField(this,2)!=null},h.object.extend(t,proto.mediapipe.tasks.vision.image_segmenter.proto)})(segmenter_options_pb),function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=calculator_pb;h.object.extend(proto,E);var _=calculator_options_pb;h.object.extend(proto,_);var k=base_options_pb;h.object.extend(proto,k);var L=segmenter_options_pb;h.object.extend(proto,L),h.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions",null,I),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions=function(ae){e.Message.initialize(this,ae,0,-1,null,null)},h.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.toObject=function(ae){return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject(ae,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject=function(ae,q){var O,o={baseOptions:(O=q.getBaseOptions())&&k.BaseOptions.toObject(ae,O),displayNamesLocale:e.Message.getFieldWithDefault(q,2,"en"),segmenterOptions:(O=q.getSegmenterOptions())&&L.SegmenterOptions.toObject(ae,O)};return ae&&(o.$jspbMessageInstance=q),o}),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinary=function(ae){var q=new e.BinaryReader(ae),O=new proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader(O,q)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader=function(ae,q){for(;q.nextField()&&!q.isEndGroup();)switch(q.getFieldNumber()){case 1:var O=new k.BaseOptions;q.readMessage(O,k.BaseOptions.deserializeBinaryFromReader),ae.setBaseOptions(O);break;case 2:O=q.readString(),ae.setDisplayNamesLocale(O);break;case 3:O=new L.SegmenterOptions,q.readMessage(O,L.SegmenterOptions.deserializeBinaryFromReader),ae.setSegmenterOptions(O);break;default:q.skipField()}return ae},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.serializeBinary=function(){var ae=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter(this,ae),ae.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter=function(ae,q){var O=void 0;(O=ae.getBaseOptions())!=null&&q.writeMessage(1,O,k.BaseOptions.serializeBinaryToWriter),(O=e.Message.getField(ae,2))!=null&&q.writeString(2,O),(O=ae.getSegmenterOptions())!=null&&q.writeMessage(3,O,L.SegmenterOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new e.ExtensionFieldInfo(458105758,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[458105758]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[458105758]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,k.BaseOptions,1)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setBaseOptions=function(ae){return e.Message.setWrapperField(this,1,ae)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getDisplayNamesLocale=function(){return e.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setDisplayNamesLocale=function(ae){return e.Message.setField(this,2,ae)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearDisplayNamesLocale=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasDisplayNamesLocale=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getSegmenterOptions=function(){return e.Message.getWrapperField(this,L.SegmenterOptions,3)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setSegmenterOptions=function(ae){return e.Message.setWrapperField(this,3,ae)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearSegmenterOptions=function(){return this.setSegmenterOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasSegmenterOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new e.ExtensionFieldInfo(458105758,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),_.CalculatorOptions.extensionsBinary[458105758]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[458105758]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,h.object.extend(t,proto.mediapipe.tasks.vision.image_segmenter.proto)}(image_segmenter_graph_options_pb);var image_segmenter_options={};Object.defineProperty(image_segmenter_options,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,d,i,l){l===void 0&&(l=i);var g=Object.getOwnPropertyDescriptor(d,i);g&&!("get"in g?!d.__esModule:g.writable||g.configurable)||(g={enumerable:!0,get:function(){return d[i]}}),Object.defineProperty(r,l,g)}:function(r,d,i,l){l===void 0&&(l=i),r[l]=d[i]}),h=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,d){for(var i in r)i==="default"||Object.prototype.hasOwnProperty.call(d,i)||e(d,r,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageSegmenter=void 0;const I=calculator_pb,E=calculator_options_pb,_=base_options_pb,k=image_segmenter_graph_options_pb,L=segmenter_options_pb,ae=vision_task_runner;h(image_segmenter_options,t);const q="image_in",O="norm_rect",o="segmented_masks";class w extends ae.VisionTaskRunner{static createFromOptions(d,i){return ae.VisionTaskRunner.createInstance(w,!0,d,i)}static createFromModelBuffer(d,i){return ae.VisionTaskRunner.createInstance(w,!0,d,{baseOptions:{modelAssetBuffer:i}})}static createFromModelPath(d,i){return ae.VisionTaskRunner.createInstance(w,!0,d,{baseOptions:{modelAssetPath:i}})}constructor(d,i){super(new ae.VisionGraphRunner(d,i),q,O,!1),this.userCallback=()=>{},this.options=new k.ImageSegmenterGraphOptions,this.segmenterOptions=new L.SegmenterOptions,this.options.setSegmenterOptions(this.segmenterOptions),this.options.setBaseOptions(new _.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(d){this.options.setBaseOptions(d)}setOptions(d){return d.displayNamesLocale!==void 0?this.options.setDisplayNamesLocale(d.displayNamesLocale):"displayNamesLocale"in d&&this.options.clearDisplayNamesLocale(),d.outputType==="CONFIDENCE_MASK"?this.segmenterOptions.setOutputType(L.SegmenterOptions.OutputType.CONFIDENCE_MASK):this.segmenterOptions.setOutputType(L.SegmenterOptions.OutputType.CATEGORY_MASK),super.applyOptions(d)}segment(d,i,l){const g=typeof i!="function"?i:{};this.userCallback=typeof i=="function"?i:l,this.processImageData(d,g),this.userCallback=()=>{}}segmentForVideo(d,i,l,g){const y=typeof i!="number"?i:{},p=typeof i=="number"?i:l;this.userCallback=typeof l=="function"?l:g,this.processVideoData(d,y,p),this.userCallback=()=>{}}refreshGraph(){const d=new I.CalculatorGraphConfig;d.addInputStream(q),d.addInputStream(O),d.addOutputStream(o);const i=new E.CalculatorOptions;i.setExtension(k.ImageSegmenterGraphOptions.ext,this.options);const l=new I.CalculatorGraphConfig.Node;l.setCalculator("mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),l.addInputStream("IMAGE:"+q),l.addInputStream("NORM_RECT:"+O),l.addOutputStream("GROUPED_SEGMENTATION:"+o),l.setOptions(i),d.addNode(l),this.graphRunner.attachImageVectorListener(o,(y,p)=>{y.length===0?this.userCallback([],0,0):this.userCallback(y.map(u=>u.data),y[0].width,y[0].height),this.setLatestOutputTimestamp(p)}),this.graphRunner.attachEmptyPacketListener(o,y=>{this.setLatestOutputTimestamp(y)});const g=d.serializeBinary();this.setGraph(new Uint8Array(g),!0)}}t.ImageSegmenter=w}(image_segmenter);var object_detector={},detection_pb={},location_data_pb={},rasterization_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();h.exportSymbol("proto.mediapipe.Rasterization",null,I),h.exportSymbol("proto.mediapipe.Rasterization.Interval",null,I),proto.mediapipe.Rasterization=function(E){e.Message.initialize(this,E,0,-1,proto.mediapipe.Rasterization.repeatedFields_,null)},h.inherits(proto.mediapipe.Rasterization,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.displayName="proto.mediapipe.Rasterization"),proto.mediapipe.Rasterization.Interval=function(E){e.Message.initialize(this,E,0,-1,null,null)},h.inherits(proto.mediapipe.Rasterization.Interval,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.Interval.displayName="proto.mediapipe.Rasterization.Interval"),proto.mediapipe.Rasterization.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.prototype.toObject=function(E){return proto.mediapipe.Rasterization.toObject(E,this)},proto.mediapipe.Rasterization.toObject=function(E,_){var k={intervalList:e.Message.toObjectList(_.getIntervalList(),proto.mediapipe.Rasterization.Interval.toObject,E)};return E&&(k.$jspbMessageInstance=_),k}),proto.mediapipe.Rasterization.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.Rasterization;return proto.mediapipe.Rasterization.deserializeBinaryFromReader(k,_)},proto.mediapipe.Rasterization.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)if(_.getFieldNumber()===1){var k=new proto.mediapipe.Rasterization.Interval;_.readMessage(k,proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader),E.addInterval(k)}else _.skipField();return E},proto.mediapipe.Rasterization.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.Rasterization.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.Rasterization.serializeBinaryToWriter=function(E,_){var k;(k=E.getIntervalList()).length>0&&_.writeRepeatedMessage(1,k,proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.Interval.prototype.toObject=function(E){return proto.mediapipe.Rasterization.Interval.toObject(E,this)},proto.mediapipe.Rasterization.Interval.toObject=function(E,_){var k,L={y:(k=e.Message.getField(_,1))==null?void 0:k,leftX:(k=e.Message.getField(_,2))==null?void 0:k,rightX:(k=e.Message.getField(_,3))==null?void 0:k};return E&&(L.$jspbMessageInstance=_),L}),proto.mediapipe.Rasterization.Interval.deserializeBinary=function(E){var _=new e.BinaryReader(E),k=new proto.mediapipe.Rasterization.Interval;return proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader(k,_)},proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader=function(E,_){for(;_.nextField()&&!_.isEndGroup();)switch(_.getFieldNumber()){case 1:var k=_.readInt32();E.setY(k);break;case 2:k=_.readInt32(),E.setLeftX(k);break;case 3:k=_.readInt32(),E.setRightX(k);break;default:_.skipField()}return E},proto.mediapipe.Rasterization.Interval.prototype.serializeBinary=function(){var E=new e.BinaryWriter;return proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter=function(E,_){var k=void 0;(k=e.Message.getField(E,1))!=null&&_.writeInt32(1,k),(k=e.Message.getField(E,2))!=null&&_.writeInt32(2,k),(k=e.Message.getField(E,3))!=null&&_.writeInt32(3,k)},proto.mediapipe.Rasterization.Interval.prototype.getY=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rasterization.Interval.prototype.setY=function(E){return e.Message.setField(this,1,E)},proto.mediapipe.Rasterization.Interval.prototype.clearY=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasY=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Rasterization.Interval.prototype.getLeftX=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rasterization.Interval.prototype.setLeftX=function(E){return e.Message.setField(this,2,E)},proto.mediapipe.Rasterization.Interval.prototype.clearLeftX=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasLeftX=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Rasterization.Interval.prototype.getRightX=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rasterization.Interval.prototype.setRightX=function(E){return e.Message.setField(this,3,E)},proto.mediapipe.Rasterization.Interval.prototype.clearRightX=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasRightX=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Rasterization.prototype.getIntervalList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Rasterization.Interval,1)},proto.mediapipe.Rasterization.prototype.setIntervalList=function(E){return e.Message.setRepeatedWrapperField(this,1,E)},proto.mediapipe.Rasterization.prototype.addInterval=function(E,_){return e.Message.addToRepeatedWrapperField(this,1,E,proto.mediapipe.Rasterization.Interval,_)},proto.mediapipe.Rasterization.prototype.clearIntervalList=function(){return this.setIntervalList([])},h.object.extend(t,proto.mediapipe)})(rasterization_pb),function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=rasterization_pb;h.object.extend(proto,E),h.exportSymbol("proto.mediapipe.LocationData",null,I),h.exportSymbol("proto.mediapipe.LocationData.BinaryMask",null,I),h.exportSymbol("proto.mediapipe.LocationData.BoundingBox",null,I),h.exportSymbol("proto.mediapipe.LocationData.Format",null,I),h.exportSymbol("proto.mediapipe.LocationData.RelativeBoundingBox",null,I),h.exportSymbol("proto.mediapipe.LocationData.RelativeKeypoint",null,I),proto.mediapipe.LocationData=function(_){e.Message.initialize(this,_,0,-1,proto.mediapipe.LocationData.repeatedFields_,null)},h.inherits(proto.mediapipe.LocationData,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.displayName="proto.mediapipe.LocationData"),proto.mediapipe.LocationData.BoundingBox=function(_){e.Message.initialize(this,_,0,-1,null,null)},h.inherits(proto.mediapipe.LocationData.BoundingBox,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BoundingBox.displayName="proto.mediapipe.LocationData.BoundingBox"),proto.mediapipe.LocationData.RelativeBoundingBox=function(_){e.Message.initialize(this,_,0,-1,null,null)},h.inherits(proto.mediapipe.LocationData.RelativeBoundingBox,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeBoundingBox.displayName="proto.mediapipe.LocationData.RelativeBoundingBox"),proto.mediapipe.LocationData.BinaryMask=function(_){e.Message.initialize(this,_,0,-1,null,null)},h.inherits(proto.mediapipe.LocationData.BinaryMask,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BinaryMask.displayName="proto.mediapipe.LocationData.BinaryMask"),proto.mediapipe.LocationData.RelativeKeypoint=function(_){e.Message.initialize(this,_,0,-1,null,null)},h.inherits(proto.mediapipe.LocationData.RelativeKeypoint,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeKeypoint.displayName="proto.mediapipe.LocationData.RelativeKeypoint"),proto.mediapipe.LocationData.repeatedFields_=[5],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.prototype.toObject=function(_){return proto.mediapipe.LocationData.toObject(_,this)},proto.mediapipe.LocationData.toObject=function(_,k){var L,ae={format:(L=e.Message.getField(k,1))==null?void 0:L,boundingBox:(L=k.getBoundingBox())&&proto.mediapipe.LocationData.BoundingBox.toObject(_,L),relativeBoundingBox:(L=k.getRelativeBoundingBox())&&proto.mediapipe.LocationData.RelativeBoundingBox.toObject(_,L),mask:(L=k.getMask())&&proto.mediapipe.LocationData.BinaryMask.toObject(_,L),relativeKeypointsList:e.Message.toObjectList(k.getRelativeKeypointsList(),proto.mediapipe.LocationData.RelativeKeypoint.toObject,_)};return _&&(ae.$jspbMessageInstance=k),ae}),proto.mediapipe.LocationData.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.LocationData;return proto.mediapipe.LocationData.deserializeBinaryFromReader(L,k)},proto.mediapipe.LocationData.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)switch(k.getFieldNumber()){case 1:var L=k.readEnum();_.setFormat(L);break;case 2:L=new proto.mediapipe.LocationData.BoundingBox,k.readMessage(L,proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader),_.setBoundingBox(L);break;case 3:L=new proto.mediapipe.LocationData.RelativeBoundingBox,k.readMessage(L,proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader),_.setRelativeBoundingBox(L);break;case 4:L=new proto.mediapipe.LocationData.BinaryMask,k.readMessage(L,proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader),_.setMask(L);break;case 5:L=new proto.mediapipe.LocationData.RelativeKeypoint,k.readMessage(L,proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader),_.addRelativeKeypoints(L);break;default:k.skipField()}return _},proto.mediapipe.LocationData.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.LocationData.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.LocationData.serializeBinaryToWriter=function(_,k){var L=void 0;(L=e.Message.getField(_,1))!=null&&k.writeEnum(1,L),(L=_.getBoundingBox())!=null&&k.writeMessage(2,L,proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter),(L=_.getRelativeBoundingBox())!=null&&k.writeMessage(3,L,proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter),(L=_.getMask())!=null&&k.writeMessage(4,L,proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter),(L=_.getRelativeKeypointsList()).length>0&&k.writeRepeatedMessage(5,L,proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter)},proto.mediapipe.LocationData.Format={GLOBAL:0,BOUNDING_BOX:1,RELATIVE_BOUNDING_BOX:2,MASK:3},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BoundingBox.prototype.toObject=function(_){return proto.mediapipe.LocationData.BoundingBox.toObject(_,this)},proto.mediapipe.LocationData.BoundingBox.toObject=function(_,k){var L,ae={xmin:(L=e.Message.getField(k,1))==null?void 0:L,ymin:(L=e.Message.getField(k,2))==null?void 0:L,width:(L=e.Message.getField(k,3))==null?void 0:L,height:(L=e.Message.getField(k,4))==null?void 0:L};return _&&(ae.$jspbMessageInstance=k),ae}),proto.mediapipe.LocationData.BoundingBox.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.LocationData.BoundingBox;return proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader(L,k)},proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)switch(k.getFieldNumber()){case 1:var L=k.readInt32();_.setXmin(L);break;case 2:L=k.readInt32(),_.setYmin(L);break;case 3:L=k.readInt32(),_.setWidth(L);break;case 4:L=k.readInt32(),_.setHeight(L);break;default:k.skipField()}return _},proto.mediapipe.LocationData.BoundingBox.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter=function(_,k){var L=void 0;(L=e.Message.getField(_,1))!=null&&k.writeInt32(1,L),(L=e.Message.getField(_,2))!=null&&k.writeInt32(2,L),(L=e.Message.getField(_,3))!=null&&k.writeInt32(3,L),(L=e.Message.getField(_,4))!=null&&k.writeInt32(4,L)},proto.mediapipe.LocationData.BoundingBox.prototype.getXmin=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setXmin=function(_){return e.Message.setField(this,1,_)},proto.mediapipe.LocationData.BoundingBox.prototype.clearXmin=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasXmin=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getYmin=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setYmin=function(_){return e.Message.setField(this,2,_)},proto.mediapipe.LocationData.BoundingBox.prototype.clearYmin=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasYmin=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getWidth=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setWidth=function(_){return e.Message.setField(this,3,_)},proto.mediapipe.LocationData.BoundingBox.prototype.clearWidth=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasWidth=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getHeight=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setHeight=function(_){return e.Message.setField(this,4,_)},proto.mediapipe.LocationData.BoundingBox.prototype.clearHeight=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasHeight=function(){return e.Message.getField(this,4)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeBoundingBox.prototype.toObject=function(_){return proto.mediapipe.LocationData.RelativeBoundingBox.toObject(_,this)},proto.mediapipe.LocationData.RelativeBoundingBox.toObject=function(_,k){var L,ae={xmin:(L=e.Message.getOptionalFloatingPointField(k,1))==null?void 0:L,ymin:(L=e.Message.getOptionalFloatingPointField(k,2))==null?void 0:L,width:(L=e.Message.getOptionalFloatingPointField(k,3))==null?void 0:L,height:(L=e.Message.getOptionalFloatingPointField(k,4))==null?void 0:L};return _&&(ae.$jspbMessageInstance=k),ae}),proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.LocationData.RelativeBoundingBox;return proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader(L,k)},proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)switch(k.getFieldNumber()){case 1:var L=k.readFloat();_.setXmin(L);break;case 2:L=k.readFloat(),_.setYmin(L);break;case 3:L=k.readFloat(),_.setWidth(L);break;case 4:L=k.readFloat(),_.setHeight(L);break;default:k.skipField()}return _},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter=function(_,k){var L=void 0;(L=e.Message.getField(_,1))!=null&&k.writeFloat(1,L),(L=e.Message.getField(_,2))!=null&&k.writeFloat(2,L),(L=e.Message.getField(_,3))!=null&&k.writeFloat(3,L),(L=e.Message.getField(_,4))!=null&&k.writeFloat(4,L)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getXmin=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setXmin=function(_){return e.Message.setField(this,1,_)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearXmin=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasXmin=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getYmin=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setYmin=function(_){return e.Message.setField(this,2,_)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearYmin=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasYmin=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getWidth=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setWidth=function(_){return e.Message.setField(this,3,_)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearWidth=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasWidth=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getHeight=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setHeight=function(_){return e.Message.setField(this,4,_)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearHeight=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasHeight=function(){return e.Message.getField(this,4)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BinaryMask.prototype.toObject=function(_){return proto.mediapipe.LocationData.BinaryMask.toObject(_,this)},proto.mediapipe.LocationData.BinaryMask.toObject=function(_,k){var L,ae={width:(L=e.Message.getField(k,1))==null?void 0:L,height:(L=e.Message.getField(k,2))==null?void 0:L,rasterization:(L=k.getRasterization())&&E.Rasterization.toObject(_,L)};return _&&(ae.$jspbMessageInstance=k),ae}),proto.mediapipe.LocationData.BinaryMask.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.LocationData.BinaryMask;return proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader(L,k)},proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)switch(k.getFieldNumber()){case 1:var L=k.readInt32();_.setWidth(L);break;case 2:L=k.readInt32(),_.setHeight(L);break;case 3:L=new E.Rasterization,k.readMessage(L,E.Rasterization.deserializeBinaryFromReader),_.setRasterization(L);break;default:k.skipField()}return _},proto.mediapipe.LocationData.BinaryMask.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter=function(_,k){var L=void 0;(L=e.Message.getField(_,1))!=null&&k.writeInt32(1,L),(L=e.Message.getField(_,2))!=null&&k.writeInt32(2,L),(L=_.getRasterization())!=null&&k.writeMessage(3,L,E.Rasterization.serializeBinaryToWriter)},proto.mediapipe.LocationData.BinaryMask.prototype.getWidth=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setWidth=function(_){return e.Message.setField(this,1,_)},proto.mediapipe.LocationData.BinaryMask.prototype.clearWidth=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasWidth=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.BinaryMask.prototype.getHeight=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setHeight=function(_){return e.Message.setField(this,2,_)},proto.mediapipe.LocationData.BinaryMask.prototype.clearHeight=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasHeight=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.BinaryMask.prototype.getRasterization=function(){return e.Message.getWrapperField(this,E.Rasterization,3)},proto.mediapipe.LocationData.BinaryMask.prototype.setRasterization=function(_){return e.Message.setWrapperField(this,3,_)},proto.mediapipe.LocationData.BinaryMask.prototype.clearRasterization=function(){return this.setRasterization(void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasRasterization=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeKeypoint.prototype.toObject=function(_){return proto.mediapipe.LocationData.RelativeKeypoint.toObject(_,this)},proto.mediapipe.LocationData.RelativeKeypoint.toObject=function(_,k){var L,ae={x:(L=e.Message.getOptionalFloatingPointField(k,1))==null?void 0:L,y:(L=e.Message.getOptionalFloatingPointField(k,2))==null?void 0:L,keypointLabel:(L=e.Message.getField(k,3))==null?void 0:L,score:(L=e.Message.getOptionalFloatingPointField(k,4))==null?void 0:L};return _&&(ae.$jspbMessageInstance=k),ae}),proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.LocationData.RelativeKeypoint;return proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader(L,k)},proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)switch(k.getFieldNumber()){case 1:var L=k.readFloat();_.setX(L);break;case 2:L=k.readFloat(),_.setY(L);break;case 3:L=k.readString(),_.setKeypointLabel(L);break;case 4:L=k.readFloat(),_.setScore(L);break;default:k.skipField()}return _},proto.mediapipe.LocationData.RelativeKeypoint.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter=function(_,k){var L=void 0;(L=e.Message.getField(_,1))!=null&&k.writeFloat(1,L),(L=e.Message.getField(_,2))!=null&&k.writeFloat(2,L),(L=e.Message.getField(_,3))!=null&&k.writeString(3,L),(L=e.Message.getField(_,4))!=null&&k.writeFloat(4,L)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setX=function(_){return e.Message.setField(this,1,_)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setY=function(_){return e.Message.setField(this,2,_)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getKeypointLabel=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setKeypointLabel=function(_){return e.Message.setField(this,3,_)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearKeypointLabel=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasKeypointLabel=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getScore=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setScore=function(_){return e.Message.setField(this,4,_)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearScore=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasScore=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.LocationData.prototype.getFormat=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.prototype.setFormat=function(_){return e.Message.setField(this,1,_)},proto.mediapipe.LocationData.prototype.clearFormat=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.prototype.hasFormat=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.prototype.getBoundingBox=function(){return e.Message.getWrapperField(this,proto.mediapipe.LocationData.BoundingBox,2)},proto.mediapipe.LocationData.prototype.setBoundingBox=function(_){return e.Message.setWrapperField(this,2,_)},proto.mediapipe.LocationData.prototype.clearBoundingBox=function(){return this.setBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasBoundingBox=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.prototype.getRelativeBoundingBox=function(){return e.Message.getWrapperField(this,proto.mediapipe.LocationData.RelativeBoundingBox,3)},proto.mediapipe.LocationData.prototype.setRelativeBoundingBox=function(_){return e.Message.setWrapperField(this,3,_)},proto.mediapipe.LocationData.prototype.clearRelativeBoundingBox=function(){return this.setRelativeBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasRelativeBoundingBox=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.prototype.getMask=function(){return e.Message.getWrapperField(this,proto.mediapipe.LocationData.BinaryMask,4)},proto.mediapipe.LocationData.prototype.setMask=function(_){return e.Message.setWrapperField(this,4,_)},proto.mediapipe.LocationData.prototype.clearMask=function(){return this.setMask(void 0)},proto.mediapipe.LocationData.prototype.hasMask=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.LocationData.prototype.getRelativeKeypointsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.LocationData.RelativeKeypoint,5)},proto.mediapipe.LocationData.prototype.setRelativeKeypointsList=function(_){return e.Message.setRepeatedWrapperField(this,5,_)},proto.mediapipe.LocationData.prototype.addRelativeKeypoints=function(_,k){return e.Message.addToRepeatedWrapperField(this,5,_,proto.mediapipe.LocationData.RelativeKeypoint,k)},proto.mediapipe.LocationData.prototype.clearRelativeKeypointsList=function(){return this.setRelativeKeypointsList([])},h.object.extend(t,proto.mediapipe)}(location_data_pb),function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=location_data_pb;h.object.extend(proto,E),h.exportSymbol("proto.mediapipe.Detection",null,I),h.exportSymbol("proto.mediapipe.Detection.AssociatedDetection",null,I),h.exportSymbol("proto.mediapipe.DetectionList",null,I),proto.mediapipe.Detection=function(_){e.Message.initialize(this,_,0,-1,proto.mediapipe.Detection.repeatedFields_,null)},h.inherits(proto.mediapipe.Detection,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.displayName="proto.mediapipe.Detection"),proto.mediapipe.Detection.AssociatedDetection=function(_){e.Message.initialize(this,_,0,-1,null,null)},h.inherits(proto.mediapipe.Detection.AssociatedDetection,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.AssociatedDetection.displayName="proto.mediapipe.Detection.AssociatedDetection"),proto.mediapipe.DetectionList=function(_){e.Message.initialize(this,_,0,-1,proto.mediapipe.DetectionList.repeatedFields_,null)},h.inherits(proto.mediapipe.DetectionList,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.DetectionList.displayName="proto.mediapipe.DetectionList"),proto.mediapipe.Detection.repeatedFields_=[1,2,3,8,9],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.prototype.toObject=function(_){return proto.mediapipe.Detection.toObject(_,this)},proto.mediapipe.Detection.toObject=function(_,k){var L,ae={labelList:(L=e.Message.getRepeatedField(k,1))==null?void 0:L,labelIdList:(L=e.Message.getRepeatedField(k,2))==null?void 0:L,scoreList:(L=e.Message.getRepeatedFloatingPointField(k,3))==null?void 0:L,locationData:(L=k.getLocationData())&&E.LocationData.toObject(_,L),featureTag:(L=e.Message.getField(k,5))==null?void 0:L,trackId:(L=e.Message.getField(k,6))==null?void 0:L,detectionId:(L=e.Message.getField(k,7))==null?void 0:L,associatedDetectionsList:e.Message.toObjectList(k.getAssociatedDetectionsList(),proto.mediapipe.Detection.AssociatedDetection.toObject,_),displayNameList:(L=e.Message.getRepeatedField(k,9))==null?void 0:L,timestampUsec:(L=e.Message.getField(k,10))==null?void 0:L};return _&&(ae.$jspbMessageInstance=k),ae}),proto.mediapipe.Detection.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.Detection;return proto.mediapipe.Detection.deserializeBinaryFromReader(L,k)},proto.mediapipe.Detection.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)switch(k.getFieldNumber()){case 1:var L=k.readString();_.addLabel(L);break;case 2:for(var ae=k.isDelimited()?k.readPackedInt32():[k.readInt32()],q=0;q<ae.length;q++)_.addLabelId(ae[q]);break;case 3:for(ae=k.isDelimited()?k.readPackedFloat():[k.readFloat()],q=0;q<ae.length;q++)_.addScore(ae[q]);break;case 4:L=new E.LocationData,k.readMessage(L,E.LocationData.deserializeBinaryFromReader),_.setLocationData(L);break;case 5:L=k.readString(),_.setFeatureTag(L);break;case 6:L=k.readString(),_.setTrackId(L);break;case 7:L=k.readInt64(),_.setDetectionId(L);break;case 8:L=new proto.mediapipe.Detection.AssociatedDetection,k.readMessage(L,proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader),_.addAssociatedDetections(L);break;case 9:L=k.readString(),_.addDisplayName(L);break;case 10:L=k.readInt64(),_.setTimestampUsec(L);break;default:k.skipField()}return _},proto.mediapipe.Detection.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.Detection.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.Detection.serializeBinaryToWriter=function(_,k){var L=void 0;(L=_.getLabelList()).length>0&&k.writeRepeatedString(1,L),(L=_.getLabelIdList()).length>0&&k.writePackedInt32(2,L),(L=_.getScoreList()).length>0&&k.writePackedFloat(3,L),(L=_.getLocationData())!=null&&k.writeMessage(4,L,E.LocationData.serializeBinaryToWriter),(L=e.Message.getField(_,5))!=null&&k.writeString(5,L),(L=e.Message.getField(_,6))!=null&&k.writeString(6,L),(L=e.Message.getField(_,7))!=null&&k.writeInt64(7,L),(L=_.getAssociatedDetectionsList()).length>0&&k.writeRepeatedMessage(8,L,proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter),(L=_.getDisplayNameList()).length>0&&k.writeRepeatedString(9,L),(L=e.Message.getField(_,10))!=null&&k.writeInt64(10,L)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.AssociatedDetection.prototype.toObject=function(_){return proto.mediapipe.Detection.AssociatedDetection.toObject(_,this)},proto.mediapipe.Detection.AssociatedDetection.toObject=function(_,k){var L,ae={id:(L=e.Message.getField(k,1))==null?void 0:L,confidence:(L=e.Message.getOptionalFloatingPointField(k,2))==null?void 0:L};return _&&(ae.$jspbMessageInstance=k),ae}),proto.mediapipe.Detection.AssociatedDetection.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.Detection.AssociatedDetection;return proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader(L,k)},proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)switch(k.getFieldNumber()){case 1:var L=k.readInt32();_.setId(L);break;case 2:L=k.readFloat(),_.setConfidence(L);break;default:k.skipField()}return _},proto.mediapipe.Detection.AssociatedDetection.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter=function(_,k){var L=void 0;(L=e.Message.getField(_,1))!=null&&k.writeInt32(1,L),(L=e.Message.getField(_,2))!=null&&k.writeFloat(2,L)},proto.mediapipe.Detection.AssociatedDetection.prototype.getId=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setId=function(_){return e.Message.setField(this,1,_)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearId=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasId=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Detection.AssociatedDetection.prototype.getConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setConfidence=function(_){return e.Message.setField(this,2,_)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Detection.prototype.getLabelList=function(){return e.Message.getRepeatedField(this,1)},proto.mediapipe.Detection.prototype.setLabelList=function(_){return e.Message.setField(this,1,_||[])},proto.mediapipe.Detection.prototype.addLabel=function(_,k){return e.Message.addToRepeatedField(this,1,_,k)},proto.mediapipe.Detection.prototype.clearLabelList=function(){return this.setLabelList([])},proto.mediapipe.Detection.prototype.getLabelIdList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.Detection.prototype.setLabelIdList=function(_){return e.Message.setField(this,2,_||[])},proto.mediapipe.Detection.prototype.addLabelId=function(_,k){return e.Message.addToRepeatedField(this,2,_,k)},proto.mediapipe.Detection.prototype.clearLabelIdList=function(){return this.setLabelIdList([])},proto.mediapipe.Detection.prototype.getScoreList=function(){return e.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.Detection.prototype.setScoreList=function(_){return e.Message.setField(this,3,_||[])},proto.mediapipe.Detection.prototype.addScore=function(_,k){return e.Message.addToRepeatedField(this,3,_,k)},proto.mediapipe.Detection.prototype.clearScoreList=function(){return this.setScoreList([])},proto.mediapipe.Detection.prototype.getLocationData=function(){return e.Message.getWrapperField(this,E.LocationData,4)},proto.mediapipe.Detection.prototype.setLocationData=function(_){return e.Message.setWrapperField(this,4,_)},proto.mediapipe.Detection.prototype.clearLocationData=function(){return this.setLocationData(void 0)},proto.mediapipe.Detection.prototype.hasLocationData=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.Detection.prototype.getFeatureTag=function(){return e.Message.getFieldWithDefault(this,5,"")},proto.mediapipe.Detection.prototype.setFeatureTag=function(_){return e.Message.setField(this,5,_)},proto.mediapipe.Detection.prototype.clearFeatureTag=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.Detection.prototype.hasFeatureTag=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.Detection.prototype.getTrackId=function(){return e.Message.getFieldWithDefault(this,6,"")},proto.mediapipe.Detection.prototype.setTrackId=function(_){return e.Message.setField(this,6,_)},proto.mediapipe.Detection.prototype.clearTrackId=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.Detection.prototype.hasTrackId=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.Detection.prototype.getDetectionId=function(){return e.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.Detection.prototype.setDetectionId=function(_){return e.Message.setField(this,7,_)},proto.mediapipe.Detection.prototype.clearDetectionId=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.Detection.prototype.hasDetectionId=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.Detection.prototype.getAssociatedDetectionsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection.AssociatedDetection,8)},proto.mediapipe.Detection.prototype.setAssociatedDetectionsList=function(_){return e.Message.setRepeatedWrapperField(this,8,_)},proto.mediapipe.Detection.prototype.addAssociatedDetections=function(_,k){return e.Message.addToRepeatedWrapperField(this,8,_,proto.mediapipe.Detection.AssociatedDetection,k)},proto.mediapipe.Detection.prototype.clearAssociatedDetectionsList=function(){return this.setAssociatedDetectionsList([])},proto.mediapipe.Detection.prototype.getDisplayNameList=function(){return e.Message.getRepeatedField(this,9)},proto.mediapipe.Detection.prototype.setDisplayNameList=function(_){return e.Message.setField(this,9,_||[])},proto.mediapipe.Detection.prototype.addDisplayName=function(_,k){return e.Message.addToRepeatedField(this,9,_,k)},proto.mediapipe.Detection.prototype.clearDisplayNameList=function(){return this.setDisplayNameList([])},proto.mediapipe.Detection.prototype.getTimestampUsec=function(){return e.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.Detection.prototype.setTimestampUsec=function(_){return e.Message.setField(this,10,_)},proto.mediapipe.Detection.prototype.clearTimestampUsec=function(){return e.Message.setField(this,10,void 0)},proto.mediapipe.Detection.prototype.hasTimestampUsec=function(){return e.Message.getField(this,10)!=null},proto.mediapipe.DetectionList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.DetectionList.prototype.toObject=function(_){return proto.mediapipe.DetectionList.toObject(_,this)},proto.mediapipe.DetectionList.toObject=function(_,k){var L={detectionList:e.Message.toObjectList(k.getDetectionList(),proto.mediapipe.Detection.toObject,_)};return _&&(L.$jspbMessageInstance=k),L}),proto.mediapipe.DetectionList.deserializeBinary=function(_){var k=new e.BinaryReader(_),L=new proto.mediapipe.DetectionList;return proto.mediapipe.DetectionList.deserializeBinaryFromReader(L,k)},proto.mediapipe.DetectionList.deserializeBinaryFromReader=function(_,k){for(;k.nextField()&&!k.isEndGroup();)if(k.getFieldNumber()===1){var L=new proto.mediapipe.Detection;k.readMessage(L,proto.mediapipe.Detection.deserializeBinaryFromReader),_.addDetection(L)}else k.skipField();return _},proto.mediapipe.DetectionList.prototype.serializeBinary=function(){var _=new e.BinaryWriter;return proto.mediapipe.DetectionList.serializeBinaryToWriter(this,_),_.getResultBuffer()},proto.mediapipe.DetectionList.serializeBinaryToWriter=function(_,k){var L;(L=_.getDetectionList()).length>0&&k.writeRepeatedMessage(1,L,proto.mediapipe.Detection.serializeBinaryToWriter)},proto.mediapipe.DetectionList.prototype.getDetectionList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection,1)},proto.mediapipe.DetectionList.prototype.setDetectionList=function(_){return e.Message.setRepeatedWrapperField(this,1,_)},proto.mediapipe.DetectionList.prototype.addDetection=function(_,k){return e.Message.addToRepeatedWrapperField(this,1,_,proto.mediapipe.Detection,k)},proto.mediapipe.DetectionList.prototype.clearDetectionList=function(){return this.setDetectionList([])},h.object.extend(t,proto.mediapipe)}(detection_pb);var object_detector_options_pb={};(function(t){var e=googleProtobuf,h=e,I=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||I!==void 0&&I||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),E=calculator_pb;h.object.extend(proto,E);var _=calculator_options_pb;h.object.extend(proto,_);var k=base_options_pb;h.object.extend(proto,k),h.exportSymbol("proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions",null,I),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions=function(L){e.Message.initialize(this,L,0,-1,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_,null)},h.inherits(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,e.Message),h.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.displayName="proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions"),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_=[5,6],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.toObject=function(L){return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject(L,this)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject=function(L,ae){var q,O={baseOptions:(q=ae.getBaseOptions())&&k.BaseOptions.toObject(L,q),displayNamesLocale:e.Message.getFieldWithDefault(ae,2,"en"),maxResults:e.Message.getFieldWithDefault(ae,3,-1),scoreThreshold:(q=e.Message.getOptionalFloatingPointField(ae,4))==null?void 0:q,categoryAllowlistList:(q=e.Message.getRepeatedField(ae,5))==null?void 0:q,categoryDenylistList:(q=e.Message.getRepeatedField(ae,6))==null?void 0:q};return L&&(O.$jspbMessageInstance=ae),O}),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinary=function(L){var ae=new e.BinaryReader(L),q=new proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader(q,ae)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader=function(L,ae){for(;ae.nextField()&&!ae.isEndGroup();)switch(ae.getFieldNumber()){case 1:var q=new k.BaseOptions;ae.readMessage(q,k.BaseOptions.deserializeBinaryFromReader),L.setBaseOptions(q);break;case 2:q=ae.readString(),L.setDisplayNamesLocale(q);break;case 3:q=ae.readInt32(),L.setMaxResults(q);break;case 4:q=ae.readFloat(),L.setScoreThreshold(q);break;case 5:q=ae.readString(),L.addCategoryAllowlist(q);break;case 6:q=ae.readString(),L.addCategoryDenylist(q);break;default:ae.skipField()}return L},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.serializeBinary=function(){var L=new e.BinaryWriter;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter(this,L),L.getResultBuffer()},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter=function(L,ae){var q=void 0;(q=L.getBaseOptions())!=null&&ae.writeMessage(1,q,k.BaseOptions.serializeBinaryToWriter),(q=e.Message.getField(L,2))!=null&&ae.writeString(2,q),(q=e.Message.getField(L,3))!=null&&ae.writeInt32(3,q),(q=e.Message.getField(L,4))!=null&&ae.writeFloat(4,q),(q=L.getCategoryAllowlistList()).length>0&&ae.writeRepeatedString(5,q),(q=L.getCategoryDenylistList()).length>0&&ae.writeRepeatedString(6,q)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new e.ExtensionFieldInfo(443442058,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),_.CalculatorOptions.extensionsBinary[443442058]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[443442058]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,k.BaseOptions,1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setBaseOptions=function(L){return e.Message.setWrapperField(this,1,L)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getDisplayNamesLocale=function(){return e.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setDisplayNamesLocale=function(L){return e.Message.setField(this,2,L)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearDisplayNamesLocale=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasDisplayNamesLocale=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getMaxResults=function(){return e.Message.getFieldWithDefault(this,3,-1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setMaxResults=function(L){return e.Message.setField(this,3,L)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearMaxResults=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasMaxResults=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getScoreThreshold=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setScoreThreshold=function(L){return e.Message.setField(this,4,L)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearScoreThreshold=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasScoreThreshold=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryAllowlistList=function(){return e.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryAllowlistList=function(L){return e.Message.setField(this,5,L||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryAllowlist=function(L,ae){return e.Message.addToRepeatedField(this,5,L,ae)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryDenylistList=function(){return e.Message.getRepeatedField(this,6)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryDenylistList=function(L){return e.Message.setField(this,6,L||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryDenylist=function(L,ae){return e.Message.addToRepeatedField(this,6,L,ae)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new e.ExtensionFieldInfo(443442058,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),_.CalculatorOptions.extensionsBinary[443442058]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),_.CalculatorOptions.extensions[443442058]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,h.object.extend(t,proto.mediapipe.tasks.vision.object_detector.proto)})(object_detector_options_pb);var object_detector_options={};Object.defineProperty(object_detector_options,"__esModule",{value:!0});var object_detector_result={};Object.defineProperty(object_detector_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,d,i,l){l===void 0&&(l=i);var g=Object.getOwnPropertyDescriptor(d,i);g&&!("get"in g?!d.__esModule:g.writable||g.configurable)||(g={enumerable:!0,get:function(){return d[i]}}),Object.defineProperty(r,l,g)}:function(r,d,i,l){l===void 0&&(l=i),r[l]=d[i]}),h=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,d){for(var i in r)i==="default"||Object.prototype.hasOwnProperty.call(d,i)||e(d,r,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectDetector=void 0;const I=calculator_pb,E=calculator_options_pb,_=detection_pb,k=base_options_pb,L=object_detector_options_pb,ae=vision_task_runner,q="input_frame_gpu",O="norm_rect",o="detections";h(object_detector_options,t),h(object_detector_result,t);class w extends ae.VisionTaskRunner{static createFromOptions(d,i){return ae.VisionTaskRunner.createInstance(w,!0,d,i)}static createFromModelBuffer(d,i){return ae.VisionTaskRunner.createInstance(w,!0,d,{baseOptions:{modelAssetBuffer:i}})}static async createFromModelPath(d,i){return ae.VisionTaskRunner.createInstance(w,!0,d,{baseOptions:{modelAssetPath:i}})}constructor(d,i){super(new ae.VisionGraphRunner(d,i),q,O,!1),this.detections=[],this.options=new L.ObjectDetectorOptions,this.options.setBaseOptions(new k.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(d){this.options.setBaseOptions(d)}setOptions(d){return d.displayNamesLocale!==void 0?this.options.setDisplayNamesLocale(d.displayNamesLocale):"displayNamesLocale"in d&&this.options.clearDisplayNamesLocale(),d.maxResults!==void 0?this.options.setMaxResults(d.maxResults):"maxResults"in d&&this.options.clearMaxResults(),d.scoreThreshold!==void 0?this.options.setScoreThreshold(d.scoreThreshold):"scoreThreshold"in d&&this.options.clearScoreThreshold(),d.categoryAllowlist!==void 0?this.options.setCategoryAllowlistList(d.categoryAllowlist):"categoryAllowlist"in d&&this.options.clearCategoryAllowlistList(),d.categoryDenylist!==void 0?this.options.setCategoryDenylistList(d.categoryDenylist):"categoryDenylist"in d&&this.options.clearCategoryDenylistList(),this.applyOptions(d)}detect(d,i){return this.detections=[],this.processImageData(d,i),[...this.detections]}detectForVideo(d,i,l){return this.detections=[],this.processVideoData(d,l,i),[...this.detections]}addJsObjectDetections(d){var i,l,g,y,p,u,f,b;for(const m of d){const c=_.Detection.deserializeBinary(m),n=c.getScoreList(),s=c.getLabelIdList(),v=c.getLabelList(),A=c.getDisplayNameList(),M={categories:[]};for(let D=0;D<n.length;D++)M.categories.push({score:n[D],index:(i=s[D])!==null&&i!==void 0?i:-1,categoryName:(l=v[D])!==null&&l!==void 0?l:"",displayName:(g=A[D])!==null&&g!==void 0?g:""});const C=(y=c.getLocationData())===null||y===void 0?void 0:y.getBoundingBox();C&&(M.boundingBox={originX:(p=C.getXmin())!==null&&p!==void 0?p:0,originY:(u=C.getYmin())!==null&&u!==void 0?u:0,width:(f=C.getWidth())!==null&&f!==void 0?f:0,height:(b=C.getHeight())!==null&&b!==void 0?b:0}),this.detections.push(M)}}refreshGraph(){const d=new I.CalculatorGraphConfig;d.addInputStream(q),d.addInputStream(O),d.addOutputStream(o);const i=new E.CalculatorOptions;i.setExtension(L.ObjectDetectorOptions.ext,this.options);const l=new I.CalculatorGraphConfig.Node;l.setCalculator("mediapipe.tasks.vision.ObjectDetectorGraph"),l.addInputStream("IMAGE:"+q),l.addInputStream("NORM_RECT:"+O),l.addOutputStream("DETECTIONS:"+o),l.setOptions(i),d.addNode(l),this.graphRunner.attachProtoVectorListener(o,(y,p)=>{this.addJsObjectDetections(y),this.setLatestOutputTimestamp(p)}),this.graphRunner.attachEmptyPacketListener(o,y=>{this.setLatestOutputTimestamp(y)});const g=d.serializeBinary();this.setGraph(new Uint8Array(g),!0)}}t.ObjectDetector=w}(object_detector),Object.defineProperty(vision$1,"__esModule",{value:!0}),vision$1.ObjectDetector=vision$1.ImageSegmenter=vision$1.ImageEmbedder=vision$1.ImageClassifier=vision$1.HandLandmarker=GestureRecognizer_1=vision$1.GestureRecognizer=FilesetResolver_1=vision$1.FilesetResolver=void 0;const fileset_resolver_1=fileset_resolver,gesture_recognizer_1=gesture_recognizer,hand_landmarker_1=hand_landmarker,image_classifier_1=image_classifier,image_embedder_1=image_embedder,image_segmenter_1=image_segmenter,object_detector_1=object_detector,FilesetResolver=fileset_resolver_1.FilesetResolver;var FilesetResolver_1=vision$1.FilesetResolver=FilesetResolver;const GestureRecognizer=gesture_recognizer_1.GestureRecognizer;var GestureRecognizer_1=vision$1.GestureRecognizer=GestureRecognizer;const HandLandmarker=hand_landmarker_1.HandLandmarker;vision$1.HandLandmarker=HandLandmarker;const ImageClassifier=image_classifier_1.ImageClassifier;vision$1.ImageClassifier=ImageClassifier;const ImageEmbedder=image_embedder_1.ImageEmbedder;vision$1.ImageEmbedder=ImageEmbedder;const ImageSegmenter=image_segmenter_1.ImageSegmenter;vision$1.ImageSegmenter=ImageSegmenter;const ObjectDetector=object_detector_1.ObjectDetector;vision$1.ObjectDetector=ObjectDetector;const gestureModel=""+new URL("gesture_recognizer-a966b1d4.task",import.meta.url).href,elt=document.createElement("div");elt.style.width="100vw",elt.style.height="100vh";const calculator=Desmos$1.GraphingCalculator(elt);calculator.setMathBounds({left:0,right:1,bottom:0,top:1}),document.body.appendChild(elt);const vision=await FilesetResolver_1.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm"),gestureRecognizer=await GestureRecognizer_1.createFromOptions(vision,{baseOptions:{modelAssetPath:gestureModel},numHands:2}),connectors=[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20]];gestureRecognizer.setOptions({runningMode:"video"}),navigator.mediaDevices.getUserMedia({video:!0}).then(t=>{console.log("stream loaded");const e=document.createElement("video");e.srcObject=t,e.onloadedmetadata=()=>{console.log("video loaded"),e.play(),gestureRecognizer.setOptions({input:e}),e.addEventListener("play",()=>{const h=()=>{if(e.paused||e.ended)return;const I=gestureRecognizer.recognizeForVideo(e,Date.now());if(I.landmarks.length>0){const E=I.landmarks[0];connectors.map(([_,k])=>{const L=E[_],ae=E[k];calculator.setExpression({id:`line-${_}-${k}`,latex:`(${L.x}(1-t)+${ae.x}t,(1-t)*${L.y}+t*${ae.y})`,parametricDomain:{min:0,max:1},color:Desmos$1.Colors.BLACK})})}requestAnimationFrame(h)};h()})}})})();
